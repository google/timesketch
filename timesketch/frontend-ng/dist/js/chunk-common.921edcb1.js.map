{"version":3,"sources":["webpack:///./src/filters/FilterChip.js","webpack:///./src/filters/FormatTimestamp.js","webpack:///./src/filters/FormatLabelText.js","webpack:///./src/components/LeftPanel/SearchTemplates.vue?f9be","webpack:///./src/components/LeftPanel/SigmaRule.vue?f631","webpack:///./src/components/LeftPanel/DataTypes.vue?5120","webpack:///./src/utils/RegisterAppComponents.js","webpack:///./src/views/Explore.vue?7ecd","webpack:///./src/components/Explore/SearchHistoryButtons.vue?1369","webpack:///./src/components/Explore/SearchHistoryTreeNode.vue?4887","webpack:///./src/filters/CompactBytes.js","webpack:///./src/filters/Initital.js","webpack:///./src/components/Explore/SearchDropdown.vue?c0ea","webpack:///./src/filters/shortDateTime.js","webpack:///./src/App.vue?b952","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?240d","webpack:///./src/utils/RestApiClient.js","webpack:///./src/components/SketchList.vue?661f","webpack:///src/components/SketchList.vue","webpack:///./src/components/SketchList.vue?c03a","webpack:///./src/components/SketchList.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/views/Canvas.vue?c5b6","webpack:///./src/views/Explore.vue?c60d","webpack:///./src/components/Explore/SearchHistoryTree.vue?9b80","webpack:///./src/components/Explore/SearchHistoryTreeNode.vue?467f","webpack:///src/components/Explore/SearchHistoryTreeNode.vue","webpack:///./src/components/Explore/SearchHistoryTreeNode.vue?d4b2","webpack:///./src/components/Explore/SearchHistoryTreeNode.vue","webpack:///src/components/Explore/SearchHistoryTree.vue","webpack:///./src/components/Explore/SearchHistoryTree.vue?980f","webpack:///./src/components/Explore/SearchHistoryTree.vue","webpack:///./src/components/Explore/SearchHistoryButtons.vue?334d","webpack:///src/components/Explore/SearchHistoryButtons.vue","webpack:///./src/components/Explore/SearchHistoryButtons.vue?7872","webpack:///./src/components/Explore/SearchHistoryButtons.vue","webpack:///./src/components/Explore/SearchDropdown.vue?f0a6","webpack:///src/components/Explore/SearchDropdown.vue","webpack:///./src/components/Explore/SearchDropdown.vue?991d","webpack:///./src/components/Explore/SearchDropdown.vue","webpack:///./src/components/Explore/TimelinePicker.vue?79d4","webpack:///./src/components/Explore/TimelineChip.vue?71f3","webpack:///src/components/Explore/TimelineChip.vue","webpack:///./src/components/Explore/TimelineChip.vue?5e3f","webpack:///./src/components/Explore/TimelineChip.vue","webpack:///src/components/Explore/TimelinePicker.vue","webpack:///./src/components/Explore/TimelinePicker.vue?ae95","webpack:///./src/components/Explore/TimelinePicker.vue","webpack:///./src/components/Explore/FilterMenu.vue?b212","webpack:///src/components/Explore/FilterMenu.vue","webpack:///./src/components/Explore/FilterMenu.vue?d1ff","webpack:///./src/components/Explore/FilterMenu.vue","webpack:///./src/components/UploadForm.vue?ad80","webpack:///src/components/UploadForm.vue","webpack:///./src/components/UploadForm.vue?db67","webpack:///./src/components/UploadForm.vue","webpack:///./src/components/Explore/AddManualEvent.vue?acdb","webpack:///src/components/Explore/AddManualEvent.vue","webpack:///./src/components/Explore/AddManualEvent.vue?f78f","webpack:///./src/components/Explore/AddManualEvent.vue","webpack:///./src/components/Explore/EventList.vue?0491","webpack:///./src/components/Explore/BarChart.vue?bece","webpack:///src/components/Explore/BarChart.vue","webpack:///./src/components/Explore/BarChart.vue?ddf4","webpack:///./src/components/Explore/BarChart.vue","webpack:///./src/components/Explore/EventDetail.vue?d369","webpack:///./src/components/Explore/FormatXMLString.vue?62df","webpack:///src/components/Explore/FormatXMLString.vue","webpack:///./src/components/Explore/FormatXMLString.vue?6078","webpack:///./src/components/Explore/FormatXMLString.vue","webpack:///./src/components/Explore/LinkRedirectWarning.vue?af02","webpack:///src/components/Explore/LinkRedirectWarning.vue","webpack:///./src/components/Explore/LinkRedirectWarning.vue?1f19","webpack:///./src/components/Explore/LinkRedirectWarning.vue","webpack:///src/components/Explore/EventDetail.vue","webpack:///./src/components/Explore/EventDetail.vue?b1a2","webpack:///./src/components/Explore/EventDetail.vue","webpack:///./src/components/Explore/EventTagMenu.vue?17e4","webpack:///src/components/Explore/EventTagMenu.vue","webpack:///./src/components/Explore/EventTagMenu.vue?97c5","webpack:///./src/components/Explore/EventTagMenu.vue","webpack:///./src/components/Explore/EventActionMenu.vue?4b41","webpack:///src/components/Explore/EventActionMenu.vue","webpack:///./src/components/Explore/EventActionMenu.vue?3060","webpack:///./src/components/Explore/EventActionMenu.vue","webpack:///src/components/Explore/EventList.vue","webpack:///./src/components/Explore/EventList.vue?cd3c","webpack:///./src/components/Explore/EventList.vue","webpack:///src/views/Explore.vue","webpack:///./src/views/Explore.vue?4ebb","webpack:///./src/views/Explore.vue","webpack:///./src/views/ThreatIntel.vue?ea92","webpack:///./src/components/ThreatIntel/IndicatorDialog.vue?27cd","webpack:///./src/utils/ThreatIntelMetadata.js","webpack:///src/components/ThreatIntel/IndicatorDialog.vue","webpack:///./src/components/ThreatIntel/IndicatorDialog.vue?86f8","webpack:///./src/components/ThreatIntel/IndicatorDialog.vue","webpack:///src/views/ThreatIntel.vue","webpack:///./src/views/ThreatIntel.vue?5e7b","webpack:///./src/views/ThreatIntel.vue","webpack:///./src/views/Graph.vue?b951","webpack:///src/views/Graph.vue","webpack:///./src/views/Graph.vue?8cbf","webpack:///./src/views/Graph.vue","webpack:///./src/views/Story.vue?82cf","webpack:///src/views/Story.vue","webpack:///./src/views/Story.vue?f111","webpack:///./src/views/Story.vue","webpack:///src/views/Canvas.vue","webpack:///./src/views/Canvas.vue?f693","webpack:///./src/views/Canvas.vue","webpack:///./src/views/Sketch.vue?4082","webpack:///./src/components/Scenarios/Scenario.vue?fb22","webpack:///./src/components/Scenarios/Facet.vue?e263","webpack:///./src/components/Scenarios/Question.vue?034b","webpack:///./src/components/LeftPanel/SearchTemplateCompact.vue?cc2b","webpack:///src/components/LeftPanel/SearchTemplateCompact.vue","webpack:///./src/components/LeftPanel/SearchTemplateCompact.vue?7020","webpack:///./src/components/LeftPanel/SearchTemplateCompact.vue","webpack:///./src/components/Scenarios/QuestionConclusion.vue?7012","webpack:///src/components/Scenarios/QuestionConclusion.vue","webpack:///./src/components/Scenarios/QuestionConclusion.vue?3ce1","webpack:///./src/components/Scenarios/QuestionConclusion.vue","webpack:///src/components/Scenarios/Question.vue","webpack:///./src/components/Scenarios/Question.vue?d5ab","webpack:///./src/components/Scenarios/Question.vue","webpack:///src/components/Scenarios/Facet.vue","webpack:///./src/components/Scenarios/Facet.vue?55f8","webpack:///./src/components/Scenarios/Facet.vue","webpack:///src/components/Scenarios/Scenario.vue","webpack:///./src/components/Scenarios/Scenario.vue?b9e6","webpack:///./src/components/Scenarios/Scenario.vue","webpack:///./src/components/LeftPanel/SavedSearches.vue?237e","webpack:///src/components/LeftPanel/SavedSearches.vue","webpack:///./src/components/LeftPanel/SavedSearches.vue?a378","webpack:///./src/components/LeftPanel/SavedSearches.vue","webpack:///./src/components/LeftPanel/DataTypes.vue?c8fa","webpack:///src/components/LeftPanel/DataTypes.vue","webpack:///./src/components/LeftPanel/DataTypes.vue?4866","webpack:///./src/components/LeftPanel/DataTypes.vue","webpack:///./src/components/LeftPanel/Tags.vue?cb6e","webpack:///src/components/LeftPanel/Tags.vue","webpack:///./src/components/LeftPanel/Tags.vue?18c4","webpack:///./src/components/LeftPanel/Tags.vue","webpack:///./src/components/LeftPanel/SearchTemplates.vue?9955","webpack:///./src/components/LeftPanel/SearchTemplate.vue?00f3","webpack:///src/components/LeftPanel/SearchTemplate.vue","webpack:///./src/components/LeftPanel/SearchTemplate.vue?7e75","webpack:///./src/components/LeftPanel/SearchTemplate.vue","webpack:///src/components/LeftPanel/SearchTemplates.vue","webpack:///./src/components/LeftPanel/SearchTemplates.vue?b502","webpack:///./src/components/LeftPanel/SearchTemplates.vue","webpack:///./src/components/LeftPanel/SigmaRules.vue?7607","webpack:///./src/components/LeftPanel/SigmaRule.vue?00b7","webpack:///src/components/LeftPanel/SigmaRule.vue","webpack:///./src/components/LeftPanel/SigmaRule.vue?67cd","webpack:///./src/components/LeftPanel/SigmaRule.vue","webpack:///src/components/LeftPanel/SigmaRules.vue","webpack:///./src/components/LeftPanel/SigmaRules.vue?412c","webpack:///./src/components/LeftPanel/SigmaRules.vue","webpack:///./src/components/LeftPanel/ThreatIntel.vue?bc13","webpack:///src/components/LeftPanel/ThreatIntel.vue","webpack:///./src/components/LeftPanel/ThreatIntel.vue?bcbf","webpack:///./src/components/LeftPanel/ThreatIntel.vue","webpack:///./src/components/LeftPanel/Graphs.vue?7cac","webpack:///src/components/LeftPanel/Graphs.vue","webpack:///./src/components/LeftPanel/Graphs.vue?8638","webpack:///./src/components/LeftPanel/Graphs.vue","webpack:///./src/components/LeftPanel/Stories.vue?d11d","webpack:///src/components/LeftPanel/Stories.vue","webpack:///./src/components/LeftPanel/Stories.vue?c7b9","webpack:///./src/components/LeftPanel/Stories.vue","webpack:///./src/components/ShareCard.vue?867e","webpack:///src/components/ShareCard.vue","webpack:///./src/components/ShareCard.vue?b46a","webpack:///./src/components/ShareCard.vue","webpack:///./src/components/RenameSketch.vue?bc73","webpack:///src/components/RenameSketch.vue","webpack:///./src/components/RenameSketch.vue?9037","webpack:///./src/components/RenameSketch.vue","webpack:///src/views/Sketch.vue","webpack:///./src/views/Sketch.vue?ea3e","webpack:///./src/views/Sketch.vue","webpack:///./src/views/Studio.vue?adc1","webpack:///./src/components/Studio/SigmaRuleModification.vue?4405","webpack:///./src/utils/SigmaRuleTemplates.js","webpack:///src/components/Studio/SigmaRuleModification.vue","webpack:///./src/components/Studio/SigmaRuleModification.vue?1ed9","webpack:///./src/components/Studio/SigmaRuleModification.vue","webpack:///src/views/Studio.vue","webpack:///./src/views/Studio.vue?1d9b","webpack:///./src/views/Studio.vue","webpack:///./src/router.js","webpack:///./src/store.js","webpack:///./src/mixins/snackBar.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/utils/RegisterAppFilters.js","webpack:///./src/filters/timeSince.js","webpack:///./src/components/Studio/SigmaRuleModification.vue?3c08","webpack:///./src/filters sync nonrecursive [A-Z]\\w+\\.(js)$","webpack:///./src/plugins/dayjs.js","webpack:///./src/components sync nonrecursive App[A-Z]\\w+\\.(vue|js)$","webpack:///./src/filters/Capitalize.js","webpack:///./src/components/Explore/EventList.vue?93bf","webpack:///./src/components/LeftPanel/SigmaRules.vue?1f79","webpack:///./src/filters/ToISO8601.js","webpack:///./src/components/Scenarios/Question.vue?5bd3","webpack:///./src/components/ShareCard.vue?f94f","webpack:///./src/components/Explore/EventDetail.vue?bddd","webpack:///./src/filters/CompactNumber.js","webpack:///./src/views/Story.vue?3514"],"names":["name","filter","input","type","value","field","tsLength","parseInt","toString","length","replace","requireComponent","require","keys","forEach","fileName","componentConfig","componentName","default","Vue","component","units","exponent","Math","min","floor","log","num","pow","toFixed","charAt","toUpperCase","date","dayjs","utc","format","_vm","this","_h","$createElement","_c","_self","attrs","snackbar","timeout","color","scopedSlots","_u","key","fn","ref","_b","on","$event","active","_v","model","callback","$$v","$set","expression","_s","message","staticRenderFns","data","computed","$store","state","methods","setErrorSnackBar","dispatch","mounted","isDark","$vuetify","theme","dark","element","dataset","beforeDestroy","staticClass","staticStyle","switchUI","_f","currentUser","_g","toggleTheme","sketchForm","createSketch","RestApiClient","axios","create","baseURL","headers","common","document","getElementsByTagName","RestApiBlobClient","responseType","interceptors","response","use","error","status","EventBus","$emit","Promise","reject","getSketchList","scope","page","perPage","searchQuery","params","per_page","search_query","get","getSketch","sketchId","formData","post","deleteSketch","delete","archiveSketch","action","unArchiveSketch","exportSketch","getSketchAttributes","addSketchAttribute","ontology","attribute","values","getSketchTimeline","timelineId","getSketchTimelineAnalysis","saveSketchTimeline","description","saveSketchSummary","deleteSketchTimeline","createEvent","datetime","timestampDesc","attributes","config","date_string","timestamp_desc","getEvent","searchindexId","eventId","searchindex_id","event_id","saveEventAnnotation","annotationType","annotation","events","currentSearchNode","remove","annotation_type","current_search_node_id","id","tagEvents","tags","tag_string","JSON","stringify","verbose","updateEventAnnotation","put","deleteEventAnnotation","annotationId","event","annotation_id","_id","_index","getStoryList","getStory","storyId","createStory","title","content","updateStory","deleteStory","getView","viewId","createView","viewName","queryString","queryFilter","query","dsl","updateView","deleteView","search","exportSearchResult","getAggregations","getAggregationGroups","runAggregator","runAggregatorGroup","groupId","saveAggregation","aggregation","newFormData","agg_type","chart_type","parameters","countSketchEvents","uploadTimeline","getSessions","timelineIndex","getUsers","getGroups","grantSketchAccess","usersToAdd","groupsToAdd","users","groups","revokeSketchAccess","usersToRemove","groupsToRemove","remove_users","remove_groups","setSketchPublicAccess","isPublic","public","getAnalyzers","runAnalyzers","timelineIds","analyzers","timeline_ids","analyzer_names","getAnalyzerSession","sessionId","getActiveAnalyzerSessions","getLoggedInUser","generateGraphFromPlugin","graphPlugin","currentIndices","refresh","plugin","indices","getGraphPluginList","saveGraph","elements","getSavedGraphList","getSavedGraph","graphId","getSearchHistory","getSearchHistoryTree","getSigmaRuleList","getSigmaRuleResource","ruleUuid","getSigmaRuleByText","ruleYaml","deleteSigmaRule","createSigmaRule","rule_yaml","updateSigmaRule","getSearchTemplates","parseSearchTemplate","searchTemplateId","getContextLinkConfig","getScenarioTemplates","getSketchScenarios","addScenario","scenarioName","displayName","scenario_name","display_name","renameScenario","scenarioId","setScenarioStatus","createQuestionConclusion","questionId","conclusionText","editQuestionConclusion","conclusionId","deleteQuestionConclusion","getTagMetadata","toggleStateButton","switchScope","sketches","options","numSketches","loading","item","created_at","last_activity","watch","handler","getSketches","deep","newScope","components","scenarioTemplates","localStorage","setItem","window","location","href","clearFormData","created","directives","rawName","currentRouteName","showRightSidePanel","proxy","_e","toggleSearchHistory","indexOf","_k","keyCode","apply","arguments","showSearchDropdown","currentQueryString","selectedLabels","searchView","addChip","updateLabelChips","jumpInHistory","setQueryAndFilter","zoomLevel","showSearchHistory","style","transform","currentQueryFilter","countPerIndex","countPerTimeline","updateSelectedTimelines","addManualEvent","datetimeManualEvent","_l","chip","index","opacity","split","updateChip","toggleChip","removeChip","timeFilterChips","timeFilterMenu","filterChips","activeContext","class","question","activeQueryRequest","updateCountPerIndex","updateCountPerTimeline","Object","treeData","handleClick","selectedNode","isSelected","star","hasStar","dimmed","count","node","query_string","children","child","props","Function","labels","includes","hasLabel","hasComment","query_result_count","findSearchNode","object","predicate","hasOwnProperty","searchNode","initialNode","sketch","handleClickFromDropdown","nodeId","nodeFromDropdown","createBranch","newNode","push","fetchHistory","parent","some","annotateNode","scrollTo","$nextTick","getElementById","scrollIntoView","behavior","block","inline","hasParent","searchHistoryBack","hasChild","searchHistoryForward","matches","savedSearches","scrollbarTheme","savedSearch","dataType","data_type","searchForDataType","label","searchForLabel","tag","searchForTag","from","terminate_after","size","order","chips","meta","searchHistory","dataTypes","all","fields","mappings","filter_labels","views","eventData","defaultQueryFilter","operator","searchForField","separator","doSearch","timeline","isEmptyState","getCount","save","toggleTimeline","timelines","showAll","enableAllTimelines","disableAllTimelines","timelineStatus","getTimelineStyle","dialogStatus","searchindex","index_name","allIndexedEvents","user","username","datasourcesProcessing","datasource","datasourceStatusColors","original_filename","file_on_disk","file_size","provider","data_label","dataSourceStatus","totalEventsDatasource","error_message","percentComplete","eventsPerSecond","slice","sparkline","gradient","radius","padding","width","lineCap","gradientDirection","fill","autoLineWidth","processingETA","eventsCount","dialogRename","target","select","newTimelineName","rename","iconStatus","datasources","showCustomColorPicker","colorPickerSwatches","updateColor","autoRefresh","totalEvents","gradients","autoDrawDuration","datasourceErrors","totalEventsToIndex","secondsToComplete","avarageEventsPerSecond","confirm","secondsSinceStart","diffSeconds","avg","eta","backgroundColor","startsWith","textDecoration","background","bgColor","fetchData","find","stats_per_timeline","clearInterval","t","val","setInterval","allTimelines","sort","a","b","localeCompare","activeTimelines","undefined","isDarkTheme","isLoading","selectedTimelines","map","timelineIdx","newArray","splice","syncSelectedTimelines","getDateRange","formatStartTime","showPicker","setStartTime","formatEndTime","setEndTime","dateRange","clearAndCancel","submit","DatePicker","range","start","end","filterTab","set","selectedChip","chipType","chipValue","newDateTime","$refs","picker","focusDate","addDateTimeChip","newChip","percentageFlag","percentCompleted","btnType","dialog","errorMessage","extension","mandatoryHeader","missingHeaders","listHeadersSelectMenu","changeHeaderMapping","mandatoryHeaders","h","i","form","CSVDelimiter","v","changeCSVDelimiter","setFile","uploadedFiles","submitForm","headersString","valuesString","headersMapping","file","fileMetaData","infoMessage","delimitersList","showHelperFlag","showPreviewFlag","showAddColumnFlag","checkedHeaders","staticNumberRows","colors","unshift","toLowerCase","numberRows","n","headersTable","listValues","j","valuesAndHeaders","header","console","extractedMapping","source","listSources","concatValue","Array","showHelper","showPreview","showAddColumn","getDefaultValue","obj","validateFile","columnsSelected","lastElementSelected","sources","defaultValue","prompt","alert","append","hMapping","onUploadProgress","progressEvent","round","allowedExtensions","duplicates","Set","fileList","Name","Size","bytesToMegaBytes","join","extractCSVHeader","extractJSONLHeader","reader","readAsText","onloadend","e","readyState","FileReader","DONE","vueJS","replaceAll","parse","rows","dateFromPicker","isDisabled","datetimeProp","newValue","eventList","objects","searchInProgress","tableOptions","totalHitsForPagination","totalHits","disablePagination","expandedRows","displayOptions","isCompact","pagination","updateOptions","selectedEvents","toggleMultipleStars","fromEvent","toEvent","totalTime","disableSaveSearch","saveSearchMenu","saveSearchFormName","saveSearch","disableHistogram","showHistogram","disableColumns","columnDialog","searchColumns","columnHeaders","updateSelectedFields","selectedFields","disableSettings","removeChips","count_over_time","addChipFromHistogram","showDetails","deltaDays","getTimeBubbleColor","toggleStar","_source","getTimelineColor","timestamp","getFieldName","text","toggleDetailedEvent","showTags","tagColor","textColor","tagConfig","showEmojis","emoji","emojis","domProps","getTimeline","comment","series","chart","zoom","enabled","autoScaleYaxis","foreColor","animations","easing","speed","animateGradually","delay","dynamicAnimation","toolbar","show","tools","download","selection","zoomin","zoomout","dataPointSelection","tooltip","followCursor","x","formatter","plotOptions","bar","columnWidth","borderRadius","dataLabels","grid","xaxis","lines","yaxis","tickPlacement","chartData","entries","getBucketDateTimeRange","emitFilterRequest","timerange","toISOString","setTheme","c_key","copyToClipboard","checkContextLinkDisplay","formatXMLString","getContextLinkItems","stopPropagation","contextLinkRedirect","getContextLinkRedirectState","redirectWarnDialog","contextValue","contextUrl","selectComment","unSelectComment","comments","editComment","updateComment","selectedComment","permissions","write","deleteComment","postComment","xmlString","TsFormatXmlString","TsLinkRedirectWarning","fullEvent","fullEventFiltered","getOwnPropertyNames","contextLinkConf","changeComment","editable","enable","commentIndex","shortNameList","navigator","clipboard","writeText","infoSnackBar","errorSnackBar","showMenu","addTags","selectedTags","listItems","quickTags","isArray","tagsToAdd","copyEventUrlToClipboard","copyEventAsJSON","originalContext","eventUrl","count_per_index","count_per_timeline","TsBarChart","TsEventDetail","TsEventTagMenu","TsEventActionMenu","queryRequest","itemsPerPage","Number","Boolean","currentItemsPerPage","selectedEventTags","good","bad","suspicious","currentPage","showMillis","showTimelineName","branchParent","es_total_count","es_total_count_complete","es_time","align","extraHeaders","baseHeaders","row","addTimeBubbles","delta","prevTimestamp","prevEvent","isLegacy","active_timelines","currentQueryDsl","emptyEventList","resetPagination","incognito","file_name","chipIndex","paginate","removeField","newQueryRequest","oldqueryRequest","queryDsl","dragscroll","TsSearchHistoryTree","TsSearchHistoryButtons","TsSearchDropdown","TsTimelinePicker","TsFilterMenu","TsUploadTimelineForm","TsAddManualEvent","TsEventList","contextEvent","zoomOrigin","y","filteredLabels","triggerScrollTo","$route","$router","searchEvent","searchContext","newStartDate","startDateTimeMoment","dateTimeTemplate","newEndDate","startChip","endChip","__ts_timeline_id","numContextEvents","removeContext","selected","toggleLabelChip","labelName","updateLabelList","query_filter","allIndices","zoomWithMouse","pageX","pageY","deltaY","closeSearchDropdown","targetElement","searchInput","getAttribute","onClickOutside","focus","view","indexName","resultLimit","limit","q","indicatorDialog","currentIndex","tagInfo","saveIntelligence","addIndicator","intelligenceData","generateSearchQuery","ioc","getValidUrl","externalURI","host","searchForIOC","editIndicator","deleteIndicator","closeDialog","autoSelectIndicatorType","newIndicator","indicatorTypes","saveIndicator","IOCTypes","regex","intelligenceAttribute","intelligence","TsIndicatorDialog","urlString","URL","buildTagInfo","opensearchQuery","indicator","filterGraphByInput","filterString","nodes","edges","edgeQuery","saveGraphDialog","saveAsName","currentGraph","cy","fit","graphSettingsMenu","layoutName","layout","buildGraph","edgeStyle","edge","changeOpacity","fadeOpacity","currentGraphCache","updated_at","showGraph","preConfig","afterCreated","filterGraphBySelection","unSelectAllElements","def","closeTimelineView","showTimelineView","selectedEdgesCount","timelineViewHeight","increaseTimelineViewHeight","decreaseTimelineViewHeight","minimizeTimelineView","height","maxEvents","graphs","currentGraphCacheConfig","layouts","edgeStyles","animate","prelayout","spacingFactor","minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","selectionType","touchTapThreshold","desktopTapThreshold","autolock","autoungrabify","autounselectify","headless","styleEnabled","hideEdgesOnViewport","hideLabelsOnViewport","textureOnViewport","motionBlur","motionBlurOpacity","pixelRatio","setSavedGraph","buildSavedGraph","setGraphPlugin","savedGraph","loadingTimeout","setTimeout","unselect","showNeighborhood","removeClass","buildNeighborhood","neighborhood","add","connectedNodes","addClass","bool","should","group","must","boolMustQuery","resizeCanvas","canvas","minHeight","canvasHeight","minWidth","canvasWidth","cytoscape","addEventListener","graph","pluginName","renameStoryDialog","titleDraft","hover","editTextBlock","edit","deleteBlock","toHtml","draft","updateDraft","hasContent","componentProps","setActiveView","formatComponentProps","aggregation_group","hidden","isActive","addTextBlock","addEventListBlock","TsViewEventList","blocks","fetchStory","formatBlocks","compat","EVENTS_PER_PAGE","newIndex","newBlock","defaultBlock","Explore","ThreatIntel","Graph","Story","this$1","showLeftPanel","hasTimelines","loadingSketch","toggleLeftPanel","shareDialog","navigationDrawer","showSketchMetadata","renameSketchDialog","scenarioDialog","selectedScenario","short_name","leftPanelTab","scenario","hiddenScenarios","showHidden","expanded","renameDialog","newName","copyScenario","setStatus","facets","facet","toggleFacet","notStarted","questionsWithConclusion","questions","setActiveContext","conclusions","search_templates","searchtemplate","conclusion","currentUserConclusion","createConclusion","searchTemplateSpec","author","references","parameter","filledOut","parseQueryAndSearch","template_json","showControls","saveConclusion","editConclusion","deleteConclusion","TsSearchTemplate","TsQuestionConclusion","fullDescription","isResolved","payload","activeQuestion","selectedItem","addScenarioDialog","activeQuestionSpec","spec_json","is_hidden","setActiveQuestion","resetActiveQuestion","setView","searchtemplates","sigmaRules","ruleCount","sigmaRule","rule_uuid","downloadSigmaRule","deprecateSigmaRule","deleteRule","falsepositive","sigmaRuleSummary","fromEntries","startExpanded","TsSigmaRule","sigmaRuleList","tabs","indicatorHeaders","tagHeaders","iocs","weight","tagMetadata","loadSketchAttributes","enrichTag","match","savedGraphs","graphPlugins","stories","story","usersAndGroups","usersAndGroupsToAdd","collaborators","revokeAccess","items","generalAccess","accessIcon","setPublicAccess","grantAccess","systemUsers","systemGroups","concat","newSketchName","renameSketch","TsScenario","TsSavedSearches","TsDataTypes","TsTags","TsSearchTemplates","TsSigmaRules","TsShareCard","TsRenameSketch","TsIntelligence","TsGraphs","TsStories","leftPanelTabItems","then","setDrawerBorderStyle","setDrawerResizeEvents","scenarios","activeScenarios","cursor","resize","body","drawerElement","f","drawerBorder","newVal","editingRule","isParsingSuccesful","SigmaTemplates","selectTemplate","status_text","parseSigma","ruleYamlTextArea","addOrUpdateRule","isNewRule","back","crypto","randomUUID","SkeletonFirst","Date","now","toLocaleString","SkeletonLast","AwsText","AzureActivitylogsText","AzureSigninlogsText","GCPAuditlogsText","GworkspaceText","Microsoft365Text","OktaText","LinuxFileCreateText","LinuxNetworkConnectionText","LinuxProcessCreationText","LinuxAnyLogsText","LinuxAuditdText","LinuxClamavText","LinuxCronText","LinuxGuacamoleText","LinuxModsecurityText","LinuxSudoText","LinuxSshdText","LinuxSyslogText","LinuxVsftpdText","MacosFileeventText","MacosProcessCreationText","WindowsClipboardCaptureText","WindowsCreateRemoteThreadText","WindowsCreateStreamHashText","WindowsDnsQueryText","WindowsDriverLoadText","WindowsFileChangeText","WindowsFileDeleteText","WindowsFileEventText","WindowsImageLoadText","WindowsNetworkConnectionText","WindowsPipeCreatedText","WindowsProcessAccessText","WindowsProcessCreationText","WindowsProcessTamperingText","WindowsProcessTerminationText","WindowsPsClassicProviderStartText","WindowsPsClassicScriptText","WindowsPsClassicStartText","WindowsPsModuleText","WindowsPsScriptText","WindowsRawAccessThreadText","WindowsRegistryAddText","WindowsRegistryDeleteText","WindowsRegistryEventText","WindowsRegistryRenameText","WindowsRegistrySetText","WindowsSysmonErrorText","WindowsSysmonStatusText","WindowsWmiEventText","WindowsApplicationText","WindowsApplockerText","WindowsBitsclientText","WindowsCodeintegrityoperationalText","WindowsDhcpText","WindowsDnsserverText","WindowsDriverframeworkText","WindowsFirewallasText","WindowsLdapDebugText","WindowsMicrosoftservicebusclientText","WindowsMsexchangemanagementText","WindowsNtlmText","WindowsPowershellText","WindowsPowershellclassicText","WindowsPrintserviceadminText","WindowsPrintserviceoperationalText","WindowsSecurityText","WindowsSecuritymitigationsText","WindowsSmbclientsecurityText","WindowsSysmonText","WindowsSystemText","WindowsTaskschedulerText","WindowsTerminalservicesText","WindowsWindefendText","WindowsWmiText","defaultSigmaPlaceholder","isUpdatingRule","resetComponent","getRuleByUUID","loaded","matchingTemplate","TsSigmaRuleModification","VueRouter","routes","path","Home","Sketch","redirect","Canvas","Studio","mode","base","Vuex","defaultState","Store","mutations","SET_SKETCH","SET_SEARCH_HISTORY","SET_SCENARIOS","SET_SCENARIO_TEMPLATES","SET_TIMELINE_TAGS","buckets","SET_DATA_TYPES","SET_COUNT","SET_SEARCH_NODE","SET_SIGMA_LIST","SET_ACTIVE_USER","ApiClient","SET_ACTIVE_CONTEXT","CLEAR_ACTIVE_CONTEXT","SET_GRAPH_PLUGINS","SET_SAVED_GRAPHS","SET_SNACKBAR","RESET_STATE","assign","SET_CONTEXT_LINKS","actions","updateSketch","context","commit","catch","updateCount","resetState","updateSearchNode","updateSearchHistory","updateScenarios","updateScenarioTemplates","updateTimelineTags","aggregator_name","aggregator_parameters","missing","tagIndex","findIndex","updateDataTypes","updateSigmaList","activeScenarioContext","clearActiveContext","setSnackBar","updateContextLinks","updateGraphPlugins","updateSavedGraphs","defaultTimeout","defaultSnackBar","mixin","successSnackBar","Vuetify","customProperties","opts","icons","iconfont","VueCytoscape","VueClipboard","VueScrollTo","Multiselect","productionTip","router","store","vuetify","render","App","$mount","requireFilter","filterModule","fromNow","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","resolve","module","exports","extend","relativeTime","webpackEmptyContext","timestampMillis","mark"],"mappings":"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","file":"js/chunk-common.921edcb1.js","sourcesContent":["/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'filterChip',\n  filter: function (input) {\n    if (input.type === 'label') {\n      if (input.value === '__ts_star') {\n        return 'Starred'\n      } else if (input.value === '__ts_comment') {\n        return 'Commented'\n      }\n      return input.value\n    }\n    return input.field + ':' + input.value\n  },\n}\n","/*\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'formatTimestamp',\n  filter: function (input) {\n    let tsLength = parseInt(input).toString().length\n    if (tsLength === 13) {\n      return input // exit early if timestamp is already in milliseconds\n    } else if (tsLength === 15 || tsLength === 16) {\n      input = input / 1000 // microseconds -> milliseconds\n    } else if (tsLength === 10) {\n      input = input * 1000000 // seconds -> milliseconds\n    }\n    return parseInt(input)\n  },\n}\n","/*\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'formatLabelText',\n  filter: function (input) {\n    return input.replace('__ts_', '')\n  },\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchTemplates.vue?vue&type=style&index=0&id=44cfccf4&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaRule.vue?vue&type=style&index=0&id=72e044b8&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTypes.vue?vue&type=style&index=0&id=6f8c2e97&scoped=true&lang=scss&\"","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue'\n\nconst requireComponent = require.context(\n  // The relative path of the components folder\n  '../components',\n  // Whether or not to look in subfolders\n  false,\n  // The regular expression used to match base component filenames\n  /App[A-Z]\\w+\\.(vue|js)$/\n)\n\nrequireComponent.keys().forEach((fileName) => {\n  // Get component config\n  const componentConfig = requireComponent(fileName)\n  const componentName = componentConfig.default.name\n\n  // Register component globally\n  Vue.component(\n    componentName,\n    // Look for the component options on `.default`, which will\n    // exist if the component was exported with `export default`,\n    // otherwise fall back to module's root.\n    componentConfig.default || componentConfig\n  )\n})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explore.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryButtons.vue?vue&type=style&index=0&id=6d090d22&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryTreeNode.vue?vue&type=style&index=0&id=1623aa42&scoped=true&lang=scss&\"","/*\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'compactBytes',\n  filter: function (input) {\n    // Based on https://gist.github.com/james2doyle/4aba55c22f084800c199\n    if (!input) {\n      input = 0\n    }\n    let units = ['B', 'kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n    let exponent = Math.min(Math.floor(Math.log(input) / Math.log(1000)), units.length - 1)\n    let num = (input / Math.pow(1000, exponent)).toFixed(2) * 1\n    return num + units[exponent]\n  },\n}\n","/*\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'initialLetter',\n  filter: function (input) {\n    if (!input) return ''\n    input = input.toString()\n    return input.charAt(0).toUpperCase()\n  },\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDropdown.vue?vue&type=style&index=0&id=92ef386a&scoped=true&lang=scss&\"","/*\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport dayjs from '@/plugins/dayjs'\n\nexport default {\n  name: 'shortDateTime',\n  filter: function (date) {\n    return dayjs.utc(date).format('YYYY-MM-DD HH:mm')\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"app\"}},[_c('v-snackbar',{attrs:{\"timeout\":_vm.snackbar.timeout,\"color\":_vm.snackbar.color,\"top\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar.active = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar.active),callback:function ($$v) {_vm.$set(_vm.snackbar, \"active\", $$v)},expression:\"snackbar.active\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.snackbar.message)+\"\\n    \")]),_c('v-main',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-app id=\"app\">\n    <!-- Global snackbar -->\n    <v-snackbar v-model=\"snackbar.active\" :timeout=\"snackbar.timeout\" :color=\"snackbar.color\" top>\n      {{ snackbar.message }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn text v-bind=\"attrs\" @click=\"snackbar.active = false\"> Close </v-btn>\n      </template>\n    </v-snackbar>\n\n    <v-main>\n      <!-- Main view -->\n      <router-view></router-view>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport EventBus from './main'\n\nexport default {\n  name: 'app',\n  data() {\n    return {}\n  },\n  computed: {\n    snackbar() {\n      return this.$store.state.snackbar\n    },\n  },\n  methods: {\n    setErrorSnackBar: function (message) {\n      const snackbar = {\n        message: message,\n        color: 'error',\n        timeout: 7000,\n      }\n      this.$store.dispatch('setSnackBar', snackbar)\n    },\n  },\n  mounted() {\n    // Listen on errors from REST API calls\n    EventBus.$on('errorSnackBar', this.setErrorSnackBar)\n\n    const isDark = localStorage.getItem('isDarkTheme')\n    if (isDark) {\n      if (isDark === 'true') {\n        this.$vuetify.theme.dark = true\n      } else {\n        this.$vuetify.theme.dark = false\n      }\n    }\n    let element = document.body\n    element.dataset.theme = this.$vuetify.theme.dark ? 'dark' : 'light'\n  },\n  beforeDestroy() {\n    EventBus.$off('errorSnackBar')\n  },\n}\n</script>\n\n<style lang=\"scss\"></style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=03b8129d&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{attrs:{\"flat\":\"\",\"color\":\"transparent\"}},[_c('v-avatar',{staticClass:\"mt-2 ml-n3\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('v-img',{attrs:{\"src\":\"/dist/timesketch-color.png\",\"max-height\":\"25\",\"max-width\":\"25\",\"contain\":\"\"}})],1)],1),_c('span',{staticStyle:{\"font-size\":\"1.2em\"}},[_vm._v(\"timesketch\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"depressed\":\"\"},on:{\"click\":_vm.switchUI}},[_vm._v(\" Use the old UI \")]),_c('v-avatar',{staticClass:\"ml-3\",attrs:{\"color\":\"grey lighten-1\",\"size\":\"25\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm._f(\"initialLetter\")(_vm.currentUser)))])]),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-avatar',[_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\",\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)],1)]}}])},[_c('v-card',[_c('v-list',[_c('v-list-item-group',{attrs:{\"color\":\"primary\"}},[_c('v-list-item',{on:{\"click\":_vm.toggleTheme}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-brightness-6\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Toggle theme\")])],1)],1),_c('a',{staticStyle:{\"text-decoration\":\"none\",\"color\":\"inherit\"},attrs:{\"href\":\"/logout/\"}},[_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-logout\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Logout\")])],1)],1)],1)],1)],1)],1)],1)],1),_c('v-container',{attrs:{\"fluid\":\"\",\"pa-0\":\"\"}},[_c('v-sheet',{staticClass:\"pa-5\",attrs:{\"color\":_vm.$vuetify.theme.dark ? 'grey darken-4' : 'grey lighten-3',\"min-height\":\"200\"}},[_c('h2',[_vm._v(\"Start new investigation\")]),_c('v-row',{staticClass:\"mt-5\",attrs:{\"no-gutters\":\"\"}},[_c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-5\",attrs:{\"depressed\":\"\",\"small\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_vm._v(\" Blank sketch \")])]}}])},[_c('v-card',{staticClass:\"pa-4\"},[_c('h3',[_vm._v(\"New sketch\")]),_c('br'),_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"placeholder\":\"Name your sketch\",\"autofocus\":\"\"},model:{value:(_vm.sketchForm.name),callback:function ($$v) {_vm.$set(_vm.sketchForm, \"name\", $$v)},expression:\"sketchForm.name\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"disabled\":!_vm.sketchForm.name,\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.createSketch()}}},[_vm._v(\" Create \")])],1)],1)],1)],1)],1),_c('div',{staticClass:\"pa-5\"},[_c('h2',[_vm._v(\"Your recent work\")]),_c('ts-sketch-list')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport axios from 'axios'\nimport EventBus from '../main'\n\nconst RestApiClient = axios.create({\n  baseURL: process.env.NODE_ENV === 'development' ? '/api/v1' : '/v2/api/v1',\n  headers: {\n    common: {\n      'X-CSRFToken': document.getElementsByTagName('meta')[0]['content'],\n    },\n  },\n})\n\nconst RestApiBlobClient = axios.create({\n  baseURL: process.env.NODE_ENV === 'development' ? '/api/v1' : '/v2/api/v1',\n  responseType: 'blob',\n  headers: {\n    common: {\n      'X-CSRFToken': document.getElementsByTagName('meta')[0]['content'],\n    },\n  },\n})\n\n// Show message on errors.\nRestApiClient.interceptors.response.use(\n  function (response) {\n    return response\n  },\n  function (error) {\n    if (error.response.status === 500) {\n      EventBus.$emit('errorSnackBar', 'Server side error. Please contact your server administrator for troubleshooting.')\n    } else {\n      EventBus.$emit('errorSnackBar', error.response.data.message)\n    }\n    return Promise.reject(error)\n  }\n)\n\nexport default {\n  // Sketch\n  getSketchList(scope, page, perPage, searchQuery) {\n    let params = {\n      params: {\n        scope: scope,\n        page: page,\n        per_page: perPage,\n        search_query: searchQuery,\n      },\n    }\n    return RestApiClient.get('/sketches/', params)\n  },\n  getSketch(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/')\n  },\n  createSketch(formData) {\n    return RestApiClient.post('/sketches/', formData)\n  },\n  deleteSketch(sketchId) {\n    return RestApiClient.delete('/sketches/' + sketchId + '/')\n  },\n  archiveSketch(sketchId) {\n    let formData = {\n      action: 'archive',\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/archive/', formData)\n  },\n  unArchiveSketch(sketchId) {\n    let formData = {\n      action: 'unarchive',\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/archive/', formData)\n  },\n  exportSketch(sketchId) {\n    let formData = {\n      action: 'export',\n    }\n    return RestApiBlobClient.post('/sketches/' + sketchId + '/archive/', formData)\n  },\n  getSketchAttributes(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/attribute/')\n  },\n  addSketchAttribute(sketchId, name, value, ontology) {\n    let attribute = {\n      name: name,\n      values: [value],\n      ontology: ontology,\n      action: 'post',\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/attribute/', attribute)\n  },\n  getSketchTimeline(sketchId, timelineId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/timelines/' + timelineId + '/')\n  },\n  getSketchTimelineAnalysis(sketchId, timelineId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/timelines/' + timelineId + '/analysis/')\n  },\n  saveSketchTimeline(sketchId, timelineId, name, description, color) {\n    let formData = {\n      name: name,\n      description: description,\n      color: color,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /timelines/ + timelineId + '/', formData)\n  },\n  saveSketchSummary(sketchId, name, description) {\n    let formData = {\n      name: name,\n      description: description,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/', formData)\n  },\n  deleteSketchTimeline(sketchId, timelineId) {\n    return RestApiClient.delete('/sketches/' + sketchId + /timelines/ + timelineId + '/')\n  },\n  createEvent(sketchId, datetime, message, timestampDesc, attributes, config) {\n    let formData = {\n      date_string: datetime,\n      message: message,\n      timestamp_desc: timestampDesc,\n      attributes: attributes,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/event/create/', formData, config)\n  },\n  // Get details about an event\n  getEvent(sketchId, searchindexId, eventId) {\n    let params = {\n      params: {\n        searchindex_id: searchindexId,\n        event_id: eventId,\n      },\n    }\n    return RestApiClient.get('/sketches/' + sketchId + '/event/', params)\n  },\n  saveEventAnnotation(sketchId, annotationType, annotation, events, currentSearchNode, remove = false) {\n    let formData = {\n      annotation: annotation,\n      annotation_type: annotationType,\n      events: events,\n      current_search_node_id: currentSearchNode.id,\n      remove: remove,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/event/annotate/', formData)\n  },\n  tagEvents(sketchId, events, tags) {\n    let formData = {\n      tag_string: JSON.stringify(tags),\n      events: events,\n      verbose: false,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/event/tagging/', formData)\n  },\n  updateEventAnnotation(sketchId, annotationType, annotation, events, currentSearchNode) {\n    let formData = {\n      annotation: annotation,\n      annotation_type: annotationType,\n      events: events,\n      current_search_node_id: currentSearchNode.id,\n    }\n    return RestApiClient.put('/sketches/' + sketchId + '/event/annotate/', formData)\n  },\n  deleteEventAnnotation(sketchId, annotationType, annotationId, event, currentSearchNode) {\n    let params = {\n      params: {\n        annotation_id: annotationId,\n        annotation_type: annotationType,\n        event_id: event._id,\n        searchindex_id: event._index,\n        current_search_node_id: currentSearchNode.id,\n      },\n    }\n    return RestApiClient.delete('/sketches/' + sketchId + '/event/annotate/', params)\n  },\n  // Stories\n  getStoryList(sketchId) {\n    return RestApiClient.get('sketches/' + sketchId + '/stories/')\n  },\n  getStory(sketchId, storyId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/stories/' + storyId + '/')\n  },\n  createStory(title, content, sketchId) {\n    let formData = {\n      title: title,\n      content: content,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /stories/, formData)\n  },\n  updateStory(title, content, sketchId, storyId) {\n    let formData = {\n      title: title,\n      content: content,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /stories/ + storyId + '/', formData)\n  },\n  deleteStory(sketchId, storyId) {\n    return RestApiClient.delete('/sketches/' + sketchId + /stories/ + storyId + '/')\n  },\n  // Saved views\n  getView(sketchId, viewId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/views/' + viewId + '/')\n  },\n  createView(sketchId, viewName, queryString, queryFilter) {\n    let formData = {\n      name: viewName,\n      query: queryString,\n      filter: queryFilter,\n      dsl: '',\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /views/, formData)\n  },\n  updateView(sketchId, viewId, queryString, queryFilter) {\n    let formData = {\n      query: queryString,\n      filter: queryFilter,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /views/ + viewId + '/', formData)\n  },\n  deleteView(sketchId, viewId) {\n    return RestApiClient.delete('/sketches/' + sketchId + '/views/' + viewId + '/')\n  },\n  // Search\n  search(sketchId, formData) {\n    return RestApiClient.post('/sketches/' + sketchId + '/explore/', formData)\n  },\n  exportSearchResult(sketchId, formData) {\n    return RestApiBlobClient.post('/sketches/' + sketchId + '/explore/', formData)\n  },\n  getAggregations(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/aggregation/')\n  },\n  getAggregationGroups(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/aggregation/group/')\n  },\n  runAggregator(sketchId, formData) {\n    return RestApiClient.post('/sketches/' + sketchId + '/aggregation/explore/', formData)\n  },\n  runAggregatorGroup(sketchId, groupId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/aggregation/group/' + groupId + '/')\n  },\n  saveAggregation(sketchId, aggregation, name, formData) {\n    let newFormData = {\n      name: name,\n      description: aggregation.description,\n      agg_type: aggregation.name,\n      chart_type: formData['supported_charts'],\n      parameters: formData,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/aggregation/', newFormData)\n  },\n  // Misc resources\n  countSketchEvents(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/count/')\n  },\n  uploadTimeline(formData, config) {\n    return RestApiClient.post('/upload/', formData, config)\n  },\n  getSessions(sketchId, timelineIndex) {\n    return RestApiClient.get('/sketches/' + sketchId + '/explore/sessions/' + timelineIndex + '/')\n  },\n  getUsers() {\n    return RestApiClient.get('/users/')\n  },\n  getGroups() {\n    return RestApiClient.get('/groups/')\n  },\n  grantSketchAccess(sketchId, usersToAdd, groupsToAdd) {\n    let formData = {\n      users: usersToAdd,\n      groups: groupsToAdd,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /collaborators/, formData)\n  },\n  revokeSketchAccess(sketchId, usersToRemove, groupsToRemove) {\n    let formData = {\n      remove_users: usersToRemove,\n      remove_groups: groupsToRemove,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /collaborators/, formData)\n  },\n  setSketchPublicAccess(sketchId, isPublic) {\n    let formData = {\n      public: isPublic,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /collaborators/, formData)\n  },\n\n  getAnalyzers(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/analyzer/')\n  },\n  runAnalyzers(sketchId, timelineIds, analyzers) {\n    let formData = {\n      timeline_ids: timelineIds,\n      analyzer_names: analyzers,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /analyzer/, formData)\n  },\n  getAnalyzerSession(sketchId, sessionId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/analyzer/sessions/' + sessionId + '/')\n  },\n  getActiveAnalyzerSessions(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/analyzer/sessions/active/')\n  },\n  getLoggedInUser() {\n    return RestApiClient.get('/users/me/')\n  },\n  generateGraphFromPlugin(sketchId, graphPlugin, currentIndices, timelineIds, refresh) {\n    let formData = {\n      plugin: graphPlugin,\n      config: {\n        filter: {\n          indices: currentIndices,\n          timelineIds: timelineIds,\n        },\n      },\n      refresh: refresh,\n    }\n    if (timelineIds.length) {\n      formData['timeline_ids'] = timelineIds\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /graph/, formData)\n  },\n  getGraphPluginList() {\n    return RestApiClient.get('/graphs/')\n  },\n  saveGraph(sketchId, name, elements) {\n    let formData = {\n      name: name,\n      elements: elements,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /graphs/, formData)\n  },\n  getSavedGraphList(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + /graphs/)\n  },\n  getSavedGraph(sketchId, graphId) {\n    let params = {\n      params: {\n        format: 'cytoscape',\n      },\n    }\n    return RestApiClient.get('/sketches/' + sketchId + /graphs/ + graphId + '/', params)\n  },\n  getSearchHistory(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + /searchhistory/)\n  },\n  getSearchHistoryTree(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + /searchhistorytree/)\n  },\n  // SigmaRule (new rules file based)\n  getSigmaRuleList() {\n    return RestApiClient.get('/sigmarules/')\n  },\n  getSigmaRuleResource(ruleUuid) {\n    return RestApiClient.get('/sigmarules/' + ruleUuid + '/')\n  },\n  getSigmaRuleByText(ruleYaml) {\n    let formData = {\n      content: ruleYaml,\n    }\n    return RestApiClient.post('/sigmarules/text/', formData)\n  },\n  deleteSigmaRule(ruleUuid) {\n    return RestApiClient.delete('/sigmarules/' + ruleUuid + '/')\n  },\n  createSigmaRule(ruleYaml) {\n    let formData = {\n      rule_yaml: ruleYaml,\n    }\n    return RestApiClient.post('/sigmarules/', formData)\n  },\n  updateSigmaRule(id, ruleYaml) {\n    let formData = {\n      id: id,\n      rule_yaml: ruleYaml,\n    }\n    return RestApiClient.put('/sigmarules/' + id + '/', formData)\n  },\n  // SearchTemplates\n  getSearchTemplates() {\n    return RestApiClient.get('/searchtemplates/')\n  },\n  parseSearchTemplate(searchTemplateId, formData) {\n    return RestApiClient.post('/searchtemplates/' + searchTemplateId + '/parse/', formData)\n  },\n  getContextLinkConfig() {\n    return RestApiClient.get('/contextlinks/')\n  },\n  getScenarioTemplates() {\n    return RestApiClient.get('/scenarios/')\n  },\n  getSketchScenarios(sketchId, status = null) {\n    let params = {}\n    if (status) {\n      params.params = {\n        status: status,\n      }\n    }\n    return RestApiClient.get('/sketches/' + sketchId + '/scenarios/', params)\n  },\n  addScenario(sketchId, scenarioName, displayName) {\n    let formData = { scenario_name: scenarioName, display_name: displayName }\n    return RestApiClient.post('/sketches/' + sketchId + '/scenarios/', formData)\n  },\n  renameScenario(sketchId, scenarioId, scenarioName) {\n    let formData = { scenario_name: scenarioName }\n    return RestApiClient.post('/sketches/' + sketchId + '/scenarios/' + scenarioId + '/', formData)\n  },\n  setScenarioStatus(sketchId, scenarioId, status) {\n    let formData = { status: status }\n    return RestApiClient.post('/sketches/' + sketchId + '/scenarios/' + scenarioId + '/status/', formData)\n  },\n  createQuestionConclusion(sketchId, questionId, conclusionText) {\n    let formData = { conclusionText: conclusionText }\n    return RestApiClient.post('/sketches/' + sketchId + '/questions/' + questionId + '/', formData)\n  },\n  editQuestionConclusion(sketchId, questionId, conclusionId, conclusionText) {\n    let formData = { conclusionText: conclusionText }\n    return RestApiClient.put('/sketches/' + sketchId + '/questions/' + questionId + '/conclusions/' + conclusionId + '/', formData)\n  },\n  deleteQuestionConclusion(sketchId, questionId, conclusionId) {\n    return RestApiClient.delete('/sketches/' + sketchId + '/questions/' + questionId + '/conclusions/' + conclusionId + '/')\n\n  },\n  getTagMetadata() {\n    return RestApiClient.get('/intelligence/tagmetadata/')\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',{staticClass:\"mt-5\",attrs:{\"no-gutters\":\"\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"flat\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"single-line\":\"\",\"label\":\"Search\",\"prepend-inner-icon\":\"mdi-magnify\"},on:{\"change\":_vm.search}}),_c('v-spacer'),_c('v-btn-toggle',{attrs:{\"dense\":\"\",\"group\":\"\"},model:{value:(_vm.toggleStateButton),callback:function ($$v) {_vm.toggleStateButton=$$v},expression:\"toggleStateButton\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.switchScope('recent')}}},[_vm._v(\" Recent \")]),_c('v-btn',{on:{\"click\":function($event){return _vm.switchScope('user')}}},[_vm._v(\" My sketches \")]),_c('v-btn',{on:{\"click\":function($event){return _vm.switchScope('shared')}}},[_vm._v(\" Shared with me \")])],1)],1),_c('br'),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.sketches,\"items-per-page\":15,\"options\":_vm.options,\"server-items-length\":_vm.numSketches,\"footer-props\":{\n      'items-per-page-options': [15, 30, 40, 50, 100],\n    },\"disable-filtering\":\"\",\"disable-sort\":\"\",\"loading\":_vm.loading},on:{\"update:options\":function($event){_vm.options=$event}},scopedSlots:_vm._u([{key:\"item.name\",fn:function(ref){\n    var item = ref.item;\nreturn [_c('router-link',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"to\":{ name: 'Overview', params: { sketchId: item.id } }}},[_vm._v(_vm._s(item.name))])]}},{key:\"item.created_at\",fn:function(ref){\n    var item = ref.item;\nreturn [_vm._v(\"\\n      \"+_vm._s(_vm._f(\"shortDateTime\")(item.created_at))+\" \"),_c('small',[_vm._v(\"(\"+_vm._s(_vm._f(\"timeSince\")(item.created_at))+\")\")])]}},{key:\"item.last_activity\",fn:function(ref){\n    var item = ref.item;\nreturn [_vm._v(\"\\n      \"+_vm._s(_vm._f(\"timeSince\")(item.last_activity))+\"\\n    \")]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <v-row no-gutters class=\"mt-5\">\n      <v-text-field\n        outlined\n        flat\n        dense\n        hide-details\n        single-line\n        label=\"Search\"\n        prepend-inner-icon=\"mdi-magnify\"\n        @change=\"search\"\n      ></v-text-field>\n      <v-spacer></v-spacer>\n      <v-btn-toggle dense group v-model=\"toggleStateButton\">\n        <v-btn @click=\"switchScope('recent')\"> Recent </v-btn>\n        <v-btn @click=\"switchScope('user')\"> My sketches </v-btn>\n        <v-btn @click=\"switchScope('shared')\"> Shared with me </v-btn>\n      </v-btn-toggle>\n    </v-row>\n\n    <br />\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"sketches\"\n      :items-per-page=\"15\"\n      :options.sync=\"options\"\n      :server-items-length=\"numSketches\"\n      :footer-props=\"{\n        'items-per-page-options': [15, 30, 40, 50, 100],\n      }\"\n      disable-filtering\n      disable-sort\n      :loading=\"loading\"\n    >\n      <template v-slot:item.name=\"{ item }\">\n        <router-link style=\"text-decoration: none\" :to=\"{ name: 'Overview', params: { sketchId: item.id } }\">{{\n          item.name\n        }}</router-link>\n      </template>\n      <template v-slot:item.created_at=\"{ item }\">\n        {{ item.created_at | shortDateTime }} <small>({{ item.created_at | timeSince }})</small>\n      </template>\n      <template v-slot:item.last_activity=\"{ item }\">\n        {{ item.last_activity | timeSince }}\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\n\nexport default {\n  data() {\n    return {\n      headers: [\n        {\n          text: 'Name',\n          align: 'start',\n          value: 'name',\n        },\n        { text: 'Creator', value: 'user' },\n        { text: 'Created at', value: 'created_at' },\n        { text: 'Last active', value: 'last_activity' },\n      ],\n      sketches: [],\n      numSketches: 0,\n      options: {},\n      loading: false,\n      toggleStateButton: 0,\n      scope: 'recent',\n      searchQuery: null,\n    }\n  },\n  watch: {\n    options: {\n      handler() {\n        this.getSketches()\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    search: function (query) {\n      this.scope = 'search'\n      this.searchQuery = query\n      this.getSketches()\n    },\n    switchScope: function (newScope) {\n      this.scope = newScope\n      this.getSketches()\n    },\n    getSketches: function () {\n      this.loading = true\n      ApiClient.getSketchList(this.scope, this.options.page, this.options.itemsPerPage, this.searchQuery)\n        .then((response) => {\n          this.sketches = response.data.objects\n          this.numSketches = response.data.meta.total_items\n          this.loading = false\n        })\n        .catch((e) => {\n          this.loading = false\n          console.error(e)\n        })\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SketchList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SketchList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SketchList.vue?vue&type=template&id=6f2c2155&scoped=true&\"\nimport script from \"./SketchList.vue?vue&type=script&lang=js&\"\nexport * from \"./SketchList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f2c2155\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <!-- Top horizontal toolbar -->\n    <v-toolbar flat color=\"transparent\">\n      <v-avatar class=\"mt-2 ml-n3\">\n        <router-link to=\"/\">\n          <v-img src=\"/dist/timesketch-color.png\" max-height=\"25\" max-width=\"25\" contain></v-img>\n        </router-link>\n      </v-avatar>\n      <span style=\"font-size: 1.2em\">timesketch</span>\n\n      <v-spacer></v-spacer>\n      <v-btn small depressed v-on:click=\"switchUI\"> Use the old UI </v-btn>\n      <v-avatar color=\"grey lighten-1\" size=\"25\" class=\"ml-3\">\n        <span class=\"white--text\">{{ currentUser | initialLetter }}</span>\n      </v-avatar>\n      <v-menu offset-y>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-avatar>\n            <v-btn small icon v-bind=\"attrs\" v-on=\"on\">\n              <v-icon>mdi-dots-vertical</v-icon>\n            </v-btn>\n          </v-avatar>\n        </template>\n        <v-card>\n          <v-list>\n            <v-list-item-group color=\"primary\">\n              <v-list-item v-on:click=\"toggleTheme\">\n                <v-list-item-icon>\n                  <v-icon>mdi-brightness-6</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>Toggle theme</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n\n              <a href=\"/logout/\" style=\"text-decoration: none; color: inherit\">\n                <v-list-item>\n                  <v-list-item-icon>\n                    <v-icon>mdi-logout</v-icon>\n                  </v-list-item-icon>\n\n                  <v-list-item-content>\n                    <v-list-item-title>Logout</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </a>\n            </v-list-item-group>\n          </v-list>\n        </v-card>\n      </v-menu>\n    </v-toolbar>\n\n    <v-container fluid pa-0>\n      <v-sheet class=\"pa-5\" :color=\"$vuetify.theme.dark ? 'grey darken-4' : 'grey lighten-3'\" min-height=\"200\">\n        <h2>Start new investigation</h2>\n        <v-row no-gutters class=\"mt-5\">\n          <v-dialog width=\"500\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn depressed small class=\"mr-5\" color=\"primary\" v-bind=\"attrs\" v-on=\"on\"> Blank sketch </v-btn>\n            </template>\n            <v-card class=\"pa-4\">\n              <h3>New sketch</h3>\n              <br />\n              <v-text-field v-model=\"sketchForm.name\" outlined dense placeholder=\"Name your sketch\" autofocus>\n              </v-text-field>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn :disabled=\"!sketchForm.name\" @click=\"createSketch()\" color=\"primary\" text> Create </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-row>\n      </v-sheet>\n      <div class=\"pa-5\">\n        <h2>Your recent work</h2>\n        <ts-sketch-list></ts-sketch-list>\n      </div>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\nimport TsSketchList from '../components/SketchList'\n\nexport default {\n  components: { TsSketchList },\n  data() {\n    return {\n      sketchForm: {\n        name: '',\n      },\n      scenarioTemplates: [],\n    }\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.currentUser\n    },\n  },\n  methods: {\n    toggleTheme: function () {\n      this.$vuetify.theme.dark = !this.$vuetify.theme.dark\n      localStorage.setItem('isDarkTheme', this.$vuetify.theme.dark.toString())\n    },\n    switchUI: function () {\n      window.location.href = window.location.href.replace('/v2/', '/')\n    },\n    clearFormData: function () {\n      this.sketchForm.name = ''\n    },\n    createSketch: function () {\n      ApiClient.createSketch(this.sketchForm)\n        .then((response) => {\n          let newSketchId = response.data.objects[0].id\n          this.clearFormData()\n          this.$router.push({ name: 'Overview', params: { sketchId: newSketchId } })\n        })\n        .catch((e) => {})\n    },\n  },\n  created: function () {\n    this.$store.dispatch('resetState')\n    document.title = 'Timesketch'\n    ApiClient.getScenarioTemplates()\n      .then((response) => {\n        this.scenarioTemplates = response.data['objects']\n      })\n      .catch((e) => {})\n  },\n}\n</script>\n<style lang=\"scss\"></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=276b46fe&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentRouteName === 'Explore'),expression:\"currentRouteName === 'Explore'\"}]},[_c('explore',{attrs:{\"sketch-id\":_vm.sketchId}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentRouteName === 'Intelligence'),expression:\"currentRouteName === 'Intelligence'\"}]},[_c('threat-intel',{attrs:{\"sketch-id\":_vm.sketchId}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentRouteName === 'Graph'),expression:\"currentRouteName === 'Graph'\"}]},[_c('graph')],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentRouteName === 'Story'),expression:\"currentRouteName === 'Story'\"}]},[_c('story',{attrs:{\"sketch-id\":_vm.sketchId,\"story-id\":_vm.storyId}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[(_vm.showRightSidePanel)?_c('v-navigation-drawer',{staticStyle:{\"box-shadow\":\"0 10px 15px -3px #888\"},attrs:{\"fixed\":\"\",\"right\":\"\",\"width\":\"600\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Right Side Panel\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showRightSidePanel = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1)]},proxy:true}],null,false,1533655335)},[_c('v-container',[_vm._v(\" TODO: Add content here \")])],1):_vm._e(),_c('v-card',{staticClass:\"pa-3 pt-0 mt-n3\",attrs:{\"flat\":\"\",\"color\":\"transparent\"}},[_c('v-card',{staticClass:\"d-flex align-start mb-1\",attrs:{\"outlined\":\"\"}},[_c('v-sheet',{staticClass:\"mt-2\"},[_c('ts-search-history-buttons',{on:{\"toggleSearchHistory\":function($event){return _vm.toggleSearchHistory()}}})],1),_c('v-menu',{attrs:{\"offset-y\":\"\",\"attach\":\"\",\"close-on-content-click\":false,\"close-on-click\":true},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({ref:\"searchInput\",staticClass:\"pa-1\",attrs:{\"hide-details\":\"\",\"label\":\"Search\",\"placeholder\":\"Search\",\"single-line\":\"\",\"dense\":\"\",\"filled\":\"\",\"flat\":\"\",\"solo\":\"\",\"append-icon\":\"mdi-magnify\",\"id\":\"tsSearchInput\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search.apply(null, arguments)},\"click\":function($event){_vm.showSearchDropdown = true}},model:{value:(_vm.currentQueryString),callback:function ($$v) {_vm.currentQueryString=$$v},expression:\"currentQueryString\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.showSearchDropdown),callback:function ($$v) {_vm.showSearchDropdown=$$v},expression:\"showSearchDropdown\"}},[_c('ts-search-dropdown',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.onClickOutside),expression:\"onClickOutside\"}],attrs:{\"selected-labels\":_vm.selectedLabels,\"query-string\":_vm.currentQueryString},on:{\"setActiveView\":_vm.searchView,\"addChip\":_vm.addChip,\"updateLabelChips\":function($event){return _vm.updateLabelChips()},\"close-on-click\":function($event){_vm.showSearchDropdown = false},\"node-click\":_vm.jumpInHistory,\"setQueryAndFilter\":_vm.setQueryAndFilter}})],1)],1),_c('div',{staticClass:\"mt-4\"},[_c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSearchHistory),expression:\"showSearchHistory\"}],attrs:{\"outlined\":\"\"}},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Search history\")]),_c('v-spacer'),_c('v-slider',{staticClass:\"mt-6\",attrs:{\"thumb-label\":\"\",\"ticks\":\"\",\"append-icon\":\"mdi-magnify-plus-outline\",\"prepend-icon\":\"mdi-magnify-minus-outline\",\"min\":\"0.1\",\"max\":\"1\",\"step\":\"0.1\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\" \"+_vm._s(value * 100)+\"% \")]}}]),model:{value:(_vm.zoomLevel),callback:function ($$v) {_vm.zoomLevel=$$v},expression:\"zoomLevel\"}}),_c('v-btn',{staticClass:\"ml-4\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showSearchHistory = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('div',{directives:[{name:\"dragscroll\",rawName:\"v-dragscroll\"}],staticClass:\"pa-md-4 no-scrollbars\",staticStyle:{\"overflow\":\"scroll\",\"white-space\":\"nowrap\",\"max-height\":\"500px\",\"min-height\":\"100px\"}},[_c('ts-search-history-tree',{staticStyle:{\"transform-origin\":\"top left\"},style:({ transform: 'scale(' + _vm.zoomLevel + ')' }),attrs:{\"show-history\":_vm.showSearchHistory},on:{\"node-click\":_vm.jumpInHistory}})],1)],1)],1),_c('v-sheet',{staticClass:\"mb-4 mt-4\",attrs:{\"color\":\"transparent\"}},[_c('ts-timeline-picker',{attrs:{\"current-query-filter\":_vm.currentQueryFilter,\"count-per-index\":_vm.countPerIndex,\"count-per-timeline\":_vm.countPerTimeline},on:{\"updateSelectedTimelines\":function($event){return _vm.updateSelectedTimelines($event)}}}),_c('span',{staticStyle:{\"position\":\"relative\",\"top\":\"-5px\"}},[_c('ts-upload-timeline-form',{attrs:{\"btn-type\":\"small\"}})],1),_c('span',{staticStyle:{\"position\":\"relative\",\"top\":\"-5px\"}},[_c('v-dialog',{attrs:{\"width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\",\"text\":\"\",\"rounded\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\" mdi-plus \")]),_vm._v(\"\\n              Add manual event\\n            \")],1)]}}]),model:{value:(_vm.addManualEvent),callback:function ($$v) {_vm.addManualEvent=$$v},expression:\"addManualEvent\"}},[_c('ts-add-manual-event',{attrs:{\"app\":\"\",\"datetimeProp\":_vm.datetimeManualEvent},on:{\"cancel\":function($event){_vm.addManualEvent = false}}})],1)],1)],1),_c('div',{staticClass:\"mt-n3\"},[_vm._l((_vm.timeFilterChips),function(chip,index){return _c('span',{key:index + chip.value},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"content-class\":\"menu-with-gap\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({attrs:{\"outlined\":\"\"}},on),[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\" mdi-clock-outline \")]),_c('span',{style:([!chip.active ? { 'text-decoration': 'line-through', opacity: '50%' } : ''])},[_c('span',[_vm._v(_vm._s(chip.value.split(',')[0]))]),(chip.type === 'datetime_range' && chip.value.split(',')[0] !== chip.value.split(',')[1])?_c('span',[_vm._v(\"\\n                  → \"+_vm._s(chip.value.split(',')[1]))]):_vm._e()])],1)]}}],null,true)},[_c('v-card',[_c('v-list',[_c('v-menu',{staticStyle:{\"overflow\":\"visible\"},attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"close-on-click\":true,\"nudge-top\":\"70\",\"content-class\":\"menu-with-gap\",\"allow-overflow\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-list-item',_vm._g(_vm._b({},'v-list-item',attrs,false),on),[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-square-edit-outline\")])],1),_c('v-list-item-subtitle',[_vm._v(\"Edit filter\")])],1)]}}],null,true)},[_c('ts-filter-menu',{attrs:{\"app\":\"\",\"selected-chip\":chip},on:{\"updateChip\":function($event){return _vm.updateChip($event, chip)}}})],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.toggleChip(chip)}}},[_c('v-list-item-action',[(chip.active)?_c('v-icon',[_vm._v(\"mdi-eye-off\")]):_c('v-icon',[_vm._v(\"mdi-eye\")])],1),_c('v-list-item-subtitle',[(chip.active)?_c('span',[_vm._v(\"Temporarily disable\")]):_c('span',[_vm._v(\"Re-enable\")])])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.removeChip(chip)}}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-delete\")])],1),_c('v-list-item-subtitle',[_vm._v(\"Remove filter\")])],1)],1)],1)],1),(index + 1 < _vm.timeFilterChips.length)?_c('v-btn',{staticClass:\"mr-2\",staticStyle:{\"margin-top\":\"2px\"},attrs:{\"icon\":\"\",\"small\":\"\"}},[_vm._v(\"OR\")]):_vm._e()],1)}),_c('span',[_c('v-menu',{staticStyle:{\"overflow\":\"visible\"},attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"close-on-click\":true,\"content-class\":\"menu-with-gap\",\"allow-overflow\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\",\"text\":\"\",\"rounded\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\" mdi-plus \")]),_vm._v(\"\\n              Add timefilter\\n            \")],1)]}}]),model:{value:(_vm.timeFilterMenu),callback:function ($$v) {_vm.timeFilterMenu=$$v},expression:\"timeFilterMenu\"}},[_c('ts-filter-menu',{attrs:{\"app\":\"\"},on:{\"cancel\":function($event){_vm.timeFilterMenu = false},\"addChip\":_vm.addChip}})],1)],1)],2),(_vm.filterChips.length)?_c('div',[_c('v-chip-group',_vm._l((_vm.filterChips),function(chip,index){return _c('span',{key:index + chip.value},[_c('v-chip',{attrs:{\"small\":\"\",\"outlined\":\"\",\"close\":\"\"},on:{\"click:close\":function($event){return _vm.removeChip(chip)}}},[(chip.value === '__ts_star')?_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\",\"color\":\"amber\"}},[_vm._v(\"mdi-star\")]):_vm._e(),(chip.value === '__ts_comment')?_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-comment-multiple-outline\")]):_vm._e(),_vm._v(\"\\n            \"+_vm._s(_vm._f(\"formatLabelText\")(chip.value))+\"\\n          \")],1),(index + 1 < _vm.timeFilterChips.length)?_c('v-btn',{staticClass:\"mr-2\",staticStyle:{\"margin-top\":\"2px\"},attrs:{\"icon\":\"\",\"small\":\"\"}},[_vm._v(\"AND\")]):_vm._e()],1)}),0)],1):_vm._e()],1),_c('div',{staticClass:\"mt-3 mx-3\"},[(_vm.activeContext.question)?_c('div',{class:[_vm.$vuetify.theme.dark ? 'dark-info-card' : 'light-info-card']},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\",\"color\":\"transparent\"}},[_c('h4',[_vm._v(_vm._s(_vm.activeContext.question.display_name))]),_c('v-spacer'),_c('v-btn',{staticClass:\"mr-1\",attrs:{\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.$store.dispatch('clearActiveContext')}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('p',{staticClass:\"mt-1 pb-4 px-4\",staticStyle:{\"font-size\":\"0.9em\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.activeContext.question.description)+\"\\n      \")])],1):_vm._e()]),_c('v-card',{staticClass:\"mt-5 mx-3\",attrs:{\"flat\":\"\"}},[_c('ts-event-list',{attrs:{\"query-request\":_vm.activeQueryRequest},on:{\"countPerIndex\":function($event){return _vm.updateCountPerIndex($event)},\"countPerTimeline\":function($event){return _vm.updateCountPerTimeline($event)}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (Object.keys(_vm.treeData).length > 0)?_c('ul',{staticClass:\"tree\"},[_c('tree-node',{attrs:{\"node\":_vm.treeData,\"handle-click\":_vm.handleClick,\"selected-node\":_vm.selectedNode}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',{class:[{ active: _vm.isSelected }, { star: _vm.hasStar && !_vm.isSelected }, { dimmed: _vm.count === 0 && !_vm.isSelected }],staticStyle:{\"min-width\":\"205px\"},attrs:{\"id\":_vm.node.id},on:{\"click\":function($event){return _vm.handleClick(_vm.node)}}},[(_vm.hasStar)?_c('i',{staticClass:\"fas fa-star\",staticStyle:{\"float\":\"left\",\"color\":\"#ffd700\",\"-webkit-text-stroke-width\":\"1px\",\"-webkit-text-stroke-color\":\"#777777\",\"margin-right\":\"10px\",\"margin-top\":\"3px\"}}):_vm._e(),(_vm.hasStar)?_c('v-icon',{staticStyle:{\"float\":\"left\",\"color\":\"#333\",\"margin-right\":\"10px\"}},[_vm._v(\" mdi-star \")]):_vm._e(),(_vm.hasComment)?_c('v-icon',{staticStyle:{\"float\":\"left\",\"margin-right\":\"10px\"}},[_vm._v(\"mdi-comment\")]):_vm._e(),(_vm.hasLabel)?_c('v-icon',{staticClass:\"fas fa-tag\",staticStyle:{\"float\":\"left\",\"margin-right\":\"10px\"}},[_vm._v(\"mdi-label\")]):_vm._e(),_c('div',{staticClass:\"query-string\",class:[{ 'query-string-active': _vm.isSelected }],staticStyle:{\"float\":\"left\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.node.query_string)+\"\\n    \")]),_c('div',{staticClass:\"tag is-light\",staticStyle:{\"margin-left\":\"10px\",\"margin-right\":\"-5px\",\"float\":\"right\"}},[_vm._v(\"\\n      \"+_vm._s(_vm._f(\"compactNumber\")(_vm.count))+\"\\n    \")])],1),(_vm.node.children && _vm.node.children.length)?_c('ul',_vm._l((_vm.node.children),function(child){return _c('node',{key:child.id,attrs:{\"node\":child,\"handle-click\":_vm.handleClick,\"selected-node\":_vm.selectedNode}})}),1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <li>\n    <span\n      @click=\"handleClick(node)\"\n      :class=\"[{ active: isSelected }, { star: hasStar && !isSelected }, { dimmed: count === 0 && !isSelected }]\"\n      :id=\"node.id\"\n      style=\"min-width: 205px\"\n    >\n      <i\n        v-if=\"hasStar\"\n        class=\"fas fa-star\"\n        style=\"\n          float: left;\n          color: #ffd700;\n          -webkit-text-stroke-width: 1px;\n          -webkit-text-stroke-color: #777777;\n          margin-right: 10px;\n          margin-top: 3px;\n        \"\n      ></i>\n      <v-icon v-if=\"hasStar\" style=\"float: left; color: #333; margin-right: 10px\"> mdi-star </v-icon>\n      <v-icon v-if=\"hasComment\" style=\"float: left; margin-right: 10px\">mdi-comment</v-icon>\n      <v-icon v-if=\"hasLabel\" class=\"fas fa-tag\" style=\"float: left; margin-right: 10px\">mdi-label</v-icon>\n      <div class=\"query-string\" :class=\"[{ 'query-string-active': isSelected }]\" style=\"float: left\">\n        {{ node.query_string }}\n      </div>\n      <div class=\"tag is-light\" style=\"margin-left: 10px; margin-right: -5px; float: right\">\n        {{ count | compactNumber }}\n      </div>\n    </span>\n\n    <ul v-if=\"node.children && node.children.length\">\n      <node\n        v-for=\"child in node.children\"\n        :node=\"child\"\n        :key=\"child.id\"\n        :handle-click=\"handleClick\"\n        :selected-node=\"selectedNode\"\n      ></node>\n    </ul>\n  </li>\n</template>\n\n<script>\nexport default {\n  name: 'node',\n  props: {\n    node: Object,\n    handleClick: Function,\n    selectedNode: Object,\n  },\n  computed: {\n    hasStar() {\n      return this.node.labels.includes('__ts_star')\n    },\n    hasLabel() {\n      return this.node.labels.includes('__ts_label')\n    },\n    hasComment() {\n      return this.node.labels.includes('__ts_comment')\n    },\n    isSelected() {\n      return this.selectedNode.id === this.node.id\n    },\n    count() {\n      return this.node.query_result_count || 0\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.active {\n  background-color: rgb(66, 133, 244);\n  color: white;\n}\n.star {\n  background-color: #ffc107;\n  color: #333333;\n}\n.dimmed {\n  opacity: 0.5;\n}\n.query-string {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 150px;\n  word-wrap: break-word;\n  color: var(--font-color-dark);\n}\n.query-string-active {\n  color: var(--font-color-light);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryTreeNode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryTreeNode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchHistoryTreeNode.vue?vue&type=template&id=1623aa42&scoped=true&\"\nimport script from \"./SearchHistoryTreeNode.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchHistoryTreeNode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchHistoryTreeNode.vue?vue&type=style&index=0&id=1623aa42&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1623aa42\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <ul class=\"tree\" v-if=\"Object.keys(treeData).length > 0\">\n    <tree-node :node=\"treeData\" :handle-click=\"handleClick\" :selected-node=\"selectedNode\"></tree-node>\n  </ul>\n</template>\n\n<script>\nimport TreeNode from './SearchHistoryTreeNode'\nimport ApiClient from '../../utils/RestApiClient'\nimport EventBus from '../../main'\n\n// Based on https://stackoverflow.com/a/54470906\nfunction findSearchNode(object, key, predicate) {\n  if (object.hasOwnProperty(key) && predicate(key, object[key]) === true) return object\n  for (let i = 0; i < Object.keys(object).length; i++) {\n    let value = object[Object.keys(object)[i]]\n    if (typeof value === 'object' && value != null) {\n      let searchNode = findSearchNode(value, key, predicate)\n      if (searchNode != null) return searchNode\n    }\n  }\n  return null\n}\n\nexport default {\n  components: { TreeNode },\n  data() {\n    return {\n      treeData: {},\n      selectedNode: null,\n      initialNode: null,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n  methods: {\n    handleClick(node) {\n      this.$emit('node-click', node)\n      this.selectedNode = node\n    },\n    handleClickFromDropdown(nodeFromDropdown) {\n      let nodeId\n      if (typeof nodeFromDropdown === 'number') {\n        nodeId = nodeFromDropdown\n      } else {\n        nodeId = nodeFromDropdown.id\n      }\n      let node = findSearchNode(this.treeData, 'id', (k, v) => v === nodeId)\n      this.$emit('node-click', node)\n      this.selectedNode = node\n    },\n    createBranch(newNode) {\n      if (this.selectedNode) {\n        if (this.selectedNode.id === newNode.id) {\n          return\n        }\n        this.selectedNode.children.push(newNode)\n        this.selectedNode = newNode\n        return\n      } else {\n        this.fetchHistory()\n      }\n\n      let parent = findSearchNode(this.treeData, 'id', (k, v) => v === newNode.parent)\n      if (parent) {\n        if (parent.children.some((node) => node.id === newNode.id)) {\n          return\n        }\n        parent.children.push(newNode)\n        this.selectedNode = newNode\n        return\n      }\n\n      let node = findSearchNode(this.treeData, 'id', (k, v) => v === newNode.id)\n      if (node) {\n        this.selectedNode = node\n      }\n    },\n    annotateNode(annotation) {\n      if (!annotation.searchNode.labels.includes(annotation.type)) {\n        annotation.searchNode.labels.push(annotation.type)\n      }\n    },\n    scrollTo() {\n      this.$nextTick(function () {\n        document.getElementById(this.selectedNode.id.toString()).scrollIntoView({\n          behavior: 'smooth',\n          block: 'center',\n          inline: 'center',\n        })\n      })\n    },\n    fetchHistory() {\n      ApiClient.getSearchHistoryTree(this.sketch.id)\n        .then((response) => {\n          this.treeData = response.data.objects[0]\n          if (!this.selectedNode) {\n            let lastNodeId = response.data.meta['last_node_id']\n            this.selectedNode = findSearchNode(this.treeData, 'id', (k, v) => v === lastNodeId)\n          }\n        })\n        .catch((e) => {})\n    },\n  },\n  beforeDestroy() {\n    EventBus.$off('createBranch')\n    EventBus.$off('eventAnnotated')\n    EventBus.$off('triggerScrollTo')\n    EventBus.$off('selected-node-from-dropdown')\n  },\n  created: function () {\n    EventBus.$on('createBranch', this.createBranch)\n    EventBus.$on('eventAnnotated', this.annotateNode)\n    EventBus.$on('triggerScrollTo', this.scrollTo)\n    EventBus.$on('selected-node-from-dropdown', this.handleClickFromDropdown)\n    this.fetchHistory()\n  },\n  watch: {\n    selectedNode: function () {\n      this.$store.dispatch('updateSearchNode', this.selectedNode)\n      this.scrollTo()\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchHistoryTree.vue?vue&type=template&id=0fdd31b1&\"\nimport script from \"./SearchHistoryTree.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchHistoryTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"disabled\":!_vm.hasParent},on:{\"click\":_vm.searchHistoryBack}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-arrow-left\")])],1)]}}])},[_c('span',[_vm._v(\"Click to go back\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"disabled\":!_vm.hasChild},on:{\"click\":_vm.searchHistoryForward}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-arrow-right\")])],1)]}}])},[_c('span',[_vm._v(\"Click to go forward\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$emit('toggleSearchHistory')}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-history\")])],1)]}}])},[_c('span',[_vm._v(\"Click to see your search history\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <span>\n    <v-tooltip bottom>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn icon v-on:click=\"searchHistoryBack\" :disabled=\"!hasParent\" v-bind=\"attrs\" v-on=\"on\">\n          <v-icon>mdi-arrow-left</v-icon>\n        </v-btn>\n      </template>\n      <span>Click to go back</span>\n    </v-tooltip>\n\n    <v-tooltip bottom>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn icon v-on:click=\"searchHistoryForward\" :disabled=\"!hasChild\" v-bind=\"attrs\" v-on=\"on\">\n          <v-icon>mdi-arrow-right</v-icon>\n        </v-btn>\n      </template>\n      <span>Click to go forward</span>\n    </v-tooltip>\n\n    <v-tooltip bottom>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn icon v-on:click=\"$emit('toggleSearchHistory')\" v-bind=\"attrs\" v-on=\"on\">\n          <v-icon>mdi-history</v-icon>\n        </v-btn>\n      </template>\n      <span>Click to see your search history</span>\n    </v-tooltip>\n  </span>\n</template>\n\n<script>\nimport EventBus from '../../main'\n\nexport default {\n  computed: {\n    currentSearchNode() {\n      return this.$store.state.currentSearchNode\n    },\n    hasParent() {\n      if (this.currentSearchNode) {\n        return typeof this.currentSearchNode.parent === 'number'\n      } else {\n        return false\n      }\n    },\n    hasChild() {\n      if (this.currentSearchNode) {\n        return this.currentSearchNode.children.length\n      } else {\n        return false\n      }\n    },\n  },\n  methods: {\n    searchHistoryBack: function () {\n      EventBus.$emit('selected-node-from-dropdown', this.currentSearchNode.parent)\n    },\n    searchHistoryForward: function () {\n      if (!this.currentSearchNode.children.length) {\n        return\n      }\n      let lastSearchNode = this.currentSearchNode.children.slice(-1).pop()\n      EventBus.$emit('selected-node-from-dropdown', lastSearchNode)\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.button {\n  border: none;\n  background: transparent;\n}\n\n.button[disabled] {\n  background: transparent;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryButtons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryButtons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchHistoryButtons.vue?vue&type=template&id=6d090d22&scoped=true&\"\nimport script from \"./SearchHistoryButtons.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchHistoryButtons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchHistoryButtons.vue?vue&type=style&index=0&id=6d090d22&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d090d22\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticStyle:{\"overflow\":\"hidden\"},attrs:{\"outlined\":\"\",\"min-height\":\"550\"}},[_c('v-row',[(_vm.matches.savedSearches.length)?_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('h5',{staticClass:\"mt-3 ml-4\"},[_vm._v(\"Saved searches\")]),_c('v-list',{staticClass:\"overflow-y-auto\",class:_vm.scrollbarTheme,staticStyle:{\"height\":\"500px\"},attrs:{\"dense\":\"\"}},_vm._l((_vm.matches.savedSearches),function(savedSearch){return _c('v-list-item',{key:savedSearch.id,staticStyle:{\"font-size\":\"0.9em\"},on:{\"click\":function($event){return _vm.$emit('setActiveView', savedSearch)}}},[_c('v-list-item-content',[_vm._v(\"\\n            \"+_vm._s(savedSearch.name)+\"\\n          \")])],1)}),1)],1):_vm._e(),_c('v-divider',{attrs:{\"vertical\":\"\"}}),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('h5',{staticClass:\"mt-3 ml-4\"},[_vm._v(\"Data types\")]),_c('v-list',{staticClass:\"overflow-y-auto\",class:_vm.scrollbarTheme,staticStyle:{\"height\":\"500px\"},attrs:{\"dense\":\"\"}},_vm._l((_vm.matches.dataTypes),function(dataType){return _c('v-list-item',{key:dataType.data_type,staticStyle:{\"font-size\":\"0.9em\"},on:{\"click\":function($event){return _vm.searchForDataType(dataType.data_type)}}},[_c('v-list-item-content',[_c('span',[_vm._v(_vm._s(dataType.data_type)+\"\\n              \"),_c('span',{staticClass:\"font-weight-bold\",staticStyle:{\"font-size\":\"0.8em\"}},[_vm._v(\"(\"+_vm._s(_vm._f(\"compactNumber\")(dataType.count))+\")\")])])])],1)}),1)],1),_c('v-divider',{attrs:{\"vertical\":\"\"}}),(_vm.matches.labels.length || _vm.matches.tags.length)?_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('h5',{staticClass:\"mt-3 ml-5\"},[_vm._v(\"Tags\")]),_c('v-list',{staticClass:\"overflow-y-auto\",class:_vm.scrollbarTheme,staticStyle:{\"height\":\"500px\"},attrs:{\"dense\":\"\"}},[_vm._l((_vm.matches.labels),function(label){return _c('v-list-item',{key:label.label,staticStyle:{\"font-size\":\"0.9em\"},on:{\"click\":function($event){return _vm.searchForLabel(label.label)}}},[(label.label === '__ts_star')?_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\",\"color\":\"amber\"}},[_vm._v(\"mdi-star\")]):_vm._e(),(label.label === '__ts_comment')?_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-comment-multiple-outline\")]):_vm._e(),_c('v-list-item-content',[_c('span',[_vm._v(_vm._s(_vm._f(\"formatLabelText\")(label.label))+\"\\n              \"),_c('span',{staticClass:\"font-weight-bold\",staticStyle:{\"font-size\":\"0.8em\"}},[_vm._v(\"(\"+_vm._s(_vm._f(\"compactNumber\")(label.count))+\")\")])])])],1)}),_vm._l((_vm.matches.tags),function(tag){return _c('v-list-item',{key:tag.tag,staticStyle:{\"font-size\":\"0.9em\"},on:{\"click\":function($event){return _vm.searchForTag(tag.tag)}}},[_c('v-list-item-content',[_c('span',[_vm._v(_vm._s(tag.tag)+\"\\n              \"),_c('span',{staticClass:\"font-weight-bold\",staticStyle:{\"font-size\":\"0.8em\"}},[_vm._v(\"(\"+_vm._s(_vm._f(\"compactNumber\")(tag.count))+\")\")])])])],1)})],2)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-card outlined min-height=\"550\" style=\"overflow: hidden\">\n    <v-row>\n      <v-col v-if=\"matches.savedSearches.length\" cols=\"4\">\n        <h5 class=\"mt-3 ml-4\">Saved searches</h5>\n        <v-list dense style=\"height: 500px\" class=\"overflow-y-auto\" :class=\"scrollbarTheme\">\n          <v-list-item\n            v-for=\"savedSearch in matches.savedSearches\"\n            :key=\"savedSearch.id\"\n            v-on:click=\"$emit('setActiveView', savedSearch)\"\n            style=\"font-size: 0.9em\"\n          >\n            <v-list-item-content>\n              {{ savedSearch.name }}\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-col>\n      <v-divider vertical></v-divider>\n\n      <v-col cols=\"4\">\n        <h5 class=\"mt-3 ml-4\">Data types</h5>\n        <v-list dense style=\"height: 500px\" class=\"overflow-y-auto\" :class=\"scrollbarTheme\">\n          <v-list-item\n            v-for=\"dataType in matches.dataTypes\"\n            :key=\"dataType.data_type\"\n            v-on:click=\"searchForDataType(dataType.data_type)\"\n            style=\"font-size: 0.9em\"\n          >\n            <v-list-item-content>\n              <span\n                >{{ dataType.data_type }}\n                <span class=\"font-weight-bold\" style=\"font-size: 0.8em\"\n                  >({{ dataType.count | compactNumber }})</span\n                ></span\n              >\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-col>\n      <v-divider vertical></v-divider>\n\n      <v-col v-if=\"matches.labels.length || matches.tags.length\" cols=\"4\">\n        <h5 class=\"mt-3 ml-5\">Tags</h5>\n        <v-list dense style=\"height: 500px\" class=\"overflow-y-auto\" :class=\"scrollbarTheme\">\n          <v-list-item\n            v-for=\"label in matches.labels\"\n            :key=\"label.label\"\n            v-on:click=\"searchForLabel(label.label)\"\n            style=\"font-size: 0.9em\"\n          >\n            <v-icon v-if=\"label.label === '__ts_star'\" left small color=\"amber\">mdi-star</v-icon>\n            <v-icon v-if=\"label.label === '__ts_comment'\" left small>mdi-comment-multiple-outline</v-icon>\n\n            <v-list-item-content>\n              <span\n                >{{ label.label | formatLabelText }}\n                <span class=\"font-weight-bold\" style=\"font-size: 0.8em\">({{ label.count | compactNumber }})</span></span\n              >\n            </v-list-item-content>\n          </v-list-item>\n          <v-list-item\n            v-for=\"tag in matches.tags\"\n            :key=\"tag.tag\"\n            v-on:click=\"searchForTag(tag.tag)\"\n            style=\"font-size: 0.9em\"\n          >\n            <v-list-item-content>\n              <span\n                >{{ tag.tag }}\n                <span class=\"font-weight-bold\" style=\"font-size: 0.8em\">({{ tag.count | compactNumber }})</span></span\n              >\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-col>\n    </v-row>\n  </v-card>\n</template>\n\n<script>\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: '_all',\n    order: 'asc',\n    chips: [],\n  }\n}\n\nexport default {\n  props: ['selectedLabels', 'queryString'],\n  computed: {\n    meta() {\n      return this.$store.state.meta\n    },\n    searchHistory() {\n      return this.$store.state.searchHistory\n    },\n    tags() {\n      return this.$store.state.tags\n    },\n    dataTypes() {\n      return this.$store.state.dataTypes\n    },\n    all() {\n      return {\n        fields: this.meta.mappings,\n        tags: this.tags,\n        labels: this.meta.filter_labels,\n        dataTypes: this.dataTypes,\n        savedSearches: this.meta.views,\n      }\n    },\n    scrollbarTheme() {\n      return this.$vuetify.theme.dark ? 'dark' : 'light'\n    },\n    matches() {\n      let matches = {}\n\n      if (!this.queryString) {\n        return this.all\n      }\n\n      matches['fields'] = this.meta.mappings.filter((field) =>\n        field.field.toLowerCase().includes(this.queryString.toLowerCase())\n      )\n      matches['tags'] = this.tags.filter((tag) => tag.tag.toLowerCase().includes(this.queryString.toLowerCase()))\n      matches['labels'] = this.meta.filter_labels.filter((label) =>\n        label.label.toLowerCase().includes(this.queryString.toLowerCase())\n      )\n      matches['dataTypes'] = this.dataTypes.filter((dataType) =>\n        dataType.data_type.toLowerCase().includes(this.queryString.toLowerCase())\n      )\n      matches['savedSearches'] = this.meta.views.filter((savedSearch) =>\n        savedSearch.name.toLowerCase().includes(this.queryString.toLowerCase())\n      )\n\n      if (!Object.values(matches).filter((arr) => arr.length).length) {\n        return this.all\n      }\n\n      return matches\n    },\n  },\n  methods: {\n    searchForLabel(label) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = '*'\n      eventData.queryFilter = defaultQueryFilter()\n      let chip = {\n        field: '',\n        value: label,\n        type: 'label',\n        operator: 'must',\n        active: true,\n      }\n      eventData.queryFilter.chips.push(chip)\n      this.$emit('setQueryAndFilter', eventData)\n    },\n    searchForTag(tag) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = 'tag:' + tag\n      eventData.queryFilter = defaultQueryFilter()\n      this.$emit('setQueryAndFilter', eventData)\n    },\n    searchForDataType(dataType) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = 'data_type:' + '\"' + dataType + '\"'\n      eventData.queryFilter = defaultQueryFilter()\n      this.$emit('setQueryAndFilter', eventData)\n    },\n    searchForField(field) {\n      let eventData = {}\n      let separator = ''\n      if (this.queryString !== '') {\n        separator = this.queryString + ' '\n      }\n      if (!this.queryString.includes(' ')) {\n        separator = ''\n      }\n      eventData.doSearch = false\n      eventData.queryString = separator + field + ':'\n      eventData.queryFilter = defaultQueryFilter()\n      this.$emit('setQueryAndFilter', eventData)\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\">\n.light::-webkit-scrollbar {\n  width: 10px;\n}\n\n.light::-webkit-scrollbar-track {\n  //background: #e6e6e6;\n  //border-left: 1px solid #dadada;\n}\n\n.light::-webkit-scrollbar-thumb {\n  background: #b0b0b0;\n  //border: solid 3px #e6e6e6;\n  border-radius: 7px;\n}\n\n.light::-webkit-scrollbar-thumb:hover {\n  background: #333333;\n}\n\n.dark::-webkit-scrollbar {\n  width: 10px;\n}\n\n.dark::-webkit-scrollbar-track {\n  //background: #202020;\n  //border-left: 1px solid #2c2c2c;\n  //border-right: 1px solid #2c2c2c;\n}\n\n.dark::-webkit-scrollbar-thumb {\n  background: #3e3e3e;\n  //border: solid 3px #202020;\n  border-radius: 7px;\n}\n\n.dark::-webkit-scrollbar-thumb:hover {\n  background: #4e4e4e;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchDropdown.vue?vue&type=template&id=92ef386a&scoped=true&\"\nimport script from \"./SearchDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchDropdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchDropdown.vue?vue&type=style&index=0&id=92ef386a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92ef386a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_vm._l((_vm.allTimelines),function(timeline){return _c('ts-timeline-chip',{key:timeline.id + timeline.name,attrs:{\"timeline\":timeline,\"is-selected\":_vm.isSelected(timeline),\"is-empty-state\":_vm.isEmptyState,\"events-count\":_vm.getCount(timeline)},on:{\"remove\":_vm.remove,\"save\":_vm.save,\"toggle\":_vm.toggleTimeline}})}),(_vm.sketch.timelines.length > 20)?_c('v-btn',{staticClass:\"mt-n3 mr-5\",attrs:{\"small\":\"\",\"outlined\":\"\",\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.showAll = !_vm.showAll}}},[(_vm.showAll)?_c('span',[_vm._v(\" show less \")]):_c('span',[_vm._v(\" \"+_vm._s(_vm.sketch.timelines.length - 20)+\" more.. \")])]):_vm._e(),(_vm.sketch.timelines.length > 5)?_c('span',{staticStyle:{\"position\":\"relative\",\"top\":\"-5px\"}},[_c('v-btn-toggle',{attrs:{\"dense\":\"\",\"rounded\":\"\"}},[(_vm.sketch.timelines.length > 5)?_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.enableAllTimelines()}}},[_vm._v(\"\\n        Select all\\n      \")]):_vm._e(),(_vm.sketch.timelines.length > 5)?_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.disableAllTimelines()}}},[_vm._v(\"\\n        Unselect all\\n      \")]):_vm._e()],1)],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(_vm.timelineStatus === 'processing')?_c('v-dialog',{attrs:{\"width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-chip',_vm._g({staticClass:\"mr-2 mb-3\",style:(_vm.getTimelineStyle(_vm.timeline))},on),[_c('span',{staticClass:\"timeline-name-ellipsis\"},[_vm._v(_vm._s(_vm.timeline.name))]),_c('span',{staticClass:\"ml-1\"},[_c('v-progress-circular',{attrs:{\"small\":\"\",\"indeterminate\":\"\",\"color\":\"grey\",\"size\":20,\"width\":1}})],1)])]}}],null,false,1840978003),model:{value:(_vm.dialogStatus),callback:function ($$v) {_vm.dialogStatus=$$v},expression:\"dialogStatus\"}},[_c('v-card',[_c('v-app-bar',{attrs:{\"flat\":\"\",\"dense\":\"\"}},[_vm._v(\"Importing events to timeline \\\"\"+_vm._s(_vm.timeline.name)+\"\\\"\")]),_c('div',{staticClass:\"pa-5\"},[_c('ul',[_c('li',[_c('strong',[_vm._v(\"Opensearch index: \")]),_vm._v(_vm._s(_vm.timeline.searchindex.index_name))]),(_vm.timelineStatus === 'processing' || _vm.timelineStatus === 'ready')?_c('li',[_c('strong',[_vm._v(\"Number of events: \")]),_vm._v(\"\\n            \"+_vm._s(_vm._f(\"compactNumber\")(_vm.allIndexedEvents))+\"\\n          \")]):_vm._e(),_c('li',[_c('strong',[_vm._v(\"Created by: \")]),_vm._v(_vm._s(_vm.timeline.user.username))]),_c('li',[_c('strong',[_vm._v(\"Created at: \")]),_vm._v(_vm._s(_vm._f(\"shortDateTime\")(_vm.timeline.created_at))+\"\\n            \"),_c('small',[_vm._v(\"(\"+_vm._s(_vm._f(\"timeSince\")(_vm.timeline.created_at))+\")\")])])]),_c('br'),_c('div',{staticClass:\"mb-3\"},[_vm._v(_vm._s(_vm.datasourcesProcessing.length)+\" datasource(s) in progress..\")]),_vm._l((_vm.datasourcesProcessing),function(datasource){return _c('v-alert',{key:datasource.id,attrs:{\"colored-border\":\"\",\"border\":\"left\",\"elevation\":\"1\",\"color\":_vm.datasourceStatusColors(datasource)}},[_c('ul',[_c('li',[_c('strong',[_vm._v(\"Original filename:\")]),_vm._v(\" \"+_vm._s(datasource.original_filename))]),_c('li',[_c('strong',[_vm._v(\"File on disk:\")]),_vm._v(\" \"+_vm._s(datasource.file_on_disk))]),_c('li',[_c('strong',[_vm._v(\"File size:\")]),_vm._v(\" \"+_vm._s(_vm._f(\"compactBytes\")(datasource.file_size)))]),_c('li',[_c('strong',[_vm._v(\"Provider:\")]),_vm._v(\" \"+_vm._s(datasource.provider))]),(datasource.data_label)?_c('li',[_c('strong',[_vm._v(\"Data label:\")]),_vm._v(\" \"+_vm._s(datasource.data_label))]):_vm._e(),_c('li',[_c('strong',[_vm._v(\"Status:\")]),_vm._v(\" \"+_vm._s(_vm.dataSourceStatus(datasource)))]),_c('li',[_c('strong',[_vm._v(\"Total File Events:\")]),_vm._v(_vm._s(_vm._f(\"compactNumber\")(_vm.totalEventsDatasource(datasource.file_on_disk)))+\"\\n            \")]),(_vm.dataSourceStatus(datasource) === 'fail')?_c('li',[_c('strong',[_vm._v(\"Error message:\")]),(datasource.error_message)?_c('code',[_vm._v(\" \"+_vm._s(datasource.error_message))]):_vm._e()]):_vm._e()]),_c('br')])}),(_vm.percentComplete > 0.1)?_c('v-card',{attrs:{\"outlined\":\"\"}},[_c('v-card-title',[_vm._v(_vm._s(_vm.eventsPerSecond.slice(-1)[0])+\" events/s\")]),_c('v-sparkline',{attrs:{\"value\":_vm.eventsPerSecond,\"gradient\":_vm.sparkline.gradient,\"smooth\":_vm.sparkline.radius || false,\"padding\":_vm.sparkline.padding,\"line-width\":_vm.sparkline.width,\"stroke-linecap\":_vm.sparkline.lineCap,\"gradient-direction\":_vm.sparkline.gradientDirection,\"fill\":_vm.sparkline.fill,\"type\":_vm.sparkline.type,\"auto-line-width\":_vm.sparkline.autoLineWidth,\"auto-draw\":\"\"}}),_c('v-sheet',{staticClass:\"py-4 px-3\"},[_c('v-progress-linear',{attrs:{\"color\":\"light-blue\",\"height\":\"25\",\"value\":_vm.percentComplete,\"rounded\":\"\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.percentComplete)+\"% (complete \"+_vm._s(_vm.processingETA())+\")\\n            \")])],1)],1):_c('v-card',{staticClass:\"pa-3\",attrs:{\"outlined\":\"\"}},[_vm._v(\" Waiting for processing to begin.. \")])],2),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogStatus = false}}},[_vm._v(\" Close \")])],1)],1)],1):_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"content-class\":\"menu-with-gap\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({staticClass:\"mr-2 mb-3\",style:(_vm.getTimelineStyle(_vm.timeline))},on),[(_vm.timelineStatus === 'fail')?_c('v-icon',{attrs:{\"left\":\"\",\"color\":\"red\"}},[_vm._v(\" mdi-alert-circle-outline \")]):_vm._e(),_c('span',{staticClass:\"timeline-name-ellipsis\"},[_vm._v(_vm._s(_vm.timeline.name))]),(_vm.timelineStatus === 'processing')?_c('span',{staticClass:\"ml-3\"},[_c('v-progress-circular',{attrs:{\"small\":\"\",\"indeterminate\":\"\",\"color\":\"grey\",\"size\":20,\"width\":2}})],1):_vm._e(),(_vm.timelineStatus === 'ready')?_c('v-avatar',{staticStyle:{\"background-color\":\"rgba(0, 0, 0, 0.1)\",\"font-size\":\"0.55em\"},attrs:{\"right\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(_vm._f(\"compactNumber\")(_vm.eventsCount))+\"\\n        \")]):_vm._e()],1)]}}])},[_c('v-sheet',{attrs:{\"flat\":\"\",\"width\":\"320\"}},[_c('v-list',[_c('v-dialog',{attrs:{\"width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-list-item',_vm._g(_vm._b({},'v-list-item',attrs,false),on),[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-square-edit-outline\")])],1),_c('v-list-item-subtitle',[_vm._v(\"Rename timeline\")])],1)]}}]),model:{value:(_vm.dialogRename),callback:function ($$v) {_vm.dialogRename=$$v},expression:\"dialogRename\"}},[_c('v-card',{staticClass:\"pa-4\"},[_c('h3',[_vm._v(\"Rename timeline\")]),_c('br'),_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"autofocus\":\"\"},on:{\"focus\":function($event){return $event.target.select()}},model:{value:(_vm.newTimelineName),callback:function ($$v) {_vm.newTimelineName=$$v},expression:\"newTimelineName\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogRename = false}}},[_vm._v(\" Close \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\"},on:{\"click\":_vm.rename}},[_vm._v(\" Save \")])],1)],1)],1),(_vm.timelineStatus === 'ready')?_c('v-list-item',{on:{\"click\":function($event){return _vm.$emit('toggle', _vm.timeline)}}},[_c('v-list-item-action',[(_vm.isSelected)?_c('v-icon',[_vm._v(\"mdi-eye-off\")]):_c('v-icon',[_vm._v(\"mdi-eye\")])],1),(_vm.isSelected)?_c('v-list-item-subtitle',[_vm._v(\"Temporarily disabled\")]):_c('v-list-item-subtitle',[_vm._v(\"Re-enable\")])],1):_vm._e(),_c('v-dialog',{attrs:{\"width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-list-item',_vm._g(_vm._b({},'v-list-item',attrs,false),on),[_c('v-list-item-action',[_c('v-icon',[_vm._v(_vm._s(_vm.iconStatus))])],1),_c('v-list-item-subtitle',[_vm._v(\"Data sources (\"+_vm._s(_vm.datasources.length)+\")\")])],1)]}}]),model:{value:(_vm.dialogStatus),callback:function ($$v) {_vm.dialogStatus=$$v},expression:\"dialogStatus\"}},[_c('v-card',[_c('v-app-bar',{attrs:{\"flat\":\"\",\"dense\":\"\"}},[_vm._v(_vm._s(_vm.timeline.name))]),_c('div',{staticClass:\"pa-3\"},[_c('ul',{staticStyle:{\"list-style-type\":\"none\"}},[_c('li',[_c('strong',[_vm._v(\"Opensearch index: \")]),_vm._v(_vm._s(_vm.timeline.searchindex.index_name))]),(_vm.timelineStatus === 'processing' || _vm.timelineStatus === 'ready')?_c('li',[_c('strong',[_vm._v(\"Number of events: \")]),_vm._v(\"\\n                  \"+_vm._s(_vm._f(\"compactNumber\")(_vm.allIndexedEvents))+\"\\n                \")]):_vm._e(),_c('li',[_c('strong',[_vm._v(\"Created by: \")]),_vm._v(_vm._s(_vm.timeline.user.username))]),_c('li',[_c('strong',[_vm._v(\"Created at: \")]),_vm._v(_vm._s(_vm._f(\"shortDateTime\")(_vm.timeline.created_at))+\"\\n                  \"),_c('small',[_vm._v(\"(\"+_vm._s(_vm._f(\"timeSince\")(_vm.timeline.created_at))+\")\")])])]),_c('br'),_vm._v(\"\\n              \"+_vm._s(_vm.datasources.length)+\" data source(s) in this timeline \"),_c('br'),_c('br'),_vm._l((_vm.datasources),function(datasource){return _c('v-alert',{key:datasource.id,attrs:{\"colored-border\":\"\",\"border\":\"left\",\"elevation\":\"1\",\"color\":_vm.datasourceStatusColors(datasource)}},[_c('ul',{staticStyle:{\"list-style-type\":\"none\"}},[_c('li',[_c('strong',[_vm._v(\"Original filename:\")]),_vm._v(\" \"+_vm._s(datasource.original_filename))]),_c('li',[_c('strong',[_vm._v(\"File on disk:\")]),_vm._v(\" \"+_vm._s(datasource.file_on_disk))]),_c('li',[_c('strong',[_vm._v(\"File size:\")]),_vm._v(\" \"+_vm._s(_vm._f(\"compactBytes\")(datasource.file_size)))]),_c('li',[_c('strong',[_vm._v(\"Provider:\")]),_vm._v(\" \"+_vm._s(datasource.provider))]),(datasource.data_label)?_c('li',[_c('strong',[_vm._v(\"Data label:\")]),_vm._v(\" \"+_vm._s(datasource.data_label))]):_vm._e(),_c('li',[_c('strong',[_vm._v(\"Status:\")]),_vm._v(\" \"+_vm._s(_vm.dataSourceStatus(datasource)))]),_c('li',[_c('strong',[_vm._v(\"Total File Events:\")]),_vm._v(_vm._s(_vm._f(\"compactNumber\")(_vm.totalEventsDatasource(datasource.file_on_disk)))+\"\\n                  \")]),(_vm.dataSourceStatus(datasource) === 'fail')?_c('li',[_c('strong',[_vm._v(\"Error message:\")]),(datasource.error_message)?_c('code',[_vm._v(\" \"+_vm._s(datasource.error_message))]):_vm._e()]):_vm._e()]),_c('br')])})],2),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogStatus = false}}},[_vm._v(\" Close \")])],1)],1)],1)],1),_c('div',{staticClass:\"px-4\"},[_c('v-color-picker',{attrs:{\"value\":_vm.timeline.color,\"show-swatches\":!_vm.showCustomColorPicker,\"swatches\":_vm.colorPickerSwatches,\"hide-canvas\":!_vm.showCustomColorPicker,\"hide-sliders\":!_vm.showCustomColorPicker,\"hide-inputs\":\"\",\"mode\":\"hexa\",\"dot-size\":\"15\"},on:{\"update:color\":_vm.updateColor}}),_c('v-btn',{staticClass:\"mt-2\",attrs:{\"text\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){_vm.showCustomColorPicker = !_vm.showCustomColorPicker}}},[(_vm.showCustomColorPicker)?_c('span',[_vm._v(\"Palette\")]):_c('span',[_vm._v(\"Custom color\")])])],1),_c('br')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <span>\n    <v-dialog v-if=\"timelineStatus === 'processing'\" v-model=\"dialogStatus\" width=\"600\">\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-chip v-on=\"on\" :style=\"getTimelineStyle(timeline)\" class=\"mr-2 mb-3\">\n          <span class=\"timeline-name-ellipsis\">{{ timeline.name }}</span>\n          <span class=\"ml-1\">\n            <v-progress-circular small indeterminate color=\"grey\" :size=\"20\" :width=\"1\"></v-progress-circular>\n          </span>\n        </v-chip>\n      </template>\n      <v-card>\n        <v-app-bar flat dense>Importing events to timeline \"{{ timeline.name }}\"</v-app-bar>\n        <div class=\"pa-5\">\n          <ul>\n            <li><strong>Opensearch index: </strong>{{ timeline.searchindex.index_name }}</li>\n            <li v-if=\"timelineStatus === 'processing' || timelineStatus === 'ready'\">\n              <strong>Number of events: </strong>\n              {{ allIndexedEvents | compactNumber }}\n            </li>\n            <li><strong>Created by: </strong>{{ timeline.user.username }}</li>\n            <li>\n              <strong>Created at: </strong>{{ timeline.created_at | shortDateTime }}\n              <small>({{ timeline.created_at | timeSince }})</small>\n            </li>\n          </ul>\n          <br />\n\n          <div class=\"mb-3\">{{ datasourcesProcessing.length }} datasource(s) in progress..</div>\n          <v-alert\n            v-for=\"datasource in datasourcesProcessing\"\n            :key=\"datasource.id\"\n            colored-border\n            border=\"left\"\n            elevation=\"1\"\n            :color=\"datasourceStatusColors(datasource)\"\n          >\n            <ul>\n              <li><strong>Original filename:</strong> {{ datasource.original_filename }}</li>\n              <li><strong>File on disk:</strong> {{ datasource.file_on_disk }}</li>\n              <li><strong>File size:</strong> {{ datasource.file_size | compactBytes }}</li>\n              <li><strong>Provider:</strong> {{ datasource.provider }}</li>\n              <li v-if=\"datasource.data_label\"><strong>Data label:</strong> {{ datasource.data_label }}</li>\n              <li><strong>Status:</strong> {{ dataSourceStatus(datasource) }}</li>\n              <li>\n                <strong>Total File Events:</strong>{{ totalEventsDatasource(datasource.file_on_disk) | compactNumber }}\n              </li>\n              <li v-if=\"dataSourceStatus(datasource) === 'fail'\">\n                <strong>Error message:</strong>\n                <code v-if=\"datasource.error_message\"> {{ datasource.error_message }}</code>\n              </li>\n            </ul>\n            <br />\n          </v-alert>\n\n          <v-card outlined v-if=\"percentComplete > 0.1\">\n            <v-card-title>{{ eventsPerSecond.slice(-1)[0] }} events/s</v-card-title>\n            <v-sparkline\n              :value=\"eventsPerSecond\"\n              :gradient=\"sparkline.gradient\"\n              :smooth=\"sparkline.radius || false\"\n              :padding=\"sparkline.padding\"\n              :line-width=\"sparkline.width\"\n              :stroke-linecap=\"sparkline.lineCap\"\n              :gradient-direction=\"sparkline.gradientDirection\"\n              :fill=\"sparkline.fill\"\n              :type=\"sparkline.type\"\n              :auto-line-width=\"sparkline.autoLineWidth\"\n              auto-draw\n            >\n            </v-sparkline>\n            <v-sheet class=\"py-4 px-3\">\n              <v-progress-linear color=\"light-blue\" height=\"25\" :value=\"percentComplete\" rounded>\n                {{ percentComplete }}% (complete {{ processingETA() }})\n              </v-progress-linear>\n            </v-sheet>\n          </v-card>\n          <v-card v-else outlined class=\"pa-3\"> Waiting for processing to begin.. </v-card>\n        </div>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" text @click=\"dialogStatus = false\"> Close </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-menu v-else offset-y :close-on-content-click=\"false\" content-class=\"menu-with-gap\">\n      <template v-slot:activator=\"{ on }\">\n        <v-chip v-on=\"on\" :style=\"getTimelineStyle(timeline)\" class=\"mr-2 mb-3\">\n          <v-icon v-if=\"timelineStatus === 'fail'\" left color=\"red\"> mdi-alert-circle-outline </v-icon>\n          <span class=\"timeline-name-ellipsis\">{{ timeline.name }}</span>\n\n          <span v-if=\"timelineStatus === 'processing'\" class=\"ml-3\">\n            <v-progress-circular small indeterminate color=\"grey\" :size=\"20\" :width=\"2\"></v-progress-circular>\n          </span>\n          <v-avatar\n            v-if=\"timelineStatus === 'ready'\"\n            right\n            style=\"background-color: rgba(0, 0, 0, 0.1); font-size: 0.55em\"\n          >\n            {{ eventsCount | compactNumber }}\n          </v-avatar>\n        </v-chip>\n      </template>\n      <v-sheet flat width=\"320\">\n        <v-list>\n          <v-dialog v-model=\"dialogRename\" width=\"600\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-list-item v-bind=\"attrs\" v-on=\"on\">\n                <v-list-item-action>\n                  <v-icon>mdi-square-edit-outline</v-icon>\n                </v-list-item-action>\n                <v-list-item-subtitle>Rename timeline</v-list-item-subtitle>\n              </v-list-item>\n            </template>\n            <v-card class=\"pa-4\">\n              <h3>Rename timeline</h3>\n              <br />\n              <v-text-field outlined dense autofocus v-model=\"newTimelineName\" @focus=\"$event.target.select()\">\n              </v-text-field>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"primary\" text @click=\"dialogRename = false\"> Close </v-btn>\n                <v-btn color=\"primary\" depressed @click=\"rename\"> Save </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n          <v-list-item @click=\"$emit('toggle', timeline)\" v-if=\"timelineStatus === 'ready'\">\n            <v-list-item-action>\n              <v-icon v-if=\"isSelected\">mdi-eye-off</v-icon>\n              <v-icon v-else>mdi-eye</v-icon>\n            </v-list-item-action>\n            <v-list-item-subtitle v-if=\"isSelected\">Temporarily disabled</v-list-item-subtitle>\n            <v-list-item-subtitle v-else>Re-enable</v-list-item-subtitle>\n          </v-list-item>\n\n          <v-dialog v-model=\"dialogStatus\" width=\"600\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-list-item v-bind=\"attrs\" v-on=\"on\">\n                <v-list-item-action>\n                  <v-icon>{{ iconStatus }}</v-icon>\n                </v-list-item-action>\n                <v-list-item-subtitle>Data sources ({{ datasources.length }})</v-list-item-subtitle>\n              </v-list-item>\n            </template>\n            <v-card>\n              <v-app-bar flat dense>{{ timeline.name }}</v-app-bar>\n              <div class=\"pa-3\">\n                <ul style=\"list-style-type: none\">\n                  <li><strong>Opensearch index: </strong>{{ timeline.searchindex.index_name }}</li>\n                  <li v-if=\"timelineStatus === 'processing' || timelineStatus === 'ready'\">\n                    <strong>Number of events: </strong>\n                    {{ allIndexedEvents | compactNumber }}\n                  </li>\n                  <li><strong>Created by: </strong>{{ timeline.user.username }}</li>\n                  <li>\n                    <strong>Created at: </strong>{{ timeline.created_at | shortDateTime }}\n                    <small>({{ timeline.created_at | timeSince }})</small>\n                  </li>\n                </ul>\n\n                <br />\n                {{ datasources.length }} data source(s) in this timeline <br /><br />\n                <v-alert\n                  v-for=\"datasource in datasources\"\n                  :key=\"datasource.id\"\n                  colored-border\n                  border=\"left\"\n                  elevation=\"1\"\n                  :color=\"datasourceStatusColors(datasource)\"\n                >\n                  <ul style=\"list-style-type: none\">\n                    <li><strong>Original filename:</strong> {{ datasource.original_filename }}</li>\n                    <li><strong>File on disk:</strong> {{ datasource.file_on_disk }}</li>\n                    <li><strong>File size:</strong> {{ datasource.file_size | compactBytes }}</li>\n                    <li><strong>Provider:</strong> {{ datasource.provider }}</li>\n                    <li v-if=\"datasource.data_label\"><strong>Data label:</strong> {{ datasource.data_label }}</li>\n                    <li><strong>Status:</strong> {{ dataSourceStatus(datasource) }}</li>\n                    <li>\n                      <strong>Total File Events:</strong\n                      >{{ totalEventsDatasource(datasource.file_on_disk) | compactNumber }}\n                    </li>\n                    <li v-if=\"dataSourceStatus(datasource) === 'fail'\">\n                      <strong>Error message:</strong>\n                      <code v-if=\"datasource.error_message\"> {{ datasource.error_message }}</code>\n                    </li>\n                  </ul>\n                  <br />\n                </v-alert>\n              </div>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"primary\" text @click=\"dialogStatus = false\"> Close </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-list>\n        <div class=\"px-4\">\n          <v-color-picker\n            @update:color=\"updateColor\"\n            :value=\"timeline.color\"\n            :show-swatches=\"!showCustomColorPicker\"\n            :swatches=\"colorPickerSwatches\"\n            :hide-canvas=\"!showCustomColorPicker\"\n            :hide-sliders=\"!showCustomColorPicker\"\n            hide-inputs\n            mode=\"hexa\"\n            dot-size=\"15\"\n          ></v-color-picker>\n          <v-btn text x-small class=\"mt-2\" @click=\"showCustomColorPicker = !showCustomColorPicker\">\n            <span v-if=\"showCustomColorPicker\">Palette</span>\n            <span v-else>Custom color</span>\n          </v-btn>\n        </div>\n        <br />\n      </v-sheet>\n    </v-menu>\n  </span>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport _ from 'lodash'\nimport dayjs from '@/plugins/dayjs'\nimport ApiClient from '../../utils/RestApiClient'\n\nconst gradients = [\n  ['#222'],\n  ['#42b3f4'],\n  ['red', 'orange', 'yellow'],\n  ['purple', 'violet'],\n  ['#00c6ff', '#F0F', '#FF0'],\n  ['#f72047', '#ffd200', '#1feaea'],\n]\n\nexport default {\n  props: ['timeline', 'eventsCount', 'isSelected', 'isEmptyState'],\n  data() {\n    return {\n      autoRefresh: false,\n      allIndexedEvents: 0, // all indexed events from ready and processed datasources\n      totalEvents: null,\n      dialogStatus: false,\n      dialogRename: false,\n      datasources: [],\n      timelineStatus: null,\n      eventsPerSecond: [],\n      newTimelineName: [...this.timeline.name],\n      sparkline: {\n        width: 2,\n        radius: 10,\n        padding: 8,\n        lineCap: 'round',\n        gradient: gradients[5],\n        gradientDirection: 'bottom',\n        gradients,\n        fill: false,\n        type: 'trend',\n        autoDrawDuration: 4000,\n        autoLineWidth: false,\n      },\n      showCustomColorPicker: false,\n      colorPickerSwatches: [\n        ['#5E75C2', '#BB77C4', '#FD7EAC'],\n        ['#FF9987', '#FFC66A', '#F9F871'],\n        ['#FFB5BC', '#97D788', '#9BC1AF'],\n        ['#FFC7A0', '#FFDF79', '#FFEAEF'],\n        ['#DEBBFF', '#9AB0FB', '#CFFBE2'],\n      ],\n    }\n  },\n  computed: {\n    meta() {\n      return this.$store.state.meta\n    },\n    datasourceErrors() {\n      return this.timeline.datasources.filter((datasource) => datasource.error_message)\n    },\n    datasourcesProcessing() {\n      return this.datasources.filter(\n        (datasource) =>\n          this.dataSourceStatus(datasource) === 'processing' || this.dataSourceStatus(datasource) === 'queueing'\n      )\n    },\n    sketch() {\n      return this.$store.state.sketch\n    },\n    totalEventsToIndex() {\n      return this.datasources\n        .filter((x) => this.dataSourceStatus(x) === 'processing')\n        .map((x) => x.total_file_events)\n        .reduce((a, b) => a + b, 0)\n    },\n    secondsToComplete() {\n      return this.totalEventsToIndex / this.avarageEventsPerSecond()\n    },\n    percentComplete() {\n      return Math.floor((this.secondsSinceStart() / this.secondsToComplete) * 100) || 0\n    },\n    iconStatus() {\n      if (this.timelineStatus === 'ready') return 'mdi-information-outline'\n      if (this.timelineStatus === 'processing') return 'mdi-circle-slice-7'\n      return 'mdi-alert-circle-outline'\n    },\n  },\n  methods: {\n    rename() {\n      this.dialogRename = false\n      this.$emit('save', this.timeline, this.newTimelineName)\n    },\n    remove() {\n      if (confirm('Delete the timeline?')) {\n        this.$emit('remove', this.timeline)\n      }\n    },\n    secondsSinceStart() {\n      if (!this.datasourcesProcessing.length) {\n        return 0\n      }\n      let start = dayjs.utc(this.datasourcesProcessing[0].updated_at)\n      let end = dayjs.utc()\n      let diffSeconds = end.diff(start, 'second')\n      return diffSeconds\n    },\n    avarageEventsPerSecond() {\n      const sum = this.eventsPerSecond.reduce((a, b) => a + b, 0)\n      const avg = sum / this.eventsPerSecond.length || 0\n      return Math.floor(avg)\n    },\n    processingETA() {\n      let secondsLeft = this.secondsToComplete - this.secondsSinceStart()\n      let eta = dayjs().add(secondsLeft, 'second').fromNow()\n      return eta\n    },\n    // Set debounce to 300ms to limit requests to the server.\n    updateColor: _.debounce(function (color) {\n      Vue.set(this.timeline, 'color', color.hex.substring(1))\n      this.$emit('save', this.timeline)\n    }, 300),\n    getTimelineStyle(timeline) {\n      let backgroundColor = timeline.color\n      let textDecoration = 'none'\n      let opacity = '50%'\n      let p = 100\n      if (!backgroundColor.startsWith('#')) {\n        backgroundColor = '#' + backgroundColor\n      }\n      if (this.timelineStatus === 'ready') {\n        // Grey out the index if it is not selected.\n        if (!this.isSelected) {\n          backgroundColor = '#d2d2d2'\n          textDecoration = 'line-through'\n        } else {\n          opacity = '100%'\n        }\n      } else {\n        backgroundColor = '#f5f5f5'\n        opacity = '100%'\n      }\n      let bgColor = 'linear-gradient(90deg, ' + backgroundColor + ' ' + p + '%, #d2d2d2  0%) '\n      if (this.$vuetify.theme.dark) {\n        return {\n          background: bgColor,\n          filter: 'grayscale(25%)',\n          color: '#333',\n        }\n      }\n      return {\n        background: bgColor,\n        'text-decoration': textDecoration,\n        opacity: opacity,\n      }\n    },\n    fetchData() {\n      ApiClient.getSketchTimeline(this.sketch.id, this.timeline.id)\n        .then((response) => {\n          this.timelineStatus = response.data.objects[0].status[0].status\n          this.datasources = response.data.objects[0].datasources\n          // This is a naive approach and is misleading if there are multiple\n          // datasources importing at the same time, or multiple timelines importing to\n          // the same index.\n          //\n          // TODO: Add datasource ID to all events at import time like we do with\n          // timeline ID. This will give us the ability to calculate index progress per\n          // datasource, and also enable deletion of datasources from opensearch\n          // indices.\n          //\n          // Tracking in: https://github.com/google/timesketch/issues/2361\n          let tmpAllIndexedEvents = this.allIndexedEvents\n          this.allIndexedEvents = response.data.meta.lines_indexed\n          let deltaEvents = this.allIndexedEvents - tmpAllIndexedEvents\n\n          if (deltaEvents < 10000 && deltaEvents > 0) {\n            this.eventsPerSecond.push(Math.floor(deltaEvents / 5))\n          }\n\n          if (this.timelineStatus !== 'ready' && this.timelineStatus !== 'fail') {\n            this.autoRefresh = true\n          } else {\n            this.autoRefresh = false\n            this.$store.dispatch('updateSketch', this.sketch.id).then(() => {\n              if (this.timelineStatus === 'ready') this.$emit('toggle', response.data.objects[0])\n            })\n          }\n        })\n        .catch((e) => {\n          console.log(e)\n        })\n    },\n    dataSourceStatus(datasource) {\n      // Support legacy datasources that don't have a status set.\n      if (!datasource.status[0]) {\n        return 'ready'\n      }\n\n      return datasource.status[0].status\n    },\n\n    datasourceStatusColors(datasource) {\n      // Support legacy datasources that don't have a status set.\n      if (!datasource.status[0]) {\n        return 'ready'\n      }\n\n      if (datasource.status[0].status === 'ready' || datasource.status === []) {\n        return 'success'\n      } else if (datasource.status[0].status === 'processing') {\n        return 'info'\n      } else if (datasource.status[0].status === 'queueing') {\n        return 'warning'\n      }\n      // status = fail\n      return 'error'\n    },\n    totalEventsDatasource(fileOnDisk) {\n      return this.datasources.find((x) => x.file_on_disk === fileOnDisk).total_file_events\n    },\n  },\n  created() {\n    // TODO: Move to computed\n    this.timelineStatus = this.timeline.status[0].status\n    this.datasources = this.timeline.datasources\n\n    if (this.timelineStatus === 'processing') {\n      this.autoRefresh = true\n    } else {\n      this.autoRefresh = false\n      this.allIndexedEvents = this.meta.stats_per_timeline[this.timeline.id]['count']\n    }\n    this.newTimelineName = this.timeline.name\n  },\n  beforeDestroy() {\n    clearInterval(this.t)\n    this.t = false\n  },\n  watch: {\n    autoRefresh(val) {\n      if (val && !this.t) {\n        this.t = setInterval(\n          function () {\n            this.fetchData()\n          }.bind(this),\n          5000\n        )\n      } else {\n        clearInterval(this.t)\n        this.t = false\n      }\n    },\n    timeline() {\n      if (this.timeline.datasources.length > this.datasources.length) {\n        this.fetchData()\n      }\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineChip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineChip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimelineChip.vue?vue&type=template&id=a6275152&scoped=true&\"\nimport script from \"./TimelineChip.vue?vue&type=script&lang=js&\"\nexport * from \"./TimelineChip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6275152\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <span>\n    <ts-timeline-chip\n      v-for=\"timeline in allTimelines\"\n      :key=\"timeline.id + timeline.name\"\n      :timeline=\"timeline\"\n      :is-selected=\"isSelected(timeline)\"\n      :is-empty-state=\"isEmptyState\"\n      :events-count=\"getCount(timeline)\"\n      @remove=\"remove\"\n      @save=\"save\"\n      @toggle=\"toggleTimeline\"\n    ></ts-timeline-chip>\n    <v-btn\n      small\n      outlined\n      rounded\n      color=\"primary\"\n      v-if=\"sketch.timelines.length > 20\"\n      @click=\"showAll = !showAll\"\n      class=\"mt-n3 mr-5\"\n    >\n      <span v-if=\"showAll\"> show less </span>\n      <span v-else> {{ sketch.timelines.length - 20 }} more.. </span>\n    </v-btn>\n    <span v-if=\"sketch.timelines.length > 5\" style=\"position: relative; top: -5px\">\n      <v-btn-toggle dense rounded>\n        <v-btn small outlined rounded color=\"primary\" v-if=\"sketch.timelines.length > 5\" @click=\"enableAllTimelines()\">\n          Select all\n        </v-btn>\n        <v-btn small outlined rounded color=\"primary\" v-if=\"sketch.timelines.length > 5\" @click=\"disableAllTimelines()\">\n          Unselect all\n        </v-btn>\n      </v-btn-toggle>\n    </span>\n  </span>\n</template>\n\n<script>\nimport EventBus from '../../main'\nimport TsTimelineChip from './TimelineChip'\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  components: { TsTimelineChip },\n  props: ['currentQueryFilter', 'countPerIndex', 'countPerTimeline'],\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    allTimelines() {\n      // Sort alphabetically based on timeline name.\n      let timelines = [...this.sketch.timelines]\n      timelines = timelines.sort(function (a, b) {\n        return a.name.localeCompare(b.name)\n      })\n      if (!this.showAll) {\n        timelines = timelines.slice(0, 20)\n      }\n      return timelines\n    },\n    activeTimelines() {\n      // Sort alphabetically based on timeline name.\n      let timelines = [...this.sketch.active_timelines]\n      return timelines.sort(function (a, b) {\n        return a.name.localeCompare(b.name)\n      })\n    },\n    isEmptyState() {\n      return this.countPerTimeline === undefined\n    },\n  },\n  data() {\n    return {\n      isDarkTheme: false,\n      isLoading: false,\n      selectedTimelines: [],\n      showAll: false,\n    }\n  },\n  methods: {\n    isSelected(timeline) {\n      return this.selectedTimelines.map((x) => x.id).includes(timeline.id)\n    },\n    getCount(timeline) {\n      let count = 0\n      if (this.countPerTimeline) {\n        count = this.countPerTimeline[timeline.id]\n        if (typeof count === 'number') {\n          return count\n        }\n      }\n      // Support for old style indices\n      if (!count && this.countPerIndex) {\n        count = this.countPerIndex[timeline.searchindex.index_name]\n      }\n      return count\n    },\n    remove(timeline) {\n      this.isLoading = true\n      ApiClient.deleteSketchTimeline(this.sketch.id, timeline.id)\n        .then(() => {\n          this.$store.dispatch('updateSketch', this.sketch.id).then(() => {\n            this.syncSelectedTimelines()\n            this.isLoading = false\n          })\n        })\n        .catch((e) => {\n          console.error(e)\n          this.isLoading = false\n        })\n    },\n    save(timeline, newTimelineName = false) {\n      // Only show the progress bar if renaming the timeline\n      if (newTimelineName) {\n        this.isLoading = true\n      }\n      ApiClient.saveSketchTimeline(\n        this.sketch.id,\n        timeline.id,\n        newTimelineName || timeline.name,\n        timeline.description,\n        timeline.color\n      )\n        .then(() => {\n          this.$store.dispatch('updateSketch', this.sketch.id).then(() => {\n            this.syncSelectedTimelines()\n            this.isLoading = false\n          })\n        })\n        .catch((e) => {\n          console.error(e)\n          this.isLoading = false\n        })\n    },\n    enableAllTimelines() {\n      this.selectedTimelines = this.activeTimelines\n      this.$emit('updateSelectedTimelines', this.selectedTimelines)\n    },\n    disableAllTimelines() {\n      this.selectedTimelines = []\n      this.$emit('updateSelectedTimelines', this.selectedTimelines)\n    },\n    toggleTimeline(timeline) {\n      let newArray = this.selectedTimelines.slice()\n      let timelineIdx = newArray.map((x) => x.id).indexOf(timeline.id)\n      if (timelineIdx === -1) {\n        newArray.push(timeline)\n      } else {\n        newArray.splice(timelineIdx, 1)\n      }\n      this.selectedTimelines = newArray\n      this.$emit('updateSelectedTimelines', this.selectedTimelines)\n    },\n    toggleTheme() {\n      this.isDarkTheme = !this.isDarkTheme\n    },\n    syncSelectedTimelines() {\n      if (this.currentQueryFilter.indices.includes('_all')) {\n        this.selectedTimelines = this.activeTimelines\n        return\n      }\n      let newArray = []\n      this.currentQueryFilter.indices.forEach((index) => {\n        if (typeof index === 'string') {\n          let timeline = this.activeTimelines.find((t) => {\n            return t.searchindex.index_name === index\n          })\n          newArray.push(timeline)\n        } else if (typeof index === 'number') {\n          let timeline = this.activeTimelines.find((t) => {\n            return t.id === index\n          })\n          newArray.push(timeline)\n        }\n      })\n      this.selectedTimelines = newArray\n    },\n  },\n  created() {\n    EventBus.$on('isDarkTheme', this.toggleTheme)\n    this.enableAllTimelines()\n\n    if (this.currentQueryFilter.indices.includes('_all')) {\n      this.selectedTimelines = this.activeTimelines\n    } else {\n      this.syncSelectedTimelines()\n    }\n  },\n  watch: {\n    'currentQueryFilter.indices'(val) {\n      this.syncSelectedTimelines()\n    },\n    deep: true,\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelinePicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelinePicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimelinePicker.vue?vue&type=template&id=6519cbba&\"\nimport script from \"./TimelinePicker.vue?vue&type=script&lang=js&\"\nexport * from \"./TimelinePicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticStyle:{\"overflow\":\"visible\"},attrs:{\"width\":\"700\"}},[_c('v-container',{staticClass:\"px-8\"},[_c('br'),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"depressed\":\"\"},on:{\"click\":function($event){return _vm.getDateRange(0, 'days')}}},[_vm._v(\"Today\")]),_c('v-btn',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"depressed\":\"\"},on:{\"click\":function($event){return _vm.getDateRange(7, 'days')}}},[_vm._v(\"Last 7 days\")]),_c('v-btn',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"depressed\":\"\"},on:{\"click\":function($event){return _vm.getDateRange(30, 'days')}}},[_vm._v(\"Last 30 days\")]),_c('v-btn',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"depressed\":\"\"},on:{\"click\":function($event){return _vm.getDateRange(90, 'days')}}},[_vm._v(\"Last 90 days\")]),_c('v-btn',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"depressed\":\"\"},on:{\"click\":function($event){return _vm.getDateRange(1, 'year')}}},[_vm._v(\"Last 1 year\")])],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"value\":_vm.formatStartTime,\"label\":\"From\",\"outlined\":\"\",\"hide-details\":\"\"},on:{\"click\":function($event){_vm.showPicker = true},\"change\":_vm.setStartTime}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"value\":_vm.formatEndTime,\"label\":\"To (optional)\",\"outlined\":\"\",\"hide-details\":\"\",\"append-outer-icon\":_vm.showPicker ? 'mdi-calendar-remove' : 'mdi-calendar'},on:{\"click\":function($event){_vm.showPicker = true},\"change\":_vm.setEndTime,\"click:append-outer\":function($event){_vm.showPicker = !_vm.showPicker}}})],1)],1),(_vm.showPicker)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('date-picker',{ref:\"picker\",attrs:{\"mode\":\"dateTime\",\"timezone\":\"UTC\",\"is-dark\":_vm.$vuetify.theme.dark,\"is24hr\":\"\",\"is-range\":\"\",\"is-expanded\":\"\"},model:{value:(_vm.dateRange),callback:function ($$v) {_vm.dateRange=$$v},expression:\"dateRange\"}})],1)],1):_vm._e(),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.clearAndCancel}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\" Add filter \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-card width=\"700\" style=\"overflow: visible\">\n    <v-container class=\"px-8\">\n      <br />\n\n      <v-row>\n        <v-col cols=\"12\">\n          <v-btn class=\"mr-2\" small depressed @click=\"getDateRange(0, 'days')\">Today</v-btn>\n          <v-btn class=\"mr-2\" small depressed @click=\"getDateRange(7, 'days')\">Last 7 days</v-btn>\n          <v-btn class=\"mr-2\" small depressed @click=\"getDateRange(30, 'days')\">Last 30 days</v-btn>\n          <v-btn class=\"mr-2\" small depressed @click=\"getDateRange(90, 'days')\">Last 90 days</v-btn>\n          <v-btn class=\"mr-2\" small depressed @click=\"getDateRange(1, 'year')\">Last 1 year</v-btn>\n        </v-col>\n      </v-row>\n\n      <v-row>\n        <v-col cols=\"6\">\n          <v-text-field\n            :value=\"formatStartTime\"\n            label=\"From\"\n            outlined\n            hide-details\n            v-on:click=\"showPicker = true\"\n            v-on:change=\"setStartTime\"\n          >\n          </v-text-field>\n        </v-col>\n        <v-col cols=\"6\">\n          <v-text-field\n            :value=\"formatEndTime\"\n            label=\"To (optional)\"\n            outlined\n            hide-details\n            v-on:click=\"showPicker = true\"\n            v-on:change=\"setEndTime\"\n            :append-outer-icon=\"showPicker ? 'mdi-calendar-remove' : 'mdi-calendar'\"\n            @click:append-outer=\"showPicker = !showPicker\"\n          >\n          </v-text-field>\n        </v-col>\n      </v-row>\n\n      <v-row v-if=\"showPicker\">\n        <v-col cols=\"12\">\n          <date-picker\n            v-model=\"dateRange\"\n            mode=\"dateTime\"\n            ref=\"picker\"\n            timezone=\"UTC\"\n            :is-dark=\"$vuetify.theme.dark\"\n            is24hr\n            is-range\n            is-expanded\n          ></date-picker>\n        </v-col>\n      </v-row>\n\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text color=\"primary\" @click=\"clearAndCancel\"> Cancel </v-btn>\n        <v-btn text color=\"primary\" @click=\"submit()\"> Add filter </v-btn>\n      </v-card-actions>\n    </v-container>\n  </v-card>\n</template>\n\n<script>\nimport dayjs from '@/plugins/dayjs'\nimport DatePicker from 'v-calendar/lib/components/date-picker.umd'\n\nexport default {\n  props: ['selectedChip'],\n  components: {\n    DatePicker,\n  },\n  data() {\n    return {\n      range: {\n        start: '',\n        end: '',\n      },\n      filterTab: null,\n      showPicker: false,\n    }\n  },\n  computed: {\n    dateRange: {\n      set(val) {\n        this.range.start = dayjs.utc(val.start).millisecond(0).toISOString()\n        this.range.end = dayjs.utc(val.end).millisecond(0).toISOString()\n      },\n      get() {\n        let range = {\n          start: this.range.start,\n          end: this.range.end,\n        }\n        return range\n      },\n    },\n    formatStartTime: function () {\n      return this.range.start\n    },\n    formatEndTime: function () {\n      if (this.range.start === this.range.end || !this.range.start) {\n        return ''\n      }\n      return this.range.end\n    },\n  },\n  created() {\n    if (this.selectedChip) {\n      this.range.start = this.selectedChip.value.split(',')[0]\n      this.range.end = this.selectedChip.value.split(',')[1]\n    }\n  },\n  methods: {\n    getDateRange: function (num, resolution) {\n      let now = dayjs.utc()\n      let then = now.subtract(num, resolution)\n      let chipType = 'datetime_range'\n      let chipValue = then.format('YYYY-MM-DD') + ',' + now.format('YYYY-MM-DD')\n      let chip = {\n        field: '',\n        type: chipType,\n        value: chipValue,\n        operator: 'must',\n        active: true,\n      }\n      this.addChip(chip)\n      this.$emit('cancel')\n\n      return { start: now, end: then }\n    },\n    setStartTime: function (newDateTime) {\n      if (!newDateTime) {\n        this.range.start = ''\n        return\n      }\n      this.range.start = dayjs.utc(newDateTime).toISOString()\n      if (!this.range.end) {\n        if (this.range.start) {\n          this.range.end = this.range.start || ''\n        }\n      }\n      this.$refs.picker.focusDate(this.range.start)\n    },\n    setEndTime: function (newDateTime) {\n      if (!newDateTime) {\n        this.range.end = ''\n        return\n      }\n      this.range.end = dayjs.utc(newDateTime).toISOString()\n      this.$refs.picker.focusDate(this.range.start)\n    },\n    addDateTimeChip: function (chipValue) {\n      const chipType = 'datetime_range'\n      let chip = {\n        field: '',\n        type: chipType,\n        value: chipValue,\n        operator: 'must',\n        active: true,\n      }\n      this.addChip(chip)\n      this.range = {\n        start: null,\n        end: null,\n      }\n    },\n    clearAndCancel: function () {\n      this.range = {\n        start: '',\n        end: '',\n      }\n      this.$emit('cancel')\n    },\n    addChip: function (newChip) {\n      if (this.selectedChip) {\n        this.$emit('updateChip', newChip)\n      } else {\n        this.$emit('addChip', newChip)\n      }\n    },\n    submit: function () {\n      if (!this.range.start) {\n        return\n      }\n\n      if (this.range.start === this.range.end) {\n        let dateTimeArray = this.range.start.split('T')\n        let date = dateTimeArray[0]\n        let chipValue = date + ',' + date\n        this.addDateTimeChip(chipValue)\n      }\n\n      if (this.range.start !== this.range.end) {\n      }\n\n      if (this.range.start !== this.range.end) {\n        let chipType = 'datetime_range'\n        let chipValue = this.range.start + ',' + this.range.end\n        let chip = {\n          field: '',\n          type: chipType,\n          value: chipValue,\n          operator: 'must',\n          active: true,\n        }\n        this.addChip(chip)\n        this.range = {\n          start: '',\n          end: '',\n        }\n      }\n\n      this.$emit('cancel')\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterMenu.vue?vue&type=template&id=5015cf2a&scoped=true&\"\nimport script from \"./FilterMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5015cf2a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"700\"},model:{value:(_vm.percentageFlag),callback:function ($$v) {_vm.percentageFlag=$$v},expression:\"percentageFlag\"}},[_c('v-card',{staticClass:\"pa-5\",attrs:{\"flat\":\"\"}},[_vm._v(\"\\n      Uploading..\\n      \"),_c('br'),_c('br'),_c('v-progress-linear',{attrs:{\"color\":\"light-blue\",\"height\":\"25\",\"value\":_vm.percentCompleted}},[_vm._v(_vm._s(_vm.percentCompleted)+\"%\")]),_c('v-divider')],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"1000\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(_vm.btnType === 'small')?_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\",\"text\":\"\",\"rounded\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\" mdi-plus \")]),_vm._v(\"\\n        Add Timeline\\n      \")],1):_c('v-btn',_vm._g(_vm._b({attrs:{\"outlined\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-plus \")]),_vm._v(\"\\n        Add Timeline\\n      \")],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-container',{staticClass:\"px-8\"},[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),(_vm.error.length > 0)?_c('div',_vm._l((_vm.error),function(errorMessage,index){return _c('v-alert',{key:index,attrs:{\"outlined\":\"\",\"type\":\"error\"}},[_vm._v(\"\\n            \"+_vm._s(errorMessage)+\"\\n            \"),_c('br'),_c('br'),(['csv', 'jsonl', 'json'].includes(_vm.extension))?_c('div',[(_vm.headers.length > 0)?_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',_vm._l((_vm.headersTable),function(mandatoryHeader){return _c('th',{key:mandatoryHeader.name,staticClass:\"text-left\",style:(mandatoryHeader.color)},[(_vm.missingHeaders.includes(mandatoryHeader.name))?_c('div',[_c('v-select',{attrs:{\"items\":_vm.listHeadersSelectMenu,\"label\":mandatoryHeader.name,\"multiple\":\"\",\"chips\":\"\",\"hint\":\"Mapped to\",\"persistent-hint\":\"\"},on:{\"change\":function($event){return _vm.changeHeaderMapping($event, mandatoryHeader.name)}},model:{value:(_vm.mandatoryHeaders.find(function (h) { return h.name === mandatoryHeader.name; }).columnsSelected),callback:function ($$v) {_vm.$set(_vm.mandatoryHeaders.find(function (h) { return h.name === mandatoryHeader.name; }), \"columnsSelected\", $$v)},expression:\"mandatoryHeaders.find((h) => h.name === mandatoryHeader.name).columnsSelected\"}})],1):_c('div',[_c('span',{staticClass:\"tag is-large\",style:(mandatoryHeader.color)},[_c('label',[_vm._v(_vm._s(mandatoryHeader.name))])])])])}),0)]),_c('br'),_c('strong',[_vm._v(\"Preview\")]),_c('tbody',_vm._l((_vm.numberRows),function(i){return _c('tr',{key:i},_vm._l((_vm.headersTable),function(mandatoryHeader){return _c('td',{key:mandatoryHeader.name},[_vm._v(\"\\n                        \"+_vm._s(mandatoryHeader.values[i - 1])+\"\\n                      \")])}),0)}),0)]},proxy:true}],null,true)}):_vm._e()],1):_vm._e()])}),1):_vm._e(),(_vm.fileName)?_c('div',[_c('v-text-field',{attrs:{\"label\":\"Timeline Name\",\"outlined\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),(_vm.extension === 'csv')?_c('v-radio-group',{scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('div',[_vm._v(\"Choose \"),_c('strong',[_vm._v(\"CSV delimiter\")])])]},proxy:true}],null,false,3646347247),model:{value:(_vm.CSVDelimiter),callback:function ($$v) {_vm.CSVDelimiter=$$v},expression:\"CSVDelimiter\"}},_vm._l((_vm.delimitersList),function(v,key){return _c('v-radio',{key:key,attrs:{\"value\":v},on:{\"change\":function($event){return _vm.changeCSVDelimiter(v)}},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('div',[_vm._v(_vm._s(key)+\" (\"+_vm._s(v)+\")\")])]},proxy:true}],null,true)})}),1):_vm._e(),(!_vm.percentageFlag)?_c('v-list',[_vm._v(\"\\n            File info\\n            \"),_c('v-simple-table',{attrs:{\"height\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',_vm._l((_vm.fileMetaData),function(value,key){return _c('th',{key:key,staticClass:\"text-left\"},[_vm._v(\"\\n                      \"+_vm._s(key)+\"\\n                    \")])}),0)]),_c('tbody',[_c('tr',_vm._l((_vm.fileMetaData),function(value,key){return _c('td',{key:key,staticClass:\"text-left\"},[_vm._v(\"\\n                      \"+_vm._s(value)+\"\\n                    \")])}),0)])]},proxy:true}],null,false,362866586)})],1):_vm._e()],1):_c('div',[_c('v-file-input',{attrs:{\"label\":\"Plaso/CSV/JSONL file\",\"outlined\":\"\",\"dense\":\"\",\"clearable\":\"\",\"multiple\":\"\",\"show-size\":\"\",\"truncate-length\":\"15\",\"id\":\"datafile\"},on:{\"change\":function($event){return _vm.setFile($event)},\"click:clear\":_vm.clearFormData},model:{value:(_vm.uploadedFiles),callback:function ($$v) {_vm.uploadedFiles=$$v},expression:\"uploadedFiles\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.clearFormData()\n            _vm.dialog = false}}},[_vm._v(\"\\n          Cancel\\n        \")]),(_vm.fileName)?_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.clearFormData()}}},[_vm._v(\" Select another file \")]):_vm._e(),(!(_vm.error.length > 0 || !_vm.fileName))?_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.submitForm()}}},[_vm._v(\" Submit \")]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <span>\n    <v-dialog v-model=\"percentageFlag\" persistent width=\"700\">\n      <v-card flat class=\"pa-5\">\n        Uploading..\n        <br /><br />\n        <v-progress-linear color=\"light-blue\" height=\"25\" :value=\"percentCompleted\"\n          >{{ percentCompleted }}%</v-progress-linear\n        >\n        <v-divider></v-divider>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog v-model=\"dialog\" max-width=\"1000\">\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn v-if=\"btnType === 'small'\" small text rounded color=\"primary\" v-bind=\"attrs\" v-on=\"on\">\n          <v-icon left small> mdi-plus </v-icon>\n          Add Timeline\n        </v-btn>\n        <v-btn v-else outlined color=\"primary\" v-bind=\"attrs\" v-on=\"on\">\n          <v-icon left> mdi-plus </v-icon>\n          Add Timeline\n        </v-btn>\n      </template>\n      <v-card>\n        <v-container class=\"px-8\">\n          <v-card-title class=\"text-h5\"> {{ title }} </v-card-title>\n\n          <div v-if=\"error.length > 0\">\n            <v-alert outlined type=\"error\" v-for=\"(errorMessage, index) in error\" :key=\"index\">\n              {{ errorMessage }}\n              <br /><br />\n              <div v-if=\"['csv', 'jsonl', 'json'].includes(extension)\">\n                <v-simple-table v-if=\"headers.length > 0\">\n                  <template v-slot:default>\n                    <thead>\n                      <tr>\n                        <th\n                          v-for=\"mandatoryHeader in headersTable\"\n                          :key=\"mandatoryHeader.name\"\n                          :style=\"mandatoryHeader.color\"\n                          class=\"text-left\"\n                        >\n                          <div v-if=\"missingHeaders.includes(mandatoryHeader.name)\">\n                            <v-select\n                              :items=\"listHeadersSelectMenu\"\n                              :label=\"mandatoryHeader.name\"\n                              v-model=\"mandatoryHeaders.find((h) => h.name === mandatoryHeader.name).columnsSelected\"\n                              multiple\n                              chips\n                              hint=\"Mapped to\"\n                              persistent-hint\n                              @change=\"changeHeaderMapping($event, mandatoryHeader.name)\"\n                            ></v-select>\n                          </div>\n                          <div v-else>\n                            <span class=\"tag is-large\" :style=\"mandatoryHeader.color\">\n                              <label>{{ mandatoryHeader.name }}</label>\n                            </span>\n                          </div>\n                        </th>\n                      </tr>\n                    </thead>\n                    <br />\n                    <strong>Preview</strong>\n                    <tbody>\n                      <tr v-for=\"i in numberRows\" :key=\"i\">\n                        <td v-for=\"mandatoryHeader in headersTable\" :key=\"mandatoryHeader.name\">\n                          {{ mandatoryHeader.values[i - 1] }}\n                        </td>\n                      </tr>\n                    </tbody>\n                  </template>\n                </v-simple-table>\n              </div>\n            </v-alert>\n          </div>\n\n          <div v-if=\"fileName\">\n            <v-text-field label=\"Timeline Name\" outlined v-model=\"form.name\"></v-text-field>\n            <v-radio-group v-if=\"extension === 'csv'\" v-model=\"CSVDelimiter\">\n              <template v-slot:label>\n                <div>Choose <strong>CSV delimiter</strong></div>\n              </template>\n              <v-radio v-for=\"(v, key) in delimitersList\" :value=\"v\" @change=\"changeCSVDelimiter(v)\" :key=\"key\">\n                <template v-slot:label>\n                  <div>{{ key }} ({{ v }})</div>\n                </template>\n              </v-radio>\n            </v-radio-group>\n\n            <v-list v-if=\"!percentageFlag\">\n              File info\n              <v-simple-table height=\"100px\">\n                <template v-slot:default>\n                  <thead>\n                    <tr>\n                      <th v-for=\"(value, key) in fileMetaData\" :key=\"key\" class=\"text-left\">\n                        {{ key }}\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr>\n                      <td v-for=\"(value, key) in fileMetaData\" :key=\"key\" class=\"text-left\">\n                        {{ value }}\n                      </td>\n                    </tr>\n                  </tbody>\n                </template>\n              </v-simple-table>\n            </v-list>\n          </div>\n\n          <div v-else>\n            <v-file-input\n              label=\"Plaso/CSV/JSONL file\"\n              outlined\n              dense\n              clearable\n              multiple\n              show-size\n              truncate-length=\"15\"\n              id=\"datafile\"\n              v-model=\"uploadedFiles\"\n              @change=\"setFile($event)\"\n              @click:clear=\"clearFormData\"\n            ></v-file-input>\n          </div>\n        </v-container>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"primary\"\n            text\n            @click=\"\n              clearFormData()\n              dialog = false\n            \"\n          >\n            Cancel\n          </v-btn>\n          <v-btn v-if=\"fileName\" color=\"primary\" text @click=\"clearFormData()\"> Select another file </v-btn>\n          <v-btn color=\"primary\" text @click=\"submitForm()\" v-if=\"!(error.length > 0 || !fileName)\"> Submit </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </span>\n</template>\n<script>\nimport ApiClient from '../utils/RestApiClient'\n\nexport default {\n  props: ['btnType'],\n  data() {\n    return {\n      headersString: '', // headers string not formatted (used when changing CSV separator)\n      valuesString: [],\n      title: 'Upload your Plaso/CSV/JSONL file',\n      /**\n       *  headersMapping: list of object containing the:\n       * (i) target header to be modified [key=target],\n       * (ii) the source header to be substituted [key=source] and\n       * (iii) the default value in case we add a new columns [key=default_value].\n       */\n      headersMapping: [],\n      mandatoryHeaders: [\n        { name: 'datetime', columnsSelected: [] },\n        { name: 'message', columnsSelected: [] },\n      ],\n      form: {\n        name: '',\n        file: '',\n      },\n      fileName: '',\n      fileMetaData: {},\n      error: [],\n      percentCompleted: 0,\n      uploadedFiles: [],\n\n      CSVDelimiter: ',',\n      infoMessage: '',\n      delimitersList: { Comma: ',', Semicolon: ';', Pipe: '|' },\n      showHelperFlag: false,\n      showPreviewFlag: false,\n      showAddColumnFlag: false,\n      checkedHeaders: [],\n      staticNumberRows: 3,\n      dialog: false,\n      colors: [\n        { name: 'red', value: 'background-color: #FEECF0; color:#CC0F35' },\n        { name: 'blue', value: 'background-color: #EEF6FC; color:#1D72AA' },\n        { name: 'green', value: 'background-color: #EFFAF3; color:#257942' },\n      ],\n    }\n  },\n  computed: {\n    headers() {\n      let headers = []\n      if (this.extension === 'csv') {\n        headers = this.headersString.split(this.CSVDelimiter)\n      } else if (['json', 'jsonl'].includes(this.extension)) {\n        headers = Object.keys(this.headersString)\n      }\n      return headers\n    },\n    missingHeaders() {\n      return this.mandatoryHeaders.filter((header) => this.headers.indexOf(header.name) < 0).map((h) => h.name)\n    },\n    listHeadersSelectMenu() {\n      let mandatoryHeaders = new Set(this.mandatoryHeaders.map((h) => h.name))\n      let headers = this.headers.filter((h) => !mandatoryHeaders.has(h))\n      headers.unshift('Create New Header')\n      return headers\n    },\n    extension() {\n      let extension = this.fileName.split('.')\n      if (extension.length > 1) return extension[extension.length - 1].toLowerCase()\n      else return null\n    },\n    numberRows() {\n      if (this.extension === 'csv') {\n        let n = this.valuesString.indexOf('')\n        return n < 0 ? this.staticNumberRows : n\n      } else if (['json', 'jsonl'].includes(this.extension)) {\n        return this.valuesString.length\n      } else {\n        return 0\n      }\n    },\n    percentageFlag() {\n      return this.percentCompleted > 0\n    },\n    sketch() {\n      return this.$store.state.sketch\n    },\n    headersTable() {\n      /**\n       * headersTable = [\n       *                    {name : \"datetime\", values : [\"v1\", \"v2\", \"v3\"]},\n       *                    {name : \"message\", values : [\"v1\", \"v2\", \"v3\"]},\n       *                    {name : \"timestamp_desc\", values : [\"v1\", \"v2\", \"v3\"]},\n       *                 ]\n       */\n\n      /**\n       * valuesAndHeaders = dictionary where\n       *  - the key is the header, e.g., \"datetime\", \"file_name\"\n       *  - the value is an array containing the values of that column\n       */\n      let valuesAndHeaders = {}\n      if (this.extension === 'csv') {\n        let values = this.valuesString.map((x) => x.split(this.CSVDelimiter))\n        /**\n         * values is an array of array (matrix)\n         * For example, for a CSV with 3 headers such as datetime, timestamp description and permission\n         * E.g., values = | [2022-11-10, file_delete, high] |\n         *                | [2022-11-09, file_create, high] |\n         *                | [2022-11-09, file_update, low]  |\n         */\n        for (let i = 0; i < this.headers.length; i++) {\n          let listValues = []\n          for (let j = 0; j < values.length; j++) {\n            listValues.push(values[j][i]) // list values aggregate the information on the columns\n          }\n          valuesAndHeaders[this.headers[i]] = listValues\n        }\n      } else if (['json', 'jsonl'].includes(this.extension)) {\n        for (let i = 0; i < this.valuesString.length; i++) {\n          for (let header in this.valuesString[i]) {\n            if (header in valuesAndHeaders) {\n              valuesAndHeaders[header].push(this.valuesString[i][header])\n            } else {\n              valuesAndHeaders[header] = [this.valuesString[i][header]]\n            }\n          }\n        }\n      } else {\n        console.error(this.extension + ' file extension not supported for this feature')\n      }\n      let checkedHeaders = this.checkedHeaders\n      return checkedHeaders.sort().map((header) => {\n        let color = '' // CSS property for the displayed column\n        let values = [] // values that we will display for the checked header\n\n        if (this.headers.includes(header)) {\n          // case 0: the mandatory header is in the CSV (no mapping required)\n          values = valuesAndHeaders[header]\n          color = this.colors.find((x) => x.name === 'blue').value\n        } else {\n          // header is missing, need to check to headers mapping\n          // case 1: we map the header with only one column -> rename column\n          // case 2: we map the header with multiple fields -> combine columns\n          // case 3: we want to create a new column with a default value -> create a new column\n          // case 4: we haven't mapped the header yet\n\n          // extract from the headersMapping the user's choice (it may be null if the user has not mapped the header yet)\n          let extractedMapping = this.headersMapping.find((x) => x.target === header)\n          if (extractedMapping) {\n            if (extractedMapping.source) {\n              if (extractedMapping.source.length === 1) {\n                // case 1\n                values = valuesAndHeaders[extractedMapping.source[0]]\n              } else {\n                // case 2\n                let listSources = extractedMapping.source\n                for (let i = 0; i < this.numberRows; i++) {\n                  let concatValue = ''\n                  listSources.forEach((source) => {\n                    concatValue += source + ': '\n                    concatValue += JSON.stringify(valuesAndHeaders[source][i]) + ' | '\n                  })\n                  values.push(concatValue)\n                }\n              }\n            } else {\n              // case 3\n              values = Array(this.numberRows).fill(extractedMapping.default_value)\n            }\n            color = this.colors.find((x) => x.name === 'green').value\n          } else {\n            // case 4\n            values = Array(this.numberRows).fill('Header not mapped')\n            color = this.colors.find((x) => x.name === 'red').value\n          }\n        }\n        return { name: header, values: values, color: color }\n      })\n    },\n  },\n  methods: {\n    showHelper() {\n      // first hide the other menus\n      this.showPreviewFlag = false\n      this.showAddColumnFlag = false\n\n      this.showHelperFlag = !this.showHelperFlag\n    },\n    showPreview() {\n      this.showHelperFlag = false\n      this.showPreviewFlag = !this.showPreviewFlag\n      if (!this.showPreviewFlag) this.showAddColumnFlag = false\n    },\n    showAddColumn() {\n      this.showAddColumnFlag = !this.showAddColumnFlag\n    },\n    getDefaultValue: function (target) {\n      let obj = this.headersMapping.find((x) => x['target'] === target)\n      if (obj) {\n        return obj['default_value']\n      } else {\n        return null\n      }\n    },\n    changeCSVDelimiter: function (value) {\n      this.CSVDelimiter = value\n      for (let i = 0; i < this.mandatoryHeaders.length; i++) {\n        this.mandatoryHeaders[i]['columnsSelected'] = []\n      }\n      this.headersMapping = []\n      this.validateFile()\n    },\n    changeHeaderMapping: function (columnsSelected, target) {\n      /**\n       * Method to map the missing headers.\n       * First, it checks some conditions, in particular, the user needs to:\n       * 1. map the missing header with any existing one in the CSV,\n       * 2. avoid to map 2 or more missing headers with the same exsiting one,\n       * 3. specify a default value in case he chooses to create a new column\n       */\n      let lastElementSelected = columnsSelected[columnsSelected.length - 1]\n      let i = this.mandatoryHeaders.findIndex((h) => h.name === target)\n      if (lastElementSelected === 'Create New Header') {\n        this.mandatoryHeaders[i].columnsSelected = ['Create New Header']\n      } else {\n        this.mandatoryHeaders[i].columnsSelected = this.mandatoryHeaders[i].columnsSelected.filter(\n          (h) => h !== 'Create New Header'\n        )\n      }\n      let sources = []\n      let defaultValue = null\n      if (lastElementSelected === 'Create New Header') {\n        sources = null\n        do {\n          defaultValue = prompt('Insert the default value for this header')\n          if (defaultValue.includes(this.CSVDelimiter)) {\n            alert(`New header value cannot contain CSV separator (found ${this.CSVDelimiter})`)\n            defaultValue = null\n          }\n        } while (!defaultValue)\n      } else {\n        sources = this.mandatoryHeaders[i].columnsSelected\n      }\n\n      this.headersMapping = this.headersMapping.filter((mapping) => mapping['target'] !== target)\n      if (sources === null || sources.length > 0)\n        this.headersMapping.push({\n          target: target,\n          source: sources,\n          default_value: defaultValue,\n        })\n      this.validateFile()\n    },\n    clearFormData: function () {\n      this.fileMetaData = {}\n      this.form.name = ''\n      this.form.file = ''\n      this.fileName = ''\n      this.headersMapping = []\n      this.infoMessage = ''\n      this.headersString = ''\n      this.valuesString = []\n      this.uploadedFiles = []\n      this.title = 'Upload your Plaso/JSONL/CSV file'\n      this.error = []\n      this.percentCompleted = 0\n\n      for (let i = 0; i < this.mandatoryHeaders.length; i++) {\n        this.mandatoryHeaders[i]['columnsSelected'] = []\n      }\n    },\n    submitForm: function () {\n      if (!this.validateFile()) {\n        return\n      }\n\n      let formData = new FormData()\n      formData.append('file', this.form.file)\n      formData.append('name', this.form.name)\n      formData.append('provider', 'WebUpload')\n      formData.append('context', this.fileName)\n      formData.append('total_file_size', this.form.file.size)\n      formData.append('sketch_id', this.sketch.id)\n      if (['csv', 'jsonl', 'json'].includes(this.extension)) {\n        let hMapping = JSON.stringify(this.headersMapping)\n        formData.append('headersMapping', hMapping)\n        formData.append('delimiter', this.CSVDelimiter)\n      }\n      let config = {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n        onUploadProgress: function (progressEvent) {\n          this.percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total)\n        }.bind(this),\n      }\n      this.dialog = false\n      ApiClient.uploadTimeline(formData, config)\n        .then(() => {\n          this.clearFormData()\n          this.percentCompleted = 0\n          this.$store.dispatch('updateSketch', this.sketch.id)\n        })\n        .catch((e) => {})\n    },\n    validateFile: function () {\n      this.error = []\n      if (this.form.file.size <= 0) {\n        this.error.push('Please select a non empty file')\n      }\n      let allowedExtensions = ['csv', 'json', 'jsonl', 'plaso']\n      if (!allowedExtensions.includes(this.extension)) {\n        this.error.push('Please select a file with a valid extension: ' + allowedExtensions.toString())\n      }\n      if (['csv', 'jsonl', 'json'].includes(this.extension)) {\n        // 1. check if mapping is completed, i.e., if the user set all the mandatory headers\n        if (this.headersMapping.length !== this.missingHeaders.length) {\n          this.error.push('Missing headers: ' + this.missingHeaders.toString())\n        }\n        // 2. check for duplicate headers (except from the new header and multiple headers)\n        let duplicates = this.headersMapping.filter((mapping) => mapping['source']).map((e) => e.source)\n        duplicates = duplicates.filter((x) => x.length === 1).map((x) => x[0]) // only mapping 1:1. They will be renamed on the database thus we do not want duplicates\n        if (duplicates.length > new Set(duplicates).size) {\n          this.error.push(`New headers mapping contains duplicates (${duplicates})`)\n        }\n      }\n      if (this.error.length === 0) {\n        this.title = 'Submit your file to Timesketch'\n      } else {\n        this.title = 'Almost there... Map the ' + this.missingHeaders.length + ' missing headers.'\n      }\n      return this.error.length === 0\n    },\n    setFile: function (fileList) {\n      /* 1. Initilize the variables */\n\n      if (!fileList[0]) {\n        return\n      }\n      const bytesToMegaBytes = (bytes) => bytes / 1024 ** 2\n      this.fileMetaData = {\n        Name: fileList[0].name,\n        Size: bytesToMegaBytes(fileList[0].size) + ' MB',\n      }\n      let fileName = fileList[0].name\n      this.headersMapping = []\n      this.headersString = ''\n      this.valuesString = []\n      this.form.file = fileList[0]\n      this.form.name = fileName.split('.').slice(0, -1).join('.')\n      this.fileName = fileName\n      /* 3. Manage CSV missing headers */\n      if (this.extension === 'csv') {\n        this.extractCSVHeader()\n      } else if (['json', 'jsonl'].includes(this.extension)) {\n        this.extractJSONLHeader()\n      } else {\n        this.validateFile()\n      }\n      this.checkedHeaders = this.mandatoryHeaders.map((x) => x.name)\n    },\n    extractCSVHeader: function () {\n      let reader = new FileReader()\n      let file = document.getElementById('datafile').files[0]\n\n      // read only 1000 B --> it is reasonable that the header of the CSV file ends before the 1000^ byte.\n      // Done to prevent JS reading a large CSV file (GBs)\n      let vueJS = this\n      reader.readAsText(file.slice(0, 10000))\n      reader.onloadend = function (e) {\n        if (e.target.readyState === FileReader.DONE) {\n          /* 3a. Extract the headers from the CSV */\n          let data = e.target.result\n          vueJS.headersString = data.split('\\n')[0].replaceAll('\"', '')\n          vueJS.valuesString = data.split('\\n').slice(1, vueJS.staticNumberRows + 1)\n          vueJS.validateFile()\n        }\n      }\n    },\n    extractJSONLHeader: function () {\n      let reader = new FileReader()\n      let file = document.getElementById('datafile').files[0]\n      let vueJS = this\n      reader.readAsText(file.slice(0, 10000))\n      reader.onloadend = function (e) {\n        if (e.target.readyState === FileReader.DONE) {\n          /* 3a. Extract the headers from the CSV */\n          let data = e.target.result\n          let rows = data.split('\\n')\n          let i = Math.min(vueJS.staticNumberRows, rows.length)\n          try {\n            vueJS.headersString = JSON.parse(rows[0])\n            vueJS.valuesString = rows.slice(0, i).map((x) => JSON.parse(x))\n            vueJS.validateFile()\n          } catch (objError) {\n            let error = objError.message\n            error += '. Your first lines of JSON: '\n            error += rows[0]\n            error += '. Be sure to upload a JSON file in a JSONL format.'\n            vueJS.title = 'Cannot parse the JSON file'\n            vueJS.error.push(error)\n          }\n        }\n      }\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadForm.vue?vue&type=template&id=18ea9c58&\"\nimport script from \"./UploadForm.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticStyle:{\"overflow\":\"visible\"},attrs:{\"width\":\"700\"}},[_c('v-container',{staticClass:\"px-8\"},[_c('br'),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"value\":_vm.datetime,\"label\":\"Datetime\",\"outlined\":\"\",\"hide-details\":\"\"},on:{\"click\":function($event){_vm.showPicker = true}},model:{value:(_vm.datetime),callback:function ($$v) {_vm.datetime=$$v},expression:\"datetime\"}})],1)],1),(_vm.showPicker)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('date-picker',{ref:\"picker\",attrs:{\"mode\":\"dateTime\",\"timezone\":\"UTC\",\"is-dark\":_vm.$vuetify.theme.dark,\"is24hr\":\"\",\"is-date\":\"\",\"is-expanded\":\"\"},model:{value:(_vm.dateFromPicker),callback:function ($$v) {_vm.dateFromPicker=$$v},expression:\"dateFromPicker\"}})],1)],1):_vm._e(),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"value\":_vm.message,\"label\":\"Message\",\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"value\":_vm.timestampDesc,\"label\":\"Timestamp Description\",\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.timestampDesc),callback:function ($$v) {_vm.timestampDesc=$$v},expression:\"timestampDesc\"}})],1)],1),_vm._l((_vm.attributes),function(attribute,index){return _c('v-row',{key:index},[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Attribute Name\",\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.attributes[index].name),callback:function ($$v) {_vm.$set(_vm.attributes[index], \"name\", $$v)},expression:\"attributes[index].name\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Attribute Value\",\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.attributes[index].value),callback:function ($$v) {_vm.$set(_vm.attributes[index], \"value\", $$v)},expression:\"attributes[index].value\"}})],1)],1)}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\",\"disabled\":_vm.isDisabled},on:{\"click\":function($event){return _vm.attributes.push({ name: '', value: '' })}}},[_vm._v(\"\\n        Add Attribute\\n      \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.clearAndCancel}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\" Add Event \")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-card width=\"700\" style=\"overflow: visible\">\n    <v-container class=\"px-8\">\n      <br />\n      <v-row>\n        <v-col cols=\"6\">\n          <v-text-field\n            :value=\"datetime\"\n            label=\"Datetime\"\n            outlined\n            hide-details\n            v-on:click=\"showPicker = true\"\n            v-model=\"datetime\"\n          >\n          </v-text-field>\n        </v-col>\n      </v-row>\n\n      <v-row v-if=\"showPicker\">\n        <v-col cols=\"12\">\n          <date-picker\n            v-model=\"dateFromPicker\"\n            mode=\"dateTime\"\n            ref=\"picker\"\n            timezone=\"UTC\"\n            :is-dark=\"$vuetify.theme.dark\"\n            is24hr\n            is-date\n            is-expanded\n          ></date-picker>\n        </v-col>\n      </v-row>\n\n      <v-row>\n        <v-col cols=\"6\">\n          <v-text-field :value=\"message\" v-model=\"message\" label=\"Message\" outlined hide-details> </v-text-field>\n        </v-col>\n      </v-row>\n\n      <v-row>\n        <v-col cols=\"6\">\n          <v-text-field\n            :value=\"timestampDesc\"\n            label=\"Timestamp Description\"\n            v-model=\"timestampDesc\"\n            outlined\n            hide-details\n          >\n          </v-text-field>\n        </v-col>\n      </v-row>\n\n      <v-row v-for=\"(attribute, index) in attributes\" :key=\"index\">\n        <v-col cols=\"6\">\n          <v-text-field label=\"Attribute Name\" outlined hide-details v-model=\"attributes[index].name\"> </v-text-field>\n        </v-col>\n        <v-col cols=\"6\">\n          <v-text-field label=\"Attribute Value\" outlined hide-details v-model=\"attributes[index].value\"> </v-text-field>\n        </v-col>\n      </v-row>\n\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text color=\"primary\" @click=\"attributes.push({ name: '', value: '' })\" :disabled=\"isDisabled\">\n          Add Attribute\n        </v-btn>\n        <v-btn text color=\"primary\" @click=\"clearAndCancel\"> Cancel </v-btn>\n        <v-btn text color=\"primary\" @click=\"submit\"> Add Event </v-btn>\n      </v-card-actions>\n    </v-container>\n  </v-card>\n</template>\n\n<script>\nimport dayjs from '@/plugins/dayjs'\nimport DatePicker from 'v-calendar/lib/components/date-picker.umd'\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  props: ['datetimeProp'],\n  components: {\n    DatePicker,\n  },\n  data() {\n    return {\n      message: null,\n      timestampDesc: null,\n      filterTab: null,\n      showPicker: false,\n      attributes: [],\n      datetime: this.datetimeProp,\n    }\n  },\n  watch: {\n    datetimeProp: function (newValue) {\n      this.datetime = newValue\n    },\n  },\n  computed: {\n    dateFromPicker: {\n      set(val) {\n        if (val !== null) this.datetime = dayjs.utc(val).millisecond(0).toISOString()\n      },\n      get() {\n        return this.datetime\n      },\n    },\n    isDisabled() {\n      return this.attributes.some((attribute) => {\n        return attribute.name === '' || attribute.value === ''\n      })\n    },\n  },\n  methods: {\n    clearAndCancel: function () {\n      this.datetime = null\n      this.message = null\n      this.timestampDesc = null\n      this.attributes = []\n      this.$emit('cancel')\n    },\n    submit: function () {\n      if (this.datetime === null || this.message === null || this.timestampDesc === null) {\n        return\n      }\n      let sketchId = this.$store.state.sketch.id\n      let config = {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      let attributes = {}\n      this.attributes\n        .filter((attribute) => !(attribute.name === '' || attribute.value === ''))\n        .reduce((_, attribute) => {\n          attributes[attribute.name] = attribute.value\n        }, attributes)\n      ApiClient.createEvent(sketchId, this.datetime, this.message, this.timestampDesc, attributes, config)\n        .then((response) => {\n          this.clearAndCancel()\n        })\n        .catch((e) => {})\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddManualEvent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddManualEvent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddManualEvent.vue?vue&type=template&id=035f3f29&scoped=true&\"\nimport script from \"./AddManualEvent.vue?vue&type=script&lang=js&\"\nexport * from \"./AddManualEvent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"035f3f29\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.eventList.objects.length && !_vm.searchInProgress)?_c('div',{staticClass:\"ml-3\"},[_c('p',[_vm._v(\"\\n      Your search \"),(_vm.currentQueryString)?_c('span',[_vm._v(\"\\\"\"+_vm._s(_vm.currentQueryString)+\"\\\"\")]):_vm._e(),_vm._v(\" did not match any events.\\n    \")]),_c('p',[_vm._v(\"Suggestions:\")]),_c('li',[_vm._v(\"Try different keywords.\")]),_c('li',[_vm._v(\"Try more general keywords.\")]),_c('li',[_vm._v(\"Try fewer keywords.\")])]):_vm._e(),(_vm.eventList.objects.length || _vm.searchInProgress)?_c('div',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.eventList.objects,\"footer-props\":{ 'items-per-page-options': [10, 40, 80, 100, 200, 500], 'show-current-page': true },\"loading\":_vm.searchInProgress,\"options\":_vm.tableOptions,\"server-items-length\":_vm.totalHitsForPagination,\"item-key\":\"_id\",\"loading-text\":\"Searching... Please wait\",\"show-select\":\"\",\"disable-filtering\":\"\",\"disable-sort\":\"\",\"hide-default-footer\":_vm.totalHits < 11 || _vm.disablePagination,\"expanded\":_vm.expandedRows,\"dense\":_vm.displayOptions.isCompact,\"fixed-header\":\"\"},on:{\"update:options\":function($event){_vm.tableOptions=$event}},scopedSlots:_vm._u([{key:\"top\",fn:function(ref){\nvar pagination = ref.pagination;\nvar options = ref.options;\nvar updateOptions = ref.updateOptions;\nreturn [_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\",\"color\":\"transparent\"}},[(!_vm.selectedEvents.length)?_c('div',[_c('span',{staticStyle:{\"display\":\"inline-block\",\"min-width\":\"200px\"}},[_c('small',[_vm._v(_vm._s(_vm.fromEvent)+\"-\"+_vm._s(_vm.toEvent)+\" of \"+_vm._s(_vm.totalHits)+\" events (\"+_vm._s(_vm.totalTime)+\"s)\")])]),(!_vm.disableSaveSearch)?_c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-content-save-outline\")])],1)]}}],null,true),model:{value:(_vm.saveSearchMenu),callback:function ($$v) {_vm.saveSearchMenu=$$v},expression:\"saveSearchMenu\"}},[_c('v-card',{staticClass:\"pa-4\"},[_c('h3',[_vm._v(\"Save Search\")]),_c('br'),_c('v-text-field',{attrs:{\"required\":\"\",\"placeholder\":\"Name your saved search\",\"outlined\":\"\",\"dense\":\"\",\"autofocus\":\"\"},on:{\"focus\":function($event){return $event.target.select()}},model:{value:(_vm.saveSearchFormName),callback:function ($$v) {_vm.saveSearchFormName=$$v},expression:\"saveSearchFormName\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.saveSearchMenu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\",\"disabled\":!_vm.saveSearchFormName},on:{\"click\":_vm.saveSearch}},[_vm._v(\" Save \")])],1)],1)],1):_vm._e(),(!_vm.disableHistogram)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showHistogram = !_vm.showHistogram}}},[_c('v-icon',[_vm._v(\"mdi-chart-bar\")])],1):_vm._e(),(!_vm.disableColumns)?_c('v-dialog',{attrs:{\"max-width\":\"500px\",\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-view-column-outline\")])],1)]}}],null,true),model:{value:(_vm.columnDialog),callback:function ($$v) {_vm.columnDialog=$$v},expression:\"columnDialog\"}},[_c('v-card',{attrs:{\"height\":\"50vh\"}},[_c('v-card-title',[_vm._v(\"Select columns\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.searchColumns),callback:function ($$v) {_vm.searchColumns=$$v},expression:\"searchColumns\"}}),_c('br'),_c('v-data-table',{attrs:{\"headers\":_vm.columnHeaders,\"items\":_vm.meta.mappings,\"search\":_vm.searchColumns,\"hide-default-footer\":true,\"item-key\":\"field\",\"disable-pagination\":\"\",\"show-select\":\"\",\"dense\":\"\"},on:{\"input\":_vm.updateSelectedFields},model:{value:(_vm.selectedFields),callback:function ($$v) {_vm.selectedFields=$$v},expression:\"selectedFields\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.selectedFields = [{ field: 'message', type: 'text' }]}}},[_vm._v(\"\\n                    Reset\\n                  \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.columnDialog = false}}},[_vm._v(\" Close \")])],1)],1)],1):_vm._e(),(!_vm.disableSettings)?_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-horizontal\")])],1)]}}],null,true)},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"outlined\":\"\",\"max-width\":\"475\"}},[_c('v-list',{attrs:{\"subheader\":\"\",\"two-line\":\"\",\"flat\":\"\",\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"Density\")]),_c('v-list-item-group',[_c('v-list-item',{attrs:{\"ripple\":false}},[[_c('v-list-item-action',[_c('v-radio-group',{model:{value:(_vm.displayOptions.isCompact),callback:function ($$v) {_vm.$set(_vm.displayOptions, \"isCompact\", $$v)},expression:\"displayOptions.isCompact\"}},[_c('v-radio',{attrs:{\"value\":false}})],1)],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Comfortable\")]),_c('v-list-item-subtitle',[_vm._v(\"More space between rows\")])],1)]],2),_c('v-list-item',{attrs:{\"ripple\":false}},[[_c('v-list-item-action',[_c('v-radio-group',{model:{value:(_vm.displayOptions.isCompact),callback:function ($$v) {_vm.$set(_vm.displayOptions, \"isCompact\", $$v)},expression:\"displayOptions.isCompact\"}},[_c('v-radio',{attrs:{\"value\":true}})],1)],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Compact\")]),_c('v-list-item-subtitle',[_vm._v(\"Less space between rows\")])],1)]],2)],1),_c('v-divider'),_c('v-list',{attrs:{\"subheader\":\"\",\"two-line\":\"\",\"flat\":\"\"}},[_c('v-subheader',[_vm._v(\"Misc\")]),_c('v-list-item-group',[_c('v-list-item',{attrs:{\"ripple\":false}},[_c('v-list-item-action',[_c('v-switch',{attrs:{\"dense\":\"\",\"color\":\"\"},model:{value:(_vm.displayOptions.showTags),callback:function ($$v) {_vm.$set(_vm.displayOptions, \"showTags\", $$v)},expression:\"displayOptions.showTags\"}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Tags\")]),_c('v-list-item-subtitle',[_vm._v(\"Show tags\")])],1)],1)],1),_c('v-list-item-group',[_c('v-list-item',{attrs:{\"ripple\":false}},[_c('v-list-item-action',[_c('v-switch',{attrs:{\"dense\":\"\"},model:{value:(_vm.displayOptions.showEmojis),callback:function ($$v) {_vm.$set(_vm.displayOptions, \"showEmojis\", $$v)},expression:\"displayOptions.showEmojis\"}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Emojis\")]),_c('v-list-item-subtitle',[_vm._v(\"Show emojis\")])],1)],1)],1),_c('v-list-item-group',[_c('v-list-item',{attrs:{\"ripple\":false}},[_c('v-list-item-action',[_c('v-switch',{attrs:{\"dense\":\"\"},model:{value:(_vm.displayOptions.showTimelineName),callback:function ($$v) {_vm.$set(_vm.displayOptions, \"showTimelineName\", $$v)},expression:\"displayOptions.showTimelineName\"}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Timeline name\")]),_c('v-list-item-subtitle',[_vm._v(\"Show timeline name\")])],1)],1)],1)],1)],1)],1)],1):_vm._e()],1):_c('div',[_c('small',{staticClass:\"mr-2\"},[_vm._v(\"Actions:\")]),_c('v-btn',{attrs:{\"x-small\":\"\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.toggleMultipleStars()}}},[_c('v-icon',{attrs:{\"left\":\"\",\"color\":\"amber\"}},[_vm._v(\"mdi-star\")]),_vm._v(\"\\n              Toggle star\\n            \")],1)],1),_c('v-spacer'),(_vm.totalHits > 11 && !_vm.disablePagination)?_c('v-data-footer',{staticClass:\"mr-n3\",staticStyle:{\"border\":\"0\"},attrs:{\"pagination\":pagination,\"options\":options,\"show-current-page\":true,\"items-per-page-options\":[10, 40, 80, 100, 200, 500],\"items-per-page-text\":\"Rows per page:\"},on:{\"update:options\":updateOptions}}):_vm._e()],1),(_vm.showHistogram)?_c('v-card',{staticClass:\"my-3\",attrs:{\"outlined\":\"\"}},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\",\"color\":\"transparent\"}},[_c('v-spacer'),(_vm.timeFilterChips.length)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.removeChips(_vm.timeFilterChips)}}},[_vm._v(\"\\n              reset\\n            \")]):_vm._e(),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showHistogram = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('ts-bar-chart',{attrs:{\"chart-data\":_vm.eventList.meta.count_over_time},on:{\"addChip\":function($event){return _vm.addChipFromHistogram($event)}}})],1):_vm._e()]}},{key:\"expanded-item\",fn:function(ref){\nvar headers = ref.headers;\nvar item = ref.item;\nreturn [_c('td',{attrs:{\"colspan\":headers.length}},[(item.showDetails)?_c('v-container',{staticClass:\"mt-4\",attrs:{\"fluid\":\"\"}},[_c('ts-event-detail',{attrs:{\"event\":item}})],1):_vm._e(),(item.showDetails && item.deltaDays)?_c('v-divider'):_vm._e(),(item.deltaDays > 0)?_c('div',{staticClass:\"ml-7\"},[_c('div',{staticClass:\"ts-time-bubble-vertical-line ts-time-bubble-vertical-line-color\",style:(_vm.getTimeBubbleColor(item))}),_c('div',{staticClass:\"ts-time-bubble ts-time-bubble-color\",style:(_vm.getTimeBubbleColor(item))},[_c('h5',[_c('b',[_vm._v(_vm._s(_vm._f(\"compactNumber\")(item.deltaDays)))]),_vm._v(\" days\\n              \")])]),_c('div',{staticClass:\"ts-time-bubble-vertical-line ts-time-bubble-vertical-line-color\",style:(_vm.getTimeBubbleColor(item))})]):_vm._e()],1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.toggleStar(item)}}},[(item._source.label.includes('__ts_star'))?_c('v-icon',{attrs:{\"color\":\"amber\"}},[_vm._v(\"mdi-star\")]):_c('v-icon',[_vm._v(\"mdi-star-outline\")])],1),_c('ts-event-tag-menu',{attrs:{\"event\":item}}),_c('ts-event-action-menu',{attrs:{\"event\":item}})]}},{key:\"item._source.timestamp\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"datetime-table-cell\",style:(_vm.getTimelineColor(item))},[_vm._v(\"\\n          \"+_vm._s(_vm._f(\"toISO8601\")(_vm._f(\"formatTimestamp\")(item._source.timestamp)))+\"\\n        \")])]}},_vm._l((_vm.headers),function(field,index){return {key:_vm.getFieldName(field.text),fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{key:field.text,staticClass:\"ts-event-field-container\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.toggleDetailedEvent(item)}}},[_c('span',{class:{ 'ts-event-field-ellipsis': field.text === 'message' }},[(_vm.displayOptions.showTags && index === 3)?_c('span',[_vm._l((item._source.tag),function(tag){return _c('v-chip',{key:tag,staticClass:\"mr-2\",attrs:{\"small\":\"\",\"color\":_vm.tagColor(tag).color,\"text-color\":_vm.tagColor(tag).textColor}},[(tag in _vm.tagConfig)?_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(_vm._s(_vm.tagConfig[tag].label))]):_vm._e(),_vm._v(\"\\n                \"+_vm._s(tag))],1)}),_vm._l((item._source.label),function(label){return _c('span',{key:label},[(!label.startsWith('__ts'))?_c('v-chip',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"outlined\":\"\"}},[_vm._v(\"\\n                  \"+_vm._s(label)+\"\\n                \")]):_vm._e()],1)})],2):_vm._e(),(_vm.displayOptions.showEmojis && index === 0)?_c('span',_vm._l((item._source.__ts_emojis),function(emoji){return _c('span',{key:emoji,staticClass:\"mr-2\",attrs:{\"title\":_vm.meta.emojis[emoji]},domProps:{\"innerHTML\":_vm._s(emoji)}},[_vm._v(_vm._s(emoji)+\"\\n              \")])}),0):_vm._e(),_c('span',[_vm._v(_vm._s(item._source[field.text]))])])])]}}}),{key:\"item.timeline_name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip',{staticStyle:{\"margin-top\":\"1px\",\"margin-bottom\":\"1px\",\"font-size\":\"0.8em\"},attrs:{\"label\":\"\"}},[_c('span',{staticClass:\"timeline-name-ellipsis\",staticStyle:{\"width\":\"130px\",\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.getTimeline(item).name))])])]}},{key:\"item._source.comment\",fn:function(ref){\nvar item = ref.item;\nreturn [(item._source.comment.length)?_c('v-badge',{attrs:{\"offset-y\":10,\"bordered\":\"\",\"content\":item._source.comment.length}},[_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.toggleDetailedEvent(item)}}},[_vm._v(\" mdi-comment-text-multiple-outline \")])],1):_vm._e()]}}],null,true),model:{value:(_vm.selectedEvents),callback:function ($$v) {_vm.selectedEvents=$$v},expression:\"selectedEvents\"}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('apexchart',{attrs:{\"height\":\"250\",\"options\":_vm.options,\"series\":_vm.series}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <apexchart height=\"250\" :options=\"options\" :series=\"series\"></apexchart>\n  </div>\n</template>\n\n<script>\nimport Apexchart from 'vue-apexcharts'\nimport EventBus from '../../main'\n\nexport default {\n  props: ['chartData'],\n  components: { Apexchart },\n  data: function () {\n    return {\n      options: {\n        chart: {\n          type: 'bar',\n          zoom: {\n            enabled: false,\n            type: 'x',\n            autoScaleYaxis: true,\n          },\n          foreColor: '#fff',\n          animations: {\n            enabled: true,\n            easing: 'easeinout',\n            speed: 50,\n            animateGradually: {\n              enabled: true,\n              delay: 50,\n            },\n            dynamicAnimation: {\n              enabled: true,\n              speed: 50,\n            },\n          },\n          colors: ['#4285f'],\n          toolbar: {\n            show: true,\n            tools: {\n              download: false,\n              selection: true,\n              zoom: true,\n              zoomin: true,\n              zoomout: true,\n            },\n          },\n          events: {\n            dataPointSelection: (event, chartContext, config) => {\n              this.emitFilterRequest(config)\n            },\n          },\n        },\n        tooltip: {\n          enabled: true,\n          followCursor: false,\n          theme: 'dark',\n          x: {\n            formatter: (timestamp) => {\n              let timerange = this.getBucketDateTimeRange(timestamp)\n              let duration = this.$moment.duration(timerange.start.diff(timerange.end))\n              return `${timerange.start.format('YYYY-MM-DD HH:mm:ss')} + ${duration.humanize()}`\n            },\n          },\n        },\n        plotOptions: {\n          bar: {\n            columnWidth: '95%',\n            borderRadius: 4,\n          },\n        },\n        dataLabels: {\n          enabled: false,\n        },\n        grid: {\n          xaxis: {\n            lines: {\n              show: false,\n            },\n          },\n          yaxis: {\n            lines: {\n              show: false,\n            },\n          },\n        },\n        xaxis: {\n          type: 'datetime',\n          tickPlacement: 'on',\n        },\n      },\n    }\n  },\n  computed: {\n    series() {\n      let series = {\n        name: 'Events',\n        data: [],\n      }\n      if (this.chartData) {\n        series.data = Object.entries(this.chartData.data).map((e) => [parseInt(e[0]), e[1]])\n        return [series]\n      }\n      return [series]\n    },\n  },\n  methods: {\n    getBucketDateTimeRange(timestamp) {\n      let startDatetime = this.$moment.utc(timestamp)\n\n      // Get bucket interval from Elasticsearch. Format: 3M, 1s etc\n      let intervalSplit = this.chartData.interval.split(/(\\d+)/)\n      let intervalCount = intervalSplit[1]\n      let intervalPeriod = intervalSplit[2]\n\n      // Calculate the end of bucket time range using the interval\n      let endDatetime = this.$moment.utc(timestamp).add(parseInt(intervalCount), intervalPeriod)\n      return { start: startDatetime, end: endDatetime }\n    },\n    emitFilterRequest(config) {\n      let dataPointIndex = config.selectedDataPoints[0][0]\n      let series = config.w.config.series[0]['data']\n\n      // Exit early if this is the last bucket.\n      if (series.length === 1) {\n        return\n      }\n\n      let timestamp = series[dataPointIndex][0]\n      let timerange = this.getBucketDateTimeRange(timestamp)\n\n      let chip = {\n        field: '',\n        type: 'datetime_range',\n        value: timerange.start.toISOString() + ',' + timerange.end.toISOString(),\n        operator: 'must',\n        active: true,\n      }\n      this.$emit('addChip', chip)\n    },\n    setTheme() {\n      if (localStorage.theme === 'dark') {\n        this.options = {\n          chart: {\n            foreColor: '#fff',\n          },\n          tooltip: {\n            theme: 'dark',\n          },\n        }\n      } else {\n        this.options = {\n          chart: {\n            foreColor: '#333',\n          },\n          tooltip: {\n            theme: 'light',\n          },\n        }\n      }\n    },\n  },\n  created() {\n    // this.setTheme()\n    EventBus.$on('isDarkTheme', this.setTheme)\n  },\n  mounted() {\n    this.setTheme()\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BarChart.vue?vue&type=template&id=39824ea2&\"\nimport script from \"./BarChart.vue?vue&type=script&lang=js&\"\nexport * from \"./BarChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-card',{attrs:{\"outlined\":\"\",\"height\":\"100%\"}},[_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',_vm._l((_vm.fullEventFiltered),function(value,key){return _c('tr',{key:key,on:{\"mouseover\":function($event){_vm.c_key = key},\"mouseleave\":function($event){_vm.c_key = -1}}},[(key == _vm.c_key)?_c('td',{staticClass:\"text-right\"},[_c('v-btn',{staticClass:\"pr-1\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"icon\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.copyToClipboard(key)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-content-copy\")])],1)],1):_c('td',[_c('div',{staticClass:\"px-3\"})]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(key)+\"\\n                \")]),(key.includes('xml') || _vm.checkContextLinkDisplay(key, value) || (key == _vm.c_key))?_c('td',{staticClass:\"text-right pr-1\"},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(key == _vm.c_key),expression:\"key == c_key\"}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"icon\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.copyToClipboard(value)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-content-copy\")])],1),(key.includes('xml'))?_c('v-dialog',{attrs:{\"width\":\"1000\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticStyle:{\"cursor\":\"pointer\"},attrs:{\"icon\":\"\",\"color\":\"primary\",\"x-small\":\"\"},on:{\"click\":function($event){_vm.formatXMLString = true}}},'v-btn',attrs,false),on),[_c('v-tooltip',{attrs:{\"top\":\"\",\"close-delay\":\"300\",\"open-on-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"\\n                              mdi-xml\\n                            \")])]}}],null,true)},[_c('span',[_vm._v(\"Prettify XML\")])])],1)]}}],null,true),model:{value:(_vm.formatXMLString),callback:function ($$v) {_vm.formatXMLString=$$v},expression:\"formatXMLString\"}},[_c('ts-format-xml-string',{attrs:{\"app\":\"\",\"xmlString\":value},on:{\"cancel\":function($event){_vm.formatXMLString = false}}})],1):_vm._e(),(_vm.checkContextLinkDisplay(key, value))?_c('v-menu',{attrs:{\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticStyle:{\"cursor\":\"pointer\"},attrs:{\"icon\":\"\",\"color\":\"primary\",\"x-small\":\"\"}},'v-btn',attrs,false),on),[_c('v-tooltip',{attrs:{\"top\":\"\",\"close-delay\":\"300\",\"open-on-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"\\n                              mdi-open-in-new\\n                            \")])]}}],null,true)},[_c('span',[_vm._v(\"Context Lookup\")])])],1)]}}],null,true)},[_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.getContextLinkItems(key)),function(item,index){return _c('v-list-item',{key:index,staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.contextLinkRedirect(key,item,value)}}},[(_vm.getContextLinkRedirectState(key,item))?_c('v-list-item-title',[_vm._v(_vm._s(item))]):_c('v-list-item-title',[_vm._v(_vm._s(item)+\"*\")]),_c('v-dialog',{attrs:{\"max-width\":\"515\",\"retain-focus\":false},model:{value:(_vm.redirectWarnDialog),callback:function ($$v) {_vm.redirectWarnDialog=$$v},expression:\"redirectWarnDialog\"}},[_c('ts-link-redirect-warning',{attrs:{\"app\":\"\",\"context-value\":_vm.contextValue,\"context-url\":_vm.contextUrl},on:{\"cancel\":function($event){_vm.redirectWarnDialog = false}}})],1)],1)}),1)],1):_vm._e()],1):_c('td',[_c('div',{staticClass:\"px-5\"})]),_c('td',{staticClass:\"pl-0\",attrs:{\"width\":\"100%\"}},[_vm._v(\"\\n                  \"+_vm._s(value)+\"\\n                \")])])}),0)]},proxy:true}])})],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-card',{attrs:{\"outlined\":\"\"}},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\"}},[_c('v-toolbar-title',{staticStyle:{\"font-size\":\"1.2em\"}},[_vm._v(\"Comments\")])],1),_c('v-list',{attrs:{\"three-line\":\"\"}},_vm._l((_vm.comments),function(comment,index){return _c('v-list-item',{key:comment.id,on:{\"mouseover\":function($event){return _vm.selectComment(comment)},\"mouseleave\":function($event){return _vm.unSelectComment()}}},[_c('v-list-item-avatar',[_c('v-avatar',{attrs:{\"color\":\"grey lighten-1\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm._f(\"initialLetter\")(comment.user.username)))])])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"\\n                \"+_vm._s(comment.user.username)+\"\\n              \")]),_c('v-list-item-subtitle',[_vm._v(\"\\n                \"+_vm._s(_vm._f(\"shortDateTime\")(comment.created_at))+\" (\"+_vm._s(_vm._f(\"timeSince\")(comment.created_at))+\")\\n              \")]),(comment.editable)?_c('v-card',{staticClass:\"mt-5\",attrs:{\"flat\":\"\"}},[_c('v-textarea',{attrs:{\"hide-details\":\"\",\"auto-grow\":\"\",\"filled\":\"\"},model:{value:(_vm.comments[index].comment),callback:function ($$v) {_vm.$set(_vm.comments[index], \"comment\", $$v)},expression:\"comments[index].comment\"}}),(comment.editable)?_c('v-card-actions',[_c('v-spacer'),(comment.editable)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.editComment(index, false)}}},[_vm._v(\"\\n                    Cancel\\n                  \")]):_vm._e(),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.updateComment(comment, index)}}},[_vm._v(\" Save \")])],1):_vm._e()],1):_c('p',{staticClass:\"body-2\",staticStyle:{\"max-width\":\"90%\"}},[_vm._v(_vm._s(comment.comment))])],1),(comment === _vm.selectedComment && _vm.meta.permissions.write && _vm.currentUser == comment.user.username)?_c('v-list-item-action',{staticStyle:{\"position\":\"absolute\",\"right\":\"0\"}},[_c('v-chip',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"outlined\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.editComment(index)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-square-edit-outline\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteComment(comment.id, index)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-trash-can-outline\")])],1)],1)],1):_vm._e()],1)}),1),(_vm.meta.permissions.write)?_c('v-card-actions',[_c('v-textarea',{staticClass:\"mx-2 mb-2\",attrs:{\"hide-details\":\"\",\"auto-grow\":\"\",\"filled\":\"\",\"label\":\"Add comment\",\"rows\":\"1\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.postComment}},[_c('v-icon',[_vm._v(\"mdi-send\")])],1)],1):_vm._e()],1)],1)],1),_c('br')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticStyle:{\"overflow\":\"initial\"},attrs:{\"width\":\"1000\"}},[_c('v-container',{staticClass:\"px-8\"},[_c('v-alert',{attrs:{\"border\":\"top\",\"colored-border\":\"\",\"type\":\"info\",\"elevation\":\"2\"}},[_vm._v(\" XML viewer \")]),_c('v-alert',{attrs:{\"colored-border\":\"\",\"color\":'success',\"border\":\"left\",\"elevation\":\"1\"}},[_c('pre',{attrs:{\"lang\":\"xml\"}},[_vm._v(_vm._s(_vm.xmlString))])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.clearAndCancel}},[_vm._v(\" Close \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-card width=\"1000\" style=\"overflow: initial\">\n    <v-container class=\"px-8\">\n      <v-alert border=\"top\" colored-border type=\"info\" elevation=\"2\"> XML viewer </v-alert>\n      <v-alert colored-border :color=\"'success'\" border=\"left\" elevation=\"1\">\n        <pre lang=\"xml\">{{ xmlString }}</pre>\n      </v-alert>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text color=\"primary\" @click=\"clearAndCancel\"> Close </v-btn>\n      </v-card-actions>\n    </v-container>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  props: ['xmlString'],\n  methods: {\n    clearAndCancel: function () {\n      this.$emit('cancel')\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormatXMLString.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormatXMLString.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormatXMLString.vue?vue&type=template&id=5bf1c96e&scoped=true&\"\nimport script from \"./FormatXMLString.vue?vue&type=script&lang=js&\"\nexport * from \"./FormatXMLString.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bf1c96e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_c('v-icon',{attrs:{\"large\":\"\",\"color\":\"red\"}},[_vm._v(\"mdi-shield-alert-outline\")]),_c('span',{staticClass:\"text-h6 ml-2\"},[_vm._v(\"External redirect warning!\")])],1),_c('v-card-text',[_c('div',[_vm._v(\"\\n      This action will open the link below in a new tab! Do you really \\n      want to send the following value to this external service?\\n    \")]),_c('div',[_c('b',[_vm._v(\"Value:\")]),_c('br'),_c('code',{staticClass:\"code\"},[_vm._v(\"\\n        \"+_vm._s(_vm.contextValue)+\"\\n      \")])]),_c('div',[_c('b',[_vm._v(\"External website:\")]),_c('br'),_c('code',{staticClass:\"code\"},[_vm._v(\"\\n        \"+_vm._s(_vm.contextUrl)+\"\\n      \")])])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.clearAndCancel}},[_vm._v(\"\\n      cancel\\n    \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"href\":_vm.contextUrl,\"target\":\"_blank\"},on:{\"click\":_vm.clearAndCancel}},[_vm._v(\"\\n      continue\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n    http://www.apache.org/licenses/LICENSE-2.0\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n    <v-card>\n      <v-card-title>\n        <v-icon large color=\"red\">mdi-shield-alert-outline</v-icon>\n        <span class=\"text-h6 ml-2\">External redirect warning!</span>\n      </v-card-title>\n      <v-card-text>\n        <div>\n          This action will open the link below in a new tab! Do you really \n          want to send the following value to this external service?\n        </div>\n        <div>\n          <b>Value:</b><br/>\n          <code class=\"code\">\n            {{ contextValue }}\n          </code>\n        </div>\n        <div>\n          <b>External website:</b><br/>\n          <code class=\"code\">\n            {{ contextUrl }}\n          </code>\n        </div>\n  \n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn\n          color=\"primary\"\n          text\n          @click=\"clearAndCancel\"\n        >\n          cancel\n        </v-btn>\n        <v-btn\n          color=\"primary\"\n          text\n          :href=\"contextUrl\"\n          target=\"_blank\"\n          @click=\"clearAndCancel\"\n        >\n          continue\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </template>\n  \n  <script>\n  export default {\n    props: ['contextValue', 'contextUrl' ],\n    methods: {\n      clearAndCancel: function () {\n        this.$emit('cancel')\n      },\n    },\n  }\n  </script>\n  \n  <style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkRedirectWarning.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkRedirectWarning.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LinkRedirectWarning.vue?vue&type=template&id=3e620fbd&scoped=true&\"\nimport script from \"./LinkRedirectWarning.vue?vue&type=script&lang=js&\"\nexport * from \"./LinkRedirectWarning.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e620fbd\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <v-row>\n      <v-col cols=\"8\">\n        <v-card outlined height=\"100%\">\n          <v-simple-table dense>\n            <template v-slot:default>\n              <tbody>\n                <tr v-for=\"(value, key) in fullEventFiltered\" :key=\"key\" @mouseover=\"c_key = key\" @mouseleave=\"c_key = -1\">\n                  <!-- Event field name actions -->\n                  <td v-if=\"key == c_key\" class=\"text-right\">\n\n                    <!-- Copy field name -->\n                    <v-btn\n                      icon\n                      x-small\n                      style=\"cursor: pointer\"\n                      @click=\"copyToClipboard(key)\"\n                      class=\"pr-1\"\n                    >\n                      <v-icon small>mdi-content-copy</v-icon>\n                    </v-btn>\n\n                  </td>\n                  <td v-else>\n                    <div class=\"px-3\"></div>\n                  </td>\n\n                  <!-- Event field name -->\n                  <td>\n                    {{ key }}\n                  </td>\n\n                  <!-- Event field value action icons -->\n                  <td v-if=\"key.includes('xml') || checkContextLinkDisplay(key, value) || (key == c_key)\" class=\"text-right pr-1\">\n\n                    <!-- Copy event value -->\n                    <v-btn\n                      icon\n                      x-small\n                      style=\"cursor: pointer\"\n                      @click=\"copyToClipboard(value)\"\n                      v-show=\"key == c_key\"\n                    >\n                      <v-icon small>mdi-content-copy</v-icon>\n                    </v-btn>\n\n                    <!-- XML prettify dialog -->\n                    <v-dialog v-if=\"key.includes('xml')\" v-model=\"formatXMLString\" width=\"1000\">\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn\n                          icon\n                          color=\"primary\"\n                          x-small\n                          style=\"cursor: pointer\"\n                          v-bind=\"attrs\"\n                          v-on=\"on\"\n                          @click=\"formatXMLString = true\"\n                        >\n                          <v-tooltip top close-delay=300 :open-on-click=\"false\">\n                            <template v-slot:activator=\"{ on }\">\n                              <v-icon v-on=\"on\" small>\n                                mdi-xml\n                              </v-icon>\n                            </template>\n                            <span>Prettify XML</span>\n                          </v-tooltip>\n                        </v-btn>\n                      </template>\n                      <ts-format-xml-string\n                        app\n                        @cancel=\"formatXMLString = false\"\n                        :xmlString=\"value\"\n                      ></ts-format-xml-string>\n                    </v-dialog>\n\n                    <!-- Context link submenu -->\n                    <v-menu\n                      v-if=\"checkContextLinkDisplay(key, value)\"\n                      offset-y\n                      transition=\"slide-y-transition\"\n                    >\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn\n                          icon\n                          color=\"primary\"\n                          x-small\n                          style=\"cursor: pointer\"\n                          v-bind=\"attrs\"\n                          v-on=\"on\"\n                        >\n                          <v-tooltip top close-delay=300 :open-on-click=\"false\">\n                            <template v-slot:activator=\"{ on }\">\n                              <v-icon v-on=\"on\" small>\n                                mdi-open-in-new\n                              </v-icon>\n                            </template>\n                            <span>Context Lookup</span>\n                          </v-tooltip>\n                        </v-btn>\n                      </template>\n                      <v-list dense>\n                        <v-list-item\n                          v-for=\"(item, index) in getContextLinkItems(key)\"\n                          :key=\"index\"\n                          style=\"cursor: pointer\"\n                          @click.stop=\"contextLinkRedirect(key,item,value)\"\n                        >\n                          <v-list-item-title v-if=\"getContextLinkRedirectState(key,item)\" >{{ item }}</v-list-item-title>\n                          <v-list-item-title v-else >{{ item }}*</v-list-item-title>\n                          <v-dialog\n                            v-model=\"redirectWarnDialog\"\n                            max-width=\"515\"\n                            :retain-focus=\"false\"\n                          >\n                            <ts-link-redirect-warning\n                              app\n                              @cancel=\"redirectWarnDialog = false\"\n                              :context-value=\"contextValue\"\n                              :context-url=\"contextUrl\"\n                            ></ts-link-redirect-warning>\n                          </v-dialog>\n                        </v-list-item>\n                      </v-list>\n                    </v-menu>\n\n                  </td>\n                  <td v-else>\n                    <div class=\"px-5\"></div>\n                  </td>\n\n                  <!-- Event field value -->\n                  <td width=\"100%\" class=\"pl-0\">\n                    {{ value }}\n                  </td>\n                </tr>\n              </tbody>\n            </template>\n          </v-simple-table>\n        </v-card>\n      </v-col>\n      <v-col cols=\"4\">\n        <v-card outlined>\n          <v-toolbar dense flat>\n            <v-toolbar-title style=\"font-size: 1.2em\">Comments</v-toolbar-title>\n          </v-toolbar>\n\n          <v-list three-line>\n            <v-list-item\n              v-for=\"(comment, index) in comments\"\n              :key=\"comment.id\"\n              @mouseover=\"selectComment(comment)\"\n              @mouseleave=\"unSelectComment()\"\n            >\n              <v-list-item-avatar>\n                <v-avatar color=\"grey lighten-1\">\n                  <span class=\"white--text\">{{ comment.user.username | initialLetter }}</span>\n                </v-avatar>\n              </v-list-item-avatar>\n\n              <v-list-item-content>\n                <v-list-item-title>\n                  {{ comment.user.username }}\n                </v-list-item-title>\n                <v-list-item-subtitle>\n                  {{ comment.created_at | shortDateTime }} ({{ comment.created_at | timeSince }})\n                </v-list-item-subtitle>\n\n                <v-card flat v-if=\"comment.editable\" class=\"mt-5\">\n                  <v-textarea v-model=\"comments[index].comment\" hide-details auto-grow filled></v-textarea>\n\n                  <v-card-actions v-if=\"comment.editable\">\n                    <v-spacer></v-spacer>\n                    <v-btn text color=\"primary\" v-if=\"comment.editable\" @click=\"editComment(index, false)\">\n                      Cancel\n                    </v-btn>\n                    <v-btn text color=\"primary\" @click=\"updateComment(comment, index)\"> Save </v-btn>\n                  </v-card-actions>\n                </v-card>\n                <p v-else style=\"max-width: 90%\" class=\"body-2\">{{ comment.comment }}</p>\n              </v-list-item-content>\n\n              <v-list-item-action\n                v-if=\"comment === selectedComment && meta.permissions.write && currentUser == comment.user.username\"\n                style=\"position: absolute; right: 0\"\n              >\n                <v-chip outlined style=\"margin-right: 10px\">\n                  <v-btn icon small @click=\"editComment(index)\">\n                    <v-icon small>mdi-square-edit-outline</v-icon>\n                  </v-btn>\n                  <v-btn icon small @click=\"deleteComment(comment.id, index)\">\n                    <v-icon small>mdi-trash-can-outline</v-icon>\n                  </v-btn>\n                </v-chip>\n              </v-list-item-action>\n            </v-list-item>\n          </v-list>\n\n          <v-card-actions v-if=\"meta.permissions.write\">\n            <v-textarea\n              v-model=\"comment\"\n              hide-details\n              auto-grow\n              filled\n              class=\"mx-2 mb-2\"\n              label=\"Add comment\"\n              rows=\"1\"\n            ></v-textarea>\n            <v-btn icon @click=\"postComment\">\n              <v-icon>mdi-send</v-icon>\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n    <br />\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport EventBus from '../../main'\nimport TsFormatXmlString from './FormatXMLString.vue'\nimport TsLinkRedirectWarning from './LinkRedirectWarning.vue'\n\nexport default {\n  components: {\n    TsFormatXmlString,\n    TsLinkRedirectWarning,\n  },\n  props: ['event'],\n  data() {\n    return {\n      fullEvent: {},\n      comment: '',\n      comments: [],\n      selectedComment: null,\n      formatXMLString: false,\n      redirectWarnDialog: false,\n      contextUrl: '',\n      contextValue: '',\n      c_key: -1,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    currentUser() {\n      return this.$store.state.currentUser\n    },\n    currentSearchNode() {\n      return this.$store.state.currentSearchNode\n    },\n    fullEventFiltered() {\n      Object.getOwnPropertyNames(this.fullEvent).forEach((key) => {\n        // Remove internal properties from the UI\n        if (key.startsWith('__ts')) {\n          delete this.fullEvent[key]\n        }\n      })\n      return this.fullEvent\n    },\n    contextLinkConf() {\n      return this.$store.state.contextLinkConf\n    },\n  },\n  methods: {\n    getEvent: function () {\n      let searchindexId = this.event._index\n      let eventId = this.event._id\n      ApiClient.getEvent(this.sketch.id, searchindexId, eventId)\n        .then((response) => {\n          this.fullEvent = response.data.objects\n          this.comments = response.data.meta.comments\n        })\n        .catch((e) => {})\n    },\n    postComment: function () {\n      EventBus.$emit('eventAnnotated', { type: '__ts_comment', event: this.event, searchNode: this.currentSearchNode })\n      ApiClient.saveEventAnnotation(this.sketch.id, 'comment', this.comment, [this.event], this.currentSearchNode)\n        .then((response) => {\n          this.comments.push(response.data.objects[0][0])\n          this.comment = ''\n        })\n        .catch((e) => {})\n    },\n    updateComment: function (comment, commentIndex) {\n      ApiClient.updateEventAnnotation(this.sketch.id, 'comment', comment, [this.event], this.currentSearchNode)\n        .then((response) => {\n          this.comments.splice(commentIndex, 1, comment)\n          comment.editable = false\n        })\n        .catch((e) => {\n          console.error(e)\n        })\n    },\n    deleteComment: function (commentId, commentIndex) {\n      if (confirm('Are you sure?')) {\n        ApiClient.deleteEventAnnotation(this.sketch.id, 'comment', commentId, this.event, this.currentSearchNode)\n          .then((response) => {\n            this.comments.splice(commentIndex, 1)\n          })\n          .catch((e) => {\n            console.error(e)\n          })\n      }\n    },\n    editComment(commentIndex, enable = true) {\n      const changeComment = this.comments[commentIndex]\n      changeComment.editable = enable\n      this.comments.splice(commentIndex, 1, changeComment)\n    },\n\n    selectComment(comment) {\n      this.selectedComment = comment\n    },\n    unSelectComment() {\n      this.selectedComment = false\n    },\n    getContextLinkItems(key) {\n      let fieldConfList = this.contextLinkConf[key.toLowerCase()] ? this.contextLinkConf[key.toLowerCase()] : []\n      let shortNameList = fieldConfList.map(x => x.short_name)\n      return shortNameList\n    },\n    checkContextLinkDisplay(key, value) {\n      const fieldConfList = this.contextLinkConf[key.toLowerCase()] ? this.contextLinkConf[key.toLowerCase()] : []\n      for (const confItem of fieldConfList) {\n        if (confItem['validation_regex'] !== '' && confItem['validation_regex'] !== undefined) {\n          let validationPattern = confItem['validation_regex']\n          let regexIdentifiers = validationPattern.slice(validationPattern.lastIndexOf('/')+1)\n          let regexPattern = validationPattern.slice(validationPattern.indexOf('/')+1, validationPattern.lastIndexOf('/'))\n          let valueRegex = new RegExp(regexPattern, regexIdentifiers)\n          if (valueRegex.test(value)) {\n            return true\n          }\n          else {\n            return false\n          }\n        }\n        else {\n          return true\n        }\n      }\n      return false\n    },\n    contextLinkRedirect(key, item, value) {\n      const fieldConfList = this.contextLinkConf[key.toLowerCase()] ? this.contextLinkConf[key.toLowerCase()] : []\n      for (const confItem of fieldConfList) {\n        if (confItem['short_name'] === item) {\n          if (confItem['redirect_warning']) {\n            this.redirectWarnDialog = true\n            this.contextValue = value\n            this.contextUrl = confItem['context_link'].replace('<ATTR_VALUE>', encodeURIComponent(value))\n          }\n          else {\n            // TODO verify if encodeURIComponent is sufficient sanitization here?\n            window.open(confItem['context_link'].replace('<ATTR_VALUE>', encodeURIComponent(value)), '_blank')\n            this.redirectWarnDialog = false\n          }\n        }\n      }\n    },\n    getContextLinkRedirectState (key, item) {\n      const fieldConfList = this.contextLinkConf[key.toLowerCase()] ? this.contextLinkConf[key.toLowerCase()] : []\n      for (const confItem of fieldConfList) {\n        if (confItem['short_name'] === item) {\n          return confItem['redirect_warning']\n        }\n      }\n    },\n    copyToClipboard (content) {\n      try {\n        navigator.clipboard.writeText(content)\n        this.infoSnackBar('copied')\n      } catch (error) {\n        this.errorSnackBar('Failed copying to the clipboard!')\n        console.error(error)\n      }\n    },\n  },\n  created: function () {\n    this.getEvent()\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.flexcard {\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventDetail.vue?vue&type=template&id=353bf715&\"\nimport script from \"./EventDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./EventDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventDetail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"offset-x\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"ml-1\"},'v-icon',attrs,false),on),[_vm._v(\"mdi-tag-plus-outline\")])]}}]),model:{value:(_vm.showMenu),callback:function ($$v) {_vm.showMenu=$$v},expression:\"showMenu\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"min-width\":\"500px\"}},[_c('v-card-text',[_c('strong',[_vm._v(\"Quick tags\")]),_c('v-chip-group',_vm._l((_vm.quickTags),function(tag){return _c('v-chip',{key:tag.tag,staticClass:\"text-center\",attrs:{\"color\":tag.color,\"text-color\":tag.textColor,\"small\":\"\"},on:{\"click\":function($event){return _vm.addTags(tag.tag)}}},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\" \"+_vm._s(tag.label)+\" \")]),_vm._v(\"\\n          \"+_vm._s(tag.tag))],1)}),1),_c('br'),_c('v-combobox',{attrs:{\"items\":_vm.tags,\"label\":\"Add tags..\",\"outlined\":\"\",\"chips\":\"\",\"small-chips\":\"\",\"multiple\":\"\"},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.addTags(_vm.selectedTags)}}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-menu v-model=\"showMenu\" offset-x :close-on-content-click=\"false\">\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-icon v-bind=\"attrs\" v-on=\"on\" class=\"ml-1\">mdi-tag-plus-outline</v-icon>\n    </template>\n\n    <v-card min-width=\"500px\" class=\"mx-auto\">\n      <v-card-text>\n        <strong>Quick tags</strong>\n        <v-chip-group>\n          <v-chip\n            v-for=\"tag in quickTags\"\n            :key=\"tag.tag\"\n            :color=\"tag.color\"\n            :text-color=\"tag.textColor\"\n            class=\"text-center\"\n            small\n            @click=\"addTags(tag.tag)\"\n          >\n            <v-icon small left> {{ tag.label }} </v-icon>\n            {{ tag.tag }}</v-chip\n          >\n        </v-chip-group>\n        <br />\n        <v-combobox\n          v-model=\"selectedTags\"\n          :items=\"tags\"\n          label=\"Add tags..\"\n          outlined\n          chips\n          small-chips\n          multiple\n        ></v-combobox>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text @click=\"addTags(selectedTags)\">Save</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  props: ['event'],\n  data() {\n    return {\n      showMenu: false,\n      listItems: [],\n      selectedTags: [],\n      // TODO: Refactor this into a configurable option\n      quickTags: [\n        { tag: 'bad', color: 'red', textColor: 'white', label: 'mdi-alert-circle-outline' },\n        { tag: 'suspicious', color: 'orange', textColor: 'white', label: 'mdi-help-circle-outline' },\n        { tag: 'good', color: 'green', textColor: 'white', label: 'mdi-check-circle-outline' },\n      ],\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    tags() {\n      return this.$store.state.tags.map((tag) => tag.tag)\n    },\n  },\n  methods: {\n    addTags: function (tagsToAdd) {\n      if (!Array.isArray(tagsToAdd)) {\n        tagsToAdd = [tagsToAdd]\n      }\n\n      tagsToAdd.forEach((tag) => {\n        if (this.event._source.tag.indexOf(tag) === -1) {\n          this.event._source.tag.push(tag)\n          ApiClient.tagEvents(this.sketch.id, [this.event], [tag])\n            .then((response) => {\n              this.$store.dispatch('updateTimelineTags', { sketchId: this.sketch.id, tag: tag, num: 1 })\n            })\n            .catch((e) => {\n              console.error('Cannot tag event')\n            })\n        }\n        this.selectedTags = []\n        this.showMenu = false\n      })\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventTagMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventTagMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventTagMenu.vue?vue&type=template&id=8f863e78&scoped=true&\"\nimport script from \"./EventTagMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./EventTagMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8f863e78\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"ml-1\"},'v-icon',attrs,false),on),[_vm._v(\"mdi-dots-vertical\")])]}}]),model:{value:(_vm.showMenu),callback:function ($$v) {_vm.showMenu=$$v},expression:\"showMenu\"}},[_c('v-list',{staticClass:\"mx-auto\",attrs:{\"dense\":\"\"}},[_c('v-list-item',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.copyEventUrlToClipboard()}}},[_c('v-list-item-title',[_c('v-icon',[_vm._v(\"mdi-link-variant\")]),_vm._v(\" Copy link to event \")],1)],1),_c('v-list-item',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.copyEventAsJSON()}}},[_c('v-list-item-title',[_c('v-icon',[_vm._v(\"mdi-code-json\")]),_vm._v(\" Copy event data as JSON \")],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-menu v-model=\"showMenu\" offset-y transition=\"slide-y-transition\">\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-icon v-bind=\"attrs\" v-on=\"on\" class=\"ml-1\">mdi-dots-vertical</v-icon>\n    </template>\n    <v-list dense class=\"mx-auto\">\n      <v-list-item style=\"cursor: pointer\" @click=\"copyEventUrlToClipboard()\">\n        <v-list-item-title> <v-icon>mdi-link-variant</v-icon> Copy link to event </v-list-item-title>\n      </v-list-item>\n      <v-list-item style=\"cursor: pointer\" @click=\"copyEventAsJSON()\">\n        <v-list-item-title> <v-icon>mdi-code-json</v-icon> Copy event data as JSON </v-list-item-title>\n      </v-list-item>\n    </v-list>\n  </v-menu>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  props: ['event'],\n  data() {\n    return {\n      showMenu: false,\n      originalContext: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n  methods: {\n    copyEventAsJSON() {\n      ApiClient.getEvent(this.sketch.id, this.event._index, this.event._id)\n        .then((response) => {\n          let fullEvent = response.data.objects\n          let eventJSON = JSON.stringify(fullEvent, null, 3)\n          navigator.clipboard.writeText(eventJSON)\n          this.infoSnackBar('Event JSON copied to clipboard')\n        })\n        .catch((e) => {\n          this.errorSnackBar('Failed to load JSON into the clipboard')\n          console.error(e)\n        })\n    },\n    copyEventUrlToClipboard() {\n      try {\n        let eventUrl = window.location.origin + this.$route.path + '?q=_id:' + this.event._id\n        navigator.clipboard.writeText(eventUrl)\n        this.infoSnackBar('Event URL copied to clipboard')\n      } catch (error) {\n        this.errorSnackBar('Failed to load Event URL into the clipboard')\n        console.error(error)\n      }\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventActionMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventActionMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventActionMenu.vue?vue&type=template&id=259a8939&scoped=true&\"\nimport script from \"./EventActionMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./EventActionMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"259a8939\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <div v-if=\"!eventList.objects.length && !searchInProgress\" class=\"ml-3\">\n      <p>\n        Your search <span v-if=\"currentQueryString\">\"{{ currentQueryString }}\"</span> did not match any events.\n      </p>\n      <p>Suggestions:</p>\n      <li>Try different keywords.</li>\n      <li>Try more general keywords.</li>\n      <li>Try fewer keywords.</li>\n    </div>\n    <div v-if=\"eventList.objects.length || searchInProgress\">\n      <v-data-table\n        v-model=\"selectedEvents\"\n        :headers=\"headers\"\n        :items=\"eventList.objects\"\n        :footer-props=\"{ 'items-per-page-options': [10, 40, 80, 100, 200, 500], 'show-current-page': true }\"\n        :loading=\"searchInProgress\"\n        :options.sync=\"tableOptions\"\n        :server-items-length=\"totalHitsForPagination\"\n        item-key=\"_id\"\n        loading-text=\"Searching... Please wait\"\n        show-select\n        disable-filtering\n        disable-sort\n        :hide-default-footer=\"totalHits < 11 || disablePagination\"\n        :expanded=\"expandedRows\"\n        :dense=\"displayOptions.isCompact\"\n        fixed-header\n      >\n        <template v-slot:top=\"{ pagination, options, updateOptions }\">\n          <v-toolbar dense flat color=\"transparent\">\n            <div v-if=\"!selectedEvents.length\">\n              <span style=\"display: inline-block; min-width: 200px\">\n                <small>{{ fromEvent }}-{{ toEvent }} of {{ totalHits }} events ({{ totalTime }}s)</small>\n              </span>\n\n              <v-dialog v-model=\"saveSearchMenu\" v-if=\"!disableSaveSearch\" width=\"500\">\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn icon v-bind=\"attrs\" v-on=\"on\">\n                    <v-icon>mdi-content-save-outline</v-icon>\n                  </v-btn>\n                </template>\n                <v-card class=\"pa-4\">\n                  <h3>Save Search</h3>\n                  <br />\n                  <v-text-field\n                    v-model=\"saveSearchFormName\"\n                    required\n                    placeholder=\"Name your saved search\"\n                    outlined\n                    dense\n                    autofocus\n                    @focus=\"$event.target.select()\"\n                  >\n                  </v-text-field>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn text @click=\"saveSearchMenu = false\"> Cancel </v-btn>\n                    <v-btn color=\"primary\" depressed @click=\"saveSearch\" :disabled=\"!saveSearchFormName\"> Save </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n\n              <v-btn icon @click=\"showHistogram = !showHistogram\" v-if=\"!disableHistogram\">\n                <v-icon>mdi-chart-bar</v-icon>\n              </v-btn>\n\n              <v-dialog v-model=\"columnDialog\" v-if=\"!disableColumns\" max-width=\"500px\" scrollable>\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn icon v-bind=\"attrs\" v-on=\"on\">\n                    <v-icon>mdi-view-column-outline</v-icon>\n                  </v-btn>\n                </template>\n\n                <v-card height=\"50vh\">\n                  <v-card-title>Select columns</v-card-title>\n\n                  <v-card-text>\n                    <v-text-field\n                      v-model=\"searchColumns\"\n                      append-icon=\"mdi-magnify\"\n                      label=\"Search\"\n                      single-line\n                      hide-details\n                    ></v-text-field>\n                    <br />\n                    <v-data-table\n                      v-model=\"selectedFields\"\n                      :headers=\"columnHeaders\"\n                      :items=\"meta.mappings\"\n                      :search=\"searchColumns\"\n                      :hide-default-footer=\"true\"\n                      item-key=\"field\"\n                      disable-pagination\n                      show-select\n                      dense\n                      @input=\"updateSelectedFields\"\n                    >\n                    </v-data-table>\n                  </v-card-text>\n\n                  <v-divider></v-divider>\n\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"primary\" text @click=\"selectedFields = [{ field: 'message', type: 'text' }]\">\n                      Reset\n                    </v-btn>\n                    <v-btn color=\"primary\" text @click=\"columnDialog = false\"> Close </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n\n              <v-menu v-if=\"!disableSettings\" offset-y :close-on-content-click=\"false\">\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn icon v-bind=\"attrs\" v-on=\"on\">\n                    <v-icon>mdi-dots-horizontal</v-icon>\n                  </v-btn>\n                </template>\n\n                <v-card outlined max-width=\"475\" class=\"mx-auto\">\n                  <v-list subheader two-line flat dense>\n                    <v-subheader>Density</v-subheader>\n\n                    <v-list-item-group>\n                      <v-list-item :ripple=\"false\">\n                        <template>\n                          <v-list-item-action>\n                            <v-radio-group v-model=\"displayOptions.isCompact\">\n                              <v-radio :value=\"false\"></v-radio>\n                            </v-radio-group>\n                          </v-list-item-action>\n\n                          <v-list-item-content>\n                            <v-list-item-title>Comfortable</v-list-item-title>\n                            <v-list-item-subtitle>More space between rows</v-list-item-subtitle>\n                          </v-list-item-content>\n                        </template>\n                      </v-list-item>\n\n                      <v-list-item :ripple=\"false\">\n                        <template>\n                          <v-list-item-action>\n                            <v-radio-group v-model=\"displayOptions.isCompact\">\n                              <v-radio :value=\"true\"></v-radio>\n                            </v-radio-group>\n                          </v-list-item-action>\n\n                          <v-list-item-content>\n                            <v-list-item-title>Compact</v-list-item-title>\n                            <v-list-item-subtitle>Less space between rows</v-list-item-subtitle>\n                          </v-list-item-content>\n                        </template>\n                      </v-list-item>\n                    </v-list-item-group>\n                    <v-divider></v-divider>\n\n                    <v-list subheader two-line flat>\n                      <v-subheader>Misc</v-subheader>\n                      <v-list-item-group>\n                        <v-list-item :ripple=\"false\">\n                          <v-list-item-action>\n                            <v-switch dense color=\"\" v-model=\"displayOptions.showTags\"></v-switch>\n                          </v-list-item-action>\n                          <v-list-item-content>\n                            <v-list-item-title>Tags</v-list-item-title>\n                            <v-list-item-subtitle>Show tags</v-list-item-subtitle>\n                          </v-list-item-content>\n                        </v-list-item>\n                      </v-list-item-group>\n                      <v-list-item-group>\n                        <v-list-item :ripple=\"false\">\n                          <v-list-item-action>\n                            <v-switch dense v-model=\"displayOptions.showEmojis\"></v-switch>\n                          </v-list-item-action>\n                          <v-list-item-content>\n                            <v-list-item-title>Emojis</v-list-item-title>\n                            <v-list-item-subtitle>Show emojis</v-list-item-subtitle>\n                          </v-list-item-content>\n                        </v-list-item>\n                      </v-list-item-group>\n                      <v-list-item-group>\n                        <v-list-item :ripple=\"false\">\n                          <v-list-item-action>\n                            <v-switch dense v-model=\"displayOptions.showTimelineName\"></v-switch>\n                          </v-list-item-action>\n                          <v-list-item-content>\n                            <v-list-item-title>Timeline name</v-list-item-title>\n                            <v-list-item-subtitle>Show timeline name</v-list-item-subtitle>\n                          </v-list-item-content>\n                        </v-list-item>\n                      </v-list-item-group>\n                    </v-list>\n                  </v-list>\n                </v-card>\n              </v-menu>\n            </div>\n            <div v-else>\n              <small class=\"mr-2\">Actions:</small>\n              <v-btn x-small outlined @click=\"toggleMultipleStars()\">\n                <v-icon left color=\"amber\">mdi-star</v-icon>\n                Toggle star\n              </v-btn>\n            </div>\n\n            <v-spacer></v-spacer>\n\n            <v-data-footer\n              v-if=\"totalHits > 11 && !disablePagination\"\n              :pagination=\"pagination\"\n              :options=\"options\"\n              @update:options=\"updateOptions\"\n              :show-current-page=\"true\"\n              :items-per-page-options=\"[10, 40, 80, 100, 200, 500]\"\n              items-per-page-text=\"Rows per page:\"\n              style=\"border: 0\"\n              class=\"mr-n3\"\n            ></v-data-footer>\n          </v-toolbar>\n\n          <v-card v-if=\"showHistogram\" outlined class=\"my-3\">\n            <v-toolbar dense flat color=\"transparent\">\n              <v-spacer></v-spacer>\n              <v-btn v-if=\"timeFilterChips.length\" text color=\"primary\" @click=\"removeChips(timeFilterChips)\">\n                reset\n              </v-btn>\n              <v-btn icon @click=\"showHistogram = false\">\n                <v-icon>mdi-close</v-icon>\n              </v-btn>\n            </v-toolbar>\n            <ts-bar-chart\n              :chart-data=\"eventList.meta.count_over_time\"\n              @addChip=\"addChipFromHistogram($event)\"\n            ></ts-bar-chart>\n          </v-card>\n        </template>\n\n        <!-- Event details -->\n        <template v-slot:expanded-item=\"{ headers, item }\">\n          <td :colspan=\"headers.length\">\n            <!-- Details -->\n            <v-container v-if=\"item.showDetails\" fluid class=\"mt-4\">\n              <ts-event-detail :event=\"item\"></ts-event-detail>\n            </v-container>\n\n            <!-- Time bubble -->\n            <v-divider v-if=\"item.showDetails && item.deltaDays\"></v-divider>\n            <div v-if=\"item.deltaDays > 0\" class=\"ml-7\">\n              <div\n                class=\"ts-time-bubble-vertical-line ts-time-bubble-vertical-line-color\"\n                v-bind:style=\"getTimeBubbleColor(item)\"\n              ></div>\n              <div class=\"ts-time-bubble ts-time-bubble-color\" v-bind:style=\"getTimeBubbleColor(item)\">\n                <h5>\n                  <b>{{ item.deltaDays | compactNumber }}</b> days\n                </h5>\n              </div>\n              <div\n                class=\"ts-time-bubble-vertical-line ts-time-bubble-vertical-line-color\"\n                v-bind:style=\"getTimeBubbleColor(item)\"\n              ></div>\n            </div>\n          </td>\n        </template>\n\n        <!-- Actions field -->\n        <template v-slot:item.actions=\"{ item }\">\n          <v-btn small icon @click=\"toggleStar(item)\">\n            <v-icon v-if=\"item._source.label.includes('__ts_star')\" color=\"amber\">mdi-star</v-icon>\n            <v-icon v-else>mdi-star-outline</v-icon>\n          </v-btn>\n\n          <!-- Tag menu -->\n          <ts-event-tag-menu :event=\"item\"></ts-event-tag-menu>\n\n          <!-- Action sub-menu -->\n          <ts-event-action-menu :event=\"item\"></ts-event-action-menu>\n        </template>\n\n        <!-- Datetime field with action buttons -->\n        <template v-slot:item._source.timestamp=\"{ item }\">\n          <div v-bind:style=\"getTimelineColor(item)\" class=\"datetime-table-cell\">\n            {{ item._source.timestamp | formatTimestamp | toISO8601 }}\n          </div>\n        </template>\n\n        <!-- Generic slot for any field type. Adds tags and emojis to the first column. -->\n        <template v-for=\"(field, index) in headers\" v-slot:[getFieldName(field.text)]=\"{ item }\">\n          <span\n            :key=\"field.text\"\n            class=\"ts-event-field-container\"\n            style=\"cursor: pointer\"\n            @click=\"toggleDetailedEvent(item)\"\n          >\n            <span :class=\"{ 'ts-event-field-ellipsis': field.text === 'message' }\">\n              <!-- Tags -->\n              <span v-if=\"displayOptions.showTags && index === 3\">\n                <v-chip\n                  small\n                  class=\"mr-2\"\n                  v-for=\"tag in item._source.tag\"\n                  :key=\"tag\"\n                  :color=\"tagColor(tag).color\"\n                  :text-color=\"tagColor(tag).textColor\"\n                >\n                  <v-icon v-if=\"tag in tagConfig\" left small>{{ tagConfig[tag].label }}</v-icon>\n                  {{ tag }}</v-chip\n                >\n                <span v-for=\"label in item._source.label\" :key=\"label\">\n                  <v-chip v-if=\"!label.startsWith('__ts')\" small outlined class=\"mr-2\">\n                    {{ label }}\n                  </v-chip>\n                </span>\n              </span>\n              <!-- Emojis -->\n              <span v-if=\"displayOptions.showEmojis && index === 0\">\n                <span\n                  class=\"mr-2\"\n                  v-for=\"emoji in item._source.__ts_emojis\"\n                  :key=\"emoji\"\n                  v-html=\"emoji\"\n                  :title=\"meta.emojis[emoji]\"\n                  >{{ emoji }}\n                </span>\n              </span>\n              <span>{{ item._source[field.text] }}</span>\n            </span>\n          </span>\n        </template>\n\n        <!-- Timeline name field -->\n        <template v-slot:item.timeline_name=\"{ item }\">\n          <v-chip label style=\"margin-top: 1px; margin-bottom: 1px; font-size: 0.8em\">\n            <span class=\"timeline-name-ellipsis\" style=\"width: 130px; text-align: center\">{{\n              getTimeline(item).name\n            }}</span></v-chip\n          >\n        </template>\n\n        <!-- Comment field -->\n        <template v-slot:item._source.comment=\"{ item }\">\n          <v-badge :offset-y=\"10\" bordered v-if=\"item._source.comment.length\" :content=\"item._source.comment.length\">\n            <v-icon small @click=\"toggleDetailedEvent(item)\"> mdi-comment-text-multiple-outline </v-icon>\n          </v-badge>\n        </template>\n      </v-data-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport EventBus from '../../main'\n\nimport TsBarChart from './BarChart'\nimport TsEventDetail from './EventDetail'\nimport TsEventTagMenu from './EventTagMenu.vue'\nimport TsEventActionMenu from './EventActionMenu.vue'\n\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: ['_all'],\n    order: 'asc',\n    chips: [],\n  }\n}\n\nconst emptyEventList = () => {\n  return {\n    meta: {\n      count_per_index: {},\n      count_per_timeline: {},\n    },\n    objects: [],\n  }\n}\n\nexport default {\n  components: {\n    TsBarChart,\n    TsEventDetail,\n    TsEventTagMenu,\n    TsEventActionMenu,\n  },\n  props: {\n    queryRequest: {\n      type: Object,\n      default: () => {},\n    },\n    itemsPerPage: {\n      type: Number,\n      default: 40,\n    },\n    disableSaveSearch: {\n      type: Boolean,\n      default: false,\n    },\n    disableHistogram: {\n      type: Boolean,\n      default: false,\n    },\n    disableColumns: {\n      type: Boolean,\n      default: false,\n    },\n    disableSettings: {\n      type: Boolean,\n      default: false,\n    },\n    disablePagination: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      columnHeaders: [\n        {\n          text: '',\n          value: 'field',\n        },\n      ],\n      tableOptions: {\n        itemsPerPage: this.itemsPerPage,\n      },\n      currentItemsPerPage: this.itemsPerPage,\n      expandedRows: [],\n      selectedFields: [{ field: 'message', type: 'text' }],\n      searchColumns: '',\n      columnDialog: false,\n      saveSearchMenu: false,\n      saveSearchFormName: '',\n      selectedEventTags: [],\n      tagConfig: {\n        good: { color: 'green', textColor: 'white', label: 'mdi-check-circle-outline' },\n        bad: { color: 'red', textColor: 'white', label: 'mdi-alert-circle-outline' },\n        suspicious: { color: 'orange', textColor: 'white', label: 'mdi-help-circle-outline' },\n      },\n      searchInProgress: false,\n      currentPage: 1,\n      eventList: {\n        meta: {},\n        objects: [],\n      },\n      currentQueryString: '',\n      currentQueryFilter: defaultQueryFilter(),\n      selectedEvents: [],\n      displayOptions: {\n        isCompact: false,\n        showTags: true,\n        showEmojis: true,\n        showMillis: false,\n        showTimelineName: true,\n      },\n      showHistogram: false,\n      branchParent: null,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    totalHits() {\n      if (this.eventList.meta.es_total_count > 0 && this.eventList.meta.es_total_count_complete === 0) {\n        return this.eventList.meta.es_total_count\n      }\n      return this.eventList.meta.es_total_count_complete || 0\n    },\n    totalHitsForPagination() {\n      // Opensearch has a limit of 10k events when paginating\n      return this.eventList.meta.es_total_count || 0\n    },\n    totalTime() {\n      return this.eventList.meta.es_time / 1000 || 0\n    },\n    fromEvent() {\n      return this.currentQueryFilter.from || 1\n    },\n    toEvent() {\n      if (this.totalHits < this.currentQueryFilter.size) {\n        return\n      }\n      return parseInt(this.currentQueryFilter.from) + parseInt(this.currentQueryFilter.size)\n    },\n    timeFilterChips: function () {\n      return this.currentQueryFilter.chips.filter((chip) => chip.type.startsWith('datetime'))\n    },\n    currentSearchNode() {\n      return this.$store.state.currentSearchNode\n    },\n    headers() {\n      let baseHeaders = [\n        {\n          text: '',\n          value: 'data-table-select',\n        },\n        {\n          value: 'actions',\n          width: '105',\n        },\n        {\n          text: 'Datetime (UTC)',\n          align: 'start',\n          value: '_source.timestamp',\n          width: '200',\n        },\n        {\n          value: '_source.comment',\n          width: '40',\n        },\n      ]\n      let extraHeaders = []\n      this.selectedFields.forEach((field) => {\n        let header = {\n          text: field.field,\n          align: 'start',\n          value: '_source.' + field.field,\n        }\n        if (field.field === 'message') {\n          header.width = '100%'\n          extraHeaders.unshift(header)\n        } else {\n          extraHeaders.push(header)\n        }\n      })\n\n      // Extend the column headers from position 3 (after the actions column)\n      baseHeaders.splice(3, 0, ...extraHeaders)\n\n      // Add timeline name based on configuration\n      if (this.displayOptions.showTimelineName) {\n        baseHeaders.push({\n          value: 'timeline_name',\n          align: 'end',\n        })\n      }\n      return baseHeaders\n    },\n  },\n  methods: {\n    tagColor: function (tag) {\n      if (this.tagConfig[tag]) {\n        return this.tagConfig[tag]\n      }\n      return 'lightgrey'\n    },\n    getFieldName: function (field) {\n      return 'item._source.' + field\n    },\n    toggleDetailedEvent: function (row) {\n      let index = this.expandedRows.findIndex((x) => x._id === row._id)\n      if (this.expandedRows.some((event) => event._id === row._id)) {\n        if (row.showDetails) {\n          row['showDetails'] = false\n          this.expandedRows.splice(index, 1)\n        } else {\n          row['showDetails'] = true\n          this.expandedRows.splice(index, 1)\n          this.expandedRows.push(row)\n          return\n        }\n\n        if (row.deltaDays) {\n          this.expandedRows.splice(index, 1)\n          this.expandedRows.push(row)\n        }\n      } else {\n        row['showDetails'] = true\n        this.expandedRows.push(row)\n      }\n    },\n    addTimeBubbles: function () {\n      this.expandedRows = []\n      this.eventList.objects.forEach((event, index) => {\n        if (index < 1) {\n          return\n        }\n        let prevEvent = this.eventList.objects[index - 1]\n        let timestampMillis = this.$options.filters.formatTimestamp(event._source.timestamp)\n        let prevTimestampMillis = this.$options.filters.formatTimestamp(prevEvent._source.timestamp)\n        let timestamp = Math.floor(timestampMillis / 1000)\n        let prevTimestamp = Math.floor(prevTimestampMillis / 1000)\n        let delta = Math.floor(timestamp - prevTimestamp)\n        if (this.order === 'desc') {\n          delta = Math.floor(prevTimestamp - timestamp)\n        }\n        let deltaDays = Math.floor(delta / 60 / 60 / 24)\n        if (deltaDays > 0) {\n          prevEvent['deltaDays'] = deltaDays\n          this.expandedRows.push(prevEvent)\n        }\n      })\n    },\n    getTimeline: function (event) {\n      let isLegacy = this.meta.indices_metadata[event._index].is_legacy\n      let timeline\n      if (isLegacy) {\n        timeline = this.sketch.active_timelines.find((timeline) => timeline.searchindex.index_name === event._index)\n      } else {\n        timeline = this.sketch.active_timelines.find((timeline) => timeline.id === event._source.__ts_timeline_id)\n      }\n      return timeline\n    },\n    getTimelineColor(event) {\n      let timeline = this.getTimeline(event)\n      let backgroundColor = timeline.color\n      if (!backgroundColor.startsWith('#')) {\n        backgroundColor = '#' + backgroundColor\n      }\n      if (this.$vuetify.theme.dark) {\n        return {\n          'background-color': backgroundColor,\n          filter: 'grayscale(25%)',\n          color: '#333',\n        }\n      }\n      return {\n        'background-color': backgroundColor,\n      }\n    },\n    getTimeBubbleColor() {\n      let backgroundColor = '#f5f5f5'\n      if (this.$vuetify.theme.dark) {\n        backgroundColor = '#333'\n      }\n      return {\n        'background-color': backgroundColor,\n      }\n    },\n    search: function (resetPagination = true, incognito = false, parent = false) {\n      if (!this.currentQueryString && !this.currentQueryDsl) {\n        return\n      }\n      this.searchInProgress = true\n      this.selectedEvents = []\n      this.eventList = emptyEventList()\n\n      if (resetPagination) {\n        this.tableOptions.page = 1\n        this.currentPage = 1\n        this.currentItemsPerPage = this.tableOptions.itemsPerPage\n        this.currentQueryFilter.size = this.tableOptions.itemsPerPage\n        this.currentQueryFilter.from = 0\n      }\n\n      // Update with selected fields\n      this.currentQueryFilter.fields = this.selectedFields\n\n      let formData = {}\n      if (this.currentQueryDsl) {\n        formData.dsl = this.currentQueryDsl\n        formData.filter = this.currentQueryFilter\n      }\n\n      if (this.currentQueryString) {\n        formData.query = this.currentQueryString\n        formData.filter = this.currentQueryFilter\n      }\n\n      // Search history\n      if (incognito) {\n        formData['incognito'] = true\n      }\n\n      if (parent) {\n        formData['parent'] = parent\n      }\n\n      if (parent && incognito) {\n        this.branchParent = parent\n      }\n\n      if (this.branchParent) {\n        formData['parent'] = this.branchParent\n      }\n\n      ApiClient.search(this.sketch.id, formData)\n        .then((response) => {\n          this.eventList.objects = response.data.objects\n          this.eventList.meta = response.data.meta\n          this.searchInProgress = false\n          this.$emit('countPerTimeline', response.data.meta.count_per_timeline)\n          this.$emit('countPerIndex', response.data.meta.count_per_index)\n\n          this.addTimeBubbles()\n\n          if (!incognito) {\n            EventBus.$emit('createBranch', this.eventList.meta.search_node)\n            this.$store.dispatch('updateSearchHistory')\n            this.branchParent = this.eventList.meta.search_node.id\n          }\n        })\n        .catch((e) => {\n          this.errorSnackBar('Sorry, there was a problem fetching your search results. Please try again.')\n          console.error(e)\n        })\n    },\n    exportSearchResult: function () {\n      let formData = {\n        query: this.currentQueryString,\n        filter: this.currentQueryFilter,\n        file_name: 'export.zip',\n      }\n      ApiClient.exportSearchResult(this.sketch.id, formData)\n        .then((response) => {\n          let fileURL = window.URL.createObjectURL(new Blob([response.data]))\n          let fileLink = document.createElement('a')\n          let fileName = 'export.zip'\n          fileLink.href = fileURL\n          fileLink.setAttribute('download', fileName)\n          document.body.appendChild(fileLink)\n          fileLink.click()\n        })\n        .catch((e) => {\n          console.error(e)\n        })\n    },\n    addChip: function (chip) {\n      if (!this.currentQueryFilter.chips) {\n        this.currentQueryFilter.chips = []\n      }\n      this.currentQueryFilter.chips.push(chip)\n      this.search()\n    },\n    removeChip: function (chip, search = true) {\n      let chipIndex = this.currentQueryFilter.chips.findIndex((c) => c.value === chip.value)\n      this.currentQueryFilter.chips.splice(chipIndex, 1)\n      if (search) {\n        this.search()\n      }\n    },\n    removeChips: function (chips, search = true) {\n      if (!Array.isArray(chips)) {\n        this.errorSnackBar('Not an array of chips')\n        return\n      }\n      chips.forEach((chip) => {\n        this.removeChip(chip, false)\n      })\n      if (search) {\n        this.search()\n      }\n    },\n    addChipFromHistogram: function (chip) {\n      if (!this.currentQueryFilter.chips) {\n        this.currentQueryFilter.chips = []\n      }\n      this.currentQueryFilter.chips.forEach((chip) => {\n        if (chip.type === 'datetime_range') {\n          this.removeChip(chip, false)\n        }\n      })\n      this.addChip(chip)\n    },\n    paginate: function () {\n      // Reset pagination if number of pages per page changes.\n      if (this.tableOptions.itemsPerPage !== this.currentItemsPerPage) {\n        this.tableOptions.page = 1\n        this.currentPage = 1\n        this.currentItemsPerPage = this.tableOptions.itemsPerPage\n        this.currentQueryFilter.size = this.tableOptions.itemsPerPage\n        this.search(true, true)\n        return\n      }\n      // To avoid double search request exit early if this is the first search for this\n      // search session.\n      if (this.currentPage === this.tableOptions.page) {\n        return\n      }\n      this.currentQueryFilter.from =\n        this.tableOptions.page * this.currentQueryFilter.size - this.currentQueryFilter.size\n      this.currentPage = this.tableOptions.page\n      this.search(false, true)\n    },\n    updateSelectedFields: function (value) {\n      // If we haven't fetched the field before, do an new search.\n      value.forEach((field) => {\n        if (!this.headers.filter((e) => e.field === field.field).length > 0) {\n          this.search(true, true)\n        }\n      })\n    },\n    removeField: function (index) {\n      this.selectedFields.splice(index, 1)\n    },\n    toggleStar(event) {\n      if (event._source.label.includes('__ts_star')) {\n        event._source.label.splice(event._source.label.indexOf('__ts_star'), 1)\n      } else {\n        event._source.label.push('__ts_star')\n      }\n      ApiClient.saveEventAnnotation(this.sketch.id, 'label', '__ts_star', event, this.currentSearchNode)\n        .then((response) => {})\n        .catch((e) => {\n          console.error(e)\n        })\n    },\n    toggleMultipleStars: function () {\n      this.selectedEvents.forEach((event) => {\n        if (event._source.label.includes('__ts_star')) {\n          event._source.label.splice(event._source.label.indexOf('__ts_star'), 1)\n        } else {\n          event._source.label.push('__ts_star')\n        }\n      })\n      ApiClient.saveEventAnnotation(this.sketch.id, 'label', '__ts_star', this.selectedEvents, this.currentSearchNode)\n        .then((response) => {\n          this.selectedEvents = []\n        })\n        .catch((e) => {})\n    },\n    saveSearch: function () {\n      ApiClient.createView(this.sketch.id, this.saveSearchFormName, this.currentQueryString, this.currentQueryFilter)\n        .then((response) => {\n          this.saveSearchFormName = ''\n          this.saveSearchMenu = false\n          let newView = response.data.objects[0]\n          this.$store.state.meta.views.push(newView)\n          this.$router.push({ name: 'Explore', query: { view: newView.id } })\n        })\n        .catch((e) => {})\n    },\n  },\n  watch: {\n    tableOptions: {\n      handler() {\n        this.paginate()\n      },\n      deep: true,\n    },\n    queryRequest: {\n      handler(newQueryRequest, oldqueryRequest) {\n        // Return early if there is no change to the current request.\n        if (JSON.stringify(newQueryRequest) === JSON.stringify(oldqueryRequest)) {\n          return\n        }\n        // Return early if this isn't a new request.\n        if (!newQueryRequest) {\n          return\n        }\n        this.currentQueryString = newQueryRequest.queryString || ''\n        this.currentQueryFilter = newQueryRequest.queryFilter || defaultQueryFilter()\n        this.currentQueryDsl = newQueryRequest.queryDsl || null\n        let resetPagination = newQueryRequest['resetPagination'] || true\n        let incognito = newQueryRequest['incognito'] || false\n        let parent = newQueryRequest['parent'] || false\n        // Set additional fields. This is used when loading filter from a saved search.\n        if (this.currentQueryFilter.fields) {\n          this.selectedFields = this.currentQueryFilter.fields\n        }\n        this.search(resetPagination, incognito, parent)\n      },\n      deep: true,\n    },\n  },\n  created() {\n    if (Object.keys(this.queryRequest).length) {\n      this.currentQueryString = this.queryRequest.queryString\n      this.currentQueryFilter = { ...this.queryRequest.queryFilter } || defaultQueryFilter()\n      this.currentQueryDsl = { ...this.queryRequest.queryDsl }\n      // Set additional fields when loading filter from a saved search.\n      if (this.currentQueryFilter.fields) {\n        this.selectedFields = this.currentQueryFilter.fields\n      }\n      this.search()\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.ts-event-field-container {\n  position: relative;\n  max-width: 100%;\n  padding: 0 !important;\n  display: -webkit-flex;\n  display: -moz-flex;\n  display: flex;\n  vertical-align: text-bottom !important;\n}\n\n.ts-event-field-ellipsis {\n  position: absolute;\n  white-space: nowrap;\n  overflow-y: visible;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  -ms-text-overflow: ellipsis;\n  -o-text-overflow: ellipsis;\n  max-width: 100%;\n  min-width: 0;\n  width: 100%;\n  top: 0;\n  left: 0;\n  margin-top: -10px;\n}\n\n.v-data-table__expanded.v-data-table__expanded__content {\n  box-shadow: none !important;\n}\n\n.ts-time-bubble {\n  width: 120px;\n  height: 25px;\n  border-radius: 20px;\n  position: relative;\n  margin: 0 0 0 136px;\n  text-align: center;\n  font-size: var(--font-size-small);\n}\n\n.ts-time-bubble h5 {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin: 0;\n  opacity: 70%;\n}\n\n.ts-time-bubble-vertical-line {\n  width: 2px;\n  height: 15px;\n  margin: 0 0 0 194px;\n  background-color: #f5f5f5;\n}\n\n.datetime-table-cell {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n// Adjust padding for event data table\n.v-data-table td,\nth {\n  padding: 0 10px 0 0 !important;\n}\n\n.v-data-table td:last-child,\nth:last-child {\n  padding: 0 !important;\n}\n\n.v-data-table td:first-child,\nth:first-child {\n  padding: 0 0 0 10px !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventList.vue?vue&type=template&id=2cf8ea62&\"\nimport script from \"./EventList.vue?vue&type=script&lang=js&\"\nexport * from \"./EventList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-container fluid>\n    <!-- Right side menu -->\n    <!-- Placeholder at the moment. Keeping it here for quick developement later. -->\n    <v-navigation-drawer v-if=\"showRightSidePanel\" fixed right width=\"600\" style=\"box-shadow: 0 10px 15px -3px #888\">\n      <template v-slot:prepend>\n        <v-toolbar flat>\n          <v-toolbar-title>Right Side Panel</v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-btn icon @click=\"showRightSidePanel = false\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-toolbar>\n      </template>\n      <v-container> TODO: Add content here </v-container>\n    </v-navigation-drawer>\n\n    <!-- Search and Filters -->\n    <v-card flat class=\"pa-3 pt-0 mt-n3\" color=\"transparent\">\n      <v-card class=\"d-flex align-start mb-1\" outlined>\n        <v-sheet class=\"mt-2\">\n          <ts-search-history-buttons @toggleSearchHistory=\"toggleSearchHistory()\"></ts-search-history-buttons>\n        </v-sheet>\n\n        <v-menu v-model=\"showSearchDropdown\" offset-y attach :close-on-content-click=\"false\" :close-on-click=\"true\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-text-field\n              v-model=\"currentQueryString\"\n              hide-details\n              label=\"Search\"\n              placeholder=\"Search\"\n              single-line\n              dense\n              filled\n              flat\n              solo\n              class=\"pa-1\"\n              append-icon=\"mdi-magnify\"\n              id=\"tsSearchInput\"\n              @keyup.enter=\"search\"\n              @click=\"showSearchDropdown = true\"\n              ref=\"searchInput\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n            </v-text-field>\n          </template>\n\n          <ts-search-dropdown\n            v-click-outside=\"onClickOutside\"\n            :selected-labels=\"selectedLabels\"\n            :query-string=\"currentQueryString\"\n            @setActiveView=\"searchView\"\n            @addChip=\"addChip\"\n            @updateLabelChips=\"updateLabelChips()\"\n            @close-on-click=\"showSearchDropdown = false\"\n            @node-click=\"jumpInHistory\"\n            @setQueryAndFilter=\"setQueryAndFilter\"\n          >\n          </ts-search-dropdown>\n        </v-menu>\n      </v-card>\n\n      <!-- Search History -->\n      <div class=\"mt-4\">\n        <v-card v-show=\"showSearchHistory\" outlined>\n          <v-toolbar dense flat>\n            <v-toolbar-title>Search history</v-toolbar-title>\n            <v-spacer></v-spacer>\n            <v-slider\n              v-model=\"zoomLevel\"\n              thumb-label\n              ticks\n              append-icon=\"mdi-magnify-plus-outline\"\n              prepend-icon=\"mdi-magnify-minus-outline\"\n              min=\"0.1\"\n              max=\"1\"\n              step=\"0.1\"\n              class=\"mt-6\"\n            >\n              <template v-slot:thumb-label=\"{ value }\"> {{ value * 100 }}% </template>\n            </v-slider>\n\n            <v-btn icon @click=\"showSearchHistory = false\" class=\"ml-4\">\n              <v-icon>mdi-close</v-icon>\n            </v-btn>\n          </v-toolbar>\n\n          <v-divider></v-divider>\n\n          <div\n            v-dragscroll\n            class=\"pa-md-4 no-scrollbars\"\n            style=\"overflow: scroll; white-space: nowrap; max-height: 500px; min-height: 100px\"\n          >\n            <ts-search-history-tree\n              @node-click=\"jumpInHistory\"\n              :show-history=\"showSearchHistory\"\n              v-bind:style=\"{ transform: 'scale(' + zoomLevel + ')' }\"\n              style=\"transform-origin: top left\"\n            ></ts-search-history-tree>\n          </div>\n        </v-card>\n      </div>\n\n      <!-- Timeline picker -->\n      <v-sheet class=\"mb-4 mt-4\" color=\"transparent\">\n        <ts-timeline-picker\n          @updateSelectedTimelines=\"updateSelectedTimelines($event)\"\n          :current-query-filter=\"currentQueryFilter\"\n          :count-per-index=\"countPerIndex\"\n          :count-per-timeline=\"countPerTimeline\"\n        ></ts-timeline-picker>\n\n        <span style=\"position: relative; top: -5px\">\n          <ts-upload-timeline-form btn-type=\"small\"></ts-upload-timeline-form>\n        </span>\n\n        <span style=\"position: relative; top: -5px\">\n          <v-dialog v-model=\"addManualEvent\" width=\"600\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn small text rounded color=\"primary\" v-bind=\"attrs\" v-on=\"on\">\n                <v-icon left small> mdi-plus </v-icon>\n                Add manual event\n              </v-btn>\n            </template>\n            <ts-add-manual-event\n              app\n              @cancel=\"addManualEvent = false\"\n              :datetimeProp=\"datetimeManualEvent\"\n            ></ts-add-manual-event>\n          </v-dialog>\n        </span>\n      </v-sheet>\n\n      <!-- Time filter chips -->\n      <div class=\"mt-n3\">\n        <span v-for=\"(chip, index) in timeFilterChips\" :key=\"index + chip.value\">\n          <v-menu offset-y content-class=\"menu-with-gap\">\n            <template v-slot:activator=\"{ on }\">\n              <v-chip outlined v-on=\"on\">\n                <v-icon left small> mdi-clock-outline </v-icon>\n                <span v-bind:style=\"[!chip.active ? { 'text-decoration': 'line-through', opacity: '50%' } : '']\">\n                  <span>{{ chip.value.split(',')[0] }}</span>\n                  <span v-if=\"chip.type === 'datetime_range' && chip.value.split(',')[0] !== chip.value.split(',')[1]\">\n                    &rarr; {{ chip.value.split(',')[1] }}</span\n                  >\n                </span>\n              </v-chip>\n            </template>\n            <v-card>\n              <v-list>\n                <!-- Edit timefilter menu -->\n                <v-menu\n                  offset-y\n                  :close-on-content-click=\"false\"\n                  :close-on-click=\"true\"\n                  nudge-top=\"70\"\n                  content-class=\"menu-with-gap\"\n                  allow-overflow\n                  style=\"overflow: visible\"\n                >\n                  <template v-slot:activator=\"{ on, attrs }\">\n                    <v-list-item v-bind=\"attrs\" v-on=\"on\">\n                      <v-list-item-action>\n                        <v-icon>mdi-square-edit-outline</v-icon>\n                      </v-list-item-action>\n                      <v-list-item-subtitle>Edit filter</v-list-item-subtitle>\n                    </v-list-item>\n                  </template>\n                  <ts-filter-menu app :selected-chip=\"chip\" @updateChip=\"updateChip($event, chip)\"></ts-filter-menu>\n                </v-menu>\n\n                <v-list-item @click=\"toggleChip(chip)\">\n                  <v-list-item-action>\n                    <v-icon v-if=\"chip.active\">mdi-eye-off</v-icon>\n                    <v-icon v-else>mdi-eye</v-icon>\n                  </v-list-item-action>\n                  <v-list-item-subtitle\n                    ><span v-if=\"chip.active\">Temporarily disable</span\n                    ><span v-else>Re-enable</span></v-list-item-subtitle\n                  >\n                </v-list-item>\n                <v-list-item @click=\"removeChip(chip)\">\n                  <v-list-item-action>\n                    <v-icon>mdi-delete</v-icon>\n                  </v-list-item-action>\n                  <v-list-item-subtitle>Remove filter</v-list-item-subtitle>\n                </v-list-item>\n              </v-list>\n            </v-card>\n          </v-menu>\n          <v-btn v-if=\"index + 1 < timeFilterChips.length\" icon small style=\"margin-top: 2px\" class=\"mr-2\">OR</v-btn>\n        </span>\n        <span>\n          <v-menu\n            v-model=\"timeFilterMenu\"\n            offset-y\n            :close-on-content-click=\"false\"\n            :close-on-click=\"true\"\n            content-class=\"menu-with-gap\"\n            allow-overflow\n            style=\"overflow: visible\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn small text rounded color=\"primary\" v-bind=\"attrs\" v-on=\"on\">\n                <v-icon left small> mdi-plus </v-icon>\n                Add timefilter\n              </v-btn>\n            </template>\n\n            <ts-filter-menu app @cancel=\"timeFilterMenu = false\" @addChip=\"addChip\"></ts-filter-menu>\n          </v-menu>\n        </span>\n      </div>\n\n      <!-- Term filters -->\n      <div v-if=\"filterChips.length\">\n        <v-chip-group>\n          <span v-for=\"(chip, index) in filterChips\" :key=\"index + chip.value\">\n            <v-chip small outlined close @click:close=\"removeChip(chip)\">\n              <v-icon v-if=\"chip.value === '__ts_star'\" left small color=\"amber\">mdi-star</v-icon>\n              <v-icon v-if=\"chip.value === '__ts_comment'\" left small>mdi-comment-multiple-outline</v-icon>\n              {{ chip.value | formatLabelText }}\n            </v-chip>\n            <v-btn v-if=\"index + 1 < timeFilterChips.length\" icon small style=\"margin-top: 2px\" class=\"mr-2\">AND</v-btn>\n          </span>\n        </v-chip-group>\n      </div>\n    </v-card>\n\n    <!-- DFIQ context -->\n    <div class=\"mt-3 mx-3\">\n      <div :class=\"[$vuetify.theme.dark ? 'dark-info-card' : 'light-info-card']\" v-if=\"activeContext.question\">\n        <v-toolbar dense flat color=\"transparent\">\n          <h4>{{ activeContext.question.display_name }}</h4>\n          <v-spacer></v-spacer>\n          <v-btn small icon @click=\"$store.dispatch('clearActiveContext')\" class=\"mr-1\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-toolbar>\n        <p class=\"mt-1 pb-4 px-4\" style=\"font-size: 0.9em\">\n          {{ activeContext.question.description }}\n        </p>\n      </div>\n    </div>\n\n    <!-- Eventlist -->\n    <v-card flat class=\"mt-5 mx-3\">\n      <ts-event-list\n        :query-request=\"activeQueryRequest\"\n        @countPerIndex=\"updateCountPerIndex($event)\"\n        @countPerTimeline=\"updateCountPerTimeline($event)\"\n      ></ts-event-list>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\nimport EventBus from '../main'\n\nimport { dragscroll } from 'vue-dragscroll'\n\nimport TsSearchHistoryTree from '../components/Explore/SearchHistoryTree'\nimport TsSearchHistoryButtons from '../components/Explore/SearchHistoryButtons'\nimport TsSearchDropdown from '../components/Explore/SearchDropdown'\nimport TsTimelinePicker from '../components/Explore/TimelinePicker'\nimport TsFilterMenu from '../components/Explore/FilterMenu'\nimport TsUploadTimelineForm from '../components/UploadForm'\nimport TsAddManualEvent from '../components/Explore/AddManualEvent'\nimport TsEventList from '../components/Explore/EventList'\n\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: [],\n    order: 'asc',\n    chips: [],\n  }\n}\n\nexport default {\n  directives: {\n    dragscroll,\n  },\n  components: {\n    TsSearchHistoryTree,\n    TsSearchHistoryButtons,\n    TsSearchDropdown,\n    TsTimelinePicker,\n    TsFilterMenu,\n    TsUploadTimelineForm,\n    TsAddManualEvent,\n    TsEventList,\n  },\n  props: ['sketchId'],\n  data() {\n    return {\n      countPerIndex: {},\n      countPerTimeline: {},\n      currentItemsPerPage: 40,\n      timeFilterMenu: false,\n      selectedFields: [{ field: 'message', type: 'text' }],\n      showRightSidePanel: false,\n      addManualEvent: false,\n      datetimeManualEvent: '',\n      params: {},\n      contextEvent: false,\n      originalContext: false,\n      showSearchDropdown: false,\n      activeQueryRequest: {},\n      currentQueryString: '',\n      currentQueryFilter: defaultQueryFilter(),\n      selectedLabels: [],\n      showSearchHistory: false,\n      zoomLevel: 0.7,\n      zoomOrigin: {\n        x: 0,\n        y: 0,\n      },\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    filterChips: function () {\n      return this.currentQueryFilter.chips.filter((chip) => chip.type === 'label' || chip.type === 'term')\n    },\n    timeFilterChips: function () {\n      return this.currentQueryFilter.chips.filter((chip) => chip.type.startsWith('datetime'))\n    },\n    filteredLabels() {\n      return this.$store.state.meta.filter_labels.filter((label) => !label.label.startsWith('__'))\n    },\n    currentSearchNode() {\n      return this.$store.state.currentSearchNode\n    },\n    activeContext() {\n      return this.$store.state.activeContext\n    },\n  },\n  methods: {\n    updateCountPerIndex: function (count) {\n      this.countPerIndex = count\n    },\n    updateCountPerTimeline: function (count) {\n      this.countPerTimeline = count\n    },\n    toggleSearchHistory: function () {\n      this.showSearchHistory = !this.showSearchHistory\n      if (this.showSearchHistory) {\n        this.triggerScrollTo()\n      }\n    },\n    setQueryAndFilter: function (searchEvent) {\n      if (this.$route.name !== 'Explore') {\n        this.$router.push({ name: 'Explore', params: { sketchId: this.sketch.id } })\n      }\n      this.currentQueryString = searchEvent.queryString\n      this.currentQueryFilter = searchEvent.queryFilter\n      // Preserve user defined item count instead of resetting.\n      this.currentQueryFilter.size = this.currentItemsPerPage\n      this.currentQueryFilter.terminate_after = this.currentItemsPerPage\n      if (searchEvent.doSearch) {\n        this.search()\n      }\n    },\n    search: function (resetPagination = true, incognito = false, parent = false) {\n      let queryRequest = {}\n      queryRequest['queryString'] = this.currentQueryString\n      queryRequest['queryFilter'] = this.currentQueryFilter\n      queryRequest['resetPagination'] = resetPagination\n      queryRequest['incognito'] = incognito\n      queryRequest['parent'] = parent\n      this.activeQueryRequest = queryRequest\n      this.showSearchDropdown = false\n    },\n    searchView: function (viewId) {\n      this.showSearchDropdown = false\n\n      if (viewId !== parseInt(viewId, 10) && typeof viewId !== 'string') {\n        viewId = viewId.id\n        this.$router.push({ name: 'Explore', query: { view: viewId } })\n      }\n      ApiClient.getView(this.sketchId, viewId)\n        .then((response) => {\n          let view = response.data.objects[0]\n          this.currentQueryString = view.query_string\n          this.currentQueryFilter = JSON.parse(view.query_filter)\n          if (!this.currentQueryFilter.fields || !this.currentQueryFilter.fields.length) {\n            this.currentQueryFilter.fields = [{ field: 'message', type: 'text' }]\n          }\n          this.selectedFields = this.currentQueryFilter.fields\n          if (this.currentQueryFilter.indices[0] === '_all' || this.currentQueryFilter.indices === '_all') {\n            let allIndices = []\n            this.sketch.active_timelines.forEach((timeline) => {\n              let isLegacy = this.meta.indices_metadata[timeline.searchindex.index_name].is_legacy\n              if (isLegacy) {\n                allIndices.push(timeline.searchindex.index_name)\n              } else {\n                allIndices.push(timeline.id)\n              }\n            })\n            this.currentQueryFilter.indices = allIndices\n          }\n          let chips = this.currentQueryFilter.chips\n          if (chips) {\n            for (let i = 0; i < chips.length; i++) {\n              if (chips[i].type === 'label') {\n                this.selectedLabels.push(chips[i].value)\n              }\n            }\n          }\n          this.contextEvent = false\n          this.search()\n        })\n        .catch((e) => {})\n    },\n    searchContext: function (event) {\n      // TODO: Make this selectable in the UI\n      const contextTime = 300\n      const numContextEvents = 500\n\n      this.contextEvent = event\n      if (!this.originalContext) {\n        let currentQueryStringCopy = JSON.parse(JSON.stringify(this.currentQueryString))\n        let currentQueryFilterCopy = JSON.parse(JSON.stringify(this.currentQueryFilter))\n        this.originalContext = { queryString: currentQueryStringCopy, queryFilter: currentQueryFilterCopy }\n      }\n\n      const dateTimeTemplate = 'YYYY-MM-DDTHH:mm:ss'\n      let startDateTimeMoment = this.$moment.utc(this.contextEvent._source.datetime)\n      let newStartDate = startDateTimeMoment.clone().subtract(contextTime, 's').format(dateTimeTemplate)\n      let newEndDate = startDateTimeMoment.clone().add(contextTime, 's').format(dateTimeTemplate)\n      let startChip = {\n        field: '',\n        value: newStartDate + ',' + startDateTimeMoment.format(dateTimeTemplate),\n        type: 'datetime_range',\n        operator: 'must',\n        active: true,\n      }\n      let endChip = {\n        field: '',\n        value: startDateTimeMoment.format(dateTimeTemplate) + ',' + newEndDate,\n        type: 'datetime_range',\n        operator: 'must',\n        active: true,\n      }\n      // TODO: Use chips instead\n      this.currentQueryString = '* OR ' + '_id:' + this.contextEvent._id\n\n      this.currentQueryFilter.chips = [startChip, endChip]\n\n      let isLegacy = this.meta.indices_metadata[this.contextEvent._index].is_legacy\n      if (isLegacy) {\n        this.currentQueryFilter.indices = [this.contextEvent._index]\n      } else {\n        this.currentQueryFilter.indices = [this.contextEvent._source.__ts_timeline_id]\n      }\n      this.currentQueryFilter.size = numContextEvents\n      this.search()\n    },\n    removeContext: function () {\n      this.contextEvent = false\n      this.currentQueryString = JSON.parse(JSON.stringify(this.originalContext.queryString))\n      this.currentQueryFilter = JSON.parse(JSON.stringify(this.originalContext.queryFilter))\n      this.search()\n    },\n    updateSelectedTimelines: function (timelines) {\n      let selected = []\n      timelines.forEach((timeline) => {\n        let isLegacy = this.meta.indices_metadata[timeline.searchindex.index_name].is_legacy\n        if (isLegacy) {\n          selected.push(timeline.searchindex.index_name)\n        } else {\n          selected.push(timeline.id)\n        }\n      })\n      this.currentQueryFilter.indices = selected\n      this.search()\n    },\n    toggleChip: function (chip) {\n      // Treat undefined as active to support old chip formats.\n      if (chip.active === undefined) {\n        chip.active = true\n      }\n      chip.active = !chip.active\n      this.search()\n    },\n    removeChip: function (chip, search = true) {\n      let chipIndex = this.currentQueryFilter.chips.findIndex((c) => c.value === chip.value)\n      this.currentQueryFilter.chips.splice(chipIndex, 1)\n      if (chip.type === 'label') {\n        this.selectedLabels = this.selectedLabels.filter((label) => label !== chip.value)\n      }\n      if (search) {\n        this.search()\n      }\n    },\n    updateChip: function (newChip, oldChip) {\n      // Replace the chip at the given index\n      let chipIndex = this.currentQueryFilter.chips.findIndex(\n        (c) => c.value === oldChip.value && c.type === oldChip.type\n      )\n      this.currentQueryFilter.chips.splice(chipIndex, 1, newChip)\n      this.search()\n    },\n    addChip: function (chip) {\n      // Legacy views don't support chips so we need to add an array in order\n      // to upgrade the view to the new filter system.\n      if (!this.currentQueryFilter.chips) {\n        this.currentQueryFilter.chips = []\n      }\n      this.currentQueryFilter.chips.push(chip)\n      this.search()\n    },\n    addChipFromHistogram: function (chip) {\n      if (!this.currentQueryFilter.chips) {\n        this.currentQueryFilter.chips = []\n      }\n      this.currentQueryFilter.chips.forEach((chip) => {\n        if (chip.type === 'datetime_range') {\n          this.removeChip(chip, false)\n        }\n      })\n      this.addChip(chip)\n    },\n    toggleLabelChip: function (labelName) {\n      let chip = {\n        field: '',\n        value: labelName,\n        type: 'label',\n        operator: 'must',\n        active: true,\n      }\n      let chips = this.currentQueryFilter.chips\n      if (chips) {\n        for (let i = 0; i < chips.length; i++) {\n          if (chips[i].value === labelName) {\n            this.removeChip(i)\n            return\n          }\n        }\n      }\n      this.addChip(chip)\n    },\n    updateLabelChips: function () {\n      // Remove all current label chips\n      this.currentQueryFilter.chips = this.currentQueryFilter.chips.filter((chip) => chip.type !== 'label')\n      this.selectedLabels.forEach((label) => {\n        let chip = {\n          field: '',\n          value: label,\n          type: 'label',\n          operator: 'must',\n          active: true,\n        }\n        this.addChip(chip)\n        this.showSearchDropdown = false\n      })\n    },\n    updateLabelList: function (label) {\n      if (this.meta.filter_labels.indexOf(label) === -1) {\n        this.meta.filter_labels.push(label)\n      }\n    },\n    jumpInHistory: function (node) {\n      this.currentQueryString = node.query_string\n      this.currentQueryFilter = JSON.parse(node.query_filter)\n      if (!this.currentQueryFilter.fields || !this.currentQueryFilter.fields.length) {\n        this.currentQueryFilter.fields = [{ field: 'message', type: 'text' }]\n      }\n      this.selectedFields = this.currentQueryFilter.fields\n      if (this.currentQueryFilter.indices[0] === '_all' || this.currentQueryFilter.indices === '_all') {\n        let allIndices = []\n        this.sketch.active_timelines.forEach((timeline) => {\n          let isLegacy = this.meta.indices_metadata[timeline.searchindex.index_name].is_legacy\n          if (isLegacy) {\n            allIndices.push(timeline.searchindex.index_name)\n          } else {\n            allIndices.push(timeline.id)\n          }\n        })\n        this.currentQueryFilter.indices = allIndices\n      }\n      let chips = this.currentQueryFilter.chips\n      if (chips) {\n        for (let i = 0; i < chips.length; i++) {\n          if (chips[i].type === 'label') {\n            this.selectedLabels.push(chips[i].value)\n          }\n        }\n      }\n      this.contextEvent = false\n      this.search(true, true, node.id)\n    },\n    triggerScrollTo: function () {\n      EventBus.$emit('triggerScrollTo')\n    },\n    zoomWithMouse: function (event) {\n      // Add @wheel=\"zoomWithMouse\" on element to activate.\n      this.zoomOrigin.x = event.pageX\n      this.zoomOrigin.y = event.pageY\n      if (event.deltaY < 0) {\n        this.zoomLevel += 0.07\n      } else if (event.deltaY > 0) {\n        this.zoomLevel -= 0.07\n      }\n    },\n    closeSearchDropdown: function (targetElement) {\n      // Prevent dropdown to close when the search input field is clicked.\n      if (targetElement !== this.$refs.searchInput && targetElement.getAttribute('data-explore-element') === null) {\n        this.showSearchDropdown = false\n      }\n    },\n    onClickOutside: function (e) {\n      if (e.target.id !== 'tsSearchInput') {\n        this.showSearchDropdown = false\n      }\n    },\n  },\n  mounted() {\n    this.$refs.searchInput.focus()\n    EventBus.$on('setQueryAndFilter', this.setQueryAndFilter)\n    EventBus.$on('setActiveView', this.searchView)\n  },\n  beforeDestroy() {\n    EventBus.$off('setQueryAndFilter')\n    EventBus.$off('setActiveView')\n  },\n  created: function () {\n    let doSearch = false\n\n    this.params = {\n      viewId: this.$route.query.view,\n      indexName: this.$route.query.timeline,\n      resultLimit: this.$route.query.limit,\n      queryString: this.$route.query.q,\n    }\n\n    if (this.params.viewId) {\n      this.searchView(this.params.viewId)\n      return\n    }\n\n    if (this.params.queryString) {\n      this.currentQueryString = this.params.queryString\n      doSearch = true\n    }\n\n    if (this.params.indexName) {\n      if (!this.params.queryString) {\n        this.currentQueryString = '*'\n      }\n\n      let timeline = this.sketch.active_timelines.find((timeline) => {\n        return timeline.id === parseInt(this.params.indexName, 10)\n      })\n\n      let isLegacy = this.meta.indices_metadata[timeline.searchindex.index_name].is_legacy\n      if (isLegacy) {\n        this.currentQueryFilter.indices = [timeline.searchindex.index_name]\n      } else {\n        this.currentQueryFilter.indices = [timeline.id]\n      }\n      doSearch = true\n    }\n\n    if (!this.currentQueryString) {\n      this.currentQueryFilter.indices = ['_all']\n    }\n\n    if (doSearch) {\n      if (!this.currentQueryFilter.indices.length) {\n        this.currentQueryFilter.indices = ['_all']\n      }\n      this.search()\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.chip-disabled {\n  text-decoration: line-through;\n  opacity: 0.5;\n}\n\n.chip-operator-label {\n  margin-right: 7px;\n  font-size: 0.7em;\n  cursor: default;\n}\n\n.no-scrollbars::-webkit-scrollbar {\n  display: none;\n}\n\n.no-scrollbars {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explore.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explore.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Explore.vue?vue&type=template&id=12a1caf2&\"\nimport script from \"./Explore.vue?vue&type=script&lang=js&\"\nexport * from \"./Explore.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Explore.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-indicator-dialog',{attrs:{\"dialog\":_vm.indicatorDialog,\"index\":_vm.currentIndex,\"tag-info\":_vm.tagInfo},on:{\"update:dialog\":function($event){_vm.indicatorDialog=$event},\"open-dialog\":function($event){_vm.indicatorDialog = true},\"close-dialog\":function($event){_vm.indicatorDialog = false\n      _vm.currentIndex = -1},\"save\":function($event){_vm.saveIntelligence($event)\n      _vm.indicatorDialog = false}}}),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-btn',{staticClass:\"mt-n1 ml-3\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.addIndicator}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\"\\n      Add Indicator\\n    \")],1),_c('v-card',{staticClass:\"mt-3 mx-3\",attrs:{\"outlined\":\"\"}},[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.intelligenceData,\"footer-props\":{ 'items-per-page-options': [10, 40, 80, 100, 200, 500], 'show-current-page': true },\"items-per-page\":40},scopedSlots:_vm._u([{key:\"item.search\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.generateSearchQuery(item.ioc)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-magnify\")])],1)]}},{key:\"item.externalURI\",fn:function(ref){\n      var item = ref.item;\nreturn [(item.externalURI)?_c('v-icon',{attrs:{\"x-small\":\"\"}},[_vm._v(\"mdi-open-in-new\")]):_vm._e(),(_vm.getValidUrl(item.externalURI))?_c('a',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"href\":_vm.getValidUrl(item.externalURI),\"target\":\"_blank\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.getValidUrl(item.externalURI).host))]):_vm._e()]}},{key:\"item.tags\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('v-chip-group',_vm._l((item.tags),function(tag){return _c('v-chip',{key:tag,attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.searchForIOC(tag)}}},[_vm._v(\"\\n              \"+_vm._s(tag)+\"\\n            \")])}),1)]}},{key:\"item.actions\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.editIndicator(item.index)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-pencil\")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteIndicator(item.index)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-trash-can-outline\")])],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":_vm.dialog,\"max-width\":\"600px\"},on:{\"input\":function($event){return _vm.$emit('input', $event)},\"click:outside\":function($event){return _vm.closeDialog()}}},[_c('v-card',{staticClass:\"pa-4\"},[_c('h3',[_vm._v(_vm._s(_vm.title))]),_c('br'),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Indicator data\"},on:{\"input\":function($event){return _vm.autoSelectIndicatorType($event)}},model:{value:(_vm.newIndicator.ioc),callback:function ($$v) {_vm.$set(_vm.newIndicator, \"ioc\", $$v)},expression:\"newIndicator.ioc\"}}),_c('v-select',{attrs:{\"outlined\":\"\",\"label\":\"Indicator type\",\"items\":_vm.indicatorTypes},model:{value:(_vm.newIndicator.type),callback:function ($$v) {_vm.$set(_vm.newIndicator, \"type\", $$v)},expression:\"newIndicator.type\"}}),_c('v-combobox',{attrs:{\"items\":Object.keys(this.tagInfo),\"label\":\"Add tags.. (optional)\",\"outlined\":\"\",\"chips\":\"\",\"small-chips\":\"\",\"multiple\":\"\"},model:{value:(_vm.newIndicator.tags),callback:function ($$v) {_vm.$set(_vm.newIndicator, \"tags\", $$v)},expression:\"newIndicator.tags\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"External reference (optional)\"},model:{value:(_vm.newIndicator.externalURI),callback:function ($$v) {_vm.$set(_vm.newIndicator, \"externalURI\", $$v)},expression:\"newIndicator.externalURI\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.closeDialog()}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\",\"disabled\":!_vm.newIndicator.ioc},on:{\"click\":_vm.saveIndicator}},[_vm._v(\" Save \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const IOCTypes = [\n    { regex: /^(\\/[\\S]+)+$/i, type: 'fs_path' },\n    { regex: /^([-\\w]+\\.)+[a-z]{2,}$/i, type: 'hostname' },\n    {\n      regex: /^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,\n      type: 'ipv4',\n    },\n    { regex: /^[0-9a-f]{64}$/i, type: 'hash_sha256' },\n    { regex: /^[0-9a-f]{40}$/i, type: 'hash_sha1' },\n    { regex: /^[0-9a-f]{32}$/i, type: 'hash_md5' },\n    // Match any \"other\" selection\n    { regex: /./g, type: 'other' },\n]\n\nexport {IOCTypes}\n","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-dialog :value=\"dialog\" @input=\"$emit('input', $event)\" max-width=\"600px\" @click:outside=\"closeDialog()\">\n    <v-card class=\"pa-4\">\n      <h3>{{ title }}</h3>\n      <br />\n      <v-text-field outlined label=\"Indicator data\" v-model=\"newIndicator.ioc\" @input=\"autoSelectIndicatorType($event)\">\n      </v-text-field>\n      <v-select outlined label=\"Indicator type\" v-model=\"newIndicator.type\" :items=\"indicatorTypes\"> </v-select>\n      <v-combobox\n        v-model=\"newIndicator.tags\"\n        :items=\"Object.keys(this.tagInfo)\"\n        label=\"Add tags.. (optional)\"\n        outlined\n        chips\n        small-chips\n        multiple\n      ></v-combobox>\n      <v-text-field outlined label=\"External reference (optional)\" v-model=\"newIndicator.externalURI\"> </v-text-field>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text @click=\"closeDialog()\"> Cancel </v-btn>\n        <v-btn color=\"primary\" depressed :disabled=\"!newIndicator.ioc\" @click=\"saveIndicator\"> Save </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { IOCTypes } from '@/utils/ThreatIntelMetadata'\n\nconst newIndicator = () => {\n  return {\n    ioc: '',\n    type: 'other',\n    externalURI: '',\n    tags: [],\n  }\n}\n\nexport default {\n  props: ['dialog', 'tagInfo', 'index'],\n  data() {\n    return {\n      IOCTypes: IOCTypes,\n      newIndicator: newIndicator(),\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    intelligenceAttribute() {\n      if (this.meta.attributes.intelligence === undefined) {\n        return { ontology: 'intelligence', value: { data: [] }, name: 'intelligence' }\n      }\n      return this.meta.attributes.intelligence\n    },\n    indicatorTypes() {\n      return this.IOCTypes.map((IOCtype) => IOCtype.type)\n    },\n    title() {\n      if (this.index < 0) {\n        return 'Create new indicator'\n      }\n      return 'Edit indicator'\n    },\n  },\n  methods: {\n    closeDialog: function () {\n      this.$emit('close-dialog')\n    },\n    autoSelectIndicatorType: function (value) {\n      // Check input against known indicator types and suggest value for select.\n      for (const IOCtype of this.IOCTypes) {\n        if (IOCtype.regex.test(value)) {\n          this.newIndicator.type = IOCtype.type\n          return\n        }\n      }\n    },\n    saveIndicator: function () {\n      this.$emit('save', this.newIndicator)\n      this.newIndicator = newIndicator()\n    },\n  },\n  watch: {\n    index() {\n      if (this.index < 0) {\n        this.newIndicator = newIndicator()\n      } else {\n        this.newIndicator = this.intelligenceAttribute.value.data[this.index]\n      }\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndicatorDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndicatorDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IndicatorDialog.vue?vue&type=template&id=5504ac72&scoped=true&\"\nimport script from \"./IndicatorDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./IndicatorDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5504ac72\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-indicator-dialog\n      :dialog.sync=\"indicatorDialog\"\n      :index=\"currentIndex\"\n      :tag-info=\"tagInfo\"\n      @open-dialog=\"indicatorDialog = true\"\n      @close-dialog=\"\n        indicatorDialog = false\n        currentIndex = -1\n      \"\n      @save=\"\n        saveIntelligence($event)\n        indicatorDialog = false\n      \"\n    >\n    </ts-indicator-dialog>\n\n    <v-container fluid>\n      <v-btn class=\"mt-n1 ml-3\" text color=\"primary\" @click=\"addIndicator\">\n        <v-icon left>mdi-plus</v-icon>\n        Add Indicator\n      </v-btn>\n\n      <v-card outlined class=\"mt-3 mx-3\">\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"intelligenceData\"\n          :footer-props=\"{ 'items-per-page-options': [10, 40, 80, 100, 200, 500], 'show-current-page': true }\"\n          :items-per-page=\"40\"\n        >\n          <template v-slot:item.search=\"{ item }\">\n            <v-btn icon small @click=\"generateSearchQuery(item.ioc)\">\n              <v-icon small>mdi-magnify</v-icon>\n            </v-btn>\n          </template>\n\n          <template v-slot:item.externalURI=\"{ item }\">\n            <v-icon v-if=\"item.externalURI\" x-small>mdi-open-in-new</v-icon>\n            <a\n              style=\"text-decoration: none\"\n              v-if=\"getValidUrl(item.externalURI)\"\n              :href=\"getValidUrl(item.externalURI)\"\n              target=\"_blank\"\n            >\n              {{ getValidUrl(item.externalURI).host }}</a\n            >\n          </template>\n          <template v-slot:item.tags=\"{ item }\">\n            <v-chip-group>\n              <v-chip small v-for=\"tag in item.tags\" :key=\"tag\" @click=\"searchForIOC(tag)\">\n                {{ tag }}\n              </v-chip>\n            </v-chip-group>\n          </template>\n\n          <template v-slot:item.actions=\"{ item }\">\n            <v-btn small icon @click=\"editIndicator(item.index)\">\n              <v-icon small>mdi-pencil</v-icon>\n            </v-btn>\n            <v-btn small icon @click=\"deleteIndicator(item.index)\">\n              <v-icon small>mdi-trash-can-outline</v-icon>\n            </v-btn>\n          </template>\n        </v-data-table>\n      </v-card>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\nimport EventBus from '../main'\nimport TsIndicatorDialog from '../components/ThreatIntel/IndicatorDialog'\n\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: '_all',\n    order: 'asc',\n    chips: [],\n  }\n}\n\nexport default {\n  props: [],\n  components: {\n    TsIndicatorDialog,\n  },\n  data: function () {\n    return {\n      headers: [\n        { text: '', value: 'search', align: 'start' },\n        { text: 'Indicator data', value: 'ioc' },\n        { text: 'Indicator type', value: 'type' },\n        { text: 'Tags', value: 'tags' },\n        { text: 'External reference', value: 'externalURI' },\n        { text: '', value: 'actions' },\n      ],\n      tagInfo: {},\n      indicatorDialog: false,\n      currentIndex: -1,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    intelligenceAttribute() {\n      if (this.meta.attributes.intelligence === undefined) {\n        return { ontology: 'intelligence', value: { data: [] }, name: 'intelligence' }\n      }\n      return this.meta.attributes.intelligence\n    },\n    intelligenceData() {\n      return this.intelligenceAttribute.value.data.map((x, idx) => ({ ...x, index: idx }))\n    },\n  },\n  methods: {\n    addIndicator() {\n      this.indicatorDialog = true\n    },\n    deleteIndicator(index) {\n      if (confirm('Delete indicator?')) {\n        this.intelligenceAttribute.value.data.splice(index, 1)\n        ApiClient.addSketchAttribute(this.sketch.id, 'intelligence', this.intelligenceAttribute.value, 'intelligence')\n          .then(() => {\n            this.successSnackBar('Indicator deleted')\n            this.buildTagInfo()\n          })\n          .catch((e) => {\n            this.errorSnackBar('Failed to save indicator')\n            console.error(e)\n          })\n      }\n    },\n    editIndicator(index) {\n      this.currentIndex = index\n      this.indicatorDialog = true\n    },\n    getValidUrl(urlString) {\n      if (urlString === undefined || urlString === null || urlString === '') {\n        return false\n      }\n      if (urlString.startsWith('http')) {\n        return new URL(urlString)\n      } else if (urlString.includes('/')) {\n        return new URL('http://' + urlString)\n      } else {\n        return false\n      }\n    },\n    buildTagInfo() {\n      this.tagInfo = {}\n      for (var ioc of this.intelligenceData) {\n        for (var tag of ioc.tags) {\n          // deal with the case when tag is an object that is already enriched.\n          var tagKey = null\n          if (typeof tag === 'object') {\n            tagKey = tag.name\n          } else {\n            tagKey = tag\n          }\n          if (!this.tagInfo[tagKey]) {\n            this.tagInfo[tagKey] = {\n              iocs: [],\n            }\n          }\n          this.tagInfo[tagKey].iocs.push(ioc.ioc)\n        }\n      }\n    },\n    generateSearchQuery(value, field) {\n      let query = `\"${value}\"`\n      // Escape special OpenSearch characters: \\, [space]\n      query = query.replace(/[\\\\\\s]/g, '\\\\$&')\n      if (field !== undefined) {\n        query = `${field}:${query}`\n      }\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = query\n      eventData.queryFilter = defaultQueryFilter()\n      EventBus.$emit('setQueryAndFilter', eventData)\n    },\n    searchForIOC(tag) {\n      let tagDetails = this.tagInfo[tag] || {}\n      let opensearchQuery = tagDetails.iocs.map((v) => `\"${v}\"`).reduce((a, b) => `${a} OR ${b}`)\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = opensearchQuery\n      eventData.queryFilter = defaultQueryFilter()\n      EventBus.$emit('setQueryAndFilter', eventData)\n    },\n    saveIntelligence(indicator) {\n      // If this is a new indicator add it to indicator array.\n      if (this.currentIndex < 0) {\n        this.intelligenceAttribute.value.data.push(indicator)\n      }\n      ApiClient.addSketchAttribute(this.sketch.id, 'intelligence', this.intelligenceAttribute.value, 'intelligence')\n        .then(() => {\n          this.successSnackBar('Indicator saved')\n          this.buildTagInfo()\n        })\n        .catch((e) => {\n          this.errorSnackBar('Failed to save indicator')\n          console.error(e)\n        })\n    },\n  },\n  mounted() {\n    this.buildTagInfo()\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreatIntel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreatIntel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ThreatIntel.vue?vue&type=template&id=03967980&\"\nimport script from \"./ThreatIntel.vue?vue&type=script&lang=js&\"\nexport * from \"./ThreatIntel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-card',{staticClass:\"pa-3 pt-0 mt-n3\",attrs:{\"flat\":\"\",\"color\":\"transparent\"}},[_c('v-card',{staticClass:\"d-flex align-start mb-1\",attrs:{\"outlined\":\"\"}},[_c('v-text-field',{staticClass:\"pa-1\",attrs:{\"placeholder\":\"Filter nodes and edges\",\"label\":\"Filter nodes and edges\",\"append-icon\":\"mdi-magnify\",\"hide-details\":\"\",\"single-line\":\"\",\"dense\":\"\",\"filled\":\"\",\"flat\":\"\",\"solo\":\"\"},on:{\"input\":_vm.filterGraphByInput},model:{value:(_vm.filterString),callback:function ($$v) {_vm.filterString=$$v},expression:\"filterString\"}})],1),_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\",\"color\":\"transparent\"}},[_c('div',[_c('span',{staticClass:\"mr-2\"},[_c('small',[_vm._v(_vm._s(_vm.nodes.length)+\" nodes and \"+_vm._s(_vm.edges.length)+\" edges\")])]),_c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"disabled\":!_vm.edgeQuery,\"title\":\"Save selected graph\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-content-save-outline\")])],1)]}}]),model:{value:(_vm.saveGraphDialog),callback:function ($$v) {_vm.saveGraphDialog=$$v},expression:\"saveGraphDialog\"}},[_c('v-card',{staticClass:\"pa-4\"},[_c('h3',[_vm._v(\"Save selected elements\")]),_c('br'),_c('v-text-field',{attrs:{\"required\":\"\",\"placeholder\":\"Name your graph\",\"outlined\":\"\",\"dense\":\"\",\"autofocus\":\"\"},on:{\"focus\":function($event){return $event.target.select()}},model:{value:(_vm.saveAsName),callback:function ($$v) {_vm.saveAsName=$$v},expression:\"saveAsName\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.saveGraphDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\",\"disabled\":!_vm.saveAsName},on:{\"click\":_vm.saveGraph}},[_vm._v(\" Save \")])],1)],1)],1),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":!_vm.currentGraph,\"title\":\"Fit to canvas\"},on:{\"click\":function($event){return _vm.cy.fit()}}},[_c('v-icon',[_vm._v(\"mdi-fit-to-page-outline\")])],1),_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"close-on-click\":true,\"content-class\":\"menu-with-gap\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"disabled\":!_vm.currentGraph,\"title\":\"Graph settings\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\" mdi-cog-outline \")])],1)]}}]),model:{value:(_vm.graphSettingsMenu),callback:function ($$v) {_vm.graphSettingsMenu=$$v},expression:\"graphSettingsMenu\"}},[_c('v-card',{staticClass:\"pa-4 pt-5\",attrs:{\"width\":\"600\"}},[_c('h5',[_vm._v(\"Layout type\")]),_c('v-radio-group',{attrs:{\"row\":\"\"},model:{value:(_vm.layoutName),callback:function ($$v) {_vm.layoutName=$$v},expression:\"layoutName\"}},_vm._l((_vm.layouts),function(layout){return _c('v-radio',{key:layout,attrs:{\"label\":layout,\"value\":layout},on:{\"click\":function($event){return _vm.buildGraph(_vm.currentGraph)}}})}),1),_c('h5',[_vm._v(\"Edge style\")]),_c('v-radio-group',{attrs:{\"row\":\"\"},model:{value:(_vm.edgeStyle),callback:function ($$v) {_vm.edgeStyle=$$v},expression:\"edgeStyle\"}},_vm._l((_vm.edgeStyles),function(edge){return _c('v-radio',{key:edge,attrs:{\"label\":edge,\"value\":edge},on:{\"click\":function($event){return _vm.buildGraph(_vm.currentGraph)}}})}),1),_c('h5',[_vm._v(\"Transparency for unselected elements\")]),_c('v-slider',{attrs:{\"max\":100,\"min\":0,\"thumb-label\":\"\"},on:{\"change\":_vm.changeOpacity},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\" \"+_vm._s(value)+\"% \")]}}]),model:{value:(_vm.fadeOpacity),callback:function ($$v) {_vm.fadeOpacity=$$v},expression:\"fadeOpacity\"}})],1)],1)],1),_c('v-spacer'),(Object.keys(_vm.currentGraphCache).length)?_c('div',[_c('i',[_vm._v(\"Generated \"+_vm._s(_vm._f(\"timeSince\")(_vm.currentGraphCache.updated_at)))]),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"icon\":\"\",\"title\":\"Refresh graph\",\"disabled\":!_vm.currentGraph},on:{\"click\":function($event){return _vm.buildGraph({ name: _vm.currentGraph }, true)}}},[_c('v-icon',[_vm._v(\"mdi-refresh\")])],1)],1):_vm._e()],1)],1),(_vm.isLoading)?_c('div',{staticClass:\"pa-4\"},[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1):_vm._e(),(!_vm.elements.length && !_vm.isLoading)?_c('v-card',{staticClass:\"pa-4\",attrs:{\"flat\":\"\"}},[_vm._v(\" No data to generate graph \")]):_vm._e(),_c('div',{ref:\"graphContainer\",staticStyle:{\"height\":\"85vh\"}},[(_vm.elements.length && _vm.showGraph)?_c('cytoscape',{attrs:{\"config\":_vm.config,\"preConfig\":_vm.preConfig,\"afterCreated\":_vm.afterCreated},on:{\"select\":function($event){return _vm.filterGraphBySelection($event)},\"unselect\":function($event){return _vm.unSelectAllElements($event)}}},_vm._l((_vm.elements),function(def){return _c('cy-element',{key:def.data.id,attrs:{\"definition\":def}})}),1):_vm._e()],1),_c('v-bottom-sheet',{attrs:{\"hide-overlay\":\"\",\"persistent\":\"\",\"no-click-animation\":\"\",\"scrollable\":\"\"},on:{\"click:outside\":_vm.closeTimelineView},model:{value:(_vm.showTimelineView),callback:function ($$v) {_vm.showTimelineView=$$v},expression:\"showTimelineView\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\"}},[_c('strong',[_vm._v(\"Timeline for \"+_vm._s(_vm.selectedEdgesCount)+\" selected edge(s)\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.timelineViewHeight > 40},on:{\"click\":function($event){return _vm.increaseTimelineViewHeight()}}},[_c('v-icon',[_vm._v(\"mdi-chevron-up\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.timelineViewHeight === 0},on:{\"click\":function($event){return _vm.decreaseTimelineViewHeight()}}},[_c('v-icon',[_vm._v(\"mdi-chevron-down\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showTimelineView = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('v-expand-transition',[_c('v-card-text',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.minimizeTimelineView),expression:\"!minimizeTimelineView\"}],style:({ height: _vm.timelineViewHeight + 'vh' })},[_c('ts-event-list',{attrs:{\"query-request\":_vm.queryRequest,\"items-per-page\":_vm.maxEvents,\"disable-save-search\":\"\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-container fluid>\n    <v-card flat class=\"pa-3 pt-0 mt-n3\" color=\"transparent\">\n      <v-card class=\"d-flex align-start mb-1\" outlined>\n        <v-text-field\n          v-model=\"filterString\"\n          @input=\"filterGraphByInput\"\n          class=\"pa-1\"\n          placeholder=\"Filter nodes and edges\"\n          label=\"Filter nodes and edges\"\n          append-icon=\"mdi-magnify\"\n          hide-details\n          single-line\n          dense\n          filled\n          flat\n          solo\n        >\n        </v-text-field>\n      </v-card>\n      <v-toolbar dense flat color=\"transparent\">\n        <div>\n          <span class=\"mr-2\">\n            <small>{{ nodes.length }} nodes and {{ edges.length }} edges</small>\n          </span>\n          <!-- Save graph dialog -->\n          <v-dialog v-model=\"saveGraphDialog\" width=\"500\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn icon :disabled=\"!edgeQuery\" v-bind=\"attrs\" v-on=\"on\" title=\"Save selected graph\">\n                <v-icon>mdi-content-save-outline</v-icon>\n              </v-btn>\n            </template>\n            <v-card class=\"pa-4\">\n              <h3>Save selected elements</h3>\n              <br />\n              <v-text-field\n                v-model=\"saveAsName\"\n                required\n                placeholder=\"Name your graph\"\n                outlined\n                dense\n                autofocus\n                @focus=\"$event.target.select()\"\n              ></v-text-field>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn text @click=\"saveGraphDialog = false\"> Cancel </v-btn>\n                <v-btn color=\"primary\" depressed @click=\"saveGraph\" :disabled=\"!saveAsName\"> Save </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n          <v-btn icon v-on:click=\"cy.fit()\" :disabled=\"!currentGraph\" title=\"Fit to canvas\">\n            <v-icon>mdi-fit-to-page-outline</v-icon>\n          </v-btn>\n          <!-- Graph settings menu -->\n          <v-menu\n            v-model=\"graphSettingsMenu\"\n            offset-y\n            :close-on-content-click=\"false\"\n            :close-on-click=\"true\"\n            content-class=\"menu-with-gap\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn icon v-bind=\"attrs\" v-on=\"on\" :disabled=\"!currentGraph\" title=\"Graph settings\">\n                <v-icon> mdi-cog-outline </v-icon>\n              </v-btn>\n            </template>\n\n            <v-card class=\"pa-4 pt-5\" width=\"600\">\n              <h5>Layout type</h5>\n              <v-radio-group row v-model=\"layoutName\">\n                <v-radio\n                  v-for=\"layout in layouts\"\n                  :key=\"layout\"\n                  :label=\"layout\"\n                  :value=\"layout\"\n                  @click=\"buildGraph(currentGraph)\"\n                ></v-radio>\n              </v-radio-group>\n\n              <h5>Edge style</h5>\n              <v-radio-group row v-model=\"edgeStyle\">\n                <v-radio\n                  v-for=\"edge in edgeStyles\"\n                  :key=\"edge\"\n                  :label=\"edge\"\n                  :value=\"edge\"\n                  @click=\"buildGraph(currentGraph)\"\n                ></v-radio>\n              </v-radio-group>\n\n              <h5>Transparency for unselected elements</h5>\n              <v-slider v-model=\"fadeOpacity\" @change=\"changeOpacity\" :max=\"100\" :min=\"0\" thumb-label>\n                <template v-slot:thumb-label=\"{ value }\"> {{ value }}% </template>\n              </v-slider>\n            </v-card>\n          </v-menu>\n        </div>\n        <v-spacer></v-spacer>\n        <div v-if=\"Object.keys(currentGraphCache).length\">\n          <i>Generated {{ currentGraphCache.updated_at | timeSince }}</i>\n          <v-btn\n            icon\n            class=\"ml-1\"\n            title=\"Refresh graph\"\n            v-on:click=\"buildGraph({ name: currentGraph }, true)\"\n            :disabled=\"!currentGraph\"\n          >\n            <v-icon>mdi-refresh</v-icon>\n          </v-btn>\n        </div>\n      </v-toolbar>\n    </v-card>\n\n    <div v-if=\"isLoading\" class=\"pa-4\">\n      <v-progress-linear indeterminate color=\"primary\"></v-progress-linear>\n    </div>\n\n    <v-card flat class=\"pa-4\" v-if=\"!elements.length && !isLoading\"> No data to generate graph </v-card>\n\n    <div style=\"height: 85vh\" ref=\"graphContainer\">\n      <cytoscape\n        v-if=\"elements.length && showGraph\"\n        v-on:select=\"filterGraphBySelection($event)\"\n        v-on:unselect=\"unSelectAllElements($event)\"\n        :config=\"config\"\n        :preConfig=\"preConfig\"\n        :afterCreated=\"afterCreated\"\n      >\n        <cy-element v-for=\"def in elements\" :key=\"def.data.id\" :definition=\"def\"> </cy-element>\n      </cytoscape>\n    </div>\n\n    <!-- Event list for selected edges -->\n    <v-bottom-sheet\n      hide-overlay\n      persistent\n      no-click-animation\n      v-model=\"showTimelineView\"\n      @click:outside=\"closeTimelineView\"\n      scrollable\n    >\n      <v-card>\n        <v-toolbar dense flat>\n          <strong>Timeline for {{ selectedEdgesCount }} selected edge(s)</strong>\n          <v-spacer></v-spacer>\n          <v-btn icon :disabled=\"timelineViewHeight > 40\" @click=\"increaseTimelineViewHeight()\">\n            <v-icon>mdi-chevron-up</v-icon>\n          </v-btn>\n          <v-btn icon :disabled=\"timelineViewHeight === 0\" @click=\"decreaseTimelineViewHeight()\">\n            <v-icon>mdi-chevron-down</v-icon>\n          </v-btn>\n          <v-btn icon @click=\"showTimelineView = false\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-toolbar>\n        <v-divider></v-divider>\n        <v-expand-transition>\n          <v-card-text :style=\"{ height: timelineViewHeight + 'vh' }\" v-show=\"!minimizeTimelineView\">\n            <ts-event-list\n              :query-request=\"queryRequest\"\n              :items-per-page=\"maxEvents\"\n              disable-save-search\n            ></ts-event-list>\n          </v-card-text>\n        </v-expand-transition>\n      </v-card>\n    </v-bottom-sheet>\n  </v-container>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\nimport EventBus from '../main'\nimport spread from 'cytoscape-spread'\nimport dagre from 'cytoscape-dagre'\nimport _ from 'lodash'\n\nimport TsEventList from '../components/Explore/EventList'\n\nexport default {\n  props: ['graphId'],\n  components: {\n    TsEventList,\n  },\n  data: function () {\n    return {\n      saveGraphDialog: false,\n      graphSettingsMenu: false,\n      showTimelineView: false,\n      timelineViewHeight: 40,\n      minimizeTimelineView: false,\n      showGraph: true,\n      isLoading: false,\n      filterString: '',\n      graphs: {},\n      currentGraph: '',\n      currentGraphCache: {},\n      currentGraphCacheConfig: {},\n      fadeOpacity: 7,\n      elements: [],\n      selectedEdgesCount: 0,\n      edgeQuery: '',\n      maxEvents: 40,\n      queryFilter: {\n        from: 0,\n        terminate_after: 40,\n        size: this.maxEvents,\n        indices: ['_all'],\n        order: 'asc',\n        chips: [],\n      },\n      saveAsName: '',\n      layouts: ['spread', 'dagre', 'circle', 'concentric', 'breadthfirst'],\n      layoutName: 'spread',\n      edgeStyles: ['bezier', 'taxi'],\n      edgeStyle: 'bezier',\n      config: {\n        style: [\n          {\n            selector: 'node',\n            style: {\n              shape: 'roundrectangle',\n              width: 'label',\n              height: 'label',\n              'compound-sizing-wrt-labels': 'include',\n              'text-halign': 'center',\n              'text-valign': 'center',\n              color: '#FFFFFF',\n              'font-size': '10',\n              'font-weight': 'bold',\n              'text-outline-width': '0px',\n              padding: '7px',\n              'background-color': 'gray',\n              'text-outline-color': 'gray',\n              'text-wrap': 'wrap',\n              'text-max-width': '12em',\n              label: 'data(label)',\n            },\n          },\n          {\n            selector: 'node:selected',\n            style: {\n              'overlay-color': 'black',\n              'overlay-opacity': '0.3',\n              'overlay-padding': '7px',\n            },\n          },\n          {\n            selector: \"node[type = 'user']\",\n            style: {\n              'background-color': '#FF756E',\n              'text-outline-color': '#FF756E',\n            },\n          },\n          {\n            selector: \"node[type = 'computer']\",\n            style: {\n              'background-color': '#6992f3',\n              'text-outline-color': '#ffffff',\n            },\n          },\n          {\n            selector: \"node[type = 'file']\",\n            style: {\n              'background-color': '#82b578',\n              'text-outline-color': '#2b2b2b',\n            },\n          },\n          {\n            selector: \"node[type = 'winservice']\",\n            style: {\n              'background-color': '#9d8f35',\n              'text-outline-color': '#2b2b2b',\n            },\n          },\n          {\n            selector: 'edge',\n            style: {\n              width: 1,\n              'curve-style': 'bezier',\n              'control-point-step-size': 70,\n              'target-arrow-shape': 'triangle',\n              'font-size': 11,\n              'text-rotation': 'autorotate',\n              'text-outline-width': 3,\n              'text-outline-color': '#FFFFFF',\n              label: 'data(label)',\n            },\n          },\n          {\n            selector: 'edge:selected',\n            style: {\n              width: 2,\n              'line-color': '#333333',\n              'source-arrow-color': '#333333',\n              'target-arrow-color': '#333333',\n            },\n          },\n          {\n            selector: '.faded',\n            style: {\n              opacity: 0.07,\n              color: '#333333',\n            },\n          },\n        ],\n        layout: {\n          name: '',\n          animate: false,\n          prelayout: false,\n          spacingFactor: 2,\n        },\n\n        // interaction options:\n        minZoom: 0.1,\n        maxZoom: 1.5,\n        zoomingEnabled: true,\n        userZoomingEnabled: true,\n        panningEnabled: true,\n        userPanningEnabled: true,\n        boxSelectionEnabled: true,\n        selectionType: 'single',\n        touchTapThreshold: 8,\n        desktopTapThreshold: 4,\n        autolock: false,\n        autoungrabify: false,\n        autounselectify: false,\n\n        // rendering options:\n        headless: false,\n        styleEnabled: true,\n        hideEdgesOnViewport: false,\n        hideLabelsOnViewport: false,\n        textureOnViewport: false,\n        motionBlur: false,\n        motionBlurOpacity: 0.2,\n        pixelRatio: 'auto',\n      },\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    nodes() {\n      return this.elements.filter((el) => el.group === 'nodes')\n    },\n    edges() {\n      return this.elements.filter((el) => el.group === 'edges')\n    },\n    queryRequest() {\n      if (!this.edgeQuery) {\n        return\n      }\n      return { queryDsl: this.edgeQuery, queryFilter: this.queryFilter }\n    },\n  },\n  methods: {\n    increaseTimelineViewHeight: function () {\n      this.minimizeTimelineView = false\n      if (this.timelineViewHeight > 70) {\n        return\n      }\n      this.timelineViewHeight += 30\n    },\n    decreaseTimelineViewHeight: function () {\n      this.minimizeTimelineView = false\n      if (this.timelineViewHeight < 50) {\n        this.minimizeTimelineView = true\n        this.timelineViewHeight = 0\n        return\n      }\n      this.timelineViewHeight -= 30\n    },\n    closeTimelineView: function () {\n      if (this.$route.name !== 'Graph') {\n        this.showTimelineView = false\n      }\n    },\n    setSavedGraph: function (graphId) {\n      this.showTimelineView = false\n      if (this.$route.name !== 'Graph') {\n        this.$router.push({ name: 'Graph', params: { graph: graphId } })\n      }\n      this.buildSavedGraph(graphId)\n    },\n\n    setGraphPlugin: function (graphPlugin) {\n      this.showTimelineView = false\n      if (this.$route.name !== 'Graph') {\n        this.$router.push({ name: 'Graph', params: { graphPlugin: graphPlugin } })\n      }\n      this.buildGraph(graphPlugin)\n    },\n\n    buildSavedGraph: function (savedGraph) {\n      this.config.layout.name = 'preset'\n      this.currentGraph = savedGraph.name\n      this.currentGraphCache = {}\n      this.showGraph = false\n      this.elements = []\n      this.loadingTimeout = setTimeout(() => {\n        if (!this.elements.length) {\n          this.isLoading = true\n        }\n      }, 600)\n      this.edgeQuery = ''\n\n      let graphId = ''\n      if (typeof savedGraph === 'object') {\n        graphId = savedGraph.id\n      } else {\n        graphId = savedGraph\n      }\n      ApiClient.getSavedGraph(this.sketch.id, graphId)\n        .then((response) => {\n          this.currentGraph = response.data['objects'][0].name\n          let elements = JSON.parse(response.data['objects'][0].graph_elements)\n          let nodes = elements.filter((ele) => ele.group === 'nodes')\n          let edges = elements.filter((ele) => ele.group === 'edges')\n          let orderedElements = []\n          nodes.forEach((node) => {\n            node.selected = false\n            orderedElements.push(node)\n          })\n          edges.forEach((edge) => {\n            edge.selected = false\n            orderedElements.push(edge)\n          })\n          clearTimeout(this.loadingTimeout)\n          this.elements = orderedElements\n          this.showGraph = true\n          this.isLoading = false\n        })\n        .catch((e) => {\n          console.error(e)\n        })\n    },\n    buildGraph: function (graphPlugin, refresh = false) {\n      this.config.layout.name = this.layoutName\n\n      let edgeStyle = this.config.style.filter((selector) => selector.selector === 'edge')\n      edgeStyle[0].style['curve-style'] = this.edgeStyle\n\n      if (typeof graphPlugin === 'object') {\n        this.currentGraph = graphPlugin.name\n      } else {\n        this.currentGraph = graphPlugin\n      }\n\n      this.showGraph = false\n      this.elements = []\n      this.isLoading = true\n      this.edgeQuery = ''\n      let currentIndices = []\n      let timelineIds = []\n      if (this.$route.query.timeline) {\n        timelineIds.push(parseInt(this.$route.query.timeline))\n        refresh = true\n      } else {\n        this.sketch.timelines.forEach((timeline) => {\n          currentIndices.push(timeline.searchindex.index_name)\n        })\n      }\n      ApiClient.generateGraphFromPlugin(this.sketch.id, this.currentGraph, currentIndices, timelineIds, refresh)\n        .then((response) => {\n          let graphCache = response.data['objects'][0]\n          let elementsCache = JSON.parse(graphCache.graph_elements)\n          let configCache = JSON.parse(graphCache.graph_config)\n          let elements = []\n          let nodes\n          let edges\n\n          if ('elements' in elementsCache) {\n            nodes = elementsCache['elements']['nodes']\n            edges = elementsCache['elements']['edges']\n          } else {\n            nodes = elementsCache['nodes']\n            edges = elementsCache['edges']\n          }\n          nodes.forEach((node) => {\n            elements.push({ data: node.data, group: 'nodes' })\n          })\n          edges.forEach((edge) => {\n            elements.push({ data: edge.data, group: 'edges' })\n          })\n          delete graphCache.graph_elements\n          this.currentGraphCache = graphCache\n          this.currentGraphCacheConfig = configCache\n          this.elements = elements\n          clearTimeout(this.loadingTimeout)\n          this.showGraph = true\n          this.isLoading = false\n        })\n        .catch((e) => {\n          console.error(e)\n        })\n    },\n    saveGraph: function () {\n      let selected = this.cy.filter(':selected')\n      let neighborhood = this.buildNeighborhood(selected)\n      let elements = neighborhood.jsons()\n      this.showGraph = false\n      this.elements = elements\n      this.currentGraph = this.saveAsName\n      this.showGraph = true\n      ApiClient.saveGraph(this.sketch.id, this.saveAsName, elements)\n        .then((response) => {\n          this.$store.dispatch('updateSavedGraphs', this.sketch.id)\n          this.$router.push({ name: 'Graph', query: { graph: response.data.objects[0].id } })\n        })\n        .catch((e) => {\n          this.errorSnackBar('Unable to save graph')\n          console.error(e)\n        })\n      this.saveAsName = ''\n      this.saveGraphDialog = false\n    },\n    filterGraphByInput: function () {\n      // Unselect all events to remove any potential left over\n      this.cy.elements().unselect()\n\n      // This is the collection of matched nodes/edges\n      let selected = this.cy\n        .elements()\n        .filter((ele) => ele.data('label').toLowerCase().includes(this.filterString.toLowerCase()))\n\n      // Build the neighborhood\n      this.showNeighborhood(selected)\n    },\n\n    filterGraphBySelection: function (event) {\n      let selected = this.cy.filter(':selected')\n      this.showNeighborhood(selected)\n      this.showTimelineView = true\n    },\n\n    unSelectAllElements: function (event) {\n      this.cy.elements().removeClass('faded')\n      this.edgeQuery = null\n      this.showTimelineView = false\n      this.selectedEdgesCount = 0\n    },\n\n    buildNeighborhood: function (selected) {\n      // Build a new collection to use as the neighborhood\n      let neighborhood = this.cy.collection()\n\n      // Build a neighborhood of nodes and edges.\n      neighborhood = neighborhood.add(selected.filter('node').neighborhood())\n      neighborhood = neighborhood.add(selected.filter('edge').connectedNodes())\n      neighborhood = neighborhood.add(selected)\n\n      return neighborhood\n    },\n\n    showNeighborhood: function (selected) {\n      let neighborhood = this.buildNeighborhood(selected)\n\n      if (selected.length === 0) {\n        this.cy.elements().removeClass('faded')\n        return\n      }\n\n      // Highlight the matched nodes/edges\n      this.cy.elements().addClass('faded')\n      neighborhood.removeClass('faded')\n\n      // Build Opensearch query DSL to fetch edge events.\n      let queryDsl = {\n        query: {\n          bool: {\n            should: [],\n          },\n        },\n      }\n      neighborhood.forEach((element) => {\n        if (element.group() === 'edges') {\n          Object.keys(element.data().events).forEach((index) => {\n            this.selectedEdgesCount++\n            let boolMustQuery = {\n              bool: {\n                must: [{ ids: { values: element.data().events[index] } }, { term: { _index: { value: index } } }],\n              },\n            }\n            queryDsl.query.bool.should.push(boolMustQuery)\n          })\n        }\n      })\n      this.edgeQuery = queryDsl\n    },\n    resizeCanvas: function () {\n      // Exit early if the current page is not Graph\n      if (this.$route.name !== 'Graph') {\n        return\n      }\n      let canvasHeight = this.$refs.graphContainer.clientHeight\n      let canvasWidth = this.$refs.graphContainer.clientWidth\n      let canvas = document.getElementById('cytoscape-div')\n      canvas.style.minHeight = canvasHeight + 'px'\n      canvas.style.height = canvasHeight + 'px'\n      canvas.style.minWidth = canvasWidth + 'px'\n      canvas.style.width = canvasWidth + 'px'\n    },\n    // vue-cytoscape life-cycle hook, runs before graph is created.\n    preConfig(cytoscape) {\n      cytoscape.use(spread)\n      cytoscape.use(dagre)\n      this.resizeCanvas()\n    },\n    // vue-cytoscape life-cycle hook, runs after graph is created.\n    async afterCreated(cy = null) {\n      // Add Cytoscape \"cy\" objects to this component instance.\n      if (cy !== null) {\n        this.cy = cy\n      } else {\n        cy = this.cy\n      }\n      await cy\n      this.setTheme()\n\n      // Run the layout to render the graph elements.\n      cy.layout(this.config.layout).run()\n    },\n    changeOpacity: function () {\n      if (!this.cy) {\n        return\n      }\n      this.cy\n        .style()\n        .selector('.faded')\n        .style({\n          opacity: this.fadeOpacity / 100,\n        })\n        .update()\n    },\n    setTheme: function () {\n      if (this.$vuetify.theme.dark) {\n        this.cy\n          .style()\n          .selector('edge')\n          .style({\n            color: '#f5f5f5',\n            'text-outline-color': '#25272c',\n          })\n          .update()\n      } else {\n        this.cy\n          .style()\n          .selector('edge')\n          .style({\n            color: '#333333',\n            'text-outline-color': '#FFFFFF',\n          })\n          .update()\n      }\n    },\n  },\n  mounted() {\n    window.addEventListener(\n      'resize',\n      _.debounce(() => {\n        this.resizeCanvas()\n      }, 250)\n    )\n    EventBus.$on('setGraphPlugin', this.setGraphPlugin)\n    EventBus.$on('setSavedGraph', this.setSavedGraph)\n\n    this.params = {\n      graphId: this.$route.query.graph,\n      pluginName: this.$route.query.plugin,\n      timelineId: this.$route.query.timeline,\n    }\n\n    if (this.params.graphId) {\n      this.buildSavedGraph(this.params.graphId)\n    }\n\n    if (this.params.pluginName) {\n      this.buildGraph(this.params.pluginName)\n    }\n  },\n  beforeDestroy() {\n    EventBus.$off('setGraphPlugin')\n    EventBus.$off('setSavedGraph')\n  },\n  watch: {\n    '$vuetify.theme.dark'() {\n      this.setTheme()\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Graph.vue?vue&type=template&id=9db14154&scoped=true&\"\nimport script from \"./Graph.vue?vue&type=script&lang=js&\"\nexport * from \"./Graph.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9db14154\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-dialog',{attrs:{\"width\":\"600\"},model:{value:(_vm.renameStoryDialog),callback:function ($$v) {_vm.renameStoryDialog=$$v},expression:\"renameStoryDialog\"}},[_c('v-card',{staticClass:\"pa-4\"},[_c('h3',[_vm._v(\"Rename story\")]),_c('br'),_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"autofocus\":\"\"},on:{\"focus\":function($event){return $event.target.select()}},model:{value:(_vm.titleDraft),callback:function ($$v) {_vm.titleDraft=$$v},expression:\"titleDraft\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.renameStoryDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\"},on:{\"click\":function($event){return _vm.rename()}}},[_vm._v(\" Save \")])],1)],1)],1),_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-toolbar',{staticClass:\"mt-n3\",attrs:{\"dense\":\"\",\"flat\":\"\",\"color\":\"transparent\"}},[_c('v-toolbar-title',{staticClass:\"mx-3\",on:{\"dblclick\":function($event){_vm.renameStoryDialog = true}}},[_vm._v(\" \"+_vm._s(_vm.title))]),(hover)?_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.renameStoryDialog = true}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-pencil\")])],1):_vm._e()],1)]}}])}),_c('div',{staticClass:\"mx-3 pa-4\"},_vm._l((_vm.blocks),function(block,index){return _c('div',{key:index},[(!block.componentName)?_c('div',[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('div',{staticStyle:{\"min-height\":\"30px\"},on:{\"dblclick\":function($event){return _vm.editTextBlock(block)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }block.edit = false}}},[(hover && !block.edit)?_c('v-card',{staticClass:\"float-right px-2\",attrs:{\"outlined\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.editTextBlock(block)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-pencil\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteBlock(index)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-trash-can-outline\")])],1)],1):_vm._e(),(!block.edit)?_c('div',{staticClass:\"markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.toHtml(block.content))}}):_vm._e(),(block.edit)?_c('v-card',{staticClass:\"mb-2\",attrs:{\"flat\":\"\",\"outlined\":\"\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\",\"dense\":\"\"}},[_c('v-tabs',{model:{value:(block.currentTab),callback:function ($$v) {_vm.$set(block, \"currentTab\", $$v)},expression:\"block.currentTab\"}},[_c('v-tab',[_vm._v(\"Edit\")]),_c('v-tab',[_vm._v(\"Preview\")])],1),_c('v-spacer'),(_vm.hasContent)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteBlock(index)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-trash-can-outline\")])],1):_vm._e()],1),_c('v-divider'),_c('v-tabs-items',{model:{value:(block.currentTab),callback:function ($$v) {_vm.$set(block, \"currentTab\", $$v)},expression:\"block.currentTab\"}},[_c('v-tab-item',{attrs:{\"transition\":false}},[_c('v-textarea',{attrs:{\"solo\":\"\",\"flat\":\"\",\"value\":block.draft,\"placeholder\":\"Your story starts here..\",\"rows\":\"5\",\"auto-grow\":\"\",\"autofocus\":\"\"},on:{\"input\":function($event){return _vm.updateDraft($event, block)}}})],1),_c('v-tab-item',{attrs:{\"transition\":false}},[_c('div',{staticClass:\"markdown-body pa-4\",domProps:{\"innerHTML\":_vm._s(_vm.toHtml(block.draft))}})])],1),(block.edit)?_c('v-divider'):_vm._e(),(block.edit)?_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\",\"disabled\":!block.draft},on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\"Save\")]),_c('v-btn',{attrs:{\"text\":\"\",\"disabled\":!_vm.hasContent},on:{\"click\":function($event){block.edit = false}}},[_vm._v(\"Cancel\")])],1):_vm._e()],1):_vm._e()],1)]}}],null,true)})],1):_vm._e(),(block.componentName)?_c('div',[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('div',[(block.componentName === 'TsEventList')?_c('v-card',{staticClass:\"mb-2\",attrs:{\"outlined\":\"\"}},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\"}},[_c('router-link',{staticStyle:{\"cursor\":\"pointer\",\"text-decoration\":\"none\"},attrs:{\"to\":{ name: 'Explore', query: { view: block.componentProps.view.id } }}},[_c('span',{on:{\"click\":function($event){return _vm.setActiveView(block.componentProps.view)}}},[_vm._v(_vm._s(block.componentProps.view.name))])]),_c('v-spacer'),(hover)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteBlock(index)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-trash-can-outline\")])],1):_vm._e()],1),_c('v-divider'),_c('v-card-text',[_c(block.componentName,_vm._b({tag:\"component\"},'component',_vm.formatComponentProps(block),false))],1)],1):_vm._e(),(block.componentName === 'TsAggregationGroupCompact')?_c('v-card',{staticClass:\"mb-2\",attrs:{\"outlined\":\"\"}},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\"}},[_vm._v(_vm._s(block.componentProps.aggregation_group.name))]),_c('v-divider'),_c('v-card-text',[_vm._v(\"Aggregations are not yet supported\")])],1):_vm._e(),(block.componentName === 'TsAggregationCompact')?_c('v-card',{staticClass:\"mb-2\",attrs:{\"outlined\":\"\"}},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\"}},[_vm._v(_vm._s(block.componentProps.aggregation.name))]),_c('v-divider'),_c('v-card-text',[_vm._v(\"Aggregations are not yet supported\")])],1):_vm._e()],1)]}}],null,true)})],1):_vm._e(),_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('div',{staticClass:\"mb-2\"},[_c('div',{class:{ hidden: !hover && !block.isActive && _vm.hasContent }},[(_vm.hasContent)?_c('v-btn',{staticClass:\"mr-2\",attrs:{\"rounded\":\"\",\"outlined\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.addTextBlock(index)}}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\"\\n              Text\\n            \")],1):_vm._e(),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"rounded\":\"\",\"outlined\":\"\",\"small\":\"\",\"disabled\":!_vm.meta.views.length}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\"\\n                  Saved Search\\n                \")],1)]}}],null,true),model:{value:(block.isActive),callback:function ($$v) {_vm.$set(block, \"isActive\", $$v)},expression:\"block.isActive\"}},[_c('v-card',{attrs:{\"width\":\"475\"}},[_c('v-list',[_c('v-list-item-group',{attrs:{\"color\":\"primary\"}},_vm._l((_vm.meta.views),function(savedSearch){return _c('v-list-item',{key:savedSearch.id},[_c('v-list-item-content',{on:{\"click\":function($event){return _vm.addEventListBlock(savedSearch, index)}}},[_vm._v(\"\\n                        \"+_vm._s(savedSearch.name)+\"\\n                      \")])],1)}),1)],1)],1)],1)],1)])]}}],null,true)})],1)}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-container fluid>\n    <v-dialog v-model=\"renameStoryDialog\" width=\"600\">\n      <v-card class=\"pa-4\">\n        <h3>Rename story</h3>\n        <br />\n        <v-text-field outlined dense autofocus v-model=\"titleDraft\" @focus=\"$event.target.select()\"> </v-text-field>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn text @click=\"renameStoryDialog = false\"> Cancel </v-btn>\n          <v-btn color=\"primary\" depressed @click=\"rename()\"> Save </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-hover v-slot=\"{ hover }\">\n      <v-toolbar dense flat class=\"mt-n3\" color=\"transparent\">\n        <v-toolbar-title @dblclick=\"renameStoryDialog = true\" class=\"mx-3\"> {{ title }}</v-toolbar-title>\n        <v-btn v-if=\"hover\" icon small @click=\"renameStoryDialog = true\">\n          <v-icon small>mdi-pencil</v-icon>\n        </v-btn>\n      </v-toolbar>\n    </v-hover>\n    <div class=\"mx-3 pa-4\">\n      <div v-for=\"(block, index) in blocks\" :key=\"index\">\n        <!-- Text block -->\n        <div v-if=\"!block.componentName\">\n          <v-hover v-slot=\"{ hover }\">\n            <div @dblclick=\"editTextBlock(block)\" @keydown.esc=\"block.edit = false\" style=\"min-height: 30px\">\n              <v-card outlined class=\"float-right px-2\" v-if=\"hover && !block.edit\">\n                <v-btn icon small @click=\"editTextBlock(block)\"><v-icon small>mdi-pencil</v-icon></v-btn>\n                <v-btn icon small @click=\"deleteBlock(index)\"><v-icon small>mdi-trash-can-outline</v-icon></v-btn>\n              </v-card>\n\n              <!-- Render the markdown content -->\n              <div class=\"markdown-body\" v-if=\"!block.edit\" v-html=\"toHtml(block.content)\"></div>\n\n              <!-- Edit markdown content. Work will be stored as draft until saved. -->\n              <v-card v-if=\"block.edit\" flat outlined class=\"mb-2\">\n                <v-toolbar flat dense>\n                  <v-tabs v-model=\"block.currentTab\">\n                    <v-tab>Edit</v-tab>\n                    <v-tab>Preview</v-tab>\n                  </v-tabs>\n                  <v-spacer></v-spacer>\n                  <v-btn v-if=\"hasContent\" icon @click=\"deleteBlock(index)\">\n                    <v-icon small>mdi-trash-can-outline</v-icon>\n                  </v-btn>\n                </v-toolbar>\n                <v-divider></v-divider>\n                <v-tabs-items v-model=\"block.currentTab\">\n                  <v-tab-item :transition=\"false\">\n                    <v-textarea\n                      solo\n                      flat\n                      :value=\"block.draft\"\n                      @input=\"updateDraft($event, block)\"\n                      placeholder=\"Your story starts here..\"\n                      rows=\"5\"\n                      auto-grow\n                      autofocus\n                    ></v-textarea>\n                  </v-tab-item>\n                  <v-tab-item :transition=\"false\">\n                    <div class=\"markdown-body pa-4\" v-html=\"toHtml(block.draft)\"></div>\n                  </v-tab-item>\n                </v-tabs-items>\n\n                <v-divider v-if=\"block.edit\"></v-divider>\n                <v-card-actions v-if=\"block.edit\">\n                  <v-btn text color=\"primary\" @click=\"save()\" :disabled=\"!block.draft\">Save</v-btn>\n                  <v-btn text @click=\"block.edit = false\" :disabled=\"!hasContent\">Cancel</v-btn>\n                </v-card-actions>\n              </v-card>\n            </div>\n          </v-hover>\n        </div>\n\n        <!-- Interactive data components -->\n        <div v-if=\"block.componentName\">\n          <v-hover v-slot=\"{ hover }\">\n            <!-- Saved Searches -->\n            <div>\n              <v-card v-if=\"block.componentName === 'TsEventList'\" outlined class=\"mb-2\">\n                <v-toolbar dense flat>\n                  <router-link\n                    style=\"cursor: pointer; text-decoration: none\"\n                    :to=\"{ name: 'Explore', query: { view: block.componentProps.view.id } }\"\n                  >\n                    <span @click=\"setActiveView(block.componentProps.view)\">{{ block.componentProps.view.name }}</span>\n                  </router-link>\n\n                  <v-spacer></v-spacer>\n                  <v-btn icon v-if=\"hover\" @click=\"deleteBlock(index)\">\n                    <v-icon small>mdi-trash-can-outline</v-icon>\n                  </v-btn>\n                </v-toolbar>\n                <v-divider></v-divider>\n                <v-card-text>\n                  <component :is=\"block.componentName\" v-bind=\"formatComponentProps(block)\"></component>\n                </v-card-text>\n              </v-card>\n              <v-card v-if=\"block.componentName === 'TsAggregationGroupCompact'\" outlined class=\"mb-2\">\n                <v-toolbar dense flat>{{ block.componentProps.aggregation_group.name }}</v-toolbar>\n                <v-divider></v-divider>\n                <v-card-text>Aggregations are not yet supported</v-card-text>\n              </v-card>\n              <v-card v-if=\"block.componentName === 'TsAggregationCompact'\" outlined class=\"mb-2\">\n                <v-toolbar dense flat>{{ block.componentProps.aggregation.name }}</v-toolbar>\n                <v-divider></v-divider>\n                <v-card-text>Aggregations are not yet supported</v-card-text>\n              </v-card>\n            </div>\n          </v-hover>\n        </div>\n\n        <!-- Add controls to add new blocks to the page -->\n        <v-hover v-slot=\"{ hover }\">\n          <div class=\"mb-2\">\n            <div :class=\"{ hidden: !hover && !block.isActive && hasContent }\">\n              <!-- Text block -->\n              <v-btn v-if=\"hasContent\" class=\"mr-2\" rounded outlined small @click=\"addTextBlock(index)\">\n                <v-icon left small>mdi-plus</v-icon>\n                Text\n              </v-btn>\n              <!-- Saved Search selector -->\n              <v-menu offset-y v-model=\"block.isActive\">\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn rounded outlined small :disabled=\"!meta.views.length\" v-bind=\"attrs\" v-on=\"on\">\n                    <v-icon left small>mdi-plus</v-icon>\n                    Saved Search\n                  </v-btn>\n                </template>\n                <v-card width=\"475\">\n                  <v-list>\n                    <v-list-item-group color=\"primary\">\n                      <v-list-item v-for=\"savedSearch in meta.views\" :key=\"savedSearch.id\">\n                        <v-list-item-content @click=\"addEventListBlock(savedSearch, index)\">\n                          {{ savedSearch.name }}\n                        </v-list-item-content>\n                      </v-list-item>\n                    </v-list-item-group>\n                  </v-list>\n                </v-card>\n              </v-menu>\n            </div>\n          </div>\n        </v-hover>\n      </div>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\nimport EventBus from '../main'\nimport DOMPurify from 'dompurify'\nimport { marked } from 'marked'\nimport _ from 'lodash'\n\nimport TsEventList from '../components/Explore/EventList'\n\nconst defaultBlock = () => {\n  return {\n    componentName: '',\n    componentProps: {},\n    content: '',\n    draft: '',\n    edit: true,\n    isActive: false,\n  }\n}\n\nconst componentCompatibility = () => {\n  return {\n    TsViewEventList: 'TsEventList',\n  }\n}\n\nexport default {\n  props: ['sketchId', 'storyId'],\n  components: { TsEventList },\n  data: function () {\n    return {\n      title: '',\n      titleDraft: '',\n      blocks: [],\n      renameStoryDialog: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    hasContent() {\n      if (!this.blocks.length) {\n        return false\n      }\n      if (this.blocks.length < 2 && !this.blocks[0].componentName && !this.blocks[0].content) {\n        return false\n      }\n      return true\n    },\n  },\n  methods: {\n    updateDraft: _.debounce(function (e, block) {\n      block.draft = e\n    }, 300),\n    fetchStory() {\n      ApiClient.getStory(this.sketchId, this.storyId)\n        .then((response) => {\n          this.title = response.data.objects[0].title\n          this.titleDraft = this.title\n          let content = response.data.objects[0].content\n          if (content === '[]') {\n            this.blocks = [defaultBlock()]\n          } else {\n            this.blocks = JSON.parse(content)\n          }\n          this.formatBlocks(this.blocks)\n          // Set first page in edit mode if the story is empty\n          if (this.blocks.length < 2 && !this.blocks[0].componentName && !this.blocks[0].content) {\n            this.blocks[0].edit = true\n          }\n        })\n        .catch((e) => {\n          console.error(e)\n        })\n    },\n    formatBlocks(blocks) {\n      // Format block to support backwards compatibility for old style blocks\n      let compat = componentCompatibility()\n      blocks.forEach((block) => {\n        if (block.componentName in compat) {\n          block.componentName = compat[block.componentName]\n        }\n      })\n      return blocks\n    },\n    formatComponentProps(block) {\n      // Backwards compatibility for old style TsViewEventList props\n      if (block.componentName === 'TsEventList' || block.componentName === 'TsViewEventList') {\n        const EVENTS_PER_PAGE = 10\n        let queryString = block.componentProps.view.query_string\n        let queryFilter = block.componentProps.view.query_filter\n        let queryRequest = {}\n\n        // Make sure there is a query filter present\n        if (!queryFilter || queryFilter === undefined) {\n          queryFilter = {}\n        } else {\n          queryFilter = JSON.parse(queryFilter)\n        }\n\n        queryFilter.size = EVENTS_PER_PAGE\n        queryFilter.terminate_after = EVENTS_PER_PAGE\n        queryRequest['queryString'] = queryString\n        queryRequest['queryFilter'] = queryFilter\n        queryRequest['incognito'] = true\n        return {\n          queryRequest: queryRequest,\n          disableSaveSearch: true,\n          itemsPerPage: EVENTS_PER_PAGE,\n        }\n      }\n      return block.componentProps\n    },\n    toHtml(markdown) {\n      return DOMPurify.sanitize(marked(markdown))\n    },\n    addTextBlock(index) {\n      let newIndex = index + 1\n      let newBlock = defaultBlock()\n      this.blocks.splice(newIndex, 0, newBlock)\n    },\n    addEventListBlock(savedSearch, index) {\n      let newIndex = index + 1\n      let newBlock = defaultBlock()\n      newBlock.componentName = 'TsEventList'\n      newBlock.componentProps = { view: savedSearch }\n      this.blocks.splice(newIndex, 0, newBlock)\n      this.save()\n    },\n    editTextBlock(block) {\n      block.draft = block.content\n      if (!block.edit) {\n        block.edit = !block.edit\n      }\n    },\n    deleteBlock(index) {\n      if (confirm('Delete block?')) {\n        this.blocks.splice(index, 1)\n        if (!this.blocks.length) {\n          this.blocks = [defaultBlock()]\n        }\n        this.save()\n      }\n    },\n    setActiveView: function (savedSearch) {\n      EventBus.$emit('setActiveView', savedSearch)\n    },\n    save() {\n      let content\n      this.blocks.forEach(function (block) {\n        block.isActive = false\n        block.edit = false\n        if (block.draft) {\n          block.content = block.draft\n          block.draft = ''\n        }\n      })\n      if (!this.hasContent) {\n        content = JSON.stringify([])\n        this.blocks = [defaultBlock()]\n      } else {\n        content = JSON.stringify(this.blocks)\n      }\n      ApiClient.updateStory(this.title, content, this.sketchId, this.storyId)\n        .then((response) => {\n          this.$store.dispatch('updateSketch', this.sketchId)\n        })\n        .catch((e) => {})\n    },\n    rename() {\n      this.renameStoryDialog = false\n      this.title = this.titleDraft\n      this.save()\n    },\n  },\n  mounted() {\n    if (this.storyId) {\n      this.fetchStory()\n    }\n  },\n  watch: {\n    storyId: function (newVal) {\n      if (this.storyId) {\n        this.fetchStory()\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.markdown-body {\n  box-sizing: border-box;\n  min-width: 200px;\n  max-width: 980px;\n  margin: 0 auto;\n}\n\n.hidden {\n  visibility: hidden;\n}\n\n.theme--light.v-application code {\n  background-color: transparent !important;\n}\n\n.theme--dark.v-application code {\n  background-color: transparent !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Story.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Story.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Story.vue?vue&type=template&id=71dd5f84&\"\nimport script from \"./Story.vue?vue&type=script&lang=js&\"\nexport * from \"./Story.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Story.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n\n<!--\n Canvas is a routing component to keep views alive and to support communication between\n them via Eventbus.\n-->\n<template>\n  <div>\n    <div v-show=\"currentRouteName === 'Explore'\">\n      <explore :sketch-id=\"sketchId\"></explore>\n    </div>\n    <div v-show=\"currentRouteName === 'Intelligence'\">\n      <threat-intel :sketch-id=\"sketchId\"></threat-intel>\n    </div>\n    <div v-show=\"currentRouteName === 'Graph'\">\n      <graph></graph>\n    </div>\n    <div v-show=\"currentRouteName === 'Story'\">\n      <story :sketch-id=\"sketchId\" :story-id=\"storyId\"></story>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Explore from './Explore'\nimport ThreatIntel from './ThreatIntel'\nimport Graph from './Graph'\nimport Story from './Story'\n\nexport default {\n  props: ['sketchId', 'storyId'],\n  components: {\n    Explore,\n    ThreatIntel,\n    Graph,\n    Story,\n  },\n\n  computed: {\n    currentRouteName() {\n      return this.$route.name\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Canvas.vue?vue&type=template&id=e02ddfb6&\"\nimport script from \"./Canvas.vue?vue&type=script&lang=js&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.sketch)?_c('div',{staticStyle:{\"height\":\"30%\"}},[(_vm.loadingSketch)?_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}}):_vm._e(),_c('v-toolbar',{attrs:{\"flat\":\"\",\"color\":\"transparent\"}},[_c('v-avatar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showLeftPanel || !_vm.hasTimelines),expression:\"!showLeftPanel || !hasTimelines\"}],staticClass:\"ml-n3 mt-1\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('v-img',{attrs:{\"src\":\"/dist/timesketch-color.png\",\"max-height\":\"25\",\"max-width\":\"25\",\"contain\":\"\"}})],1)],1),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showLeftPanel && !_vm.loadingSketch),expression:\"!showLeftPanel && !loadingSketch\"}],staticClass:\"mr-1\",staticStyle:{\"font-size\":\"1.1em\"}},[_vm._v(_vm._s(_vm.sketch.name)+\" \")]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showLeftPanel && !_vm.loadingSketch),expression:\"!showLeftPanel && !loadingSketch\"}],staticClass:\"ml-n1\",attrs:{\"icon\":\"\"},on:{\"click\":_vm.toggleLeftPanel}},[_c('v-icon',[_vm._v(\"mdi-menu\")])],1),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentRouteName !== 'Explore'),expression:\"currentRouteName !== 'Explore'\"}],staticClass:\"ml-3\",attrs:{\"to\":{ name: 'Explore', params: { sketchId: _vm.sketchId } },\"color\":\"primary\",\"small\":\"\",\"text\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-arrow-left\")]),_vm._v(\"\\n      back to explore\\n    \")],1),_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"depressed\":\"\"},on:{\"click\":_vm.switchUI}},[_vm._v(\" Use the old UI \")]),_c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ml-2\",attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-account-multiple-plus\")]),_vm._v(\"\\n          Share\\n        \")],1)]}}],null,false,2726467621),model:{value:(_vm.shareDialog),callback:function ($$v) {_vm.shareDialog=$$v},expression:\"shareDialog\"}},[_c('ts-share-card',{on:{\"close-dialog\":function($event){_vm.shareDialog = false}}})],1),_c('v-avatar',{staticClass:\"ml-3\",attrs:{\"color\":\"grey lighten-1\",\"size\":\"25\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm._f(\"initialLetter\")(_vm.currentUser)))])]),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-avatar',[_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\",\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)],1)]}}],null,false,1354068383)},[_c('v-card',[_c('v-list',[_c('v-list-item-group',{attrs:{\"color\":\"primary\"}},[_c('v-list-item',{on:{\"click\":_vm.toggleTheme}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-brightness-6\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Toggle theme\")])],1)],1),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-archive\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Archive sketch\")])],1)],1),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-export\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Export sketch\")])],1)],1),_c('a',{staticStyle:{\"text-decoration\":\"none\",\"color\":\"inherit\"},attrs:{\"href\":\"/logout/\"}},[_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-logout\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Logout\")])],1)],1)],1)],1)],1)],1)],1)],1),(!_vm.hasTimelines && !_vm.loadingSketch)?_c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-sheet',{staticClass:\"pa-4\"},[_c('center',[_c('div',{staticClass:\"mb-3\",staticStyle:{\"font-size\":\"2em\"}},[_vm._v(\"It's empty around here\")]),_c('ts-upload-timeline-form',{attrs:{\"btn-size\":\"normal\",\"btn-type\":\"outlined\"}})],1)],1)],1)],1):_vm._e(),(_vm.showLeftPanel && _vm.hasTimelines)?_c('v-navigation-drawer',{ref:\"drawer\",attrs:{\"app\":\"\",\"permanent\":\"\",\"width\":_vm.navigationDrawer.width,\"hide-overlay\":\"\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-avatar',{staticClass:\"ml-n3 mt-1\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('v-img',{attrs:{\"src\":\"/dist/timesketch-color.png\",\"max-height\":\"25\",\"max-width\":\"25\",\"contain\":\"\"}})],1)],1),_c('div',{staticStyle:{\"font-size\":\"1.1em\",\"cursor\":\"pointer\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"},attrs:{\"title\":_vm.sketch.name},on:{\"click\":function($event){_vm.showSketchMetadata = !_vm.showSketchMetadata}}},[_vm._v(\"\\n        \"+_vm._s(_vm.sketch.name)+\"\\n      \")]),_c('v-spacer'),_c('v-icon',{on:{\"click\":_vm.toggleLeftPanel}},[_vm._v(\"mdi-chevron-left\")])],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSketchMetadata),expression:\"showSketchMetadata\"}],staticClass:\"px-4\"},[_c('v-dialog',{attrs:{\"width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\",\"outlined\":\"\",\"depressed\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-pencil \")]),_vm._v(\"\\n              Rename\")],1)]}}],null,false,888508409),model:{value:(_vm.renameSketchDialog),callback:function ($$v) {_vm.renameSketchDialog=$$v},expression:\"renameSketchDialog\"}},[_c('v-card',{staticClass:\"pa-4\"},[_c('ts-rename-sketch',{on:{\"close\":function($event){_vm.renameSketchDialog = false}}})],1)],1),_c('v-list',{staticClass:\"mx-n4\",attrs:{\"two-line\":\"\"}},[(_vm.sketch.user)?_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-title',[_c('strong',[_vm._v(\"Created:\")]),_vm._v(\" \"+_vm._s(_vm._f(\"shortDateTime\")(_vm.sketch.created_at))+\"\\n              \")]),_c('v-list-item-subtitle',[_c('small',[_vm._v(_vm._s(_vm._f(\"timeSince\")(_vm.sketch.created_at))+\" by \"+_vm._s(_vm.sketch.user.username))])])],1)],1):_vm._e(),_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-title',[_c('strong',[_vm._v(\"Access: \")]),(_vm.meta.permissions && _vm.meta.permissions.public)?_c('span',[_vm._v(\"Public\")]):_c('span',[_vm._v(\"Restricted\")])]),_c('v-list-item-subtitle',[(_vm.meta.permissions && _vm.meta.permissions.public)?_c('small',[_vm._v(\"Visible to all users on this server\")]):_c('small',[_vm._v(\"Only people with access can open\")])])],1)],1)],1)],1)]),_c('v-divider'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.scenarioDialog),callback:function ($$v) {_vm.scenarioDialog=$$v},expression:\"scenarioDialog\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3\"},[_c('h3',[_vm._v(\"Investigative Scenarios\")]),_c('v-select',{staticClass:\"mt-3\",attrs:{\"items\":_vm.scenarioTemplates,\"item-text\":\"display_name\",\"return-object\":\"\",\"label\":\"Select a scenario\",\"outlined\":\"\"},model:{value:(_vm.selectedScenario),callback:function ($$v) {_vm.selectedScenario=$$v},expression:\"selectedScenario\"}}),(_vm.selectedScenario)?_c('div',[_vm._v(\"\\n            \"+_vm._s(_vm.selectedScenario.description)+\"\\n          \")]):_vm._e()],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.scenarioDialog = false}}},[_vm._v(\" Close \")]),_c('v-btn',{attrs:{\"disabled\":!_vm.selectedScenario,\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.addScenario(_vm.selectedScenario.short_name)}}},[_vm._v(\"\\n            Add\\n          \")])],1)],1)],1),_c('v-tabs',{attrs:{\"grow\":\"\"},model:{value:(_vm.leftPanelTab),callback:function ($$v) {_vm.leftPanelTab=$$v},expression:\"leftPanelTab\"}},_vm._l((_vm.leftPanelTabItems),function(item){return _c('v-tab',{key:item},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1),_c('v-divider'),_c('v-tabs-items',{model:{value:(_vm.leftPanelTab),callback:function ($$v) {_vm.leftPanelTab=$$v},expression:\"leftPanelTab\"}},[_c('v-tab-item',{attrs:{\"transition\":false}},[(_vm.meta.views)?_c('ts-saved-searches'):_vm._e(),_c('ts-data-types'),_c('ts-tags'),_c('ts-search-templates'),_c('ts-graphs'),_c('ts-stories'),_c('ts-sigma-rules'),_c('ts-intelligence')],1),_c('v-tab-item',{attrs:{\"transition\":false}},[_vm._l((_vm.activeScenarios),function(scenario){return _c('ts-scenario',{key:scenario.id,attrs:{\"scenario\":scenario}})}),_c('v-row',{staticClass:\"mt-0 px-2\",attrs:{\"flat\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.scenarioDialog = true}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\" Add Scenario\")],1)],1),_c('v-col',{attrs:{\"cols\":\"6\",\"align\":\"right\"}},[(_vm.hiddenScenarios.length)?_c('div',{staticClass:\"mt-1\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.showHidden = !_vm.showHidden}}},[_c('small',[(_vm.showHidden)?_c('span',[_vm._v(\"Hide\")]):_c('span',[_vm._v(\"Show\")]),_vm._v(\" hidden scenarios (\"+_vm._s(_vm.hiddenScenarios.length)+\")\")])]):_vm._e()])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showHidden),expression:\"showHidden\"}]},_vm._l((_vm.hiddenScenarios),function(scenario){return _c('ts-scenario',{key:scenario.id,attrs:{\"scenario\":scenario}})}),1)],2)],1)],1):_vm._e(),(_vm.sketch.status && _vm.hasTimelines)?_c('router-view',{on:{\"setTitle\":function (title) { return (this$1.title = title); }}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',{staticClass:\"pa-4\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',staticStyle:{\"cursor\":\"pointer\"},attrs:{\"no-gutters\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('v-col',{attrs:{\"cols\":\"11\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-clipboard-check-outline\")]),_c('span',[_vm._v(_vm._s(_vm.scenario.display_name))])],1),_c('v-col',{attrs:{\"cols\":\"1\"}},[_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.renameDialog),callback:function ($$v) {_vm.renameDialog=$$v},expression:\"renameDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\" Rename scenario \")]),_c('v-card-text',[_vm._v(\"\\n            Use a custom name for the scenario.\\n            \"),_c('v-text-field',{model:{value:(_vm.newName),callback:function ($$v) {_vm.newName=$$v},expression:\"newName\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.renameDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.renameScenario()}}},[_vm._v(\" Save \")])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":true},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\",\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}])},[_c('v-card',[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item-group',{attrs:{\"color\":\"primary\"}},[_c('v-list-item',{on:{\"click\":_vm.copyScenario}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-content-copy\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Make a copy\")])],1)],1),_c('v-list-item',{on:{\"click\":function($event){$event.stopPropagation();_vm.renameDialog = true}}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-pencil\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Rename\")])],1)],1),(_vm.is_hidden)?_c('v-list-item',{on:{\"click\":function($event){return _vm.setStatus('active')}}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-eye\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Reactivate\")])],1)],1):_c('v-list-item',{on:{\"click\":function($event){return _vm.setStatus('hidden')}}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-eye-off\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Hide from list\")])],1)],1)],1)],1)],1)],1)],1)],1),(_vm.scenario.facets.length)?_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}]},_vm._l((_vm.scenario.facets),function(facet){return _c('div',{key:facet.id},[_c('ts-facet',{attrs:{\"scenario\":_vm.scenario,\"facet\":facet}})],1)}),0)]):_vm._e(),(!_vm.expanded)?_c('v-divider'):_vm._e(),(_vm.expanded)?_c('br'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',{staticClass:\"pa-3 pl-1\",class:[_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover'],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"no-gutters\":\"\"},on:{\"click\":function($event){return _vm.toggleFacet()}}},[_c('v-col',{staticClass:\"pl-1\",attrs:{\"cols\":\"1\"}},[(!_vm.expanded)?_c('v-icon',[_vm._v(\"mdi-chevron-right\")]):_c('v-icon',[_vm._v(\"mdi-chevron-down\")])],1),_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('span',{staticStyle:{\"font-size\":\"0.9em\"}},[(_vm.notStarted || _vm.isActive)?_c('span',[_c('strong',[_vm._v(_vm._s(_vm.facet.display_name))])]):_c('span',[_vm._v(_vm._s(_vm.facet.display_name))])])]),_c('v-col',{attrs:{\"cols\":\"1\"}},[_c('div',{staticClass:\"ml-1\"},[_c('small',[_vm._v(_vm._s(_vm.questionsWithConclusion.length)+\"/\"+_vm._s(_vm.facet.questions.length)+\" \")])])])],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}]},_vm._l((_vm.facet.questions),function(question){return _c('span',{key:question.id,staticStyle:{\"font-size\":\"0.9em\"},on:{\"click\":function($event){return _vm.setActiveContext(question)}}},[_c('ts-question',{attrs:{\"question\":question}})],1)}),0)]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-divider'),_c('div',{staticClass:\"pa-2 pl-3\",class:[_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover'],staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9em\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[(!_vm.question.conclusions.length)?_c('strong',[_vm._v(_vm._s(_vm.question.display_name))]):_c('span',[_vm._v(_vm._s(_vm.question.display_name))])]),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}]},[(_vm.question.search_templates.length)?_c('div',{staticClass:\"ma-2 mb-3\"},[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"x-small\":\"\"}},[_vm._v(\"mdi-magnify\")]),_c('strong',[_c('small',[_vm._v(\"Query suggestions\")])]),_vm._l((_vm.question.search_templates),function(searchtemplate){return _c('div',{key:searchtemplate.id,staticClass:\"pa-1 mt-1\"},[_c('ts-search-template',{attrs:{\"searchtemplate\":searchtemplate}})],1)})],2):_vm._e(),_c('div',{staticClass:\"mb-3 mx-4\"},[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"x-small\":\"\"}},[_vm._v(\"mdi-check-circle-outline\")]),_c('strong',[_c('small',[_vm._v(\"Conclusions\")])]),_vm._l((_vm.question.conclusions),function(conclusion){return _c('v-sheet',{key:conclusion.id,staticClass:\"mt-2\",attrs:{\"outlined\":\"\",\"rounded\":\"\"}},[_c('ts-question-conclusion',{attrs:{\"question\":_vm.question,\"conclusion\":conclusion}})],1)})],2),(!_vm.currentUserConclusion)?_c('div',{staticClass:\"pa-4 pt-0\",staticStyle:{\"font-size\":\"0.9em\"}},[_c('v-textarea',{staticStyle:{\"font-size\":\"0.9em\"},attrs:{\"outlined\":\"\",\"flat\":\"\",\"hide-details\":\"\",\"auto-grow\":\"\",\"rows\":\"1\",\"placeholder\":\"Add your conclusion...\"},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('v-avatar',{staticClass:\"mt-n2 mr-2\",attrs:{\"color\":\"grey\",\"size\":\"28\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm._f(\"initialLetter\")(_vm.currentUser)))])])]},proxy:true}],null,false,3203646345),model:{value:(_vm.conclusionText),callback:function ($$v) {_vm.conclusionText=$$v},expression:\"conclusionText\"}}),_c('v-expand-transition',[(_vm.conclusionText)?_c('div',[_c('v-card-actions',{staticClass:\"pr-0\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.conclusionText = ''}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.createConclusion()}}},[_vm._v(\" Save \")])],1)],1):_vm._e()])],1):_vm._e()])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('div',{staticClass:\"px-2 mb-n1\",class:[\n        _vm.$vuetify.theme.dark ? 'dark-highlight' : 'light-highlight',\n        _vm.$vuetify.theme.dark ? 'dark-hover-on-highlight' : 'light-hover-on-highlight' ],staticStyle:{\"width\":\"100%\",\"border-radius\":\"4px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.search(_vm.searchtemplate.query_string)}}},[_c('span',{staticStyle:{\"font-size\":\"0.8em\"}},[_vm._v(_vm._s(_vm.searchtemplate.name))])])]),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}],staticClass:\"pa-4 pt-0\"},[_c('div',{staticStyle:{\"font-size\":\"0.9em\"}},[_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',[_c('tr',[_c('td',[_c('strong',[_vm._v(\"Author\")])]),_c('td',[_vm._v(_vm._s(_vm.searchTemplateSpec.author))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(\"Description\")])]),_c('td',[_vm._v(_vm._s(_vm.searchTemplateSpec.description))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(\"Date\")])]),_c('td',[_vm._v(_vm._s(_vm.searchTemplateSpec.date))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(\"ID\")])]),_c('td',[_vm._v(_vm._s(_vm.searchTemplateSpec.id))])]),(_vm.searchTemplateSpec.references.length)?_c('tr',[_c('td',[_c('strong',[_vm._v(\"References\")])]),_c('td',_vm._l((_vm.searchTemplateSpec.references),function(ref){return _c('div',{key:ref},[_c('a',{attrs:{\"href\":ref,\"target\":\"new\"}},[_vm._v(_vm._s(ref))])])}),0)]):_vm._e()])]},proxy:true}])})],1),(_vm.parameters.length)?_c('div',{staticClass:\"pt-3\"},[_c('div',{staticClass:\"mb-3\"},[_c('strong',{staticClass:\"mb-3\"},[_vm._v(\"Required input parameters\")])]),_vm._l((_vm.parameters),function(parameter){return _c('div',{key:parameter.name,staticClass:\"mb-4\"},[_c('v-text-field',{attrs:{\"hint\":parameter.description,\"label\":parameter.description,\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.params[parameter.name]),callback:function ($$v) {_vm.$set(_vm.params, parameter.name, $$v)},expression:\"params[parameter.name]\"}})],1)}),_c('v-card-actions',{staticClass:\"pl-0 mt-n3\"},[_c('v-btn',{attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\",\"disabled\":!_vm.filledOut},on:{\"click\":function($event){return _vm.parseQueryAndSearch()}}},[_vm._v(\"\\n            Search\\n          \")])],1)],2):_c('div',{staticClass:\"mt-3\"},[_c('v-btn',{attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\",\"disabled\":!_vm.filledOut},on:{\"click\":function($event){return _vm.search(_vm.searchtemplate.query_string)}}},[_vm._v(\"Search\")])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <v-row no-gutters>\n      <div\n        style=\"width: 100%; border-radius: 4px; cursor: pointer\"\n        class=\"px-2 mb-n1\"\n        :class=\"[\n          $vuetify.theme.dark ? 'dark-highlight' : 'light-highlight',\n          $vuetify.theme.dark ? 'dark-hover-on-highlight' : 'light-hover-on-highlight',\n        ]\"\n        @click=\"search(searchtemplate.query_string)\"\n      >\n        <span style=\"font-size: 0.8em\">{{ searchtemplate.name }}</span>\n      </div>\n    </v-row>\n\n    <v-expand-transition>\n      <div v-show=\"expanded\" class=\"pa-4 pt-0\">\n        <div style=\"font-size: 0.9em\">\n          <v-simple-table dense>\n            <template v-slot:default>\n              <tbody>\n                <tr>\n                  <td><strong>Author</strong></td>\n                  <td>{{ searchTemplateSpec.author }}</td>\n                </tr>\n                <tr>\n                  <td><strong>Description</strong></td>\n                  <td>{{ searchTemplateSpec.description }}</td>\n                </tr>\n                <tr>\n                  <td><strong>Date</strong></td>\n                  <td>{{ searchTemplateSpec.date }}</td>\n                </tr>\n                <tr>\n                  <td><strong>ID</strong></td>\n                  <td>{{ searchTemplateSpec.id }}</td>\n                </tr>\n                <tr v-if=\"searchTemplateSpec.references.length\">\n                  <td><strong>References</strong></td>\n                  <td>\n                    <div v-for=\"ref in searchTemplateSpec.references\" :key=\"ref\">\n                      <a :href=\"ref\" target=\"new\">{{ ref }}</a>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </template>\n          </v-simple-table>\n        </div>\n\n        <div v-if=\"parameters.length\" class=\"pt-3\">\n          <div class=\"mb-3\"><strong class=\"mb-3\">Required input parameters</strong></div>\n          <div class=\"mb-4\" v-for=\"parameter in parameters\" :key=\"parameter.name\">\n            <v-text-field\n              v-model=\"params[parameter.name]\"\n              :hint=\"parameter.description\"\n              :label=\"parameter.description\"\n              outlined\n              dense\n              hide-details\n            >\n            </v-text-field>\n          </div>\n\n          <v-card-actions class=\"pl-0 mt-n3\">\n            <v-btn @click=\"parseQueryAndSearch()\" small depressed color=\"primary\" :disabled=\"!filledOut\">\n              Search\n            </v-btn>\n          </v-card-actions>\n        </div>\n        <div v-else class=\"mt-3\">\n          <v-btn @click=\"search(searchtemplate.query_string)\" small depressed color=\"primary\" :disabled=\"!filledOut\"\n            >Search</v-btn\n          >\n        </div>\n      </div>\n    </v-expand-transition>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport EventBus from '../../main'\n\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: '_all',\n    order: 'asc',\n    chips: [],\n  }\n}\n\nexport default {\n  props: ['searchtemplate'],\n  data: function () {\n    return {\n      expanded: false,\n      params: {},\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    parameters() {\n      return JSON.parse(this.searchtemplate.template_json).parameters\n    },\n    filledOut() {\n      return Object.keys(this.params).length === this.parameters.length\n    },\n    searchTemplateSpec() {\n      return JSON.parse(this.searchtemplate.template_json)\n    },\n  },\n  methods: {\n    search(queryString) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = queryString\n      eventData.queryFilter = defaultQueryFilter()\n      EventBus.$emit('setQueryAndFilter', eventData)\n    },\n    parseQueryAndSearch() {\n      let queryString\n      ApiClient.parseSearchTemplate(this.searchtemplate.id, this.params)\n        .then((response) => {\n          queryString = response.data.objects[0].query_string\n          this.search(queryString)\n        })\n        .catch((e) => {})\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchTemplateCompact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchTemplateCompact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchTemplateCompact.vue?vue&type=template&id=8f007a88&scoped=true&\"\nimport script from \"./SearchTemplateCompact.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchTemplateCompact.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8f007a88\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?_c('v-progress-linear',{attrs:{\"color\":\"primary\",\"indeterminate\":\"\",\"height\":\"2\"}}):_vm._e(),_c('v-list',{attrs:{\"three-line\":\"\"}},[_c('v-list-item',{on:{\"mouseover\":function($event){_vm.showControls = true},\"mouseleave\":function($event){_vm.showControls = false}}},[_c('v-list-item-content',[_c('v-list-item-title',{staticStyle:{\"font-size\":\"0.9em\"}},[_c('strong',[_vm._v(_vm._s(_vm.conclusion.user.username))])]),_c('v-list-item-subtitle',[_c('small',[_vm._v(_vm._s(_vm._f(\"shortDateTime\")(_vm.conclusion.created_at))+\" (\"+_vm._s(_vm._f(\"timeSince\")(_vm.conclusion.created_at))+\")\")])]),(_vm.editable)?_c('div',[_c('v-textarea',{staticStyle:{\"font-size\":\"0.9em\"},attrs:{\"hide-details\":\"\",\"auto-grow\":\"\",\"outlined\":\"\",\"value\":_vm.conclusion.conclusion},model:{value:(_vm.conclusionText),callback:function ($$v) {_vm.conclusionText=$$v},expression:\"conclusionText\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.editable = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"color\":\"primary\",\"disabled\":!_vm.conclusionText},on:{\"click\":function($event){return _vm.saveConclusion()}}},[_vm._v(\" Save \")])],1)],1):_c('div',{staticStyle:{\"max-width\":\"90%\",\"font-size\":\"0.9em\"}},[_vm._v(_vm._s(_vm.conclusion.conclusion))])],1),(_vm.showControls && _vm.currentUser == _vm.conclusion.user.username)?_c('v-list-item-action',{staticStyle:{\"position\":\"absolute\",\"right\":\"0\"}},[_c('v-chip',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"outlined\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editConclusion()}}},[_vm._v(\"mdi-square-edit-outline\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteConclusion()}}},[_vm._v(\"mdi-trash-can-outline\")])],1)],1)],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <v-progress-linear v-if=\"loading\" color=\"primary\" indeterminate height=\"2\"></v-progress-linear>\n    <v-list three-line>\n      <v-list-item @mouseover=\"showControls = true\" @mouseleave=\"showControls = false\">\n        <v-list-item-content>\n          <v-list-item-title style=\"font-size: 0.9em\">\n            <strong>{{ conclusion.user.username }}</strong>\n          </v-list-item-title>\n          <v-list-item-subtitle>\n            <small>{{ conclusion.created_at | shortDateTime }} ({{ conclusion.created_at | timeSince }})</small>\n          </v-list-item-subtitle>\n\n          <div v-if=\"editable\">\n            <v-textarea\n              style=\"font-size: 0.9em\"\n              hide-details\n              auto-grow\n              outlined\n              v-model=\"conclusionText\"\n              :value=\"conclusion.conclusion\"\n            >\n            </v-textarea>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn small text @click=\"editable = false\"> Cancel </v-btn>\n              <v-btn small text color=\"primary\" @click=\"saveConclusion()\" :disabled=\"!conclusionText\"> Save </v-btn>\n            </v-card-actions>\n          </div>\n          <div v-else style=\"max-width: 90%; font-size: 0.9em\">{{ conclusion.conclusion }}</div>\n        </v-list-item-content>\n\n        <v-list-item-action\n          v-if=\"showControls && currentUser == conclusion.user.username\"\n          style=\"position: absolute; right: 0\"\n        >\n          <v-chip outlined style=\"margin-right: 10px\">\n            <v-btn icon small>\n              <v-icon small @click=\"editConclusion()\">mdi-square-edit-outline</v-icon>\n            </v-btn>\n            <v-btn icon small>\n              <v-icon small @click=\"deleteConclusion()\">mdi-trash-can-outline</v-icon>\n            </v-btn>\n          </v-chip>\n        </v-list-item-action>\n      </v-list-item>\n    </v-list>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  props: ['question', 'conclusion'],\n  data: function () {\n    return {\n      conclusionText: '',\n      editable: false,\n      showControls: false,\n      loading: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    currentUser() {\n      return this.$store.state.currentUser\n    },\n  },\n  methods: {\n    saveConclusion: function () {\n      this.loading = true\n      this.editable = false\n      this.showControls = false\n      ApiClient.editQuestionConclusion(this.sketch.id, this.question.id, this.conclusion.id, this.conclusionText)\n        .then((response) => {\n          this.$store.dispatch('updateScenarios', this.sketch.id).then(() => {\n            this.loading = false\n          })\n        })\n        .catch((e) => {\n          this.loading = false\n          this.editable = true\n          this.errorSnackBar(e)\n          console.error(e)\n        })\n    },\n    editConclusion() {\n      this.conclusionText = this.conclusion.conclusion\n      this.editable = true\n    },\n    deleteConclusion(conclusion) {\n      this.loading = true\n      if (confirm('Are you sure?')) {\n        ApiClient.deleteQuestionConclusion(this.sketch.id, this.question.id, this.conclusion.id)\n          .then((response) => {\n            this.$store.dispatch('updateScenarios', this.sketch.id).then(() => {\n              this.loading = false\n            })\n          })\n          .catch((e) => {})\n      } else {\n        this.loading = false\n      }\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionConclusion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionConclusion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionConclusion.vue?vue&type=template&id=4c6d3a4c&scoped=true&\"\nimport script from \"./QuestionConclusion.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionConclusion.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c6d3a4c\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <v-divider></v-divider>\n    <div\n      class=\"pa-2 pl-3\"\n      @click=\"expanded = !expanded\"\n      style=\"cursor: pointer; font-size: 0.9em\"\n      :class=\"[$vuetify.theme.dark ? 'dark-hover' : 'light-hover']\"\n    >\n      <strong v-if=\"!question.conclusions.length\">{{ question.display_name }}</strong>\n      <span v-else>{{ question.display_name }}</span>\n    </div>\n\n    <v-expand-transition>\n      <div v-show=\"expanded\">\n        <!-- Query suggestions -->\n        <div v-if=\"question.search_templates.length\" class=\"ma-2 mb-3\">\n          <v-icon x-small class=\"mr-1\">mdi-magnify</v-icon>\n          <strong><small>Query suggestions</small></strong>\n          <div v-for=\"searchtemplate in question.search_templates\" :key=\"searchtemplate.id\" class=\"pa-1 mt-1\">\n            <ts-search-template :searchtemplate=\"searchtemplate\"></ts-search-template>\n          </div>\n        </div>\n\n        <!-- Conclusions -->\n        <div class=\"mb-3 mx-4\">\n          <v-icon x-small class=\"mr-1\">mdi-check-circle-outline</v-icon>\n          <strong><small>Conclusions</small></strong>\n          <v-sheet outlined rounded class=\"mt-2\" v-for=\"conclusion in question.conclusions\" :key=\"conclusion.id\">\n            <ts-question-conclusion :question=\"question\" :conclusion=\"conclusion\"></ts-question-conclusion>\n          </v-sheet>\n        </div>\n\n        <!-- Add new conclusion -->\n        <div v-if=\"!currentUserConclusion\" style=\"font-size: 0.9em\" class=\"pa-4 pt-0\">\n          <v-textarea\n            v-model=\"conclusionText\"\n            outlined\n            flat\n            hide-details\n            auto-grow\n            rows=\"1\"\n            placeholder=\"Add your conclusion...\"\n            style=\"font-size: 0.9em\"\n          >\n            <template v-slot:prepend-inner>\n              <v-avatar color=\"grey\" class=\"mt-n2 mr-2\" size=\"28\">\n                <span class=\"white--text\">{{ currentUser | initialLetter }}</span>\n              </v-avatar>\n            </template>\n          </v-textarea>\n          <v-expand-transition>\n            <div v-if=\"conclusionText\">\n              <v-card-actions class=\"pr-0\">\n                <v-spacer></v-spacer>\n                <v-btn small text @click=\"conclusionText = ''\"> Cancel </v-btn>\n                <v-btn small text color=\"primary\" @click=\"createConclusion()\"> Save </v-btn>\n              </v-card-actions>\n            </div>\n          </v-expand-transition>\n        </div>\n      </div>\n    </v-expand-transition>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsSearchTemplate from '../LeftPanel/SearchTemplateCompact'\nimport TsQuestionConclusion from './QuestionConclusion'\n\nexport default {\n  props: ['question'],\n  components: {\n    TsSearchTemplate,\n    TsQuestionConclusion,\n  },\n  data: function () {\n    return {\n      expanded: false,\n      fullDescription: false,\n      conclusionText: '',\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    currentUser() {\n      return this.$store.state.currentUser\n    },\n    currentUserConclusion() {\n      return this.question.conclusions.filter((conclusion) => conclusion.user.username === this.currentUser).length\n    },\n  },\n  methods: {\n    createConclusion: function () {\n      ApiClient.createQuestionConclusion(this.sketch.id, this.question.id, this.conclusionText)\n        .then((response) => {\n          this.conclusionText = ''\n          this.$store.dispatch('updateScenarios', this.sketch.id)\n        })\n        .catch((e) => {})\n    },\n  },\n  created() {},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.description-ellipsis {\n  width: 500px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Question.vue?vue&type=template&id=11642c2c&scoped=true&\"\nimport script from \"./Question.vue?vue&type=script&lang=js&\"\nexport * from \"./Question.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Question.vue?vue&type=style&index=0&id=11642c2c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11642c2c\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <v-row\n      no-gutters\n      class=\"pa-3 pl-1\"\n      style=\"cursor: pointer\"\n      @click=\"toggleFacet()\"\n      :class=\"[$vuetify.theme.dark ? 'dark-hover' : 'light-hover']\"\n    >\n      <v-col cols=\"1\" class=\"pl-1\">\n        <v-icon v-if=\"!expanded\">mdi-chevron-right</v-icon>\n        <v-icon v-else>mdi-chevron-down</v-icon>\n      </v-col>\n      <v-col cols=\"10\">\n        <span style=\"font-size: 0.9em\">\n          <span v-if=\"notStarted || isActive\"\n            ><strong>{{ facet.display_name }}</strong></span\n          >\n          <span v-else>{{ facet.display_name }}</span>\n        </span>\n      </v-col>\n\n      <v-col cols=\"1\">\n        <div class=\"ml-1\">\n          <small>{{ questionsWithConclusion.length }}/{{ facet.questions.length }} </small>\n        </div>\n      </v-col>\n    </v-row>\n\n    <v-expand-transition>\n      <div v-show=\"expanded\">\n        <span\n          @click=\"setActiveContext(question)\"\n          style=\"font-size: 0.9em\"\n          v-for=\"question in facet.questions\"\n          :key=\"question.id\"\n        >\n          <ts-question :question=\"question\"></ts-question>\n        </span>\n      </div>\n    </v-expand-transition>\n    <v-divider></v-divider>\n  </div>\n</template>\n\n<script>\nimport TsQuestion from './Question'\n\nexport default {\n  props: ['scenario', 'facet'],\n  components: { TsQuestion },\n  data: function () {\n    return {\n      expanded: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    questionsWithConclusion() {\n      return this.facet.questions.filter((question) => question.conclusions.length)\n    },\n    isActive() {\n      return (\n        this.questionsWithConclusion.length > 0 && this.questionsWithConclusion.length < this.facet.questions.length\n      )\n    },\n    isResolved() {\n      return this.questionsWithConclusion.length === this.facet.questions.length\n    },\n    notStarted() {\n      return this.questionsWithConclusion.length === 0\n    },\n  },\n  methods: {\n    toggleFacet: function () {\n      if (!this.expanded) {\n        this.setActiveContext()\n      } else {\n        if (this.$store.state.activeContext.facet != null) {\n          if (this.facet.id === this.$store.state.activeContext.facet.id) {\n            this.$store.dispatch('clearActiveContext')\n          }\n        }\n      }\n      this.expanded = !this.expanded\n    },\n    setActiveContext: function (question) {\n      let payload = {\n        scenario: this.scenario,\n        facet: this.facet,\n        question: question,\n      }\n      this.$store.dispatch('setActiveContext', payload)\n    },\n  },\n  created() {},\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Facet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Facet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Facet.vue?vue&type=template&id=525867de&\"\nimport script from \"./Facet.vue?vue&type=script&lang=js&\"\nexport * from \"./Facet.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <v-row\n      no-gutters\n      style=\"cursor: pointer\"\n      @click=\"expanded = !expanded\"\n      class=\"pa-4\"\n      flat\n      :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n    >\n      <v-col cols=\"11\">\n        <v-icon left>mdi-clipboard-check-outline</v-icon>\n        <span>{{ scenario.display_name }}</span>\n      </v-col>\n      <v-col cols=\"1\">\n        <!-- Rename dialog -->\n        <v-dialog v-model=\"renameDialog\" max-width=\"500\">\n          <v-card>\n            <v-card-title class=\"text-h5\"> Rename scenario </v-card-title>\n            <v-card-text>\n              Use a custom name for the scenario.\n              <v-text-field v-model=\"newName\"></v-text-field>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"primary\" text @click=\"renameDialog = false\"> Cancel </v-btn>\n              <v-btn color=\"primary\" text @click=\"renameScenario()\"> Save </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n        <v-menu offset-y :close-on-content-click=\"true\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn small icon v-bind=\"attrs\" v-on=\"on\">\n              <v-icon>mdi-dots-vertical</v-icon>\n            </v-btn>\n          </template>\n          <v-card>\n            <v-list dense>\n              <v-list-item-group color=\"primary\">\n                <v-list-item @click=\"copyScenario\">\n                  <v-list-item-icon>\n                    <v-icon small>mdi-content-copy</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title>Make a copy</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n\n                <v-list-item @click.stop=\"renameDialog = true\">\n                  <v-list-item-icon>\n                    <v-icon small>mdi-pencil</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title>Rename</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n                <v-list-item v-if=\"is_hidden\" @click=\"setStatus('active')\">\n                  <v-list-item-icon>\n                    <v-icon small>mdi-eye</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title>Reactivate</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n                <v-list-item v-else @click=\"setStatus('hidden')\">\n                  <v-list-item-icon>\n                    <v-icon small>mdi-eye-off</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title>Hide from list</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </v-list-item-group>\n            </v-list>\n          </v-card>\n        </v-menu>\n      </v-col>\n    </v-row>\n\n    <v-expand-transition v-if=\"scenario.facets.length\">\n      <div v-show=\"expanded\">\n        <div v-for=\"facet in scenario.facets\" :key=\"facet.id\">\n          <ts-facet :scenario=\"scenario\" :facet=\"facet\"></ts-facet>\n        </div>\n      </div>\n    </v-expand-transition>\n    <v-divider v-if=\"!expanded\"></v-divider>\n    <br v-if=\"expanded\" />\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsFacet from './Facet'\n\nexport default {\n  props: ['scenario'],\n  components: { TsFacet },\n  data: function () {\n    return {\n      activeQuestion: {},\n      selectedItem: null,\n      expanded: false,\n      renameDialog: false,\n      addScenarioDialog: false,\n      newName: this.scenario.display_name,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    activeQuestionSpec() {\n      return JSON.parse(this.activeQuestion.spec_json)\n    },\n    is_hidden() {\n      if (!this.scenario.status.length) {\n        return false\n      }\n      return this.scenario.status[0].status === 'hidden'\n    },\n  },\n  methods: {\n    renameScenario: function () {\n      this.renameDialog = false\n      ApiClient.renameScenario(this.sketch.id, this.scenario.id, this.newName)\n        .then((response) => {\n          this.$store.dispatch('updateScenarios', this.sketch.id)\n        })\n        .catch((e) => {})\n    },\n    copyScenario: function () {\n      let displayName = 'Copy of ' + this.scenario.display_name\n      ApiClient.addScenario(this.sketch.id, 'compromise_assessment', displayName)\n        .then((response) => {\n          this.$store.dispatch('updateScenarios', this.sketch.id)\n        })\n        .catch((e) => {})\n    },\n    setStatus: function (status) {\n      ApiClient.setScenarioStatus(this.sketch.id, this.scenario.id, status)\n        .then((response) => {\n          this.$store.dispatch('updateScenarios', this.sketch.id)\n        })\n        .catch((e) => {})\n    },\n    setActiveQuestion: function (question) {\n      this.activeQuestion = question\n    },\n    resetActiveQuestion: function () {\n      this.selectedItem = null\n      this.activeQuestion = {}\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scenario.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scenario.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scenario.vue?vue&type=template&id=94f01a5c&scoped=true&\"\nimport script from \"./Scenario.vue?vue&type=script&lang=js&\"\nexport * from \"./Scenario.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94f01a5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pa-4\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"flat\":\"\"}},[_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-content-save-outline\")]),_vm._v(\"Saved Searches\\n    \")],1),_c('span',{staticClass:\"float-right mr-2\"},[_c('small',[_c('strong',[_vm._v(_vm._s(_vm.meta.views.length))])])])]),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}]},_vm._l((_vm.meta.views),function(savedSearch){return _c('v-row',{key:savedSearch.name,staticClass:\"pa-2 pl-5\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"no-gutters\":\"\"}},[_c('div',{staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9em\"},on:{\"click\":function($event){return _vm.setView(savedSearch)}}},[_vm._v(_vm._s(savedSearch.name))])])}),1)]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <div class=\"pa-4\" flat :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\">\n      <span style=\"cursor: pointer\" @click=\"expanded = !expanded\">\n        <v-icon left>mdi-content-save-outline</v-icon>Saved Searches\n      </span>\n      <span class=\"float-right mr-2\">\n        <small\n          ><strong>{{ meta.views.length }}</strong></small\n        >\n      </span>\n    </div>\n\n    <v-expand-transition>\n      <div v-show=\"expanded\">\n        <v-row\n          no-gutters\n          v-for=\"savedSearch in meta.views\"\n          :key=\"savedSearch.name\"\n          class=\"pa-2 pl-5\"\n          :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n        >\n          <div @click=\"setView(savedSearch)\" style=\"cursor: pointer; font-size: 0.9em\">{{ savedSearch.name }}</div>\n        </v-row>\n      </div>\n    </v-expand-transition>\n    <v-divider></v-divider>\n  </div>\n</template>\n\n<script>\nimport EventBus from '../../main'\n\nexport default {\n  props: [],\n  data: function () {\n    return {\n      expanded: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n  methods: {\n    setView: function (savedSearch) {\n      EventBus.$emit('setActiveView', savedSearch)\n    },\n  },\n  created() {},\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedSearches.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedSearches.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SavedSearches.vue?vue&type=template&id=32c48deb&\"\nimport script from \"./SavedSearches.vue?vue&type=script&lang=js&\"\nexport * from \"./SavedSearches.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pa-4\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"flat\":\"\"}},[_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-database-outline\")]),_vm._v(\" Data Types\\n    \")],1),_c('span',{staticClass:\"float-right mr-2\"},[_c('small',[_c('strong',[_vm._v(_vm._s(_vm.dataTypes.length))])])])]),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}]},[(_vm.dataTypes.length <= _vm.itemsPerPage)?_c('v-data-iterator',{attrs:{\"items\":_vm.dataTypes,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return _vm._l((props.items),function(dataType){return _c('v-row',{key:dataType.data_type,staticClass:\"pa-2 pl-5\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"no-gutters\":\"\"}},[_c('div',{staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9em\"},on:{\"click\":function($event){return _vm.setQueryAndFilter(dataType.data_type)}}},[_c('span',[_vm._v(_vm._s(dataType.data_type)+\" (\"),_c('small',[_c('strong',[_vm._v(_vm._s(_vm._f(\"compactNumber\")(dataType.count)))])]),_vm._v(\")\")])])])})}}],null,false,2686482733)}):_c('v-data-iterator',{attrs:{\"items\":_vm.dataTypes,\"items-per-page\":_vm.itemsPerPage,\"search\":_vm.search},on:{\"update:itemsPerPage\":function($event){_vm.itemsPerPage=$event},\"update:items-per-page\":function($event){_vm.itemsPerPage=$event}},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-text-field',{attrs:{\"clearable\":\"\",\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\",\"prepend-inner-icon\":\"mdi-magnify\",\"label\":\"Search for a data type..\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)]},proxy:true},{key:\"default\",fn:function(props){return _vm._l((props.items),function(dataType){return _c('v-row',{key:dataType.data_type,staticClass:\"pa-2 pl-5\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"no-gutters\":\"\"}},[_c('div',{staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9em\"},on:{\"click\":function($event){return _vm.setQueryAndFilter(dataType.data_type)}}},[_c('span',[_vm._v(_vm._s(dataType.data_type)+\" (\"),_c('small',[_c('strong',[_vm._v(_vm._s(_vm._f(\"compactNumber\")(dataType.count)))])]),_vm._v(\")\")])])])})}}])})],1)]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <div class=\"pa-4\" flat :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\">\n      <span style=\"cursor: pointer\" @click=\"expanded = !expanded\">\n        <v-icon left>mdi-database-outline</v-icon> Data Types\n      </span>\n      <span class=\"float-right mr-2\">\n        <small><strong>{{ dataTypes.length }}</strong></small>\n      </span>\n    </div>\n\n    <v-expand-transition>\n      <div v-show=\"expanded\">\n        <v-data-iterator v-if=\"dataTypes.length <= itemsPerPage\" :items=\"dataTypes\" hide-default-footer>\n          <template v-slot:default=\"props\">\n            <v-row\n              no-gutters\n              v-for=\"dataType in props.items\"\n              :key=\"dataType.data_type\"\n              class=\"pa-2 pl-5\"\n              :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n            >\n              <div @click=\"setQueryAndFilter(dataType.data_type)\" style=\"cursor: pointer; font-size: 0.9em\">\n                <span\n                  >{{ dataType.data_type }} (<small\n                    ><strong>{{ dataType.count | compactNumber }}</strong></small\n                  >)</span\n                >\n              </div>\n            </v-row>\n          </template>\n        </v-data-iterator>\n        <v-data-iterator v-else :items=\"dataTypes\" :items-per-page.sync=\"itemsPerPage\" :search=\"search\">\n          <template v-slot:header>\n            <v-toolbar flat>\n              <v-text-field\n                v-model=\"search\"\n                clearable\n                hide-details\n                outlined\n                dense\n                prepend-inner-icon=\"mdi-magnify\"\n                label=\"Search for a data type..\"\n              ></v-text-field>\n            </v-toolbar>\n          </template>\n\n          <template v-slot:default=\"props\">\n            <v-row\n              no-gutters\n              v-for=\"dataType in props.items\"\n              :key=\"dataType.data_type\"\n              class=\"pa-2 pl-5\"\n              :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n            >\n              <div @click=\"setQueryAndFilter(dataType.data_type)\" style=\"cursor: pointer; font-size: 0.9em\">\n                <span\n                  >{{ dataType.data_type }} (<small\n                    ><strong>{{ dataType.count | compactNumber }}</strong></small\n                  >)</span\n                >\n              </div>\n            </v-row>\n          </template>\n        </v-data-iterator>\n      </div>\n    </v-expand-transition>\n    <v-divider></v-divider>\n  </div>\n</template>\n\n<script>\nimport EventBus from '../../main'\n\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: '_all',\n    order: 'asc',\n    chips: [],\n  }\n}\n\nexport default {\n  props: [],\n  data: function () {\n    return {\n      expanded: false,\n      itemsPerPage: 10,\n      search: '',\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    dataTypes() {\n      return this.$store.state.dataTypes\n    },\n  },\n  methods: {\n    setQueryAndFilter(dataType) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = 'data_type:' + '\"' + dataType + '\"'\n      eventData.queryFilter = defaultQueryFilter()\n      EventBus.$emit('setQueryAndFilter', eventData)\n    },\n  },\n  created() {},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.v-text-field ::v-deep input {\n  font-size: 0.9em;\n}\n\n.v-text-field ::v-deep label {\n  font-size: 0.9em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTypes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTypes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataTypes.vue?vue&type=template&id=6f8c2e97&scoped=true&\"\nimport script from \"./DataTypes.vue?vue&type=script&lang=js&\"\nexport * from \"./DataTypes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataTypes.vue?vue&type=style&index=0&id=6f8c2e97&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f8c2e97\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pa-4\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"flat\":\"\"}},[_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-tag-multiple-outline\")]),_vm._v(\" Tags\\n    \")],1),_c('span',{staticClass:\"float-right mr-2\"},[_c('small',[_c('strong',[_vm._v(_vm._s(_vm.tags.length))])])])]),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded && _vm.tags.length),expression:\"expanded && tags.length\"}]},[_vm._l((_vm.labels),function(label){return _c('v-row',{key:label.label,staticClass:\"pa-2 pl-5\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"no-gutters\":\"\"}},[_c('div',{staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9em\"},on:{\"click\":function($event){return _vm.searchForLabel(label.label)}}},[(label.label === '__ts_star')?_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\",\"color\":\"amber\"}},[_vm._v(\"mdi-star\")]):_vm._e(),(label.label === '__ts_comment')?_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-comment-multiple-outline\")]):_vm._e(),_c('span',[_vm._v(_vm._s(_vm._f(\"formatLabelText\")(label.label))+\" (\"),_c('small',[_c('strong',[_vm._v(_vm._s(_vm._f(\"compactNumber\")(label.count)))])]),_vm._v(\")\")])],1)])}),_vm._l((_vm.tags),function(tag){return _c('v-row',{key:tag.tag,staticClass:\"pa-2 pl-5\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"no-gutters\":\"\"}},[_c('div',{staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9em\"},on:{\"click\":function($event){return _vm.searchForTag(tag.tag)}}},[_c('span',[_vm._v(_vm._s(tag.tag)+\" (\"),_c('small',[_c('strong',[_vm._v(_vm._s(_vm._f(\"compactNumber\")(tag.count)))])]),_vm._v(\")\")])])])})],2)]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <div class=\"pa-4\" flat :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\">\n      <span style=\"cursor: pointer\" @click=\"expanded = !expanded\">\n        <v-icon left>mdi-tag-multiple-outline</v-icon> Tags\n      </span>\n      <span class=\"float-right mr-2\">\n        <small\n          ><strong>{{ tags.length }}</strong></small\n        >\n      </span>\n    </div>\n\n    <v-expand-transition>\n      <div v-show=\"expanded && tags.length\">\n        <v-row\n          no-gutters\n          v-for=\"label in labels\"\n          :key=\"label.label\"\n          class=\"pa-2 pl-5\"\n          :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n        >\n          <div @click=\"searchForLabel(label.label)\" style=\"cursor: pointer; font-size: 0.9em\">\n            <v-icon v-if=\"label.label === '__ts_star'\" left small color=\"amber\">mdi-star</v-icon>\n            <v-icon v-if=\"label.label === '__ts_comment'\" left small>mdi-comment-multiple-outline</v-icon>\n\n            <span\n              >{{ label.label | formatLabelText }} (<small\n                ><strong>{{ label.count | compactNumber }}</strong></small\n              >)</span\n            >\n          </div>\n        </v-row>\n\n        <v-row\n          no-gutters\n          v-for=\"tag in tags\"\n          :key=\"tag.tag\"\n          class=\"pa-2 pl-5\"\n          :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n        >\n          <div @click=\"searchForTag(tag.tag)\" style=\"cursor: pointer; font-size: 0.9em\">\n            <span\n              >{{ tag.tag }} (<small\n                ><strong>{{ tag.count | compactNumber }}</strong></small\n              >)</span\n            >\n          </div>\n        </v-row>\n      </div>\n    </v-expand-transition>\n    <v-divider></v-divider>\n  </div>\n</template>\n\n<script>\nimport EventBus from '../../main'\n\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: '_all',\n    order: 'asc',\n    chips: [],\n  }\n}\n\nexport default {\n  props: [],\n  data: function () {\n    return {\n      expanded: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    tags() {\n      return this.$store.state.tags\n    },\n    labels() {\n      return this.meta.filter_labels\n    },\n  },\n  methods: {\n    searchForTag(tag) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = 'tag:' + '\"' + tag + '\"'\n      eventData.queryFilter = defaultQueryFilter()\n      EventBus.$emit('setQueryAndFilter', eventData)\n    },\n    searchForLabel(label) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = '*'\n      eventData.queryFilter = defaultQueryFilter()\n      let chip = {\n        field: '',\n        value: label,\n        type: 'label',\n        operator: 'must',\n        active: true,\n      }\n      eventData.queryFilter.chips.push(chip)\n      EventBus.$emit('setQueryAndFilter', eventData)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tags.vue?vue&type=template&id=2ebe244b&\"\nimport script from \"./Tags.vue?vue&type=script&lang=js&\"\nexport * from \"./Tags.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pa-4\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"flat\":\"\"}},[_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-text-box-search-outline\")]),_vm._v(\" Search Templates\\n    \")],1),_c('span',{staticClass:\"float-right mr-2\"},[_c('small',[_c('strong',[_vm._v(_vm._s(_vm.searchtemplates.length))])])])]),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded && _vm.searchtemplates.length),expression:\"expanded && searchtemplates.length\"}]},[_c('v-data-iterator',{attrs:{\"items\":_vm.searchtemplates,\"items-per-page\":_vm.itemsPerPage,\"search\":_vm.search},on:{\"update:itemsPerPage\":function($event){_vm.itemsPerPage=$event},\"update:items-per-page\":function($event){_vm.itemsPerPage=$event}},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-text-field',{attrs:{\"clearable\":\"\",\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\",\"prepend-inner-icon\":\"mdi-magnify\",\"label\":\"Search for a template..\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)]},proxy:true},{key:\"default\",fn:function(props){return _vm._l((props.items),function(searchtemplate){return _c('ts-search-template',{key:searchtemplate.id,attrs:{\"searchtemplate\":searchtemplate}})})}}])})],1)]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',{staticClass:\"pa-2\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"no-gutters\":\"\"}},[_c('div',{staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9em\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[(!_vm.expanded)?_c('v-icon',[_vm._v(\"mdi-chevron-right\")]):_c('v-icon',[_vm._v(\"mdi-chevron-down\")]),_vm._v(\"\\n      \"+_vm._s(_vm.searchtemplate.name)+\"\\n    \")],1),_c('v-spacer')],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}],staticClass:\"pa-4 pt-0\"},[_c('div',{staticStyle:{\"font-size\":\"0.9em\"}},[_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',[_c('tr',[_c('td',[_c('strong',[_vm._v(\"Author\")])]),_c('td',[_vm._v(_vm._s(_vm.searchTemplateSpec.author))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(\"Description\")])]),_c('td',[_vm._v(_vm._s(_vm.searchTemplateSpec.description))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(\"Date\")])]),_c('td',[_vm._v(_vm._s(_vm.searchTemplateSpec.date))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(\"ID\")])]),_c('td',[_vm._v(_vm._s(_vm.searchTemplateSpec.id))])]),(_vm.searchTemplateSpec.references.length)?_c('tr',[_c('td',[_c('strong',[_vm._v(\"References\")])]),_c('td',_vm._l((_vm.searchTemplateSpec.references),function(ref){return _c('div',{key:ref},[_c('a',{attrs:{\"href\":ref,\"target\":\"new\"}},[_vm._v(_vm._s(ref))])])}),0)]):_vm._e()])]},proxy:true}])})],1),(_vm.parameters.length)?_c('div',{staticClass:\"pt-3\"},[_c('div',{staticClass:\"mb-3\"},[_c('strong',{staticClass:\"mb-3\"},[_vm._v(\"Required input parameters\")])]),_vm._l((_vm.parameters),function(parameter){return _c('div',{key:parameter.name,staticClass:\"mb-4\"},[_c('v-text-field',{attrs:{\"hint\":parameter.description,\"label\":parameter.description,\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.params[parameter.name]),callback:function ($$v) {_vm.$set(_vm.params, parameter.name, $$v)},expression:\"params[parameter.name]\"}})],1)}),_c('v-card-actions',{staticClass:\"pl-0 mt-n3\"},[_c('v-btn',{attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\",\"disabled\":!_vm.filledOut},on:{\"click\":function($event){return _vm.parseQueryAndSearch()}}},[_vm._v(\"\\n            Search\\n          \")])],1)],2):_c('div',{staticClass:\"mt-3\"},[_c('v-btn',{attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\",\"disabled\":!_vm.filledOut},on:{\"click\":function($event){return _vm.search(_vm.searchtemplate.query_string)}}},[_vm._v(\"Search\")])],1)])]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <v-row no-gutters class=\"pa-2\" :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\">\n      <div @click=\"expanded = !expanded\" style=\"cursor: pointer; font-size: 0.9em\">\n        <v-icon v-if=\"!expanded\">mdi-chevron-right</v-icon>\n        <v-icon v-else>mdi-chevron-down</v-icon>\n        {{ searchtemplate.name }}\n      </div>\n      <v-spacer></v-spacer>\n    </v-row>\n\n    <v-expand-transition>\n      <div v-show=\"expanded\" class=\"pa-4 pt-0\">\n        <div style=\"font-size: 0.9em\">\n          <v-simple-table dense>\n            <template v-slot:default>\n              <tbody>\n                <tr>\n                  <td><strong>Author</strong></td>\n                  <td>{{ searchTemplateSpec.author }}</td>\n                </tr>\n                <tr>\n                  <td><strong>Description</strong></td>\n                  <td>{{ searchTemplateSpec.description }}</td>\n                </tr>\n                <tr>\n                  <td><strong>Date</strong></td>\n                  <td>{{ searchTemplateSpec.date }}</td>\n                </tr>\n                <tr>\n                  <td><strong>ID</strong></td>\n                  <td>{{ searchTemplateSpec.id }}</td>\n                </tr>\n                <tr v-if=\"searchTemplateSpec.references.length\">\n                  <td><strong>References</strong></td>\n                  <td>\n                    <div v-for=\"ref in searchTemplateSpec.references\" :key=\"ref\">\n                      <a :href=\"ref\" target=\"new\">{{ ref }}</a>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </template>\n          </v-simple-table>\n        </div>\n\n        <div v-if=\"parameters.length\" class=\"pt-3\">\n          <div class=\"mb-3\"><strong class=\"mb-3\">Required input parameters</strong></div>\n          <div class=\"mb-4\" v-for=\"parameter in parameters\" :key=\"parameter.name\">\n            <v-text-field\n              v-model=\"params[parameter.name]\"\n              :hint=\"parameter.description\"\n              :label=\"parameter.description\"\n              outlined\n              dense\n              hide-details\n            >\n            </v-text-field>\n          </div>\n\n          <v-card-actions class=\"pl-0 mt-n3\">\n            <v-btn @click=\"parseQueryAndSearch()\" small depressed color=\"primary\" :disabled=\"!filledOut\">\n              Search\n            </v-btn>\n          </v-card-actions>\n        </div>\n        <div v-else class=\"mt-3\">\n          <v-btn @click=\"search(searchtemplate.query_string)\" small depressed color=\"primary\" :disabled=\"!filledOut\"\n            >Search</v-btn\n          >\n        </div>\n      </div>\n    </v-expand-transition>\n    <v-divider></v-divider>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport EventBus from '../../main'\n\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: '_all',\n    order: 'asc',\n    chips: [],\n  }\n}\n\nexport default {\n  props: ['searchtemplate'],\n  data: function () {\n    return {\n      expanded: false,\n      params: {},\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    parameters() {\n      return JSON.parse(this.searchtemplate.template_json).parameters\n    },\n    filledOut() {\n      return Object.keys(this.params).length === this.parameters.length\n    },\n    searchTemplateSpec() {\n      return JSON.parse(this.searchtemplate.template_json)\n    },\n  },\n  methods: {\n    search(queryString) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = queryString\n      eventData.queryFilter = defaultQueryFilter()\n      EventBus.$emit('setQueryAndFilter', eventData)\n    },\n    parseQueryAndSearch() {\n      let queryString\n      ApiClient.parseSearchTemplate(this.searchtemplate.id, this.params)\n        .then((response) => {\n          queryString = response.data.objects[0].query_string\n          this.search(queryString)\n        })\n        .catch((e) => {})\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchTemplate.vue?vue&type=template&id=6bfe3bbd&scoped=true&\"\nimport script from \"./SearchTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchTemplate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6bfe3bbd\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <div class=\"pa-4\" flat :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\">\n      <span style=\"cursor: pointer\" @click=\"expanded = !expanded\">\n        <v-icon left>mdi-text-box-search-outline</v-icon> Search Templates\n      </span>\n      <span class=\"float-right mr-2\">\n        <small><strong>{{ searchtemplates.length }}</strong></small>\n      </span>\n    </div>\n    <v-expand-transition>\n      <div v-show=\"expanded && searchtemplates.length\">\n        <v-data-iterator :items=\"searchtemplates\" :items-per-page.sync=\"itemsPerPage\" :search=\"search\">\n          <template v-slot:header>\n            <v-toolbar flat>\n              <v-text-field\n                v-model=\"search\"\n                clearable\n                hide-details\n                outlined\n                dense\n                prepend-inner-icon=\"mdi-magnify\"\n                label=\"Search for a template..\"\n              ></v-text-field>\n            </v-toolbar>\n          </template>\n\n          <template v-slot:default=\"props\">\n            <ts-search-template\n              v-for=\"searchtemplate in props.items\"\n              :key=\"searchtemplate.id\"\n              :searchtemplate=\"searchtemplate\"\n            ></ts-search-template>\n          </template>\n        </v-data-iterator>\n      </div>\n    </v-expand-transition>\n    <v-divider></v-divider>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsSearchTemplate from './SearchTemplate.vue'\n\nexport default {\n  props: [],\n  components: {\n    TsSearchTemplate,\n  },\n  data: function () {\n    return {\n      searchtemplates: [],\n      expanded: false,\n      itemsPerPage: 10,\n      search: '',\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n  created() {\n    ApiClient.getSearchTemplates()\n      .then((response) => {\n        this.searchtemplates = response.data.objects[0]\n        if (typeof this.searchtemplates === 'undefined') {\n          this.searchtemplates = []\n        }\n      })\n      .catch((e) => {})\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.v-text-field ::v-deep input {\n  font-size: 0.9em;\n}\n\n.v-text-field ::v-deep label {\n  font-size: 0.9em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchTemplates.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchTemplates.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchTemplates.vue?vue&type=template&id=44cfccf4&scoped=true&\"\nimport script from \"./SearchTemplates.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchTemplates.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchTemplates.vue?vue&type=style&index=0&id=44cfccf4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44cfccf4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pa-4\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',style:(!(_vm.sigmaRules && _vm.sigmaRules.length) ? '' : 'cursor: pointer'),attrs:{\"no-gutters\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('span',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-sigma-lower\")]),_vm._v(\" Sigma Rules \")],1),(_vm.expanded || (_vm.sigmaRules && !_vm.sigmaRules.length))?_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"color\":\"primary\",\"text\":\"\",\"to\":{ name: 'Studio', params: { id: 'new', type: 'sigma' } }},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\"New Rule\\n    \")],1):_vm._e(),_c('span',{staticClass:\"float-right mr-2\"},[(_vm.isLoading)?_c('v-progress-circular',{attrs:{\"size\":12,\"width\":1,\"indeterminate\":\"\"}}):_c('small',[_c('strong',[_vm._v(_vm._s(_vm.ruleCount))])])],1)],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}]},[(_vm.sigmaRules && _vm.sigmaRules.length)?_c('div',[(_vm.ruleCount <= _vm.itemsPerPage)?_c('v-data-iterator',{attrs:{\"items\":_vm.sigmaRules,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return _vm._l((props.items),function(sigmaRule){return _c('ts-sigma-rule',{key:sigmaRule.rule_uuid,attrs:{\"sigma-rule\":sigmaRule}})})}}],null,false,2506010555)}):_c('v-data-iterator',{attrs:{\"items\":_vm.sigmaRules,\"items-per-page\":_vm.itemsPerPage,\"search\":_vm.search},on:{\"update:itemsPerPage\":function($event){_vm.itemsPerPage=$event},\"update:items-per-page\":function($event){_vm.itemsPerPage=$event}},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-text-field',{attrs:{\"clearable\":\"\",\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\",\"prepend-inner-icon\":\"mdi-magnify\",\"label\":\"Search for a rule..\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)]},proxy:true},{key:\"default\",fn:function(props){return _vm._l((props.items),function(sigmaRule){return _c('ts-sigma-rule',{key:sigmaRule.rule_uuid,attrs:{\"sigma-rule\":sigmaRule}})})}}],null,false,1881113905)})],1):_vm._e()])]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',{staticClass:\"pa-2 pr-4\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9em\"},attrs:{\"no-gutters\":\"\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('v-col',{attrs:{\"cols\":\"11\"}},[(!_vm.expanded)?_c('v-icon',[_vm._v(\"mdi-chevron-right\")]):_c('v-icon',[_vm._v(\"mdi-chevron-down\")]),_vm._v(\"\\n      \"+_vm._s(_vm.sigmaRule.title)),_c('v-chip',{staticClass:\"ml-2\",attrs:{\"rounded\":\"\",\"x-small\":\"\"}},[_vm._v(_vm._s(_vm.sigmaRule.status))])],1),_c('v-col',{attrs:{\"cols\":\"1\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\",\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}])},[_c('v-card',[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item-group',[_c('v-list-item',{attrs:{\"to\":{ name: 'Studio', params: { type: 'sigma', id: _vm.sigmaRule.rule_uuid } }}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-pencil\")])],1),_c('v-list-item-title',[_vm._v(\"Edit Rule\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.downloadSigmaRule(_vm.sigmaRule.rule_uuid)}}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-download\")])],1),_c('v-list-item-title',[_vm._v(\"Download Rule\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.deprecateSigmaRule(_vm.sigmaRule.rule_uuid)}}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-flash-off-outline\")])],1),_c('v-list-item-title',[_vm._v(\"Disable from analyzer\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.deleteRule(_vm.sigmaRule.rule_uuid)}}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-delete\")])],1),_c('v-list-item-title',[_vm._v(\"Delete Rule\")])],1)],1)],1)],1)],1)],1)],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}],staticClass:\"pa-4 pt-0\"},[_c('div',{staticClass:\"mt-2\"},[_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',_vm._l((_vm.sigmaRuleSummary),function(value,key){return _c('tr',{key:key},[_c('td',[_c('strong',[_vm._v(_vm._s(key))])]),_c('td',[(key === 'references')?_c('span',_vm._l((value),function(ref){return _c('div',{key:ref},[_c('a',{attrs:{\"href\":ref,\"target\":\"new\"}},[_vm._v(_vm._s(ref))])])}),0):(key === 'falsepositives')?_c('span',_vm._l((value),function(falsepositive){return _c('v-chip',{key:falsepositive,staticClass:\"mr-2\",attrs:{\"rounded\":\"\",\"x-small\":\"\"}},[_vm._v(_vm._s(falsepositive))])}),1):(key === 'tags' && value)?_c('span',_vm._l((value),function(tag){return _c('v-chip',{key:tag,staticClass:\"mr-2\",attrs:{\"rounded\":\"\",\"x-small\":\"\"}},[_vm._v(_vm._s(tag))])}),1):_c('span',[_vm._v(\"\\n                    \"+_vm._s(value)+\"\\n                  \")])])])}),0)]},proxy:true}])})],1),_c('div',{staticClass:\"mt-3\"},[(_vm.sketch.id !== undefined)?_c('v-btn',{attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.search(_vm.sigmaRule.search_query)}}},[_vm._v(\"Search\")]):_vm._e()],1)])]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <v-row\n      no-gutters\n      class=\"pa-2 pr-4\"\n      :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n      @click=\"expanded = !expanded\"\n      style=\"cursor: pointer; font-size: 0.9em\"\n    >\n      <v-col cols=\"11\">\n        <v-icon v-if=\"!expanded\">mdi-chevron-right</v-icon>\n        <v-icon v-else>mdi-chevron-down</v-icon>\n        {{ sigmaRule.title }}<v-chip rounded x-small class=\"ml-2\">{{ sigmaRule.status }}</v-chip>\n      </v-col>\n\n      <v-col cols=\"1\">\n        <v-menu offset-y>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn small icon v-bind=\"attrs\" v-on=\"on\">\n              <v-icon>mdi-dots-vertical</v-icon>\n            </v-btn>\n          </template>\n          <v-card>\n            <v-list dense>\n              <v-list-item-group>\n                <v-list-item :to=\"{ name: 'Studio', params: { type: 'sigma', id: sigmaRule.rule_uuid } }\">\n                  <v-list-item-icon>\n                    <v-icon small>mdi-pencil</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-title>Edit Rule</v-list-item-title>\n                </v-list-item>\n                <v-list-item v-on:click=\"downloadSigmaRule(sigmaRule.rule_uuid)\">\n                  <v-list-item-icon>\n                    <v-icon small>mdi-download</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-title>Download Rule</v-list-item-title>\n                </v-list-item>\n\n                <v-list-item v-on:click=\"deprecateSigmaRule(sigmaRule.rule_uuid)\">\n                  <v-list-item-icon>\n                    <v-icon small>mdi-flash-off-outline</v-icon>\n                  </v-list-item-icon>\n\n                  <v-list-item-title>Disable from analyzer</v-list-item-title>\n                </v-list-item>\n                <v-list-item v-on:click=\"deleteRule(sigmaRule.rule_uuid)\">\n                  <v-list-item-icon>\n                    <v-icon small>mdi-delete</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-title>Delete Rule</v-list-item-title>\n                </v-list-item>\n              </v-list-item-group>\n            </v-list>\n          </v-card>\n        </v-menu>\n      </v-col>\n    </v-row>\n\n    <v-expand-transition>\n      <div v-show=\"expanded\" class=\"pa-4 pt-0\">\n        <div class=\"mt-2\">\n          <v-simple-table dense>\n            <template v-slot:default>\n              <tbody>\n                <tr v-for=\"(value, key) in sigmaRuleSummary\" :key=\"key\">\n                  <td>\n                    <strong>{{ key }}</strong>\n                  </td>\n                  <td>\n                    <span v-if=\"key === 'references'\">\n                      <div v-for=\"ref in value\" :key=\"ref\">\n                        <a :href=\"ref\" target=\"new\">{{ ref }}</a>\n                      </div>\n                    </span>\n                    <span v-else-if=\"key === 'falsepositives'\">\n                      <v-chip v-for=\"falsepositive in value\" :key=\"falsepositive\" rounded x-small class=\"mr-2\">{{\n                        falsepositive\n                      }}</v-chip>\n                    </span>\n\n                    <span v-else-if=\"key === 'tags' && value\">\n                      <v-chip v-for=\"tag in value\" :key=\"tag\" rounded x-small class=\"mr-2\">{{ tag }}</v-chip>\n                    </span>\n                    <span v-else>\n                      {{ value }}\n                    </span>\n                  </td>\n                </tr>\n              </tbody>\n            </template>\n          </v-simple-table>\n        </div>\n\n        <div class=\"mt-3\">\n          <v-btn @click=\"search(sigmaRule.search_query)\" small depressed color=\"primary\" v-if=\"sketch.id !== undefined\"\n            >Search</v-btn\n          >\n        </div>\n      </div>\n    </v-expand-transition>\n    <v-divider></v-divider>\n  </div>\n</template>\n\n<script>\nimport EventBus from '../../main'\nimport ApiClient from '../../utils/RestApiClient'\n\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: '_all',\n    order: 'asc',\n    chips: [],\n  }\n}\n\nexport default {\n  components: {},\n  props: ['sigmaRule'],\n  data: function () {\n    return {\n      expanded: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    sigmaRuleSummary() {\n      const fields = [\n        'author',\n        'description',\n        'references',\n        'status',\n        'date',\n        'modified',\n        'falsepositives',\n        'level',\n        'tags',\n        'rule_uuid',\n        'search_query',\n      ]\n      return Object.fromEntries(Object.entries(this.sigmaRule).filter(([key]) => fields.includes(key)))\n    },\n  },\n  methods: {\n    search(queryString) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = queryString\n      eventData.queryFilter = defaultQueryFilter()\n      EventBus.$emit('setQueryAndFilter', eventData)\n    },\n    deleteRule(ruleUuid) {\n      if (confirm('Delete Rule?')) {\n        ApiClient.deleteSigmaRule(ruleUuid)\n          .then((response) => {\n            this.$store.dispatch('updateSigmaList')\n            this.$router.push({\n              name: 'Studio',\n              params: {\n                id: 'new',\n                type: 'sigma',\n              },\n            })\n          })\n          .catch((e) => {\n            console.error(e)\n          })\n      }\n    },\n    deprecateSigmaRule(ruleUuid) {\n      // Rules with a \"deprecated\" status means the rule\n      // will not be picked up by the Sigma analyzer.\n      if (confirm('Deprecate Rule?')) {\n        //  get the current Sigma rule yaml again\n        ApiClient.getSigmaRuleResource(ruleUuid)\n          .then((response) => {\n            var editingRule = response.data.objects[0]\n            const regex = /status:\\s*(experimental|testing|stable)/g\n            var ruleYaml = editingRule.rule_yaml.replace(regex, 'status: deprecated')\n            ApiClient.updateSigmaRule(ruleUuid, ruleYaml)\n              .then(() => {\n                this.$store.dispatch('updateSigmaList')\n                EventBus.$emit('errorSnackBar', 'Rule deprecated: ' + ruleUuid)\n              })\n              .catch((e) => {\n                console.error(e)\n              })\n          })\n          .catch((e) => {\n            console.error(e)\n          })\n      }\n    },\n    downloadSigmaRule(ruleUuid) {\n      ApiClient.getSigmaRuleResource(ruleUuid)\n        .then((response) => {\n          var editingRule = response.data.objects[0]\n          var blob = new Blob([editingRule.rule_yaml], { type: 'text/plain' })\n          var link = document.createElement('a')\n          link.href = window.URL.createObjectURL(blob)\n          link.download = editingRule.title + '.yml'\n          link.click()\n        })\n        .catch((e) => {\n          console.error(e)\n        })\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.SigmaRuleTitle {\n  cursor: pointer;\n  font-size: 0.9em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaRule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaRule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SigmaRule.vue?vue&type=template&id=72e044b8&scoped=true&\"\nimport script from \"./SigmaRule.vue?vue&type=script&lang=js&\"\nexport * from \"./SigmaRule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SigmaRule.vue?vue&type=style&index=0&id=72e044b8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72e044b8\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <div\n      no-gutters\n      :style=\"!(sigmaRules && sigmaRules.length) ? '' : 'cursor: pointer'\"\n      class=\"pa-4\"\n      flat\n      @click=\"expanded = !expanded\"\n      :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n    >\n      <span> <v-icon left>mdi-sigma-lower</v-icon> Sigma Rules </span>\n      <v-btn\n        v-if=\"expanded || (sigmaRules && !sigmaRules.length)\"\n        small\n        color=\"primary\"\n        text\n        class=\"ml-1\"\n        :to=\"{ name: 'Studio', params: { id: 'new', type: 'sigma' } }\"\n        @click.stop=\"\"\n      >\n        <v-icon small left>mdi-plus</v-icon>New Rule\n      </v-btn>\n      <span class=\"float-right mr-2\">\n        <v-progress-circular v-if=\"isLoading\" :size=\"12\" :width=\"1\" indeterminate></v-progress-circular>\n        <small v-else\n          ><strong>{{ ruleCount }}</strong></small\n        >\n      </span>\n    </div>\n\n    <v-expand-transition>\n      <div v-show=\"expanded\">\n        <div v-if=\"sigmaRules && sigmaRules.length\">\n          <v-data-iterator v-if=\"ruleCount <= itemsPerPage\" :items=\"sigmaRules\" hide-default-footer>\n            <template v-slot:default=\"props\">\n              <ts-sigma-rule v-for=\"sigmaRule in props.items\" :key=\"sigmaRule.rule_uuid\" :sigma-rule=\"sigmaRule\" />\n            </template>\n          </v-data-iterator>\n          <v-data-iterator v-else :items=\"sigmaRules\" :items-per-page.sync=\"itemsPerPage\" :search=\"search\">\n            <template v-slot:header>\n              <v-toolbar flat>\n                <v-text-field\n                  v-model=\"search\"\n                  clearable\n                  hide-details\n                  outlined\n                  dense\n                  prepend-inner-icon=\"mdi-magnify\"\n                  label=\"Search for a rule..\"\n                ></v-text-field>\n              </v-toolbar>\n            </template>\n\n            <template v-slot:default=\"props\">\n              <ts-sigma-rule v-for=\"sigmaRule in props.items\" :key=\"sigmaRule.rule_uuid\" :sigma-rule=\"sigmaRule\" />\n            </template>\n          </v-data-iterator>\n        </div>\n      </div>\n    </v-expand-transition>\n    <v-divider></v-divider>\n  </div>\n</template>\n\n<script>\nimport TsSigmaRule from './SigmaRule.vue'\n\nexport default {\n  props: {\n    startExpanded: Boolean,\n  },\n  components: {\n    TsSigmaRule,\n  },\n  data: function () {\n    return {\n      expanded: this.startExpanded,\n      itemsPerPage: 10,\n      search: '',\n    }\n  },\n  methods: {},\n  computed: {\n    sigmaRules() {\n      return this.$store.state.sigmaRuleList\n    },\n    ruleCount() {\n      // to avoid undefined error if the list is not yet loaded or number is 0\n      if (!this.$store.state.sigmaRuleList) {\n        return 0\n      }\n      return this.$store.state.sigmaRuleList.length\n    },\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    isLoading() {\n      return !this.sigmaRules\n    },\n  },\n  mounted() {\n    this.$store.dispatch('updateSigmaList')\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.v-text-field ::v-deep input {\n  font-size: 0.9em;\n}\n\n.v-text-field ::v-deep label {\n  font-size: 0.9em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaRules.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaRules.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SigmaRules.vue?vue&type=template&id=3ebf0597&scoped=true&\"\nimport script from \"./SigmaRules.vue?vue&type=script&lang=js&\"\nexport * from \"./SigmaRules.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SigmaRules.vue?vue&type=style&index=0&id=3ebf0597&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ebf0597\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pa-4\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',staticStyle:{\"cursor\":\"pointer\"},attrs:{\"no-gutters\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('span',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-shield-search\")]),_vm._v(\" Threat Intelligence\\n    \")],1),(_vm.expanded)?_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"color\":\"primary\",\"text\":\"\",\"to\":{ name: 'Intelligence', params: { sketchId: _vm.sketch.id } }},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-pencil\")]),_vm._v(\"Manage\\n    \")],1):_vm._e(),_c('span',{staticClass:\"float-right mr-2\"},[_c('small',[_c('strong',[_vm._v(_vm._s(_vm.intelligenceData.length))])])])],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}]},[_c('v-divider'),_c('v-tabs',{attrs:{\"grow\":\"\"},model:{value:(_vm.tabs),callback:function ($$v) {_vm.tabs=$$v},expression:\"tabs\"}},[_c('v-tab',[_vm._v(\"\\n          Indicators (\"),_c('small',[_vm._v(\" \"+_vm._s(_vm.intelligenceData.length)+\" \")]),_vm._v(\")\\n        \")]),_c('v-tab',[_vm._v(\"\\n          Tags (\"),_c('small',[_vm._v(_vm._s(Object.keys(_vm.tagInfo).length)+\" \")]),_vm._v(\")\\n        \")])],1),_c('v-tabs-items',{model:{value:(_vm.tabs),callback:function ($$v) {_vm.tabs=$$v},expression:\"tabs\"}},[_c('v-tab-item',{attrs:{\"transition\":false}},[(_vm.intelligenceData.length >= 10)?_c('v-data-table',{attrs:{\"dense\":\"\",\"headers\":_vm.indicatorHeaders,\"items\":_vm.intelligenceData,\"items-per-page\":10},scopedSlots:_vm._u([{key:\"item.ioc\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{attrs:{\"title\":item.ioc}},[_c('div',{staticStyle:{\"max-width\":\"200px\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"}},[_vm._v(\"\\n                  \"+_vm._s(item.ioc)+\"\\n                \")])])]}},{key:\"item.type\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('small',[_vm._v(_vm._s(item.type))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.generateSearchQuery(item.ioc)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-magnify\")])],1)]}}],null,false,643218530)}):_c('v-data-table',{attrs:{\"dense\":\"\",\"headers\":_vm.indicatorHeaders,\"items\":_vm.intelligenceData,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.ioc\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{attrs:{\"title\":item.ioc}},[_c('div',{staticStyle:{\"max-width\":\"200px\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"}},[_vm._v(\"\\n                  \"+_vm._s(item.ioc)+\"\\n                \")])])]}},{key:\"item.type\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('small',[_vm._v(_vm._s(item.type))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.generateSearchQuery(item.ioc)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-magnify\")])],1)]}}])})],1),_c('v-tab-item',{attrs:{\"transition\":false}},[_c('v-data-table',{attrs:{\"dense\":\"\",\"headers\":_vm.tagHeaders,\"items\":Object.values(_vm.tagInfo),\"items-per-page\":10},scopedSlots:_vm._u([{key:\"item.tag\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip',{attrs:{\"x-small\":\"\"},on:{\"click\":function($event){return _vm.searchForIOC(item)}}},[_vm._v(_vm._s(item.tag.name))])]}},{key:\"item.iocs\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('small',{attrs:{\"title\":item.iocs}},[_vm._v(_vm._s(item.iocs.length))])]}},{key:\"item.weight\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('small',[_vm._v(_vm._s(item.tag.weight))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.searchForIOC(item)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-magnify\")])],1)]}}])})],1)],1)],1)]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <div\n      no-gutters\n      style=\"cursor: pointer\"\n      class=\"pa-4\"\n      flat\n      @click=\"expanded = !expanded\"\n      :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n    >\n      <span>\n        <v-icon left>mdi-shield-search</v-icon> Threat Intelligence\n      </span>\n      <v-btn\n        v-if=\"expanded\"\n        small\n        color=\"primary\"\n        text\n        class=\"ml-1\"\n        :to=\"{ name: 'Intelligence', params: { sketchId: sketch.id } }\"\n        @click.stop=\"\"\n      >\n        <v-icon small left>mdi-pencil</v-icon>Manage\n      </v-btn>\n      <span class=\"float-right mr-2\">\n        <small><strong>{{ intelligenceData.length }}</strong></small>\n      </span>\n\n\n    </div>\n\n    <v-expand-transition>\n      <div v-show=\"expanded\">\n        <v-divider></v-divider>\n\n        <v-tabs grow v-model=\"tabs\">\n          <v-tab>\n            Indicators (<small> {{ intelligenceData.length }} </small>)\n          </v-tab>\n          <v-tab>\n            Tags (<small>{{ Object.keys(tagInfo).length }} </small>)\n          </v-tab>\n        </v-tabs>\n        <v-tabs-items v-model=\"tabs\">\n          <v-tab-item :transition=\"false\">\n            <v-data-table v-if=\"intelligenceData.length >= 10\" dense :headers=\"indicatorHeaders\" :items=\"intelligenceData\" :items-per-page=\"10\">\n              <template v-slot:item.ioc=\"{ item }\">\n                <span :title=\"item.ioc\">\n                  <div style=\"max-width: 200px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis\">\n                    {{ item.ioc }}\n                  </div>\n                </span>\n              </template>\n\n              <template v-slot:item.type=\"{ item }\">\n                <small>{{ item.type }}</small>\n              </template>\n\n              <template v-slot:item.actions=\"{ item }\">\n                <v-btn icon small @click=\"generateSearchQuery(item.ioc)\">\n                  <v-icon small>mdi-magnify</v-icon>\n                </v-btn>\n              </template>\n            </v-data-table>\n            <v-data-table v-else dense :headers=\"indicatorHeaders\" :items=\"intelligenceData\" hide-default-footer>\n              <template v-slot:item.ioc=\"{ item }\">\n                <span :title=\"item.ioc\">\n                  <div style=\"max-width: 200px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis\">\n                    {{ item.ioc }}\n                  </div>\n                </span>\n              </template>\n\n              <template v-slot:item.type=\"{ item }\">\n                <small>{{ item.type }}</small>\n              </template>\n\n              <template v-slot:item.actions=\"{ item }\">\n                <v-btn icon small @click=\"generateSearchQuery(item.ioc)\">\n                  <v-icon small>mdi-magnify</v-icon>\n                </v-btn>\n              </template>\n            </v-data-table>\n          </v-tab-item>\n          <v-tab-item :transition=\"false\">\n            <v-data-table dense :headers=\"tagHeaders\" :items=\"Object.values(tagInfo)\" :items-per-page=\"10\">\n              <template v-slot:item.tag=\"{ item }\">\n                <v-chip x-small @click=\"searchForIOC(item)\">{{ item.tag.name }}</v-chip>\n              </template>\n              <template v-slot:item.iocs=\"{ item }\">\n                <small :title=\"item.iocs\">{{ item.iocs.length }}</small>\n              </template>\n              <template v-slot:item.weight=\"{ item }\">\n                <small>{{ item.tag.weight }}</small>\n              </template>\n              <template v-slot:item.actions=\"{ item }\">\n                <v-btn icon small @click=\"searchForIOC(item)\">\n                  <v-icon small>mdi-magnify</v-icon>\n                </v-btn>\n              </template>\n            </v-data-table>\n          </v-tab-item>\n        </v-tabs-items>\n      </div>\n    </v-expand-transition>\n    <v-divider></v-divider>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash'\nimport ApiClient from '../../utils/RestApiClient'\nimport EventBus from '../../main'\n\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: '_all',\n    order: 'asc',\n    chips: [],\n  }\n}\n\nexport default {\n  props: [],\n  data: function () {\n    return {\n      expanded: false,\n      tagInfo: {},\n      tagMetadata: {},\n      tabs: null,\n      indicatorHeaders: [\n        { text: 'Indicator', value: 'ioc', align: 'start' },\n        { text: 'Type', value: 'type' },\n        { value: 'actions' },\n      ],\n      tagHeaders: [\n        { text: 'Tag', value: 'tag', align: 'start' },\n        { text: 'Indicators', value: 'iocs' },\n        { text: 'Weight', value: 'weight' },\n        { value: 'actions' },\n      ],\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    intelligenceAttribute() {\n      if (this.meta.attributes.intelligence === undefined) {\n        return { ontology: 'intelligence', value: { data: [] }, name: 'intelligence' }\n      }\n      return this.meta.attributes.intelligence\n    },\n    intelligenceData() {\n      return this.intelligenceAttribute.value.data\n    },\n  },\n  methods: {\n    loadSketchAttributes() {\n      // buildTagInfo depends on tagMetadata to be present.\n      ApiClient.getTagMetadata().then((response) => {\n        this.tagMetadata = response.data\n        this.buildTagInfo()\n      })\n    },\n    buildTagInfo() {\n      // We need tagMetadata to be embedded in the list below as it is used\n      // for sorting in the table.\n      this.tagInfo = {}\n      for (var ioc of this.intelligenceData) {\n        for (var tag of ioc.tags) {\n          // deal with the case when tag is an object that is alread enriched.\n          var tagKey = null\n          if (typeof tag === 'object') {\n            tagKey = tag.name\n          } else {\n            tagKey = tag\n          }\n          if (!this.tagInfo[tagKey]) {\n            this.tagInfo[tagKey] = {\n              count: 0,\n              iocs: [],\n              tag: this.enrichTag(tag),\n            }\n          }\n          this.tagInfo[tagKey].count++\n          this.tagInfo[tagKey].iocs.push(ioc.ioc)\n        }\n      }\n    },\n    enrichTag(tag) {\n      if (typeof tag === 'object') {\n        return tag\n      } else {\n        let tagInfo = { name: tag }\n        if (this.tagMetadata[tag]) {\n          return _.extend(tagInfo, this.tagMetadata[tag])\n        } else {\n          for (var regex in this.tagMetadata['regexes']) {\n            if (tag.match(regex)) {\n              return _.extend(tagInfo, this.tagMetadata['regexes'][regex])\n            }\n          }\n          return _.extend(tagInfo, this.tagMetadata.default)\n        }\n      }\n    },\n    generateSearchQuery(value, field) {\n      let query = `\"${value}\"`\n      // Escape special OpenSearch characters: \\, [space]\n      query = query.replace(/[\\\\\\s]/g, '\\\\$&')\n      if (field !== undefined) {\n        query = `${field}:${query}`\n      }\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = query\n      eventData.queryFilter = defaultQueryFilter()\n      EventBus.$emit('setQueryAndFilter', eventData)\n    },\n    searchForIOC(tag) {\n      let opensearchQuery = tag.iocs.map((v) => `\"${v}\"`).reduce((a, b) => `${a} OR ${b}`)\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = opensearchQuery\n      eventData.queryFilter = defaultQueryFilter()\n      EventBus.$emit('setQueryAndFilter', eventData)\n    },\n  },\n  mounted() {\n    this.loadSketchAttributes()\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreatIntel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreatIntel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ThreatIntel.vue?vue&type=template&id=4766fa22&\"\nimport script from \"./ThreatIntel.vue?vue&type=script&lang=js&\"\nexport * from \"./ThreatIntel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',{staticClass:\"pa-4\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',staticStyle:{\"cursor\":\"pointer\"},attrs:{\"no-gutters\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('span',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-source-branch\")]),_vm._v(\" Graphs \")],1),_c('v-spacer'),_c('span',{staticClass:\"mr-2\"},[_c('small',[_c('strong',[_vm._v(_vm._s(_vm.graphs.length + _vm.savedGraphs.length))])])])],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}]},[_vm._l((_vm.savedGraphs),function(graph){return _c('router-link',{key:graph.id,staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9em\",\"text-decoration\":\"none\"},attrs:{\"to\":{ name: 'Graph', query: { graph: graph.id } }}},[_c('v-row',{staticClass:\"pa-2 pl-5\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"no-gutters\":\"\"},on:{\"click\":function($event){return _vm.setSavedGraph(graph.id)}}},[_c('span',{class:_vm.$vuetify.theme.dark ? 'dark-font' : 'light-font'},[_vm._v(_vm._s(graph.name))])])],1)}),_vm._l((_vm.graphs),function(graph){return _c('router-link',{key:graph.name,staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9em\",\"text-decoration\":\"none\"},attrs:{\"to\":{ name: 'Graph', query: { plugin: graph.name } }}},[_c('v-row',{staticClass:\"pa-2 pl-5\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"no-gutters\":\"\"},on:{\"click\":function($event){return _vm.setGraphPlugin(graph)}}},[_c('span',{class:_vm.$vuetify.theme.dark ? 'dark-font' : 'light-font'},[_vm._v(_vm._s(graph.display_name))])])],1)})],2)]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <v-row\n      no-gutters\n      style=\"cursor: pointer\"\n      class=\"pa-4\"\n      flat\n      @click=\"expanded = !expanded\"\n      :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n    >\n      <span> <v-icon left>mdi-source-branch</v-icon> Graphs </span>\n      <v-spacer></v-spacer>\n      <span class=\"mr-2\">\n        <small\n          ><strong>{{ graphs.length + savedGraphs.length }}</strong></small\n        >\n      </span>\n    </v-row>\n\n    <v-expand-transition>\n      <div v-show=\"expanded\">\n        <!-- Saved graphs -->\n        <router-link\n          v-for=\"graph in savedGraphs\"\n          :key=\"graph.id\"\n          :to=\"{ name: 'Graph', query: { graph: graph.id } }\"\n          style=\"cursor: pointer; font-size: 0.9em; text-decoration: none\"\n        >\n          <v-row\n            no-gutters\n            @click=\"setSavedGraph(graph.id)\"\n            class=\"pa-2 pl-5\"\n            :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n          >\n            <span :class=\"$vuetify.theme.dark ? 'dark-font' : 'light-font'\">{{ graph.name }}</span>\n          </v-row>\n        </router-link>\n\n        <!-- Graph plugins -->\n        <router-link\n          v-for=\"graph in graphs\"\n          :key=\"graph.name\"\n          :to=\"{ name: 'Graph', query: { plugin: graph.name } }\"\n          style=\"cursor: pointer; font-size: 0.9em; text-decoration: none\"\n        >\n          <v-row\n            no-gutters\n            @click=\"setGraphPlugin(graph)\"\n            class=\"pa-2 pl-5\"\n            :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n          >\n            <span :class=\"$vuetify.theme.dark ? 'dark-font' : 'light-font'\">{{ graph.display_name }}</span>\n          </v-row>\n        </router-link>\n      </div>\n    </v-expand-transition>\n    <v-divider></v-divider>\n  </div>\n</template>\n\n<script>\nimport EventBus from '../../main'\n\nexport default {\n  props: [],\n  data: function () {\n    return {\n      expanded: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    graphs() {\n      return this.$store.state.graphPlugins\n    },\n    savedGraphs() {\n      return this.$store.state.savedGraphs\n    },\n  },\n  methods: {\n    setGraphPlugin(graph) {\n      EventBus.$emit('setGraphPlugin', graph)\n    },\n    setSavedGraph(graphId) {\n      EventBus.$emit('setSavedGraph', graphId)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graphs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graphs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Graphs.vue?vue&type=template&id=496f0964&\"\nimport script from \"./Graphs.vue?vue&type=script&lang=js&\"\nexport * from \"./Graphs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',{staticClass:\"pa-4\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',style:(!(_vm.meta.stories && _vm.meta.stories.length) ? '' : 'cursor: pointer'),attrs:{\"no-gutters\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('span',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-book-open-outline\")]),_vm._v(\" Stories \")],1),(_vm.expanded || !_vm.meta.stories.length)?_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"color\":\"primary\",\"text\":\"\"},on:{\"click\":[function($event){return _vm.createStory()},function($event){$event.stopPropagation();}]}},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\"New Story\\n    \")],1):_vm._e(),_c('v-spacer'),_c('span',{staticClass:\"mr-2\"},[_c('small',[_c('strong',[_vm._v(_vm._s(_vm.meta.stories.length))])])])],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded && _vm.meta.stories.length),expression:\"expanded && meta.stories.length\"}]},_vm._l((_vm.meta.stories),function(story){return _c('router-link',{key:story.id,staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9em\",\"text-decoration\":\"none\"},attrs:{\"to\":{ name: 'Story', params: { storyId: story.id } }}},[_c('v-row',{staticClass:\"pa-2 pl-5\",class:_vm.$vuetify.theme.dark ? 'dark-hover' : 'light-hover',attrs:{\"no-gutters\":\"\"}},[_c('span',{class:_vm.$vuetify.theme.dark ? 'dark-font' : 'light-font'},[_vm._v(_vm._s(story.title))])])],1)}),1)]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <v-row\n      no-gutters\n      :style=\"!(meta.stories && meta.stories.length) ? '' : 'cursor: pointer'\"\n      class=\"pa-4\"\n      flat\n      @click=\"expanded = !expanded\"\n      :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\"\n    >\n      <span> <v-icon left>mdi-book-open-outline</v-icon> Stories </span>\n      <v-btn\n        v-if=\"expanded || !meta.stories.length\"\n        small\n        color=\"primary\"\n        text\n        class=\"ml-1\"\n        @click=\"createStory()\"\n        @click.stop=\"\"\n      >\n        <v-icon small left>mdi-plus</v-icon>New Story\n      </v-btn>\n\n      <v-spacer></v-spacer>\n      <span class=\"mr-2\">\n        <small\n          ><strong>{{ meta.stories.length }}</strong></small\n        >\n      </span>\n    </v-row>\n\n    <v-expand-transition>\n      <div v-show=\"expanded && meta.stories.length\">\n        <router-link\n          v-for=\"story in meta.stories\"\n          :key=\"story.id\"\n          :to=\"{ name: 'Story', params: { storyId: story.id } }\"\n          style=\"cursor: pointer; font-size: 0.9em; text-decoration: none\"\n        >\n          <v-row no-gutters class=\"pa-2 pl-5\" :class=\"$vuetify.theme.dark ? 'dark-hover' : 'light-hover'\">\n            <span :class=\"$vuetify.theme.dark ? 'dark-font' : 'light-font'\">{{ story.title }}</span>\n          </v-row>\n        </router-link>\n      </div>\n    </v-expand-transition>\n    <v-divider></v-divider>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  props: [],\n  data: function () {\n    return {\n      expanded: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n  methods: {\n    createStory() {\n      let title = 'Untitled story'\n      let content = ''\n      ApiClient.createStory(title, content, this.sketch.id)\n        .then((response) => {\n          let newStoryId = response.data.objects[0].id\n          this.$router.push({ name: 'Story', params: { storyId: newStoryId } })\n          this.$store.dispatch('updateSketch', this.sketch.id)\n        })\n        .catch((e) => {})\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Stories.vue?vue&type=template&id=99e892d0&\"\nimport script from \"./Stories.vue?vue&type=script&lang=js&\"\nexport * from \"./Stories.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isLoading}},[_c('div',{staticClass:\"pa-4\"},[_c('h3',[_vm._v(\"Share \\\"\"+_vm._s(_vm.sketch.name)+\"\\\"\")]),_c('br'),_c('v-autocomplete',{attrs:{\"items\":_vm.usersAndGroups,\"outlined\":\"\",\"single-line\":\"\",\"chips\":\"\",\"small-chips\":\"\",\"hide-details\":\"\",\"multiple\":\"\",\"return-object\":\"\",\"deletable-chips\":\"\",\"label\":\"Add people and groups\"},model:{value:(_vm.usersAndGroupsToAdd),callback:function ($$v) {_vm.usersAndGroupsToAdd=$$v},expression:\"usersAndGroupsToAdd\"}}),_c('br'),_vm._v(\"\\n    People with access\\n    \"),_c('v-list',[_c('v-list-item',[_c('v-list-item-avatar',[_c('v-avatar',{attrs:{\"color\":\"grey lighten-1\",\"size\":\"32\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm._f(\"initialLetter\")(_vm.sketch.user.username)))])])],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(_vm.sketch.user.username)}})],1),_c('v-spacer'),_c('small',[_vm._v(\"Owner\")])],1),_vm._l((_vm.meta.collaborators.users),function(user){return _c('v-list-item',{key:user},[_c('v-list-item-avatar',[_c('v-avatar',{attrs:{\"color\":\"grey lighten-1\",\"size\":\"32\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm._f(\"initialLetter\")(user)))])])],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(user)}})],1),_c('v-spacer'),_c('v-icon',{on:{\"click\":function($event){return _vm.revokeAccess(user, '')}}},[_vm._v(\"mdi-trash-can-outline\")])],1)}),_vm._l((_vm.meta.collaborators.groups),function(group){return _c('v-list-item',{key:group},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-account-group-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(group)}})],1),_c('v-spacer'),_c('v-icon',{on:{\"click\":function($event){return _vm.revokeAccess('', group)}}},[_vm._v(\"mdi-trash-can-outline\")])],1)})],2),_c('br'),_vm._v(\"\\n    General access\\n    \"),_c('v-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"hide-details\":\"\",\"single-line\":\"\",\"items\":_vm.items,\"label\":_vm.generalAccess,\"prepend-icon\":_vm.accessIcon},on:{\"change\":function($event){return _vm.setPublicAccess()}},model:{value:(_vm.isPublic),callback:function ($$v) {_vm.isPublic=$$v},expression:\"isPublic\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('close-dialog')}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\"},on:{\"click\":function($event){return _vm.grantAccess()}}},[_vm._v(\"Done\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-card :loading=\"isLoading\">\n    <div class=\"pa-4\">\n      <h3>Share \"{{ sketch.name }}\"</h3>\n      <br />\n      <v-autocomplete\n        v-model=\"usersAndGroupsToAdd\"\n        :items=\"usersAndGroups\"\n        outlined\n        single-line\n        chips\n        small-chips\n        hide-details\n        multiple\n        return-object\n        deletable-chips\n        label=\"Add people and groups\"\n      ></v-autocomplete>\n      <br />\n      People with access\n      <v-list>\n        <v-list-item>\n          <v-list-item-avatar>\n            <v-avatar color=\"grey lighten-1\" size=\"32\">\n              <span class=\"white--text\">{{ sketch.user.username | initialLetter }}</span>\n            </v-avatar>\n          </v-list-item-avatar>\n          <v-list-item-content>\n            <v-list-item-title v-text=\"sketch.user.username\"></v-list-item-title>\n          </v-list-item-content>\n          <v-spacer></v-spacer>\n          <small>Owner</small>\n        </v-list-item>\n        <v-list-item v-for=\"user in meta.collaborators.users\" :key=\"user\">\n          <v-list-item-avatar>\n            <v-avatar color=\"grey lighten-1\" size=\"32\">\n              <span class=\"white--text\">{{ user | initialLetter }}</span>\n            </v-avatar>\n          </v-list-item-avatar>\n          <v-list-item-content>\n            <v-list-item-title v-text=\"user\"></v-list-item-title>\n          </v-list-item-content>\n          <v-spacer></v-spacer>\n          <v-icon @click=\"revokeAccess(user, '')\">mdi-trash-can-outline</v-icon>\n        </v-list-item>\n        <v-list-item v-for=\"group in meta.collaborators.groups\" :key=\"group\">\n          <v-list-item-avatar>\n            <v-icon>mdi-account-group-outline</v-icon>\n          </v-list-item-avatar>\n          <v-list-item-content>\n            <v-list-item-title v-text=\"group\"></v-list-item-title>\n          </v-list-item-content>\n          <v-spacer></v-spacer>\n          <v-icon @click=\"revokeAccess('', group)\">mdi-trash-can-outline</v-icon>\n        </v-list-item>\n      </v-list>\n      <br />\n      General access\n      <v-select\n        hide-details\n        single-line\n        :items=\"items\"\n        v-model=\"isPublic\"\n        :label=\"generalAccess\"\n        :prepend-icon=\"accessIcon\"\n        style=\"width: 150px\"\n        @change=\"setPublicAccess()\"\n      ></v-select>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text @click=\"$emit('close-dialog')\">Cancel</v-btn>\n        <v-btn color=\"primary\" depressed @click=\"grantAccess()\">Done</v-btn>\n      </v-card-actions>\n    </div>\n  </v-card>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\n\nexport default {\n  data() {\n    return {\n      items: [\n        {\n          text: 'Public',\n          value: true,\n        },\n        {\n          text: 'Restricted',\n          value: false,\n        },\n      ],\n      usersAndGroupsToAdd: [],\n      usersToRemove: [],\n      groupsToRemove: [],\n      systemUsers: [],\n      systemGroups: [],\n      isPublic: false,\n      isLoading: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    generalAccess() {\n      if (this.isPublic) {\n        return 'Public'\n      }\n      return 'Restricted'\n    },\n    accessIcon() {\n      if (this.isPublic) {\n        return 'mdi-earth'\n      }\n      return 'mdi-lock-outline'\n    },\n    usersAndGroups() {\n      return this.systemUsers.concat(this.systemGroups)\n    },\n  },\n  methods: {\n    grantAccess: function () {\n      if (!this.usersAndGroupsToAdd.length) {\n        this.$emit('close-dialog')\n        return\n      }\n      this.isLoading = true\n      let usersToAdd = this.usersAndGroupsToAdd\n        .filter((user) => user.type === 'user')\n        .map((userObject) => userObject.value)\n      let groupsToAdd = this.usersAndGroupsToAdd\n        .filter((group) => group.type === 'group')\n        .map((groupObject) => groupObject.value)\n      ApiClient.grantSketchAccess(this.sketch.id, usersToAdd, groupsToAdd)\n        .then((response) => {\n          this.$store.dispatch('updateSketch', this.sketch.id).then(() => {\n            this.isLoading = false\n            this.usersAndGroupsToAdd = []\n            this.$emit('close-dialog')\n            this.successSnackBar('Updated sharing')\n          })\n        })\n        .catch((e) => {\n          this.errorSnackBar('Failed to share sketch ' + e)\n        })\n    },\n    revokeAccess: function (userName, groupName) {\n      this.isLoading = true\n      let userToRemove = [userName]\n      let groupToRemove = [groupName]\n      ApiClient.revokeSketchAccess(this.sketch.id, userToRemove, groupToRemove)\n        .then((response) => {\n          this.$store.dispatch('updateSketch', this.sketch.id).then(() => {\n            this.isLoading = false\n          })\n        })\n        .catch((e) => {\n          this.errorSnackBar('Failed to remove access ' + e)\n        })\n    },\n    setPublicAccess: function () {\n      this.isLoading = true\n      ApiClient.setSketchPublicAccess(this.sketch.id, this.isPublic)\n        .then((response) => {\n          this.$store.dispatch('updateSketch', this.sketch.id).then(() => {\n            this.isLoading = false\n          })\n        })\n        .catch((e) => {\n          this.errorSnackBar('Failed to share sketch ' + e)\n        })\n    },\n  },\n  mounted() {\n    // Get current sketch access\n    this.isPublic = this.meta.permissions.public\n\n    ApiClient.getUsers()\n      .then((response) => {\n        response.data.objects[0].forEach((user) => {\n          let userObject = {\n            text: user.username,\n            value: user.username,\n            type: 'user',\n            disabled: false,\n          }\n          this.systemUsers.push(userObject)\n        })\n      })\n      .catch((e) => {})\n    ApiClient.getGroups()\n      .then((response) => {\n        response.data.objects[0].forEach((group) => {\n          let groupObject = {\n            text: group.name,\n            value: group.name,\n            type: 'group',\n            disabled: false,\n          }\n\n          this.systemGroups.push(groupObject)\n        })\n      })\n      .catch((e) => {})\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style lang=\"scss\">\n.v-text-field > .v-input__control > .v-input__slot:before {\n  border-style: none;\n}\n.v-text-field > .v-input__control > .v-input__slot:after {\n  border-style: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShareCard.vue?vue&type=template&id=bd3962a8&\"\nimport script from \"./ShareCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ShareCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShareCard.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(\"Rename sketch\")]),_c('br'),_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"autofocus\":\"\"},on:{\"focus\":function($event){return $event.target.select()}},model:{value:(_vm.newSketchName),callback:function ($$v) {_vm.newSketchName=$$v},expression:\"newSketchName\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.closeDialog()}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\"},on:{\"click\":function($event){return _vm.renameSketch()}}},[_vm._v(\" Save \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <h3>Rename sketch</h3>\n    <br />\n    <v-text-field outlined dense autofocus v-model=\"newSketchName\" @focus=\"$event.target.select()\"> </v-text-field>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn color=\"primary\" text @click=\"closeDialog()\"> Cancel </v-btn>\n      <v-btn color=\"primary\" depressed @click=\"renameSketch()\"> Save </v-btn>\n    </v-card-actions>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\n\nexport default {\n  data() {\n    return {\n      newSketchName: '',\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n  methods: {\n    renameSketch() {\n      ApiClient.saveSketchSummary(this.sketch.id, this.newSketchName, '')\n        .then((response) => {\n          this.$store.dispatch('updateSketch', this.sketch.id).then(() => {})\n        })\n        .catch((e) => {\n          console.error(e)\n        })\n      this.$emit('close')\n    },\n    closeDialog: function () {\n      this.newSketchName = this.sketch.name\n      this.$emit('close')\n    },\n  },\n  created() {\n    this.newSketchName = this.sketch.name\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameSketch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameSketch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RenameSketch.vue?vue&type=template&id=c56fe12a&scoped=true&\"\nimport script from \"./RenameSketch.vue?vue&type=script&lang=js&\"\nexport * from \"./RenameSketch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c56fe12a\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div v-if=\"sketch\" style=\"height: 30%\">\n    <v-progress-linear v-if=\"loadingSketch\" indeterminate color=\"primary\"></v-progress-linear>\n\n    <!-- Top horizontal toolbar -->\n    <v-toolbar flat color=\"transparent\">\n      <v-avatar v-show=\"!showLeftPanel || !hasTimelines\" class=\"ml-n3 mt-1\">\n        <router-link to=\"/\">\n          <v-img src=\"/dist/timesketch-color.png\" max-height=\"25\" max-width=\"25\" contain></v-img>\n        </router-link>\n      </v-avatar>\n      <span v-show=\"!showLeftPanel && !loadingSketch\" class=\"mr-1\" style=\"font-size: 1.1em\">{{ sketch.name }} </span>\n\n      <v-btn icon v-show=\"!showLeftPanel && !loadingSketch\" @click=\"toggleLeftPanel\" class=\"ml-n1\">\n        <v-icon>mdi-menu</v-icon>\n      </v-btn>\n\n      <v-btn\n        v-show=\"currentRouteName !== 'Explore'\"\n        :to=\"{ name: 'Explore', params: { sketchId: sketchId } }\"\n        color=\"primary\"\n        small\n        text\n        class=\"ml-3\"\n      >\n        <v-icon small left>mdi-arrow-left</v-icon>\n        back to explore\n      </v-btn>\n      <v-spacer></v-spacer>\n      <v-btn small depressed v-on:click=\"switchUI\"> Use the old UI </v-btn>\n\n      <!-- Sharing dialog -->\n      <v-dialog v-model=\"shareDialog\" width=\"500\">\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn small depressed color=\"primary\" class=\"ml-2\" v-bind=\"attrs\" v-on=\"on\">\n            <v-icon small left>mdi-account-multiple-plus</v-icon>\n            Share\n          </v-btn>\n        </template>\n        <ts-share-card @close-dialog=\"shareDialog = false\"></ts-share-card>\n      </v-dialog>\n\n      <v-avatar color=\"grey lighten-1\" size=\"25\" class=\"ml-3\">\n        <span class=\"white--text\">{{ currentUser | initialLetter }}</span>\n      </v-avatar>\n      <v-menu offset-y>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-avatar>\n            <v-btn small icon v-bind=\"attrs\" v-on=\"on\">\n              <v-icon>mdi-dots-vertical</v-icon>\n            </v-btn>\n          </v-avatar>\n        </template>\n        <v-card>\n          <v-list>\n            <v-list-item-group color=\"primary\">\n              <v-list-item v-on:click=\"toggleTheme\">\n                <v-list-item-icon>\n                  <v-icon>mdi-brightness-6</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>Toggle theme</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n\n              <v-list-item>\n                <v-list-item-icon>\n                  <v-icon>mdi-archive</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>Archive sketch</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n\n              <v-list-item>\n                <v-list-item-icon>\n                  <v-icon>mdi-export</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>Export sketch</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n\n              <a href=\"/logout/\" style=\"text-decoration: none; color: inherit\">\n                <v-list-item>\n                  <v-list-item-icon>\n                    <v-icon>mdi-logout</v-icon>\n                  </v-list-item-icon>\n\n                  <v-list-item-content>\n                    <v-list-item-title>Logout</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </a>\n            </v-list-item-group>\n          </v-list>\n        </v-card>\n      </v-menu>\n    </v-toolbar>\n\n    <!-- Empty state -->\n    <v-container v-if=\"!hasTimelines && !loadingSketch\" fill-height fluid>\n      <v-row align=\"center\" justify=\"center\">\n        <v-sheet class=\"pa-4\">\n          <center>\n            <div style=\"font-size: 2em\" class=\"mb-3\">It's empty around here</div>\n            <ts-upload-timeline-form btn-size=\"normal\" btn-type=\"outlined\"></ts-upload-timeline-form>\n          </center>\n        </v-sheet>\n      </v-row>\n    </v-container>\n\n    <!-- Left panel -->\n    <v-navigation-drawer\n      v-if=\"showLeftPanel && hasTimelines\"\n      app\n      permanent\n      :width=\"navigationDrawer.width\"\n      hide-overlay\n      ref=\"drawer\"\n    >\n      <v-toolbar flat>\n        <v-avatar class=\"ml-n3 mt-1\">\n          <router-link to=\"/\">\n            <v-img src=\"/dist/timesketch-color.png\" max-height=\"25\" max-width=\"25\" contain></v-img>\n          </router-link>\n        </v-avatar>\n        <div\n          @click=\"showSketchMetadata = !showSketchMetadata\"\n          style=\"font-size: 1.1em; cursor: pointer; white-space: nowrap; overflow: hidden; text-overflow: ellipsis\"\n          :title=\"sketch.name\"\n        >\n          {{ sketch.name }}\n        </div>\n        <v-spacer></v-spacer>\n        <v-icon @click=\"toggleLeftPanel\">mdi-chevron-left</v-icon>\n      </v-toolbar>\n      <v-expand-transition>\n        <div class=\"px-4\" v-show=\"showSketchMetadata\">\n          <v-dialog v-model=\"renameSketchDialog\" width=\"600\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn small outlined depressed color=\"primary\" v-bind=\"attrs\" v-on=\"on\">\n                <v-icon left> mdi-pencil </v-icon>\n                Rename</v-btn\n              >\n            </template>\n            <v-card class=\"pa-4\">\n              <ts-rename-sketch @close=\"renameSketchDialog = false\"></ts-rename-sketch>\n            </v-card>\n          </v-dialog>\n\n          <v-list class=\"mx-n4\" two-line>\n            <v-list-item v-if=\"sketch.user\">\n              <v-list-item-content>\n                <v-list-item-title>\n                  <strong>Created:</strong> {{ sketch.created_at | shortDateTime }}\n                </v-list-item-title>\n                <v-list-item-subtitle>\n                  <small>{{ sketch.created_at | timeSince }} by {{ sketch.user.username }}</small>\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n\n            <v-list-item>\n              <v-list-item-content>\n                <v-list-item-title>\n                  <strong>Access: </strong>\n                  <span v-if=\"meta.permissions && meta.permissions.public\">Public</span>\n                  <span v-else>Restricted</span>\n                </v-list-item-title>\n                <v-list-item-subtitle>\n                  <small v-if=\"meta.permissions && meta.permissions.public\">Visible to all users on this server</small>\n                  <small v-else>Only people with access can open</small>\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list>\n        </div>\n      </v-expand-transition>\n      <v-divider></v-divider>\n\n      <!-- Dialog for adding a scenario -->\n      <v-dialog v-model=\"scenarioDialog\" max-width=\"500px\">\n        <v-card>\n          <div class=\"pa-3\">\n            <h3>Investigative Scenarios</h3>\n            <v-select\n              v-model=\"selectedScenario\"\n              :items=\"scenarioTemplates\"\n              item-text=\"display_name\"\n              return-object\n              label=\"Select a scenario\"\n              outlined\n              class=\"mt-3\"\n            ></v-select>\n            <div v-if=\"selectedScenario\">\n              {{ selectedScenario.description }}\n            </div>\n          </div>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn @click=\"scenarioDialog = false\" color=\"primary\" text> Close </v-btn>\n            <v-btn :disabled=\"!selectedScenario\" @click=\"addScenario(selectedScenario.short_name)\" color=\"primary\" text>\n              Add\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n\n      <v-tabs v-model=\"leftPanelTab\" grow>\n        <v-tab v-for=\"item in leftPanelTabItems\" :key=\"item\"> {{ item }} </v-tab>\n      </v-tabs>\n      <v-divider></v-divider>\n      <v-tabs-items v-model=\"leftPanelTab\">\n        <v-tab-item :transition=\"false\">\n          <ts-saved-searches v-if=\"meta.views\"></ts-saved-searches>\n          <ts-data-types></ts-data-types>\n          <ts-tags></ts-tags>\n          <ts-search-templates></ts-search-templates>\n          <ts-graphs></ts-graphs>\n          <ts-stories></ts-stories>\n          <ts-sigma-rules></ts-sigma-rules>\n          <ts-intelligence></ts-intelligence>\n        </v-tab-item>\n        <v-tab-item :transition=\"false\">\n          <ts-scenario v-for=\"scenario in activeScenarios\" :key=\"scenario.id\" :scenario=\"scenario\"></ts-scenario>\n          <v-row class=\"mt-0 px-2\" flat>\n            <v-col cols=\"6\">\n              <v-btn text color=\"primary\" @click=\"scenarioDialog = true\" style=\"cursor: pointer\"\n                ><v-icon left>mdi-plus</v-icon> Add Scenario</v-btn\n              >\n            </v-col>\n\n            <v-col cols=\"6\" align=\"right\">\n              <div v-if=\"hiddenScenarios.length\" @click=\"showHidden = !showHidden\" style=\"cursor: pointer\" class=\"mt-1\">\n                <small\n                  ><span v-if=\"showHidden\">Hide</span><span v-else>Show</span> hidden scenarios ({{\n                    hiddenScenarios.length\n                  }})</small\n                >\n              </div>\n            </v-col>\n          </v-row>\n\n          <div v-show=\"showHidden\">\n            <ts-scenario v-for=\"scenario in hiddenScenarios\" :key=\"scenario.id\" :scenario=\"scenario\"></ts-scenario>\n          </div>\n        </v-tab-item>\n      </v-tabs-items>\n    </v-navigation-drawer>\n    <router-view v-if=\"sketch.status && hasTimelines\" @setTitle=\"(title) => (this.title = title)\"></router-view>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\n\nimport TsScenario from '../components/Scenarios/Scenario'\nimport TsSavedSearches from '../components/LeftPanel/SavedSearches'\nimport TsDataTypes from '../components/LeftPanel/DataTypes'\nimport TsTags from '../components/LeftPanel/Tags'\nimport TsSearchTemplates from '../components/LeftPanel/SearchTemplates'\nimport TsSigmaRules from '../components/LeftPanel/SigmaRules'\nimport TsIntelligence from '../components/LeftPanel/ThreatIntel'\nimport TsGraphs from '../components/LeftPanel/Graphs'\nimport TsStories from '../components/LeftPanel/Stories'\nimport TsUploadTimelineForm from '../components/UploadForm'\nimport TsShareCard from '../components/ShareCard'\nimport TsRenameSketch from '../components/RenameSketch'\n\nexport default {\n  props: ['sketchId'],\n  components: {\n    TsScenario,\n    TsSavedSearches,\n    TsDataTypes,\n    TsTags,\n    TsSearchTemplates,\n    TsSigmaRules,\n    TsUploadTimelineForm,\n    TsShareCard,\n    TsRenameSketch,\n    TsIntelligence,\n    TsGraphs,\n    TsStories,\n  },\n  data() {\n    return {\n      showSketchMetadata: false,\n      navigationDrawer: {\n        width: 400,\n      },\n      selectedScenario: null,\n      scenarioDialog: false,\n      showLeftPanel: false,\n      leftPanelTab: 0,\n      leftPanelTabItems: ['Explore', 'Investigate'],\n      renameSketchDialog: false,\n      showHidden: false,\n      shareDialog: false,\n      loadingSketch: false,\n    }\n  },\n  mounted: function () {\n    this.loadingSketch = true\n    this.showLeftPanel = false\n    this.$store.dispatch('updateSketch', this.sketchId).then(() => {\n      this.$store.dispatch('updateSearchHistory', this.sketchId)\n      this.$store.dispatch('updateScenarios', this.sketchId)\n      this.$store.dispatch('updateScenarioTemplates', this.sketchId)\n      this.$store.dispatch('updateSavedGraphs', this.sketchId)\n      this.$store.dispatch('updateGraphPlugins')\n      this.$store.dispatch('updateContextLinks')\n      this.loadingSketch = false\n      this.showLeftPanel = true\n      this.$nextTick(function () {\n        this.setDrawerBorderStyle()\n        this.setDrawerResizeEvents()\n      })\n    })\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    scenarios() {\n      return this.$store.state.scenarios\n    },\n    scenarioTemplates() {\n      return this.$store.state.scenarioTemplates\n    },\n    currentUser() {\n      return this.$store.state.currentUser\n    },\n    activeScenarios() {\n      if (!this.scenarios) {\n        return []\n      }\n      return this.scenarios.filter((scenario) => !scenario.status.length || scenario.status[0].status === 'active')\n    },\n    hiddenScenarios() {\n      if (!this.scenarios) {\n        return []\n      }\n      return this.scenarios.filter((scenario) => scenario.status.length && scenario.status[0].status === 'hidden')\n    },\n    hasTimelines() {\n      return this.sketch.timelines && this.sketch.timelines.length\n    },\n    currentRouteName() {\n      return this.$route.name\n    },\n  },\n  methods: {\n    toggleTheme: function () {\n      this.$vuetify.theme.dark = !this.$vuetify.theme.dark\n      localStorage.setItem('isDarkTheme', this.$vuetify.theme.dark.toString())\n      let element = document.body\n      element.dataset.theme = this.$vuetify.theme.dark ? 'dark' : 'light'\n    },\n    switchUI: function () {\n      window.location.href = window.location.href.replace('/v2/', '/')\n    },\n    addScenario: function (scenario) {\n      this.scenarioDialog = false\n      ApiClient.addScenario(this.sketch.id, scenario)\n        .then((response) => {\n          this.$store.dispatch('updateScenarios', this.sketch.id)\n        })\n        .catch((e) => {})\n    },\n    setDrawerBorderStyle() {\n      let i = this.$refs.drawer.$el.querySelector('.v-navigation-drawer__border')\n      i.style.cursor = 'ew-resize'\n    },\n    setDrawerResizeEvents() {\n      const minSize = 1\n      const drawerElement = this.$refs.drawer.$el\n      const drawerBorder = drawerElement.querySelector('.v-navigation-drawer__border')\n      const direction = drawerElement.classList.contains('v-navigation-drawer--right') ? 'right' : 'left'\n      function resize(e) {\n        document.body.style.cursor = 'ew-resize'\n        let f = direction === 'right' ? document.body.scrollWidth - e.clientX : e.clientX\n        drawerElement.style.width = f + 'px'\n      }\n      drawerBorder.addEventListener(\n        'mousedown',\n        (e) => {\n          if (e.offsetX < minSize) {\n            drawerElement.style.transition = 'initial'\n            document.addEventListener('mousemove', resize, false)\n          }\n        },\n        false\n      )\n      document.addEventListener(\n        'mouseup',\n        () => {\n          drawerElement.style.transition = ''\n          this.navigationDrawer.width = drawerElement.style.width\n          document.body.style.cursor = ''\n          document.removeEventListener('mousemove', resize, false)\n        },\n        false\n      )\n    },\n    toggleLeftPanel() {\n      this.showLeftPanel = !this.showLeftPanel\n      if (this.showLeftPanel) {\n        this.navigationDrawer.width = 400\n      } else {\n        this.navigationDrawer.width = 0\n      }\n    },\n  },\n  watch: {\n    sketch: function (newVal) {\n      if (newVal.status[0].status === 'archived') {\n        this.$router.push({ name: 'Overview', params: { sketchId: this.sketch.id } })\n      }\n      document.title = this.sketch.name\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sketch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sketch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sketch.vue?vue&type=template&id=6e921245&\"\nimport script from \"./Sketch.vue?vue&type=script&lang=js&\"\nexport * from \"./Sketch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-navigation-drawer',{ref:\"drawer\",attrs:{\"app\":\"\",\"permanent\":\"\",\"width\":\"370\",\"hide-overlay\":\"\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\",\"color\":\"transparent\"}},[_c('v-avatar',{staticClass:\"ml-n1\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('v-img',{attrs:{\"src\":\"/dist/timesketch-color.png\",\"max-height\":\"25\",\"max-width\":\"25\",\"contain\":\"\"}})],1)],1),_c('span',{staticStyle:{\"font-size\":\"1.1em\"}},[_vm._v(\"Studio\")]),_c('v-spacer')],1),_c('v-divider'),_c('ts-sigma-rules',{attrs:{\"start-expanded\":\"\"}})],1),_c('v-toolbar',{attrs:{\"flat\":\"\",\"color\":\"transparent\"}},[_c('v-spacer'),_c('v-avatar',{staticClass:\"ml-3\",attrs:{\"color\":\"grey lighten-1\",\"size\":\"25\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm._f(\"initialLetter\")(_vm.currentUser)))])]),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-avatar',[_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\",\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)],1)]}}])},[_c('v-card',[_c('v-list',[_c('v-list-item-group',{attrs:{\"color\":\"primary\"}},[_c('v-list-item',{on:{\"click\":_vm.toggleTheme}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-brightness-6\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Toggle theme\")])],1)],1),_c('a',{staticStyle:{\"text-decoration\":\"none\",\"color\":\"inherit\"},attrs:{\"href\":\"/logout/\"}},[_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-logout\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Logout\")])],1)],1)],1)],1)],1)],1)],1)],1),(_vm.type === 'sigma')?_c('ts-sigma-rule-modification',{attrs:{\"app\":\"\",\"rule_uuid\":_vm.id},on:{\"cancel\":function($event){_vm.formatXMLString = false}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('div',{staticStyle:{\"margin-bottom\":\"20px\",\"margin-top\":\"-55px\"}},[_c('strong',[_vm._v(\"\\n      \"+_vm._s(_vm.editingRule.title)+\"\\n      \"),_c('v-chip',{staticClass:\"ml-2\",attrs:{\"rounded\":\"\",\"x-small\":\"\",\"color\":this.isParsingSuccesful ? 'success' : 'error'}},[(_vm.isParsingSuccesful)?_c('v-icon',{attrs:{\"x-small\":\"\",\"left\":\"\"}},[_vm._v(\" mdi-check \")]):_c('v-icon',{attrs:{\"x-small\":\"\",\"left\":\"\"}},[_vm._v(\" mdi-alert \")]),_vm._v(\"\\n        \"+_vm._s(_vm.isParsingSuccesful ? 'OK' : 'ERROR'))],1)],1)]),_c('div',{staticStyle:{\"width\":\"250px\"}},[_c('v-autocomplete',{attrs:{\"align\":\"left\",\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.SigmaTemplates,\"item-text\":\"title\",\"label\":\"Choose template\"},on:{\"change\":_vm.selectTemplate}})],1),(!_vm.isParsingSuccesful)?_c('div',{staticClass:\"alertbox\"},[_c('v-alert',{attrs:{\"dense\":\"\",\"type\":\"error\",\"outlined\":\"\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.status_text)+\"\\n    \")])],1):_vm._e(),_c('v-textarea',{staticClass:\"editSigmaRule\",attrs:{\"label\":\"Edit Sigma rule\",\"outlined\":\"\",\"color\":this.isParsingSuccesful ? 'success' : 'error',\"autocomplete\":\"email\",\"rows\":\"23\",\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.parseSigma(_vm.ruleYamlTextArea)}},model:{value:(_vm.ruleYamlTextArea),callback:function ($$v) {_vm.ruleYamlTextArea=$$v},expression:\"ruleYamlTextArea\"}}),_c('div',{staticClass:\"mt-2\"},[_c('v-btn',{attrs:{\"disabled\":!_vm.isParsingSuccesful,\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.addOrUpdateRule(_vm.ruleYamlTextArea)}}},[_vm._v(\"\\n      \"+_vm._s(_vm.isNewRule ? 'Create Rule' : 'Update Rule')+\"\\n    \")]),_c('v-btn',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\" Cancel \")]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isNewRule),expression:\"!isNewRule\"}],attrs:{\"small\":\"\",\"text\":\"\",\"color\":\"error darken-2\"},on:{\"click\":function($event){return _vm.deleteRule(_vm.rule_uuid)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1),(_vm.isParsingSuccesful)?_c('div',{staticClass:\"mt-5\"},[_c('strong',[_vm._v(\"Preview opensearch query:\")]),_c('pre',[_vm._v(_vm._s(_vm.editingRule.search_query))])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\nCopyright 2022 Google Inc. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n    http://www.apache.org/licenses/LICENSE-2.0\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\ntry {\n    var ruleUuid = crypto.randomUUID()\n} catch (e) {\n    console.log('crypto.randomUUID() not supported, using a fixed value instead')\n    ruleUuid = '10a4fb8c-29d5-4eb6-905f-13d6a553d470'\n}\n\n// General first part of every Sigma rule:\nconst SkeletonFirst = `title: SigmaRuleTemplateTitle\nid: ${ruleUuid}\ndescription: Detects suspicious activity\nreferences:\n  - https://\nauthor: Timesketch\ndate: ${new Date(Date.now()).toLocaleString('en-ZA').split(',')[0]}\nmodified: ${new Date(Date.now()).toLocaleString('en-ZA').split(',')[0]}\nstatus: experimental\nfalsepositives: unknown\nlevel: informational\ntags:\n    - attack.defense_evasion`\n\n// General last part of every Sigma rule:\nconst SkeletonLast = `falsepositives:\n    - Unknown\nstatus: experimental\nlevel: medium\ndetection:\n    keywords:\n        - '*foobar*'\n    condition: keywords`\n\n// CLOUD:\nconst AwsText = `${SkeletonFirst}\nlogsource:\n    product: aws\n    service: cloudtrail\n${SkeletonLast}\n`\n\nconst AzureActivitylogsText = `${SkeletonFirst}\nlogsource:\n    product: azure\n    service: activitylogs\n${SkeletonLast}\n`\n\nconst AzureSigninlogsText = `${SkeletonFirst}\nlogsource:\n    product: azure\n    service: signinlogs\n${SkeletonLast}\n`\nconst GCPAuditlogsText = `${SkeletonFirst}\nlogsource:\n    product: gcp\n    service: gcp.audit\n${SkeletonLast}\n`\n\nconst GworkspaceText = `${SkeletonFirst}\nlogsource:\n    product: google_workspace\n    service: google_workspace.admin\n${SkeletonLast}\n`\n\nconst Microsoft365Text = `${SkeletonFirst}\nlogsource:\n    product: m365\n    service: threat_management\n${SkeletonLast}\n`\n\nconst OktaText = `${SkeletonFirst}\nlogsource:\n    product: okta\n    service: okta\n${SkeletonLast}\n`\n\n// LINUX:\nconst LinuxFileCreateText = `${SkeletonFirst}\nlogsource:\n    category: file_create\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxNetworkConnectionText = `${SkeletonFirst}\nlogsource:\n    category: network_connection\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxProcessCreationText = `${SkeletonFirst}\nlogsource:\n    category: process_creation\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxAnyLogsText = `${SkeletonFirst}\nlogsource:\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxAuditdText = `${SkeletonFirst}\nlogsource:\n    category: auditd\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxClamavText = `${SkeletonFirst}\nlogsource:\n    category: clamav\n    product: linux\n${SkeletonLast}\n`\nconst LinuxCronText = `${SkeletonFirst}\nlogsource:\n    category: cron\n    product: linux\n${SkeletonLast}\n`\nconst LinuxGuacamoleText = `${SkeletonFirst}\nlogsource:\n    category: guacamole\n    product: linux\n${SkeletonLast}\n`\nconst LinuxModsecurityText = `${SkeletonFirst}\nlogsource:\n    category: modsecurity\n    product: linux\n${SkeletonLast}\n`\nconst LinuxSudoText = `${SkeletonFirst}\nlogsource:\n    category: sudo\n    product: linux\n${SkeletonLast}\n`\nconst LinuxSshdText = `${SkeletonFirst}\nlogsource:\n    category: sshd\n    product: linux\n${SkeletonLast}\n`\nconst LinuxSyslogText = `${SkeletonFirst}\nlogsource:\n    category: syslog\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxVsftpdText = `${SkeletonFirst}\nlogsource:\n    category: vsftpd\n    product: linux\n${SkeletonLast}\n`\n\n// MAC OS\nconst MacosFileeventText = `${SkeletonFirst}\nlogsource:\n    category: file_event\n    product: macos\n${SkeletonLast}\n`\n\nconst MacosProcessCreationText = `${SkeletonFirst}\nlogsource:\n    category: process_creation\n    product: macos\n${SkeletonLast}\n`\n\nconst WindowsClipboardCaptureText = `${SkeletonFirst}\nlogsource:\n    category: clipboard_capture\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsCreateRemoteThreadText = `${SkeletonFirst}\nlogsource:\n    category: create_remote_thread\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsCreateStreamHashText = `${SkeletonFirst}\nlogsource:\n    category: create_stream_hash\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsDnsQueryText = `${SkeletonFirst}\nlogsource:\n    category: dns_query\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsDriverLoadText = `${SkeletonFirst}\nlogsource:\n    category: driver_load\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsFileChangeText = `${SkeletonFirst}\nlogsource:\n    category: file_change\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsFileDeleteText = `${SkeletonFirst}\nlogsource:\n    category: file_delete\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsFileEventText = `${SkeletonFirst}\nlogsource:\n    category: file_event\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsImageLoadText = `${SkeletonFirst}\nlogsource:\n    category: image_load\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsNetworkConnectionText = `${SkeletonFirst}\nlogsource:\n    category: network_connection\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPipeCreatedText = `${SkeletonFirst}\nlogsource:\n    category: pipe_created\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsProcessAccessText = `${SkeletonFirst}\nlogsource:\n    category: process_access\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsProcessCreationText = `${SkeletonFirst}\nlogsource:\n    category: process_creation\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsProcessTamperingText = `${SkeletonFirst}\nlogsource:\n    category: process_tampering\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsProcessTerminationText = `${SkeletonFirst}\nlogsource:\n    category: process_termination\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPsClassicProviderStartText = `${SkeletonFirst}\nlogsource:\n    category: ps_classic_provider_start\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPsClassicScriptText = `${SkeletonFirst}\nlogsource:\n    category: ps_classic_script\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPsClassicStartText = `${SkeletonFirst}\nlogsource:\n    category: ps_classic_start\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPsModuleText = `${SkeletonFirst}\nlogsource:\n    category: ps_module\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPsScriptText = `${SkeletonFirst}\nlogsource:\n    category: ps_script\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRawAccessThreadText = `${SkeletonFirst}\nlogsource:\n    category: raw_access_thread\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRegistryAddText = `${SkeletonFirst}\nlogsource:\n    category: registry_add\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRegistryDeleteText = `${SkeletonFirst}\nlogsource:\n    category: registry_delete\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRegistryEventText = `${SkeletonFirst}\nlogsource:\n    category: registry_event\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRegistryRenameText = `${SkeletonFirst}\nlogsource:\n    category: registry_rename\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRegistrySetText = `${SkeletonFirst}\nlogsource:\n    category: registry_set\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsSysmonErrorText = `${SkeletonFirst}\nlogsource:\n    category: sysmon_error\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsSysmonStatusText = `${SkeletonFirst}\nlogsource:\n    category: sysmon_status\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsWmiEventText = `${SkeletonFirst}\nlogsource:\n    category: wmi_event\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsApplicationText = `${SkeletonFirst}\nlogsource:\n    service: application\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsApplockerText = `${SkeletonFirst}\nlogsource:\n    service: applocker\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsBitsclientText = `${SkeletonFirst}\nlogsource:\n    service: bits-client\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsCodeintegrityoperationalText = `${SkeletonFirst}\nlogsource:\n    service: codeintegrity-operational\n    product: windows\n${SkeletonLast}\n`\nconst WindowsDhcpText = `${SkeletonFirst}\nlogsource:\n    service: dhcp\n    product: windows\n${SkeletonLast}\n`\nconst WindowsDnsserverText = `${SkeletonFirst}\nlogsource:\n    service:  dns-server\n    product: windows\n${SkeletonLast}\n`\nconst WindowsDriverframeworkText = `${SkeletonFirst}\nlogsource:\n    service: driver-framework\n    product: windows\n${SkeletonLast}\n`\nconst WindowsFirewallasText = `${SkeletonFirst}\nlogsource:\n    service: firewall-as\n    product: windows\n${SkeletonLast}\n`\nconst WindowsLdapDebugText = `${SkeletonFirst}\nlogsource:\n    service:  ldap_debug\n    product: windows\n${SkeletonLast}\n`\nconst WindowsMicrosoftservicebusclientText = `${SkeletonFirst}\nlogsource:\n    service: microsoft-servicebus-client\n    product: windows\n${SkeletonLast}\n`\nconst WindowsMsexchangemanagementText = `${SkeletonFirst}\nlogsource:\n    service: msexchange-management\n    product: windows\n${SkeletonLast}\n`\nconst WindowsNtlmText = `${SkeletonFirst}\nlogsource:\n    service: ntlm\n    product: windows\n${SkeletonLast}\n`\nconst WindowsPowershellText = `${SkeletonFirst}\nlogsource:\n    service: powershell\n    product: windows\n${SkeletonLast}\n`\nconst WindowsPowershellclassicText = `${SkeletonFirst}\nlogsource:\n    service: powershell-classic\n    product: windows\n${SkeletonLast}\n`\nconst WindowsPrintserviceadminText = `${SkeletonFirst}\nlogsource:\n    service: printservice-admin\n    product: windows\n${SkeletonLast}\n`\nconst WindowsPrintserviceoperationalText = `${SkeletonFirst}\nlogsource:\n    service: printservice-operational\n    product: windows\n${SkeletonLast}\n`\nconst WindowsSecurityText = `${SkeletonFirst}\nlogsource:\n    service: security\n    product: windows\n${SkeletonLast}\n`\nconst WindowsSecuritymitigationsText = `${SkeletonFirst}\nlogsource:\n    service: security-mitigations\n    product: windows\n${SkeletonLast}\n`\nconst WindowsSmbclientsecurityText = `${SkeletonFirst}\nlogsource:\n    service: smbclient-security\n    product: windows\n${SkeletonLast}\n`\nconst WindowsSysmonText = `${SkeletonFirst}\nlogsource:\n    service: sysmon\n    product: windows\n${SkeletonLast}\n`\nconst WindowsSystemText = `${SkeletonFirst}\nlogsource:\n    service: system\n    product: windows\n${SkeletonLast}\n`\nconst WindowsTaskschedulerText = `${SkeletonFirst}\nlogsource:\n    service: taskscheduler\n    product: windows\n${SkeletonLast}\n`\nconst WindowsTerminalservicesText = `${SkeletonFirst}\nlogsource:\n    service: terminalservices\n    product: windows\n${SkeletonLast}\n`\nconst WindowsWindefendText = `${SkeletonFirst}\nlogsource:\n    service: windefend\n    product: windows\n${SkeletonLast}\n`\nconst WindowsWmiText = `${SkeletonFirst}\nlogsource:\n    service: wmi\n    product: windows\n${SkeletonLast}\n`\n\nconst defaultSigmaPlaceholder = `${SkeletonFirst}\n${SkeletonLast}\n`\n\nconst SigmaTemplates = [\n    { \"os\": \"General\", \"title\": \"Default template\", \"text\": defaultSigmaPlaceholder },\n    { \"os\": \"Cloud\", \"title\": \"Cloud: AWS\", \"text\": AwsText },\n    { \"os\": \"Cloud\", \"title\": \"Cloud: Azure_activitylogs\", \"text\": AzureActivitylogsText },\n    { \"os\": \"Cloud\", \"title\": \"Cloud: Azure_signinlogs\", \"text\": AzureSigninlogsText },\n    { \"os\": \"Cloud\", \"title\": \"Cloud: GCP Audit logs\", \"text\": GCPAuditlogsText },\n    { \"os\": \"Cloud\", \"title\": \"Cloud: GWorkspace\", \"text\": GworkspaceText },\n    { \"os\": \"Cloud\", \"title\": \"Cloud: Microsoft 365\", \"text\": Microsoft365Text },\n    { \"os\": \"Cloud\", \"title\": \"Cloud: Okta\", \"text\": OktaText },\n    { \"os\": \"Linux\", \"title\": \"Linux: File create\", \"text\": LinuxFileCreateText },\n    { \"os\": \"Linux\", \"title\": \"Linux: Network connection\", \"text\": LinuxNetworkConnectionText },\n    { \"os\": \"Linux\", \"title\": \"Linux: Process creation\", \"text\": LinuxProcessCreationText },\n    { \"os\": \"Linux\", \"title\": \"Linux: Any logs\", \"text\": LinuxAnyLogsText },\n    { \"os\": \"Linux\", \"title\": \"Linux: AuditD\", \"text\": LinuxAuditdText },\n    { \"os\": \"Linux\", \"title\": \"Linux: ClamAV\", \"text\": LinuxClamavText },\n    { \"os\": \"Linux\", \"title\": \"Linux: CRON\", \"text\": LinuxCronText },\n    { \"os\": \"Linux\", \"title\": \"Linux: Guacamole\", \"text\": LinuxGuacamoleText },\n    { \"os\": \"Linux\", \"title\": \"Linux: Modseurity\", \"text\": LinuxModsecurityText },\n    { \"os\": \"Linux\", \"title\": \"Linux: sudo\", \"text\": LinuxSudoText },\n    { \"os\": \"Linux\", \"title\": \"Linux: sshd\", \"text\": LinuxSshdText },\n    { \"os\": \"Linux\", \"title\": \"Linux: syslog\", \"text\": LinuxSyslogText },\n    { \"os\": \"Linux\", \"title\": \"Linux: VSFTPD\", \"text\": LinuxVsftpdText },\n    { \"os\": \"MacOS\", \"title\": \"MacOS: file_event\", \"text\": MacosFileeventText },\n    { \"os\": \"MacOS\", \"title\": \"MacOS: process_creation\", \"text\": MacosProcessCreationText },\n    { \"os\": \"Windows\", \"title\": \"Windows: clipboard_capture\", \"text\": WindowsClipboardCaptureText },\n    { \"os\": \"Windows\", \"title\": \"Windows: create_remote_thread\", \"text\": WindowsCreateRemoteThreadText }, // 54\n    { \"os\": \"Windows\", \"title\": \"Windows: create_stream_hash\", \"text\": WindowsCreateStreamHashText },\n    { \"os\": \"Windows\", \"title\": \"Windows: dns_query\", \"text\": WindowsDnsQueryText },\n    {\n        \"os\": \"Windows\", \"title\": \"Windows: driver_load\", \"text\": WindowsDriverLoadText\n    },\n    { \"os\": \"Windows\", \"title\": \"Windows: file_change\", \"text\": WindowsFileChangeText },\n    { \"os\": \"Windows\", \"title\": \"Windows: file_delete\", \"text\": WindowsFileDeleteText },\n    { \"os\": \"Windows\", \"title\": \"Windows: file_event\", \"text\": WindowsFileEventText },\n    { \"os\": \"Windows\", \"title\": \"Windows: image_load\", \"text\": WindowsImageLoadText },\n    { \"os\": \"Windows\", \"title\": \"Windows: network_connection\", \"text\": WindowsNetworkConnectionText },\n    { \"os\": \"Windows\", \"title\": \"Windows: pipe_created\", \"text\": WindowsPipeCreatedText },\n    { \"os\": \"Windows\", \"title\": \"Windows: process_access\", \"text\": WindowsProcessAccessText },\n    { \"os\": \"Windows\", \"title\": \"Windows: process_creation\", \"text\": WindowsProcessCreationText },\n    { \"os\": \"Windows\", \"title\": \"Windows: process_tampering\", \"text\": WindowsProcessTamperingText },\n    { \"os\": \"Windows\", \"title\": \"Windows: process_termination\", \"text\": WindowsProcessTerminationText },\n    { \"os\": \"Windows\", \"title\": \"Windows: ps_classic_provider_start\", \"text\": WindowsPsClassicProviderStartText },\n    { \"os\": \"Windows\", \"title\": \"Windows: ps_classic_script\", \"text\": WindowsPsClassicScriptText },\n    { \"os\": \"Windows\", \"title\": \"Windows: ps_classic_start\", \"text\": WindowsPsClassicStartText },\n    { \"os\": \"Windows\", \"title\": \"Windows: ps_module\", \"text\": WindowsPsModuleText },\n    { \"os\": \"Windows\", \"title\": \"Windows: ps_script\", \"text\": WindowsPsScriptText },\n    { \"os\": \"Windows\", \"title\": \"Windows: raw_access_thread\", \"text\": WindowsRawAccessThreadText },\n    { \"os\": \"Windows\", \"title\": \"Windows: registry_add\", \"text\": WindowsRegistryAddText },\n    { \"os\": \"Windows\", \"title\": \"Windows: registry_delete\", \"text\": WindowsRegistryDeleteText },\n    { \"os\": \"Windows\", \"title\": \"Windows: registry_event\", \"text\": WindowsRegistryEventText },\n    { \"os\": \"Windows\", \"title\": \"Windows: registry_rename\", \"text\": WindowsRegistryRenameText },\n    { \"os\": \"Windows\", \"title\": \"Windows: registry_set\", \"text\": WindowsRegistrySetText },\n    { \"os\": \"Windows\", \"title\": \"Windows: sysmon_error\", \"text\": WindowsSysmonErrorText },\n    { \"os\": \"Windows\", \"title\": \"Windows: sysmon_status\", \"text\": WindowsSysmonStatusText },\n    { \"os\": \"Windows\", \"title\": \"Windows: wmi_event\", \"text\": WindowsWmiEventText },\n    { \"os\": \"Windows\", \"title\": \"Windows: application\", \"text\": WindowsApplicationText },\n    { \"os\": \"Windows\", \"title\": \"Windows: applocker\", \"text\": WindowsApplockerText },\n    { \"os\": \"Windows\", \"title\": \"Windows: bits-client\", \"text\": WindowsBitsclientText },\n    { \"os\": \"Windows\", \"title\": \"Windows: codeintegrity-operational\", \"text\": WindowsCodeintegrityoperationalText },\n    { \"os\": \"Windows\", \"title\": \"Windows: dhcp\", \"text\": WindowsDhcpText },\n    { \"os\": \"Windows\", \"title\": \"Windows: dns-server\", \"text\": WindowsDnsserverText },\n    { \"os\": \"Windows\", \"title\": \"Windows: driver-framework\", \"text\": WindowsDriverframeworkText },\n    { \"os\": \"Windows\", \"title\": \"Windows: firewall-as\", \"text\": WindowsFirewallasText },\n    { \"os\": \"Windows\", \"title\": \"Windows: ldap_debug\", \"text\": WindowsLdapDebugText },\n    { \"os\": \"Windows\", \"title\": \"Windows: microsoft-servicebus-client\", \"text\": WindowsMicrosoftservicebusclientText },\n    { \"os\": \"Windows\", \"title\": \"Windows: msexchange-management\", \"text\": WindowsMsexchangemanagementText },\n    { \"os\": \"Windows\", \"title\": \"Windows: ntlm\", \"text\": WindowsNtlmText },\n    { \"os\": \"Windows\", \"title\": \"Windows: powershell\", \"text\": WindowsPowershellText },\n    { \"os\": \"Windows\", \"title\": \"Windows: powershell-classic\", \"text\": WindowsPowershellclassicText },\n    { \"os\": \"Windows\", \"title\": \"Windows: printservice-admin\", \"text\": WindowsPrintserviceadminText },\n    { \"os\": \"Windows\", \"title\": \"Windows: printservice-operational\", \"text\": WindowsPrintserviceoperationalText },\n    { \"os\": \"Windows\", \"title\": \"Windows: security\", \"text\": WindowsSecurityText },\n    { \"os\": \"Windows\", \"title\": \"Windows: security-mitigations\", \"text\": WindowsSecuritymitigationsText },\n    { \"os\": \"Windows\", \"title\": \"Windows: smbclient-security\", \"text\": WindowsSmbclientsecurityText },\n    { \"os\": \"Windows\", \"title\": \"Windows: sysmon\", \"text\": WindowsSysmonText },\n    { \"os\": \"Windows\", \"title\": \"Windows: system\", \"text\": WindowsSystemText },\n    { \"os\": \"Windows\", \"title\": \"Windows: taskscheduler\", \"text\": WindowsTaskschedulerText },\n    { \"os\": \"Windows\", \"title\": \"Windows: terminalservices\", \"text\": WindowsTerminalservicesText },\n    { \"os\": \"Windows\", \"title\": \"Windows: windefend\", \"text\": WindowsWindefendText },\n    { \"os\": \"Windows\", \"title\": \"Windows: wmi\", \"text\": WindowsWmiText },\n\n\n]\n\n\nexport { SigmaTemplates, defaultSigmaPlaceholder }","<!--\nCopyright 2023 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <v-container fluid>\n    <div style=\"margin-bottom: 20px; margin-top: -55px\">\n      <!-- This is a very hacky way to move the whole content to the top,\n      there is currently no global solution to get that depending on the context\n      TODO(jaegeral): find a better solution with jbn\n      -->\n      <strong>\n        {{ editingRule.title }}\n        <v-chip rounded x-small class=\"ml-2\" :color=\"this.isParsingSuccesful ? 'success' : 'error'\">\n          <v-icon v-if=\"isParsingSuccesful\" x-small left> mdi-check </v-icon>\n          <v-icon v-else x-small left> mdi-alert </v-icon>\n          {{ isParsingSuccesful ? 'OK' : 'ERROR' }}</v-chip\n        >\n      </strong>\n    </div>\n    <div style=\"width: 250px\">\n      <v-autocomplete\n        align=\"left\"\n        dense\n        outlined\n        :items=\"SigmaTemplates\"\n        @change=\"selectTemplate\"\n        item-text=\"title\"\n        label=\"Choose template\"\n      >\n      </v-autocomplete>\n    </div>\n    <div class=\"alertbox\" v-if=\"!isParsingSuccesful\">\n      <v-alert dense type=\"error\" outlined>\n        {{ status_text }}\n      </v-alert>\n    </div>\n\n    <v-textarea\n      label=\"Edit Sigma rule\"\n      outlined\n      :color=\"this.isParsingSuccesful ? 'success' : 'error'\"\n      autocomplete=\"email\"\n      rows=\"23\"\n      v-model=\"ruleYamlTextArea\"\n      @input=\"parseSigma(ruleYamlTextArea)\"\n      class=\"editSigmaRule\"\n      hide-details\n    >\n    </v-textarea>\n\n    <div class=\"mt-2\">\n      <v-btn :disabled=\"!isParsingSuccesful\" @click=\"addOrUpdateRule(ruleYamlTextArea)\" small depressed color=\"primary\">\n        {{ isNewRule ? 'Create Rule' : 'Update Rule' }}\n      </v-btn>\n      <v-btn color=\"primary\" text @click=\"$router.back()\" style=\"margin-left: 10px\"> Cancel </v-btn>\n      <v-btn v-show=\"!isNewRule\" @click=\"deleteRule(rule_uuid)\" small text color=\"error darken-2\"\n        ><v-icon>mdi-delete</v-icon></v-btn\n      >\n    </div>\n\n    <div v-if=\"isParsingSuccesful\" class=\"mt-5\">\n      <strong>Preview opensearch query:</strong>\n      <pre>{{ editingRule.search_query }}</pre>\n      <!-- TODO: This should become a global class how to nicely highlight a query -->\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport { SigmaTemplates, defaultSigmaPlaceholder } from '@/utils/SigmaRuleTemplates'\nimport _ from 'lodash'\n\nexport default {\n  props: ['rule_uuid', 'sigmaRule', 'event'],\n  data() {\n    return {\n      editingRule: { ruleYaml: defaultSigmaPlaceholder }, // empty state\n      status_text: '',\n      ruleYamlTextArea: {},\n      SigmaTemplates: SigmaTemplates,\n      search: '',\n      isNewRule: false,\n      isUpdatingRule: false,\n      isParsingSuccesful: false,\n    }\n  },\n  watch: {\n    rule_uuid: function (newVal, oldVal) {\n      if (newVal === 'new') {\n        this.editingRule = {\n          title: 'New Sigma Rule',\n        }\n        this.resetComponent()\n      } else {\n        this.getRuleByUUID(newVal)\n      }\n    },\n  },\n  loaded() {\n    this.parseSigma(this.editingRule.rule_yaml)\n  },\n  mounted() {\n    if (this.rule_uuid === 'new') {\n      this.resetComponent()\n    } else {\n      this.getRuleByUUID(this.rule_uuid)\n    }\n  },\n  methods: {\n    resetComponent() {\n      this.editingRule = {\n        title: 'New Sigma Rule',\n      }\n      this.isNewRule = true\n      this.isUpdatingRule = false\n      this.isParsingSuccesful = true\n      this.ruleYamlTextArea = defaultSigmaPlaceholder\n      this.editingRule.rule_yaml = defaultSigmaPlaceholder\n      this.parseSigma(this.editingRule.rule_yaml)\n    },\n    selectTemplate(text) {\n      var matchingTemplate = this.SigmaTemplates.find((obj) => {\n        return obj.title === text\n      })\n      this.ruleYamlTextArea = matchingTemplate.text\n      this.parseSigma(matchingTemplate.text)\n    },\n    // Set debounce to 300ms if parseSigma is used.\n    parseSigma: _.debounce(function (ruleYaml) {\n      // eslint-disable-line\n      ApiClient.getSigmaRuleByText(ruleYaml)\n        .then((response) => {\n          var parsedRule = response.data.objects[0]\n          if (parsedRule.tags.length > 0 && parsedRule.tags[0] == null) {\n            this.status_text = 'Please specify at least one tag if you use the tags field'\n            this.isParsingSuccesful = false\n          } else if (!parsedRule.author) {\n            this.status_text = 'No author specified'\n            this.isParsingSuccesful = false\n          } else {\n            this.editingRule = parsedRule\n            this.isParsingSuccesful = true\n            this.status_text = ''\n          }\n        })\n        .catch((e) => {\n          this.status_text = e.response.data.message\n          this.isParsingSuccesful = false\n        })\n    }, 300),\n    getRuleByUUID(ruleUuid) {\n      if (ruleUuid === 'new' || ruleUuid === undefined) {\n        return\n      }\n      ApiClient.getSigmaRuleResource(ruleUuid)\n        .then((response) => {\n          this.editingRule = response.data.objects[0]\n          this.ruleYamlTextArea = this.editingRule.rule_yaml // eslint-disable-line camelcase\n          this.isNewRule = false\n          this.isUpdatingRule = true\n          this.isParsingSuccesful = true\n        })\n        .catch((e) => {\n          console.error(e)\n          this.isParsingSuccesful = false\n          this.isNewRule = true\n          this.isUpdatingRule = false\n          this.ruleYamlTextArea = defaultSigmaPlaceholder\n          this.parseSigma(this.ruleYamlTextArea)\n        })\n    },\n    deleteRule(ruleUuid) {\n      if (confirm('Delete Rule?')) {\n        ApiClient.deleteSigmaRule(ruleUuid)\n          .then((response) => {\n            this.$store.dispatch('updateSigmaList')\n            this.successSnackBar('Rule deleted!')\n          })\n          .catch((e) => {\n            this.errorSnackBar('Error deleting rule: ' + ruleUuid)\n            console.error(e)\n          })\n      }\n    },\n    addOrUpdateRule: function (event) {\n      if (this.isNewRule) {\n        ApiClient.createSigmaRule(this.ruleYamlTextArea)\n          .then((response) => {\n            this.$store.dispatch('updateSigmaList')\n            this.successSnackBar('Rule created: ' + this.editingRule.title)\n          })\n          .catch((e) => {\n            this.errorSnackBar('Error creating rule: ' + this.editingRule.title)\n            console.error(e)\n          })\n      }\n      if (this.isUpdatingRule) {\n        ApiClient.updateSigmaRule(this.editingRule.id, this.ruleYamlTextArea)\n          .then((response) => {\n            this.$store.dispatch('updateSigmaList')\n            this.successSnackBar('Rule updated: ' + this.editingRule.title)\n          })\n          .catch((e) => {\n            this.errorSnackBar('Error updating rule: ' + this.editingRule.title)\n            console.error(e)\n          })\n      }\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.editSigmaRule {\n  font-family: monospace;\n  font-size: 13px;\n}\npre {\n  white-space: pre-wrap;\n  /* Since CSS 2.1 */\n  white-space: -moz-pre-wrap;\n  /* Mozilla, since 1999 */\n  white-space: -pre-wrap;\n  /* Opera 4-6 */\n  white-space: -o-pre-wrap;\n  /* Opera 7 */\n  word-wrap: break-word;\n  /* Internet Explorer 5.5+ */\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaRuleModification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaRuleModification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SigmaRuleModification.vue?vue&type=template&id=5cf94003&scoped=true&\"\nimport script from \"./SigmaRuleModification.vue?vue&type=script&lang=js&\"\nexport * from \"./SigmaRuleModification.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SigmaRuleModification.vue?vue&type=style&index=0&id=5cf94003&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5cf94003\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2023 Google Inc. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n    http://www.apache.org/licenses/LICENSE-2.0\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <!-- Left panel -->\n    <v-navigation-drawer app permanent width=\"370\" hide-overlay ref=\"drawer\">\n      <v-toolbar flat color=\"transparent\">\n        <v-avatar class=\"ml-n1\">\n          <router-link to=\"/\">\n            <v-img src=\"/dist/timesketch-color.png\" max-height=\"25\" max-width=\"25\" contain></v-img>\n          </router-link> </v-avatar\n        ><span style=\"font-size: 1.1em\">Studio</span>\n        <v-spacer></v-spacer>\n      </v-toolbar>\n      <v-divider></v-divider>\n      <ts-sigma-rules start-expanded></ts-sigma-rules>\n    </v-navigation-drawer>\n\n    <v-toolbar flat color=\"transparent\">\n      <v-spacer></v-spacer>\n      <v-avatar color=\"grey lighten-1\" size=\"25\" class=\"ml-3\">\n        <span class=\"white--text\">{{ currentUser | initialLetter }}</span>\n      </v-avatar>\n      <v-menu offset-y>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-avatar>\n            <v-btn small icon v-bind=\"attrs\" v-on=\"on\">\n              <v-icon>mdi-dots-vertical</v-icon>\n            </v-btn>\n          </v-avatar>\n        </template>\n        <v-card>\n          <v-list>\n            <v-list-item-group color=\"primary\">\n              <v-list-item v-on:click=\"toggleTheme\">\n                <v-list-item-icon>\n                  <v-icon>mdi-brightness-6</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>Toggle theme</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n\n              <a href=\"/logout/\" style=\"text-decoration: none; color: inherit\">\n                <v-list-item>\n                  <v-list-item-icon>\n                    <v-icon>mdi-logout</v-icon>\n                  </v-list-item-icon>\n\n                  <v-list-item-content>\n                    <v-list-item-title>Logout</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </a>\n            </v-list-item-group>\n          </v-list>\n        </v-card>\n      </v-menu>\n    </v-toolbar>\n    <!-- Middle panel -->\n    <ts-sigma-rule-modification app @cancel=\"formatXMLString = false\" :rule_uuid=\"id\" v-if=\"type === 'sigma'\">\n    </ts-sigma-rule-modification>\n  </div>\n</template>\n\n<script>\nimport TsSigmaRules from '../components/LeftPanel/SigmaRules'\nimport TsSigmaRuleModification from '../components/Studio/SigmaRuleModification.vue'\nexport default {\n  props: ['id', 'type'],\n  components: {\n    TsSigmaRules,\n    TsSigmaRuleModification,\n  },\n  methods: {\n    toggleTheme() {\n      this.$vuetify.theme.dark = !this.$vuetify.theme.dark\n    },\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.currentUser\n    },\n  },\n  created: function () {\n    this.$store.dispatch('updateSigmaList')\n    document.title = 'Timesketch Studio'\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Studio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Studio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Studio.vue?vue&type=template&id=2272dd9a&\"\nimport script from \"./Studio.vue?vue&type=script&lang=js&\"\nexport * from \"./Studio.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport Home from './views/Home'\nimport Canvas from './views/Canvas'\nimport Sketch from './views/Sketch'\nimport Studio from './views/Studio'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    name: 'Home',\n    path: '/',\n    component: Home,\n  },\n  {\n    // Sketch\n    path: '/sketch/:sketchId',\n    component: Sketch,\n    props: true,\n    children: [\n      {\n        path: '',\n        name: 'Overview',\n        redirect: { name: 'Explore' },\n      },\n      {\n        path: 'explore',\n        name: 'Explore',\n        component: Canvas,\n        props: true,\n      },\n      {\n        path: 'intelligence',\n        name: 'Intelligence',\n        component: Canvas,\n        props: true,\n      },\n      {\n        path: 'graph',\n        name: 'Graph',\n        component: Canvas,\n        props: true,\n      },\n      {\n        path: 'story/:storyId',\n        name: 'Story',\n        component: Canvas,\n        props: true,\n      },\n\n    ],\n  },\n  {\n    name: 'Studio',\n    path: '/studio/:type/:id',\n    component: Studio,\n    props: true,\n  },\n]\n\nexport default new VueRouter({\n  mode: 'history',\n  base: process.env.NODE_ENV === 'development' ? '/' : '/v2/',\n  routes,\n})\n","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport ApiClient from './utils/RestApiClient'\n\nVue.use(Vuex)\n\nconst defaultState = (currentUser) => {\n  return {\n    sketch: {},\n    meta: {},\n    searchHistory: {},\n    scenarios: [],\n    hiddenScenarios: [],\n    scenarioTemplates: [],\n    graphPlugins: [],\n    savedGraphs: [],\n    tags: [],\n    dataTypes: [],\n    count: 0,\n    currentSearchNode: null,\n    currentUser: currentUser,\n    activeContext: {\n      scenario: null,\n      facet: null,\n      question: null\n    },\n    snackbar: {\n      active: false,\n      color: \"\",\n      message: \"\",\n      timeout: -1\n    },\n    contextLinkConf: {},\n  }\n}\n\n// Initial state\nconst state = defaultState()\n\nexport default new Vuex.Store({\n  state,\n  mutations: {\n    SET_SKETCH(state, payload) {\n      Vue.set(state, 'sketch', payload.objects[0])\n      Vue.set(state, 'meta', payload.meta)\n    },\n    SET_SEARCH_HISTORY(state, payload) {\n      Vue.set(state, 'searchHistory', payload.objects)\n    },\n    SET_SCENARIOS(state, payload) {\n      Vue.set(state, 'scenarios', payload.objects[0])\n    },\n    SET_SCENARIO_TEMPLATES(state, payload) {\n      Vue.set(state, 'scenarioTemplates', payload.objects)\n    },\n    SET_TIMELINE_TAGS(state, buckets) {\n      Vue.set(state, 'tags', buckets)\n    },\n    SET_DATA_TYPES(state, payload) {\n      let buckets = payload.objects[0]['field_bucket']['buckets']\n      Vue.set(state, 'dataTypes', buckets)\n    },\n    SET_COUNT(state, payload) {\n      Vue.set(state, 'count', payload)\n    },\n    SET_SEARCH_NODE(state, payload) {\n      Vue.set(state, 'currentSearchNode', payload)\n    },\n    SET_SIGMA_LIST(state, payload) {\n      Vue.set(state, 'sigmaRuleList', payload['objects'])\n      Vue.set(state, 'sigmaRuleList_count', payload['meta']['rules_count'])\n    },\n    SET_ACTIVE_USER(state, payload) {\n      ApiClient.getLoggedInUser().then((response) => {\n        let currentUser = response.data.objects[0].username\n        Vue.set(state, 'currentUser', currentUser)\n      })\n    },\n    SET_ACTIVE_CONTEXT(state, payload) {\n      Vue.set(state, 'activeContext', payload)\n    },\n    CLEAR_ACTIVE_CONTEXT(state) {\n      let payload = {\n        scenario: null,\n        facet: null,\n        question: null\n      }\n      Vue.set(state, 'activeContext', payload)\n    },\n    SET_GRAPH_PLUGINS(state, payload) {\n      Vue.set(state, 'graphPlugins', payload)\n    },\n    SET_SAVED_GRAPHS(state, payload) {\n      Vue.set(state, 'savedGraphs', payload.objects[0] || [])\n    },\n    SET_SNACKBAR(state, snackbar) {\n      Vue.set(state, 'snackbar', snackbar)\n    },\n    RESET_STATE(state, payload) {\n      ApiClient.getLoggedInUser().then((response) => {\n        let currentUser = response.data.objects[0].username\n        Object.assign(state, defaultState(currentUser))\n      })\n    },\n    SET_CONTEXT_LINKS(state, payload) {\n      Vue.set(state, 'contextLinkConf', payload)\n    },\n  },\n  actions: {\n    updateSketch(context, sketchId) {\n      return ApiClient.getSketch(sketchId)\n        .then((response) => {\n          context.commit('SET_SKETCH', response.data)\n          context.commit('SET_ACTIVE_USER', response.data)\n          context.dispatch('updateTimelineTags', { sketchId: sketchId })\n          context.dispatch('updateDataTypes', sketchId)\n        })\n        .catch((e) => { })\n    },\n    updateCount(context, sketchId) {\n      // Count events for all timelines in the sketch\n      return ApiClient.countSketchEvents(sketchId)\n        .then((response) => {\n          context.commit('SET_COUNT', response.data.meta.count)\n        })\n        .catch((e) => { })\n    },\n    resetState(context) {\n      context.commit('RESET_STATE')\n    },\n    updateSearchNode(context, nodeId) {\n      context.commit('SET_SEARCH_NODE', nodeId)\n    },\n    updateSearchHistory(context, sketchId) {\n      if (!sketchId) {\n        sketchId = context.state.sketch.id\n      }\n      return ApiClient.getSearchHistory(sketchId)\n        .then((response) => {\n          context.commit('SET_SEARCH_HISTORY', response.data)\n        })\n        .catch((e) => { })\n    },\n    updateScenarios(context, sketchId) {\n      if (!sketchId) {\n        sketchId = context.state.sketch.id\n      }\n      return ApiClient.getSketchScenarios(sketchId)\n        .then((response) => {\n          context.commit('SET_SCENARIOS', response.data)\n        })\n        .catch((e) => { })\n    },\n    updateScenarioTemplates(context, sketchId) {\n      return ApiClient.getScenarioTemplates(sketchId)\n        .then((response) => {\n          context.commit('SET_SCENARIO_TEMPLATES', response.data)\n        })\n        .catch((e) => { })\n    },\n    updateTimelineTags(context, payload) {\n      if (!context.state.sketch.active_timelines.length) {\n        return\n      }\n      let formData = {\n        aggregator_name: 'field_bucket',\n        aggregator_parameters: {\n          field: 'tag',\n          limit: '1000',\n        },\n      }\n      return ApiClient.runAggregator(payload.sketchId, formData)\n        .then((response) => {\n          let buckets = response.data.objects[0]['field_bucket']['buckets']\n          if (payload.tag && payload.num) {\n            let missing = buckets.find(tag => tag.tag === payload.tag) === undefined\n            if (missing) {\n              buckets.push({ tag: payload.tag, count: payload.num })\n            } else {\n              let tagIndex = buckets.findIndex(tag => tag.tag === payload.tag)\n              buckets[tagIndex].count += payload.num\n            }\n          }\n          context.commit('SET_TIMELINE_TAGS', buckets)\n        })\n        .catch((e) => { })\n    },\n    updateDataTypes(context, sketchId) {\n      if (!context.state.sketch.active_timelines.length) {\n        return\n      }\n      let formData = {\n        aggregator_name: 'field_bucket',\n        aggregator_parameters: {\n          field: 'data_type',\n          limit: '1000',\n        },\n      }\n      return ApiClient.runAggregator(sketchId, formData)\n        .then((response) => {\n          context.commit('SET_DATA_TYPES', response.data)\n        })\n        .catch((e) => { })\n    },\n    updateSigmaList(context) {\n      ApiClient.getSigmaRuleList()\n        .then((response) => {\n          context.commit('SET_SIGMA_LIST', response.data)\n        })\n        .catch((e) => { })\n    },\n    setActiveContext(context, activeScenarioContext) {\n      context.commit('SET_ACTIVE_CONTEXT', activeScenarioContext)\n    },\n    clearActiveContext(context) {\n      context.commit('CLEAR_ACTIVE_CONTEXT')\n    },\n    setSnackBar(context, snackbar) {\n      context.commit(\"SET_SNACKBAR\", {\n        active: true,\n        color: snackbar.color,\n        message: snackbar.message,\n        timeout: snackbar.timeout\n      });\n    },\n    updateContextLinks(context) {\n      ApiClient.getContextLinkConfig()\n        .then((response) => {\n          context.commit('SET_CONTEXT_LINKS', response.data)\n      })\n      .catch((e) => { })\n    },\n    updateGraphPlugins(context) {\n      ApiClient.getGraphPluginList()\n        .then((response) => {\n          context.commit('SET_GRAPH_PLUGINS', response.data)\n        })\n        .catch((e) => { })\n    },\n    updateSavedGraphs(context, sketchId) {\n      if (!sketchId) {\n        sketchId = context.state.sketch.id\n      }\n      ApiClient.getSavedGraphList(sketchId)\n        .then((response) => {\n        context.commit('SET_SAVED_GRAPHS', response.data)\n      })\n      .catch((e) => {\n        console.error(e)\n      })\n    },\n  }\n})\n","\n/*\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue'\n\nconst defaultTimeout = 5000\nconst defaultSnackBar = {\n    \"message\": \"\",\n    \"color\": \"info\",\n    \"timeout\": defaultTimeout\n}\n\n// These methids will be available to all components without any further imports.\nVue.mixin({\n    methods: {\n        successSnackBar(message) {\n            let snackbar = defaultSnackBar\n            snackbar.message = message\n            snackbar.color = \"success\"\n            this.$store.dispatch('setSnackBar', snackbar)\n        },\n        errorSnackBar(message) {\n            let snackbar = defaultSnackBar\n            snackbar.message = message\n            snackbar.color = \"error\"\n            this.$store.dispatch('setSnackBar', snackbar)\n        },\n        infoSnackBar(message) {\n          let snackbar = defaultSnackBar\n          snackbar.message = message\n          snackbar.color = \"info\"\n          snackbar.timeout = 2000\n          this.$store.dispatch('setSnackBar', snackbar)\n      },\n    }\n})\n","import '@mdi/font/css/materialdesignicons.css'\nimport Vue from 'vue'\nimport Vuetify from 'vuetify'\nimport 'vuetify/dist/vuetify.min.css'\n\nVue.use(Vuetify, {\n  options: {\n    customProperties: true,\n  },\n})\n\nconst opts = {\n  theme: { dark: false },\n  icons: { iconfont: 'mdi' },\n}\n\nexport default new Vuetify(opts)\n","/*\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue'\nimport App from './App.vue'\n\nimport router from './router'\nimport store from './store'\n\nimport '@/mixins/snackBar'\n\n// Third party\nimport VueScrollTo from 'vue-scrollto'\nimport Multiselect from 'vue-multiselect'\nimport VueCytoscape from 'vue-cytoscape'\nimport VueClipboard from 'vue-clipboard2'\n\nimport vuetify from '@/plugins/vuetify' // path to vuetify export\n\nrequire('./assets/main.scss')\nrequire('./assets/markdown.scss')\nrequire('./utils/RegisterAppComponents')\nrequire('./utils/RegisterAppFilters')\n\n// Create global EventBus to use in certain situations where performance is\n// important and props/events are not optimal. Use with caution to not add\n// unnecessary complexity.\nconst EventBus = new Vue()\nexport default EventBus\n\n// Third party\nVue.use(require('vue-moment'))\nVue.use(VueCytoscape)\nVue.use(VueClipboard)\nVue.use(VueScrollTo)\nVue.component('multiselect', Multiselect)\n\n// Disable warning during development\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: (h) => h(App),\n}).$mount('#app')\n","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue'\n\nconst requireFilter = require.context(\n  // The relative path of the components folder\n  '../filters',\n  // Whether or not to look in subfolders\n  false,\n  // The regular expression used to match base component filenames\n  /[A-Z]\\w+\\.(js)$/\n)\n\nrequireFilter.keys().forEach((fileName) => {\n  // Get component config\n  const filterModule = requireFilter(fileName)\n\n  // Register filter globally\n  Vue.filter(filterModule.default.name, filterModule.default.filter)\n})\n","/*\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport dayjs from '@/plugins/dayjs'\n\nexport default {\n  name: 'timeSince',\n  filter: function (date) {\n    if (!date) {\n      return ''\n    }\n\n    return dayjs.utc(date).fromNow()\n  },\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaRuleModification.vue?vue&type=style&index=0&id=5cf94003&scoped=true&lang=scss&\"","var map = {\n\t\"./Capitalize.js\": \"76f9\",\n\t\"./CompactBytes.js\": \"3d1d\",\n\t\"./CompactNumber.js\": \"d3b7\",\n\t\"./FilterChip.js\": \"05a2\",\n\t\"./FormatLabelText.js\": \"16f1\",\n\t\"./FormatTimestamp.js\": \"09ff\",\n\t\"./Initital.js\": \"43f8\",\n\t\"./ToISO8601.js\": \"84cc\",\n\t\"./shortDateTime.js\": \"481e\",\n\t\"./timeSince.js\": \"6107\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"6dde\";","import dayjs from 'dayjs'\n\n// Add plugins\nimport utc from 'dayjs/plugin/utc'\nimport relativeTime from 'dayjs/plugin/relativeTime'\n\ndayjs.extend(utc)\ndayjs.extend(relativeTime)\n\nexport default dayjs\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"75a6\";","/*\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'capitalize',\n  filter: function (input) {\n    if (!input) return ''\n    input = input.toString()\n    return input.charAt(0).toUpperCase() + input.slice(1)\n  },\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventList.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaRules.vue?vue&type=style&index=0&id=3ebf0597&scoped=true&lang=scss&\"","/*\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport dayjs from '@/plugins/dayjs'\n\nexport default {\n  name: 'toISO8601',\n  filter: function (timestampMillis) {\n    if (timestampMillis < 0) {\n      return 'No timestamp'\n    }\n    return dayjs(timestampMillis).toISOString()\n  },\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=style&index=0&id=11642c2c&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareCard.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventDetail.vue?vue&type=style&index=0&lang=scss&\"","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'compactNumber',\n  filter: function (input) {\n    if (!input) {\n      input = 0\n    }\n    let mark = ''\n    if (input > 999999999) {\n      input = Math.round((input / 1000000000) * 10) / 10\n      mark = 'B'\n    } else if (input > 999999) {\n      input = Math.round((input / 1000000) * 10) / 10\n      mark = 'M'\n    } else if (input > 999) {\n      input = Math.round((input / 1000) * 10) / 10\n      mark = 'K'\n    } else {\n      return input\n    }\n    return input + mark\n  },\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Story.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}