{"version":3,"sources":["webpack:///./src/filters/FilterChip.js","webpack:///./src/filters/FormatTimestamp.js","webpack:///./src/components/Graph/Graph.vue?a777","webpack:///./src/views/Intelligence.vue?01b4","webpack:///./src/views/StoryContent.vue?7b98","webpack:///./src/utils/RegisterAppComponents.js","webpack:///./src/views/Explore.vue?7ecd","webpack:///./src/filters/CompactBytes.js","webpack:///./src/components/Timelines/TimelineListItem.vue?d550","webpack:///./src/App.vue?6dd9","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?6202","webpack:///./src/components/Home/SketchList.vue?e0d1","webpack:///./src/utils/RestApiClient.js","webpack:///src/components/Home/SketchList.vue","webpack:///./src/components/Home/SketchList.vue?5c86","webpack:///./src/components/Home/SketchList.vue","webpack:///./src/components/Common/CreateSketchForm.vue?1b8f","webpack:///src/components/Common/CreateSketchForm.vue","webpack:///./src/components/Common/CreateSketchForm.vue?b254","webpack:///./src/components/Common/CreateSketchForm.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/views/Sketch.vue?a1c5","webpack:///src/views/Sketch.vue","webpack:///./src/views/Sketch.vue?ea3e","webpack:///./src/views/Sketch.vue","webpack:///./src/views/Overview.vue?cd0e","webpack:///./src/components/Overview/SketchSummary.vue?4794","webpack:///src/components/Overview/SketchSummary.vue","webpack:///./src/components/Overview/SketchSummary.vue?d561","webpack:///./src/components/Overview/SketchSummary.vue","webpack:///./src/components/Overview/SketchMetrics.vue?679f","webpack:///src/components/Overview/SketchMetrics.vue","webpack:///./src/components/Overview/SketchMetrics.vue?8bd6","webpack:///./src/components/Overview/SketchMetrics.vue","webpack:///./src/components/Timelines/TimelineList.vue?5927","webpack:///./src/components/Timelines/TimelineListItem.vue?4a45","webpack:///./src/components/Analyze/AnalyzerHistory.vue?56b3","webpack:///src/components/Analyze/AnalyzerHistory.vue","webpack:///./src/components/Analyze/AnalyzerHistory.vue?76c5","webpack:///./src/components/Analyze/AnalyzerHistory.vue","webpack:///./src/components/Common/Dropdown.vue?d365","webpack:///src/components/Common/Dropdown.vue","webpack:///./src/components/Common/Dropdown.vue?38fb","webpack:///./src/components/Common/Dropdown.vue","webpack:///./src/definitions.js","webpack:///src/components/Timelines/TimelineListItem.vue","webpack:///./src/components/Timelines/TimelineListItem.vue?ec1a","webpack:///./src/components/Timelines/TimelineListItem.vue","webpack:///src/components/Timelines/TimelineList.vue","webpack:///./src/components/Timelines/TimelineList.vue?5795","webpack:///./src/components/Timelines/TimelineList.vue","webpack:///./src/components/Common/ViewList.vue?f06c","webpack:///src/components/Common/ViewList.vue","webpack:///./src/components/Common/ViewList.vue?f2f9","webpack:///./src/components/Common/ViewList.vue","webpack:///./src/components/Stories/StoryList.vue?e27c","webpack:///src/components/Stories/StoryList.vue","webpack:///./src/components/Stories/StoryList.vue?3584","webpack:///./src/components/Stories/StoryList.vue","webpack:///./src/components/Common/UploadForm.vue?81dd","webpack:///src/components/Common/UploadForm.vue","webpack:///./src/components/Common/UploadForm.vue?be42","webpack:///./src/components/Common/UploadForm.vue","webpack:///./src/views/Timelines.vue?e10a","webpack:///src/views/Timelines.vue","webpack:///./src/views/Timelines.vue?49f3","webpack:///./src/views/Timelines.vue","webpack:///./src/components/Overview/ShareForm.vue?62da","webpack:///src/components/Overview/ShareForm.vue","webpack:///./src/components/Overview/ShareForm.vue?8c2a","webpack:///./src/components/Overview/ShareForm.vue","webpack:///./src/components/Graph/GraphList.vue?a46f","webpack:///src/components/Graph/GraphList.vue","webpack:///./src/components/Graph/GraphList.vue?ab70","webpack:///./src/components/Graph/GraphList.vue","webpack:///src/views/Overview.vue","webpack:///./src/views/Overview.vue?566d","webpack:///./src/views/Overview.vue","webpack:///./src/views/Explore.vue?8a9b","webpack:///./src/components/Explore/EventList.vue?a8fa","webpack:///./src/components/Explore/EventListRow.vue?51a6","webpack:///./src/components/Explore/EventListRowDetail.vue?8252","webpack:///./src/components/Common/TsIOCMenu.vue?b5b3","webpack:///./src/components/Common/TsContextMenu.vue?624f","webpack:///src/components/Common/TsContextMenu.vue","webpack:///./src/components/Common/TsContextMenu.vue?ce3b","webpack:///./src/components/Common/TsContextMenu.vue","webpack:///./src/utils/tagMetadata.js","webpack:///src/components/Common/TsIOCMenu.vue","webpack:///./src/components/Common/TsIOCMenu.vue?6589","webpack:///./src/components/Common/TsIOCMenu.vue","webpack:///src/components/Explore/EventListRowDetail.vue","webpack:///./src/components/Explore/EventListRowDetail.vue?37d1","webpack:///./src/components/Explore/EventListRowDetail.vue","webpack:///src/components/Explore/EventListRow.vue","webpack:///./src/components/Explore/EventListRow.vue?dad8","webpack:///./src/components/Explore/EventListRow.vue","webpack:///src/components/Explore/EventList.vue","webpack:///./src/components/Explore/EventList.vue?cd3c","webpack:///./src/components/Explore/EventList.vue","webpack:///./src/components/Explore/TimelinePicker.vue?fe02","webpack:///./src/components/Explore/TimelineChip.vue?542a","webpack:///src/components/Explore/TimelineChip.vue","webpack:///./src/components/Explore/TimelineChip.vue?5e3f","webpack:///./src/components/Explore/TimelineChip.vue","webpack:///src/components/Explore/TimelinePicker.vue","webpack:///./src/components/Explore/TimelinePicker.vue?ae95","webpack:///./src/components/Explore/TimelinePicker.vue","webpack:///./src/components/Explore/TimeFilter.vue?b033","webpack:///src/components/Explore/TimeFilter.vue","webpack:///./src/components/Explore/TimeFilter.vue?8a23","webpack:///./src/components/Explore/TimeFilter.vue","webpack:///./src/components/Explore/SearchHistoryTree.vue?da89","webpack:///./src/components/Explore/SearchHistoryTreeNode.vue?a94f","webpack:///src/components/Explore/SearchHistoryTreeNode.vue","webpack:///./src/components/Explore/SearchHistoryTreeNode.vue?d4b2","webpack:///./src/components/Explore/SearchHistoryTreeNode.vue","webpack:///src/components/Explore/SearchHistoryTree.vue","webpack:///./src/components/Explore/SearchHistoryTree.vue?980f","webpack:///./src/components/Explore/SearchHistoryTree.vue","webpack:///./src/components/Explore/SearchHistoryButtons.vue?d9f8","webpack:///src/components/Explore/SearchHistoryButtons.vue","webpack:///./src/components/Explore/SearchHistoryButtons.vue?7872","webpack:///./src/components/Explore/SearchHistoryButtons.vue","webpack:///./src/components/Aggregation/BarChart.vue?15b1","webpack:///src/components/Aggregation/BarChart.vue","webpack:///./src/components/Aggregation/BarChart.vue?33b9","webpack:///./src/components/Aggregation/BarChart.vue","webpack:///./src/components/Explore/SearchDropdown.vue?1db0","webpack:///./src/components/Common/ViewListCompact.vue?c260","webpack:///src/components/Common/ViewListCompact.vue","webpack:///./src/components/Common/ViewListCompact.vue?d1da","webpack:///./src/components/Common/ViewListCompact.vue","webpack:///src/components/Explore/SearchDropdown.vue","webpack:///./src/components/Explore/SearchDropdown.vue?991d","webpack:///./src/components/Explore/SearchDropdown.vue","webpack:///./src/components/Common/CreateViewForm.vue?0c6e","webpack:///src/components/Common/CreateViewForm.vue","webpack:///./src/components/Common/CreateViewForm.vue?4ac0","webpack:///./src/components/Common/CreateViewForm.vue","webpack:///src/views/Explore.vue","webpack:///./src/views/Explore.vue?4ebb","webpack:///./src/views/Explore.vue","webpack:///./src/views/Graph.vue?27d5","webpack:///./src/views/Graph.vue","webpack:///./src/views/GraphOverview.vue?7a15","webpack:///./src/components/Graph/GraphPluginList.vue?0391","webpack:///src/components/Graph/GraphPluginList.vue","webpack:///./src/components/Graph/GraphPluginList.vue?3be8","webpack:///./src/components/Graph/GraphPluginList.vue","webpack:///src/views/GraphOverview.vue","webpack:///./src/views/GraphOverview.vue?d7e5","webpack:///./src/views/GraphOverview.vue","webpack:///./src/views/GraphExplore.vue?c177","webpack:///./src/components/Graph/Graph.vue?2ad9","webpack:///./src/components/Explore/EventListCompact.vue?87ad","webpack:///src/components/Explore/EventListCompact.vue","webpack:///./src/components/Explore/EventListCompact.vue?b724","webpack:///./src/components/Explore/EventListCompact.vue","webpack:///src/components/Graph/Graph.vue","webpack:///./src/components/Graph/Graph.vue?7191","webpack:///./src/components/Graph/Graph.vue","webpack:///src/views/GraphExplore.vue","webpack:///./src/views/GraphExplore.vue?8530","webpack:///./src/views/GraphExplore.vue","webpack:///./src/views/Aggregate.vue?c325","webpack:///./src/components/Aggregation/Aggregation.vue?f86a","webpack:///./src/components/Aggregation/VegaLiteChart.vue?90ee","webpack:///src/components/Aggregation/VegaLiteChart.vue","webpack:///./src/components/Aggregation/VegaLiteChart.vue?1661","webpack:///./src/components/Aggregation/VegaLiteChart.vue","webpack:///./src/components/Common/DynamicForm.vue?4ed6","webpack:///./src/components/Common/DynamicFormTextInput.vue?1a9d","webpack:///src/components/Common/DynamicFormTextInput.vue","webpack:///./src/components/Common/DynamicFormTextInput.vue?8775","webpack:///./src/components/Common/DynamicFormTextInput.vue","webpack:///./src/components/Common/DynamicFormSelectInput.vue?0ec0","webpack:///src/components/Common/DynamicFormSelectInput.vue","webpack:///./src/components/Common/DynamicFormSelectInput.vue?66bc","webpack:///./src/components/Common/DynamicFormSelectInput.vue","webpack:///./src/components/Common/DynamicFormDatetimeInput.vue?ab0d","webpack:///src/components/Common/DynamicFormDatetimeInput.vue","webpack:///./src/components/Common/DynamicFormDatetimeInput.vue?bf62","webpack:///./src/components/Common/DynamicFormDatetimeInput.vue","webpack:///src/components/Common/DynamicForm.vue","webpack:///./src/components/Common/DynamicForm.vue?0d68","webpack:///./src/components/Common/DynamicForm.vue","webpack:///./src/components/Aggregation/AggregatorListDropdown.vue?7a98","webpack:///src/components/Aggregation/AggregatorListDropdown.vue","webpack:///./src/components/Aggregation/AggregatorListDropdown.vue?ecbc","webpack:///./src/components/Aggregation/AggregatorListDropdown.vue","webpack:///./src/components/Aggregation/TableChart.vue?1d2f","webpack:///src/components/Aggregation/TableChart.vue","webpack:///./src/components/Aggregation/TableChart.vue?3695","webpack:///./src/components/Aggregation/TableChart.vue","webpack:///./src/components/Timelines/TimelineListDropdown.vue?d131","webpack:///src/components/Timelines/TimelineListDropdown.vue","webpack:///./src/components/Timelines/TimelineListDropdown.vue?32ed","webpack:///./src/components/Timelines/TimelineListDropdown.vue","webpack:///src/components/Aggregation/Aggregation.vue","webpack:///./src/components/Aggregation/Aggregation.vue?a5cf","webpack:///./src/components/Aggregation/Aggregation.vue","webpack:///./src/components/Aggregation/AggregationCompact.vue?108c","webpack:///src/components/Aggregation/AggregationCompact.vue","webpack:///./src/components/Aggregation/AggregationCompact.vue?baf7","webpack:///./src/components/Aggregation/AggregationCompact.vue","webpack:///src/views/Aggregate.vue","webpack:///./src/views/Aggregate.vue?9e1b","webpack:///./src/views/Aggregate.vue","webpack:///./src/views/Analyze.vue?c703","webpack:///./src/components/Analyze/AnalyzerSessionDetail.vue?1e72","webpack:///src/components/Analyze/AnalyzerSessionDetail.vue","webpack:///./src/components/Analyze/AnalyzerSessionDetail.vue?81c1","webpack:///./src/components/Analyze/AnalyzerSessionDetail.vue","webpack:///src/views/Analyze.vue","webpack:///./src/views/Analyze.vue?6d94","webpack:///./src/views/Analyze.vue","webpack:///./src/views/Story.vue?d4d8","webpack:///./src/views/Story.vue","webpack:///./src/views/StoryOverview.vue?125a","webpack:///./src/components/Stories/CreateStoryForm.vue?deda","webpack:///src/components/Stories/CreateStoryForm.vue","webpack:///./src/components/Stories/CreateStoryForm.vue?d207","webpack:///./src/components/Stories/CreateStoryForm.vue","webpack:///src/views/StoryOverview.vue","webpack:///./src/views/StoryOverview.vue?ac0f","webpack:///./src/views/StoryOverview.vue","webpack:///./src/views/StoryContent.vue?fbe1","webpack:///./src/components/Aggregation/AggregationListDropdown.vue?75ea","webpack:///src/components/Aggregation/AggregationListDropdown.vue","webpack:///./src/components/Aggregation/AggregationListDropdown.vue?e450","webpack:///./src/components/Aggregation/AggregationListDropdown.vue","webpack:///./src/components/Aggregation/AggregationGroupCompact.vue?5752","webpack:///src/components/Aggregation/AggregationGroupCompact.vue","webpack:///./src/components/Aggregation/AggregationGroupCompact.vue?c676","webpack:///./src/components/Aggregation/AggregationGroupCompact.vue","webpack:///./src/components/Common/ViewListDropdown.vue?c386","webpack:///src/components/Common/ViewListDropdown.vue","webpack:///./src/components/Common/ViewListDropdown.vue?caad","webpack:///./src/components/Common/ViewListDropdown.vue","webpack:///src/views/StoryContent.vue","webpack:///./src/views/StoryContent.vue?f220","webpack:///./src/views/StoryContent.vue","webpack:///./src/views/Attributes.vue?5d15","webpack:///src/views/Attributes.vue","webpack:///./src/views/Attributes.vue?f75d","webpack:///./src/views/Attributes.vue","webpack:///./src/views/Intelligence.vue?e747","webpack:///./src/components/Common/ExplorePreview.vue?1d41","webpack:///src/components/Common/ExplorePreview.vue","webpack:///./src/components/Common/ExplorePreview.vue?960f","webpack:///./src/components/Common/ExplorePreview.vue","webpack:///./src/components/Common/TsIocCompose.vue?aaa5","webpack:///src/components/Common/TsIocCompose.vue","webpack:///./src/components/Common/TsIocCompose.vue?c605","webpack:///./src/components/Common/TsIocCompose.vue","webpack:///src/views/Intelligence.vue","webpack:///./src/views/Intelligence.vue?2256","webpack:///./src/views/Intelligence.vue","webpack:///./src/views/SavedSearches.vue?f839","webpack:///src/views/SavedSearches.vue","webpack:///./src/views/SavedSearches.vue?e681","webpack:///./src/views/SavedSearches.vue","webpack:///./src/views/Sigma.vue?443e","webpack:///./src/views/Sigma.vue","webpack:///./src/views/SigmaOverview.vue?d8c6","webpack:///./src/components/Sigma/SigmaList.vue?5f90","webpack:///./src/utils/SigmaRuleTemplates.js","webpack:///src/components/Sigma/SigmaList.vue","webpack:///./src/components/Sigma/SigmaList.vue?7bb9","webpack:///./src/components/Sigma/SigmaList.vue","webpack:///src/views/SigmaOverview.vue","webpack:///./src/views/SigmaOverview.vue?a8a3","webpack:///./src/views/SigmaOverview.vue","webpack:///./src/router.js","webpack:///./src/store.js","webpack:///./src/main.js","webpack:///./src/utils/RegisterAppFilters.js","webpack:///./src/components/Explore/SearchDropdown.vue?f981","webpack:///./src/components/Common/ViewListDropdown.vue?4924","webpack:///./src/components/Explore/TimelineChip.vue?4555","webpack:///./src/components/Common/TsIocCompose.vue?4fb6","webpack:///./src/filters sync nonrecursive [A-Z]\\w+\\.(js)$","webpack:///./src/components/Explore/SearchHistoryButtons.vue?c552","webpack:///./src/components sync nonrecursive App[A-Z]\\w+\\.(vue|js)$","webpack:///./src/filters/Capitalize.js","webpack:///./src/components/Common/ViewListCompact.vue?45f0","webpack:///./src/components/Common/TsIOCMenu.vue?8c62","webpack:///./src/components/Explore/SearchHistoryTreeNode.vue?3af2","webpack:///./src/components/Analyze/AnalyzerSessionDetail.vue?0969","webpack:///./src/components/Explore/EventList.vue?c392","webpack:///./src/components/Explore/EventListRow.vue?a762","webpack:///./src/components/Home/SketchList.vue?c196","webpack:///./src/components/Common/TsContextMenu.vue?f6ea","webpack:///./src/views/Overview.vue?28dd","webpack:///./src/components/AppNavbarSecondary.vue?8683","webpack:///src/components/AppNavbarSecondary.vue","webpack:///./src/components/AppNavbarSecondary.vue?6836","webpack:///./src/components/AppNavbarSecondary.vue","webpack:///./src/components/Sigma/SigmaList.vue?ff7f","webpack:///./src/filters/CompactNumber.js","webpack:///./src/components/AppNavbarSecondary.vue?8787","webpack:///./src/components/Common/ExplorePreview.vue?d13d","webpack:///./src/components/Explore/TimelineChip.vue?0784","webpack:///./src/components/AppNavbarMain.vue?2400","webpack:///src/components/AppNavbarMain.vue","webpack:///./src/components/AppNavbarMain.vue?bce9","webpack:///./src/components/AppNavbarMain.vue","webpack:///./src/components/AppNavbarMain.vue?4793"],"names":["name","filter","input","type","value","field","tsLength","parseInt","toString","length","requireComponent","require","keys","forEach","fileName","componentConfig","componentName","default","Vue","component","units","exponent","Math","min","floor","log","num","pow","toFixed","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","created","localStorage","theme","element","dataset","scopedSlots","_u","key","fn","directives","rawName","expression","staticClass","domProps","on","$event","indexOf","_k","keyCode","search","apply","arguments","target","composing","searchQuery","proxy","staticStyle","showSketchCreateModal","_m","_v","newSearchQuery","_e","sketches","_s","scope","_l","sketch","id","params","sketchId","description","user","_f","created_at","status","$moment","utc","last_activity","local","fromNow","numSketches","perPage","paginate","model","callback","$$v","currentPage","RestApiClient","axios","create","baseURL","headers","common","document","getElementsByTagName","RestApiBlobClient","responseType","interceptors","response","use","error","data","message","Snackbar","open","position","actionText","indefinite","onAction","location","reload","console","duration","Promise","reject","getSketchList","page","search_query","get","getSketch","createSketch","formData","post","deleteSketch","delete","archiveSketch","action","unArchiveSketch","exportSketch","getSketchAttributes","addSketchAttribute","ontology","attribute","values","getSketchTimeline","timelineId","getSketchTimelineAnalysis","saveSketchTimeline","color","saveSketchSummary","deleteSketchTimeline","getEvent","searchindexId","eventId","searchindex_id","event_id","saveEventAnnotation","annotationType","annotation","events","currentSearchNode","remove","annotation_type","current_search_node_id","updateEventAnnotation","put","deleteEventAnnotation","annotationId","event","annotation_id","_id","_index","getStoryList","getStory","storyId","createStory","title","content","updateStory","deleteStory","getView","viewId","createView","viewName","queryString","queryFilter","query","dsl","updateView","deleteView","exportSearchResult","getAggregations","getAggregationGroups","runAggregator","runAggregatorGroup","groupId","saveAggregation","aggregation","newFormData","agg_type","chart_type","parameters","countSketchEvents","uploadTimeline","config","getSessions","timelineIndex","getUsers","getGroups","editCollaborators","isPublic","usersToAdd","groupsToAdd","usersToRemove","groupsToRemove","public","users","groups","remove_users","remove_groups","getAnalyzers","runAnalyzers","timelineIds","analyzers","timeline_ids","analyzer_names","getAnalyzerSession","sessionId","getActiveAnalyzerSessions","getLoggedInUser","generateGraphFromPlugin","graphPlugin","currentIndices","refresh","plugin","indices","getGraphPluginList","saveGraph","elements","getSavedGraphList","getSavedGraph","graphId","format","getSearchHistory","getSearchHistoryTree","getSigmaList","getSigmaResource","ruleUuid","getSigmaByText","ruleText","getSigmaRuleList","getSigmaRuleResource","getSigmaRuleByText","deleteSigmaRule","createSigmaRule","rule_yaml","updateSigmaRule","getTagMetadata","props","methods","getSketches","watch","preventDefault","submitForm","form","$set","clearFormData","components","TsNavbarMain","TsSketchList","TsCreateSketchForm","allSketches","mySketches","myArchivedSketches","sharedSketches","loading","isFullPage","loadingComponent","computed","filteredList","toLowerCase","includes","loadingOpen","$buefy","container","$refs","$el","loadingClose","close","$store","dispatch","state","newVal","$router","push","isArchived","meta","label","shareTooltip","permissions","showShareModal","collaborators","showDeleteSketchModal","closeShareModal","showUploadTimelineModal","username","sortedUserList","sortedGroupList","group","active_timelines","views","stories","count","timelines","graphs","write","onEditTitle","onEditDescription","e","innerText","timeline","controls","isCompact","save","showAllTimelines","showInfoModal","searchindex","index_name","stats_per_timeline","datasource","error_message","provider","context","file_on_disk","file_size","original_filename","data_label","showEditModal","newTimelineName","saveTimeline","showAnalyzerModal","timelineStatus","class","colorPickerActive","style","updateColor","initialColor","stopPropagation","colorPickerPalette","updated_at","showAnalysisHistory","datasources","datasourceErrors","$emit","analyses","Date","row","analyzer_name","result","slot","_t","width","String","dropdownWidth","TsAnalyzerHistory","TsDropdown","checkedDataTypes","newColor","analysisSessionId","showAnalysisDetail","autoRefresh","isOpen","isDarkTheme","timelineColorStyle","backgroundColor","startsWith","confirm","hex","substring","fetchData","openFilteredTimeline","dataTypes","i","dt","toggleTheme","mounted","window","addEventListener","self","contains","beforeDestroy","clearInterval","t","val","setInterval","timelineList","reverse","slice","view","index","story","setFile","files","extension","valuesString","showHelper","showHelperFlag","showPreview","showPreviewFlag","showAddColumn","showAddColumnFlag","header","Array","isArray","checkedHeaders","_i","$$a","$$el","$$c","checked","$$i","concat","mandatoryHeader","changeHeaderMapping","options","selectedIndex","text","h","mandatoryHeaders","map","getDefaultValue","v","_q","CSVDelimiter","changeCSVDelimiter","errorMessage","percentCompleted","headersString","headersMapping","file","infoMessage","delimitersList","staticNumberRows","colors","split","Object","missingHeaders","numberRows","n","allHeaders","headersTable","listValues","j","valuesAndHeaders","sort","extractedMapping","source","listSources","concatValue","obj","validateFile","defaultValue","prompt","alert","listSelectedHeaders","default_value","tmp","append","size","hMapping","onUploadProgress","progressEvent","round","allowedExtensions","duplicates","Set","fileList","join","extractCSVHeader","extractJSONLHeader","reader","readAsText","onloadend","readyState","FileReader","DONE","vueJS","replaceAll","JSON","parse","rows","hideNavigation","TsTimelineList","TsUploadTimelineForm","currentUsers","currentGroups","removeUser","removeGroup","filteredUserArray","addUser","userNameInput","filteredGroupArray","addGroup","groupNameInput","splice","systemUsers","systemGroups","userName","groupName","graph","TsSketchMetrics","TsSketchSummary","TsSavedViewList","TsSketchStoryList","TsSketchTimelinesManage","TsShareForm","TsGraphList","msg","baseMsg","userArrayCopy","groupArrayCopy","snackbar","queue","ref","showSaveSearchModal","currentQueryString","currentQueryFilter","searchView","showSearchDropdown","selectedLabels","addChip","updateLabelChips","closeSearchDropdown","jumpInHistory","setQueryAndFilter","hideDropdown","showHistogram","triggerScrollTo","showSearchHistory","chip","refInFor","active","toggleChip","removeChip","updateChip","timeFilterChips","operator","eventList","count_per_index","count_per_timeline","updateSelectedTimelines","zoomLevel","transform","count_over_time","addChipFromHistogram","removeContext","scrollToContextEvent","toEvent","searchInProgress","fromEvent","totalHits","totalTime","showSavedSearchModal","toggleStar","numSelectedEvents","totalHitsForPagination","$$selectedVal","prototype","call","o","selected","_value","multiple","changeSortOrder","order","mappings","selectedFieldsProxy","expandFieldDropdown","updateSelectedFields","selectedFields","removeField","displayOptions","objects","updateLabelList","searchContext","datetimeWidth","toggleSelectAll","searchNode","deltaDays","_source","timestamp","datetimeFormat","isSelected","toggleSelect","isStarred","filteredLabelsToAdd","labelsToRemove","labelToAdd","addLabels","showDetail","emoji","emojis","tag","timelineName","comments","comment","editable","updateComment","toggleEditComment","getCurrentUser","deleteComment","postComment","handleSelectionChange","item","c_key","addFilter","arg","getRegexes","TsIOCMenu","this$1","contextMenu","getIOC","$attrs","contextMenuParent","attributeKey","ioc","isInIntelligence","option","saveThreatIntel","posX","posY","parentComponent","clientX","clientY","handleClick","removeEventListener","menuBox","insideClick","highlightClick","left","top","IOCTypes","regex","TsContextMenu","iocColumns","selectedIOC","attributes","intelligence","regexSelection","regexes","fullEvent","fullEventFiltered","getOwnPropertyNames","handleCopyStatus","notification","closest","TsSketchExploreEventListRowDetail","timelineColor","fieldColumnColor","showMillis","isLegacy","prevEvent","delta","prevTimestamp","eventDataSparse","eventData","_type","filteredLabels","filter_labels","filteredLabelsToRemove","toggleStarOnSelect","eventsToToggle","enable","changeComment","commentIndex","currentUser","undefined","labels","labelDropdown","toggle","selectEvent","unSelectEvent","selectAll","isLoading","isEmptyState","getCount","toggleTimeline","activeTimelines","enableAllTimelines","disableAllTimelines","rename","getTimelineStyle","eventsCount","showColorPicker","colorPicker","click","textDecoration","opacity","a","localeCompare","b","countPerTimeline","selectedTimelines","countPerIndex","timelineIdx","newArray","syncSelectedTimelines","deep","formatDateTime","radio","modifiers","getPlaceholder","offsetStart","submit","trim","$forceUpdate","offsetMinus","offsetPlus","selectedInterval","startDateTime","endDateTime","skipCheck","jumpTo","ready","selectedChip","intervals","now","range","offset","match","hasAllInputs","radioName","getOffsetDateTime","offsetRegexpMatch","startDateTimeOffset","endDateTimeString","startDateTimeString","dateTimeTemplate","startDateTimeMoment","isValid","endDateTimeMoment","chipType","chipValue","resetInterface","assign","$data","$options","focus","treeData","selectedNode","star","hasStar","dimmed","node","query_string","children","child","Function","hasLabel","hasComment","query_result_count","findSearchNode","object","predicate","hasOwnProperty","initialNode","handleClickFromDropdown","nodeId","nodeFromDropdown","createBranch","newNode","fetchHistory","parent","some","annotateNode","scrollTo","$nextTick","getElementById","scrollIntoView","behavior","block","inline","hasParent","searchHistoryBack","hasChild","searchHistoryForward","series","chart","zoom","enabled","autoScaleYaxis","foreColor","animations","easing","speed","animateGradually","delay","dynamicAnimation","toolbar","show","tools","download","selection","zoomin","zoomout","dataPointSelection","tooltip","followCursor","x","formatter","plotOptions","bar","columnWidth","borderRadius","dataLabels","grid","xaxis","lines","yaxis","tickPlacement","chartData","entries","getBucketDateTimeRange","emitFilterRequest","timerange","start","toISOString","end","setTheme","matches","fields","searchForField","dataType","data_type","searchForDataType","tags","searchForLabel","searchForTag","savedSearches","setActiveView","doSearch","from","terminate_after","chips","TsViewListCompact","searchHistory","all","defaultQueryFilter","separator","dragscroll","TsSketchExploreEventList","TsExploreTimelinePicker","TsExploreFilterTime","TsSearchHistoryTree","TsSearchHistoryButtons","TsBarChart","TsSearchDropdown","TsCreateViewForm","showCreateViewModal","showFilterCard","showSearch","contextEvent","originalContext","selectedEvents","showTags","showEmojis","branchParent","zoomOrigin","y","es_total_count_complete","total","es_time","filterChips","isActive","$scrollTo","emptyEventList","resetPagination","incognito","emitEvent","searchEvent","searchInput","file_name","newStartDate","newEndDate","startChip","endChip","__ts_timeline_id","numContextEvents","stringify","clearSearch","replace","chipIndex","newChip","toggleLabelChip","labelName","pageNum","updateSelectedEvents","$delete","eventsStarred","eventsUnstarred","query_filter","allIndices","zoomWithMouse","pageX","pageY","deltaY","targetElement","getAttribute","numEvents","$route","indexName","resultLimit","limit","q","script","display_name","currentGraph","buildGraph","savedGraph","buildSavedGraph","currentGraphCacheConfig","getTimelineFromId","filterGraphByInput","filterString","changeOpacity","fadeOpacity","layout","hasGraphCache","layoutName","edge","edgeStyle","saveAsName","saveSelection","cy","fit","showGraph","preConfig","afterCreated","filterGraphBySelection","unSelectAllElements","def","currentGraphCache","edgeQuery","TsSketchExploreEventListRow","queryDsl","savedGraphs","selectedGraphs","maxEvents","layouts","edgeStyles","animate","prelayout","spacingFactor","minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","selectionType","touchTapThreshold","desktopTapThreshold","autolock","autoungrabify","autounselectify","headless","styleEnabled","hideEdgesOnViewport","hideLabelsOnViewport","textureOnViewport","motionBlur","motionBlurOpacity","pixelRatio","loadingTimeout","setTimeout","buildNeighborhood","neighborhood","add","connectedNodes","showNeighborhood","addClass","removeClass","bool","should","must","boolMustQuery","unselect","resizeCanvas","canvas","minHeight","canvasHeight","height","minWidth","canvasWidth","cytoscape","pluginName","addAggregation","allAggregations","showSaveModal","aggregationName","updateAggregatorFormFields","selectedAggregator","schema","getVegaSpec","showChart","vegaSpec","chartType","vegaId","_uid","_b","display","updateForm","placeholder","dateFormatter","dateString","TsDynamicFormTextInput","TsDynamicFormSelectInput","TsDynamicFormDatetimeInput","fieldName","setActiveAggregator","aggregator","selectedChart","aggregatorClone","tableData","getColumns","firstRow","columns","sortable","timelineColumns","TsDynamicForm","TsVegaLiteChart","TsSketchExploreAggregatorListDropdown","TsTableChart","TsTimelineListDropdown","form_fields","aggregator_name","aggregator_parameters","aggParameters","start_time","end_time","aggregations","aggregationGroups","analyzerCheckedRows","timelineCheckedRows","session","sessions","availableAnalyzers","analyzerColumns","messageTitle","pending","done","started","analyzer","analysisSession","totalAnalyzers","finishedAnalyzers","timelineSet","tableArray","TsAnalysisSessionDetail","showCreateStoryModal","TsStoryList","TsStoryCreateForm","activeBlock","deleteBlock","update","toHtml","saveAndHide","edit","componentProps","aggregation_group","showPanel","blocks","addBlock","addViewComponent","addAggregationComponent","isRounded","agg","setActiveAggregation","isLast","isSimple","activeView","saveView","dropdown","queryViewId","TsAggregationListDropdown","TsAggregationCompact","TsAggregationGroupCompact","TsViewListDropdown","TsViewEventList","newIndex","newBlock","defaultBlock","hideBlock","sketchAttributes","tagMetadata","startIOCEdit","getNewIoc","intelligenceData","getValidUrl","externalURI","host","generateOpenSearchQuery","getEnrichedTags","generateOrOpenSearchQuery","tagInfo","iocs","deleteIoc","weight","sketchTags","previewData","displayInline","delayDisplay","previewSearchNode","responseMeta","timer","refreshPreview","clearTimeout","newQuery","composeIoc","editableTags","readonlyTags","saveIoc","$parent","newobj","editingIoc","isNew","urlString","URL","loadSketchAttributes","loadSketchTags","notifyClipboardSuccess","buildTagInfo","enriched","enrichTag","modal","TsIocCompose","saveIntelligence","intelligenceAttribute","save_button_text","editingRule","template","os","parsed","problemString","parseSigma","addOrUpdateRule","composeRule","sigmaRuleList","startRuleEdit","author","deleteRule","sketchTTP","ts_ttp","SkeletonFirst","crypto","randomUUID","toLocaleString","SkeletonLast","AwsText","AzureActivitylogsText","AzureSigninlogsText","GCPAuditlogsText","GworkspaceText","Microsoft365Text","OktaText","LinuxFileCreateText","LinuxNetworkConnectionText","LinuxProcessCreationText","LinuxAnyLogsText","LinuxAuditdText","LinuxClamavText","LinuxCronText","LinuxGuacamoleText","LinuxModsecurityText","LinuxSudoText","LinuxSshdText","LinuxSyslogText","LinuxVsftpdText","MacosFileeventText","MacosProcessCreationText","WindowsClipboardCaptureText","WindowsCreateRemoteThreadText","WindowsCreateStreamHashText","WindowsDnsQueryText","WindowsDriverLoadText","WindowsFileChangeText","WindowsFileDeleteText","WindowsFileEventText","WindowsImageLoadText","WindowsNetworkConnectionText","WindowsPipeCreatedText","WindowsProcessAccessText","WindowsProcessCreationText","WindowsProcessTamperingText","WindowsProcessTerminationText","WindowsPsClassicProviderStartText","WindowsPsClassicScriptText","WindowsPsClassicStartText","WindowsPsModuleText","WindowsPsScriptText","WindowsRawAccessThreadText","WindowsRegistryAddText","WindowsRegistryDeleteText","WindowsRegistryEventText","WindowsRegistryRenameText","WindowsRegistrySetText","WindowsSysmonErrorText","WindowsSysmonStatusText","WindowsWmiEventText","WindowsApplicationText","WindowsApplockerText","WindowsBitsclientText","WindowsCodeintegrityoperationalText","WindowsDhcpText","WindowsDnsserverText","WindowsDriverframeworkText","WindowsFirewallasText","WindowsLdapDebugText","WindowsMicrosoftservicebusclientText","WindowsMsexchangemanagementText","WindowsNtlmText","WindowsPowershellText","WindowsPowershellclassicText","WindowsPrintserviceadminText","WindowsPrintserviceoperationalText","WindowsSecurityText","WindowsSecuritymitigationsText","WindowsSmbclientsecurityText","WindowsSysmonText","WindowsSystemText","WindowsTaskschedulerText","WindowsTerminalservicesText","WindowsWindefendText","WindowsWmiText","SigmaTemplates","ascending","sortColumn","loadSketchSigmaTags","loadSketchTTP","_","debounce","create_new_rule","rule","getColorFromStatus","getRuleByUUID","rule_uuid","VueRouter","routes","path","Home","Sketch","Overview","Sigma","SigmaOverview","Explore","Graph","GraphOverview","GraphExplore","Aggregate","Analyze","Story","StoryOverview","StoryContent","Attributes","Intelligence","SavedSearches","mode","Vuex","defaultState","Store","mutations","SET_SKETCH","payload","set","SET_SEARCH_HISTORY","SET_TIMELINE_TAGS","buckets","SET_DATA_TYPES","SET_COUNT","SET_SEARCH_NODE","SET_SIGMARULE_LIST","RESET_STATE","ApiClient","then","actions","updateSketch","commit","catch","updateCount","resetState","updateSearchNode","updateSearchHistory","updateTimelineTags","updateDataTypes","updateSigmaList","library","faChevronUp","faChevronDown","faSave","faUserEdit","faAngleLeft","faAngleRight","faArrowUp","faArrowDown","faTag","EventBus","VueCytoscape","VueClipboard","Buefy","defaultIconComponent","defaultIconPack","VueScrollTo","Multiselect","FontAwesomeIcon","productionTip","router","store","render","App","$mount","requireFilter","filterModule","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code","resolve","module","exports","charAt","toUpperCase","currentAppContext","attributeCount","intelligenceCount","hasAttributeOntology","mark","switchTheme"],"mappings":"gLAAA,OAee,cACbA,KAAM,aACNC,OAAQ,SAASC,GACf,MAAmB,UAAfA,EAAMC,KACY,cAAhBD,EAAME,MACD,UACkB,iBAAhBF,EAAME,MACR,YAEFF,EAAME,MAERF,EAAMG,MAAQ,IAAMH,EAAME,S,qDCXtB,cACbJ,KAAM,kBACNC,OAAQ,SAASC,GACf,IAAII,EAAWC,SAASL,GAAOM,WAAWC,OAC1C,OAAiB,KAAbH,IAEoB,KAAbA,GAAgC,KAAbA,EAC5BJ,GAAgB,IACM,KAAbI,EACTJ,GAAgB,IACM,KAAbI,IACTJ,GAAgB,MANTA,K,sFCpBb,W,oCCAA,W,oCCAA,W,+ECiBMQ,EAAmBC,UASzBD,EAAiBE,OAAOC,SAAQ,SAAAC,GAE9B,IAAMC,EAAkBL,EAAiBI,GACnCE,EAAgBD,EAAgBE,QAAQjB,KAG9CkB,aAAIC,UACFH,EAIAD,EAAgBE,SAAWF,O,oCCrC/B,W,+GCAA,OAee,cACbf,KAAM,eACNC,OAAQ,SAASC,GAEVA,IACHA,EAAQ,GAEV,IAAIkB,EAAQ,CAAC,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACxDC,EAAWC,KAAKC,IAAID,KAAKE,MAAMF,KAAKG,IAAIvB,GAASoB,KAAKG,IAAI,MAAQL,EAAMX,OAAS,GACjFiB,EAAsD,GAA/CxB,EAAQoB,KAAKK,IAAI,IAAMN,IAAWO,QAAQ,GACrD,OAAOF,EAAMN,EAAMC,M,kCCzBvB,W,mGCAI,EAAS,WAAa,IAAIQ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,gBAAgB,IAC9IG,EAAkB,GCqBtB,GACEpC,KAAM,MACNqC,QAAS,WACP,IAAJ,gBACSC,aAAaC,QAChBD,aAAaC,MAAQ,SAEvBC,EAAQC,QAAQF,MAAQD,aAAaC,QC7BqR,I,wBCQ1TpB,EAAY,eACd,EACA,EACAiB,GACA,EACA,KACA,KACA,MAIa,EAAAjB,E,oBCnBX,EAAS,WAAa,IAAIU,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACZ,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAe,YAAEmB,WAAW,gBAAgBC,YAAY,gBAAgBd,MAAM,CAAC,KAAO,OAAO,YAAc,4BAA4B,UAAY,IAAIe,SAAS,CAAC,MAASrB,EAAe,aAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOR,IAAI,SAAkB,KAAcf,EAAI2B,OAAOC,MAAM,KAAMC,YAAY,MAAQ,SAASN,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAIgC,YAAYT,EAAOO,OAAOvD,aAAY0D,OAAM,OAAU7B,EAAG,UAAU,CAACgB,YAAY,UAAUc,YAAY,CAAC,aAAa,OAAO,gBAAgB,SAAS,CAAC9B,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,SAAS,CAACgB,YAAY,oBAAoBE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAImC,uBAAyBnC,EAAImC,yBAAyB,CAACnC,EAAIoC,GAAG,GAAGhC,EAAG,SAAS,CAACJ,EAAIqC,GAAG,6BAA6BjC,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAImC,sBAAsB,MAAQ,IAAI,OAAS,QAAQb,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAImC,sBAAsBZ,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,yBAAyBjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,0BAA0B,SAAUJ,EAAkB,eAAEI,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,iBAAiB,UAAW,IAAQ,CAACF,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,SAAS,eAAeN,EAAIsC,kBAAkBlC,EAAG,SAAS,CAACgB,YAAY,SAASE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIsC,eAAiB,MAAM,CAACtC,EAAIqC,GAAG,YAAY,IAAI,KAAKrC,EAAIuC,KAAKnC,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAACpB,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,aAAa,OAAOF,EAAG,QAAQA,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAACpB,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,WAAW,SAASF,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAACpB,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,aAAa,SAASF,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAACpB,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,eAAe,SAASF,EAAG,OAAO,IACpsF,EAAkB,CAAC,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,0BAA0B,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,MAAM,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,qDAAqD,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,MAAM,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,oDAAoD,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,MAAM,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,iDAAiD,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,MAAM,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,4CCDnhC,G,wCAAS,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAGJ,EAAIwC,SAAS5D,OAA4EoB,EAAIuC,KAAxEnC,EAAG,MAAM,CAACJ,EAAIqC,GAAG,MAAMrC,EAAIyC,GAAGzC,EAAI0C,OAAO,2BAAoCtC,EAAG,KAAK,CAACgB,YAAY,gBAAgBpB,EAAI2C,GAAI3C,EAAY,UAAE,SAAS4C,GAAQ,OAAOxC,EAAG,KAAK,CAACW,IAAI6B,EAAOC,GAAGzB,YAAY,YAAYc,YAAY,CAAC,QAAU,SAAS,CAAC9B,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAChB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,WAAY2E,OAAQ,CAAEC,SAAUH,EAAOC,OAAS,CAACzC,EAAG,SAAS,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGG,EAAOzE,WAAWiC,EAAG,MAAM,CAACgB,YAAY,eAAe,CAACpB,EAAIqC,GAAGrC,EAAIyC,GAAGG,EAAOI,iBAAiB,GAAG5C,EAAG,MAAM,CAACgB,YAAY,UAAU,CAAChB,EAAG,SAAS,CAAC8B,YAAY,CAAC,MAAQ,8BAA8B,CAAClC,EAAIqC,GAAG,iBAAiBrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGG,EAAOK,MAAM,gBAAgB7C,EAAG,MAAM,CAAC8B,YAAY,CAAC,YAAY,UAAU,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIkD,GAAG,SAAPlD,CAAiB4C,EAAOO,WAAW,oBAAoB/C,EAAG,MAAM,CAACgB,YAAY,SAASc,YAAY,CAAC,aAAa,UAAU,CAAC9B,EAAG,OAAO,CAACgB,YAAY,sCAAsCc,YAAY,CAAC,gBAAgB,OAAO,aAAa,SAAS,CAAoB,aAAlBU,EAAOQ,OAAuBhD,EAAG,OAAO,CAACJ,EAAIqC,GAAG,4CAA6CO,EAAoB,cAAExC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,yCAAyCrC,EAAIyC,GAAGzC,EAAIqD,QAC3wCC,IAAIV,EAAOW,eACXC,QACAC,WAAW,oBAAsBb,EAAOW,cAAoFvD,EAAIuC,KAAzEnC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,qDAA8DjC,EAAG,gBAAe,GAAGA,EAAG,MAAOJ,EAAI0D,YAAc1D,EAAI2D,QAASvD,EAAG,eAAe,CAACgB,YAAY,WAAWd,MAAM,CAAC,MAAQN,EAAI0D,YAAY,QAAS,EAAK,WAAW1D,EAAI2D,QAAQ,KAAO,YAAYrC,GAAG,CAAC,OAAStB,EAAI4D,UAAUC,MAAM,CAACtF,MAAOyB,EAAe,YAAE8D,SAAS,SAAUC,GAAM/D,EAAIgE,YAAYD,GAAK5C,WAAW,iBAAiBnB,EAAIuC,MAAM,KACne,EAAkB,G,iCCchB0B,EAAgBC,IAAMC,OAAO,CACjCC,QAAS,UACTC,QAAS,CACPC,OAAQ,CACN,cAAeC,SAASC,qBAAqB,QAAQ,GAAG,eAKxDC,EAAoBP,IAAMC,OAAO,CACrCC,QAAS,UACTM,aAAc,OACdL,QAAS,CACPC,OAAQ,CACN,cAAeC,SAASC,qBAAqB,QAAQ,GAAG,eAM9DP,EAAcU,aAAaC,SAASC,KAClC,SAAUD,GACR,OAAOA,KAET,SAAUE,GAsBR,MArBoC,gCAAhCA,EAAMF,SAASG,KAAKC,QACtBC,OAASC,KAAK,CACZF,QAASF,EAAMF,SAASG,KAAKC,QAC7B1G,KAAM,WACN6G,SAAU,SACVC,WAAY,UACZC,YAAY,EACZC,SAAU,WACRC,SAASC,aAIbC,QAAQX,MAAMA,EAAMF,SAASG,MAC7BE,OAASC,KAAK,CACZF,QAAS,WAAF,OAAaF,EAAME,QAAnB,+BACP1G,KAAM,YACN6G,SAAU,SACVC,WAAY,QACZM,SAAU,OAGPC,QAAQC,OAAOd,MAIX,OAEbe,cAFa,SAECnD,EAAOoD,EAAM9D,GACzB,IAAIc,EAAS,CACXA,OAAQ,CACNJ,MAAOA,EACPoD,KAAMA,EACNC,aAAc/D,IAGlB,OAAOiC,EAAc+B,IAAI,aAAclD,IAEzCmD,UAZa,SAYHlD,GACR,OAAOkB,EAAc+B,IAAI,aAAejD,EAAW,MAErDmD,aAfa,SAeAC,GACX,OAAOlC,EAAcmC,KAAK,aAAcD,IAE1CE,aAlBa,SAkBAtD,GACX,OAAOkB,EAAcqC,OAAO,aAAevD,EAAW,MAExDwD,cArBa,SAqBCxD,GACZ,IAAIoD,EAAW,CACbK,OAAQ,WAEV,OAAOvC,EAAcmC,KAAK,aAAerD,EAAW,YAAaoD,IAEnEM,gBA3Ba,SA2BG1D,GACd,IAAIoD,EAAW,CACbK,OAAQ,aAEV,OAAOvC,EAAcmC,KAAK,aAAerD,EAAW,YAAaoD,IAEnEO,aAjCa,SAiCA3D,GACX,IAAIoD,EAAW,CACbK,OAAQ,UAEV,OAAO/B,EAAkB2B,KAAK,aAAerD,EAAW,YAAaoD,IAEvEQ,oBAvCa,SAuCO5D,GAClB,OAAOkB,EAAc+B,IAAI,aAAejD,EAAW,gBAErD6D,mBA1Ca,SA0CM7D,EAAU5E,EAAMI,EAAOsI,GACxC,IAAIC,EAAY,CACd3I,KAAMA,EACN4I,OAAQ,CAACxI,GACTsI,SAAUA,EACVL,OAAQ,QAEV,OAAOvC,EAAcmC,KAAK,aAAerD,EAAW,cAAe+D,IAErEE,kBAnDa,SAmDKjE,EAAUkE,GAC1B,OAAOhD,EAAc+B,IAAI,aAAejD,EAAW,cAAgBkE,EAAa,MAElFC,0BAtDa,SAsDanE,EAAUkE,GAClC,OAAOhD,EAAc+B,IAAI,aAAejD,EAAW,cAAgBkE,EAAa,eAElFE,mBAzDa,SAyDMpE,EAAUkE,EAAY9I,EAAM6E,EAAaoE,GAC1D,IAAIjB,EAAW,CACbhI,KAAMA,EACN6E,YAAaA,EACboE,MAAOA,GAET,OAAOnD,EAAcmC,KAAK,aAAerD,EAAW,YAAckE,EAAa,IAAKd,IAEtFkB,kBAjEa,SAiEKtE,EAAU5E,EAAM6E,GAChC,IAAImD,EAAW,CACbhI,KAAMA,EACN6E,YAAaA,GAEf,OAAOiB,EAAcmC,KAAK,aAAerD,EAAW,IAAKoD,IAE3DmB,qBAxEa,SAwEQvE,EAAUkE,GAC7B,OAAOhD,EAAcqC,OAAO,aAAevD,EAAW,YAAckE,EAAa,MAGnFM,SA5Ea,SA4EJxE,EAAUyE,EAAeC,GAChC,IAAI3E,EAAS,CACXA,OAAQ,CACN4E,eAAgBF,EAChBG,SAAUF,IAGd,OAAOxD,EAAc+B,IAAI,aAAejD,EAAW,UAAWD,IAEhE8E,oBArFa,SAqFO7E,EAAU8E,EAAgBC,EAAYC,EAAQC,GAAmC,IAAhBC,EAAgB,wDAC/F9B,EAAW,CACb2B,WAAYA,EACZI,gBAAiBL,EACjBE,OAAQA,EACRI,uBAAwBH,EAAkBnF,GAC1CoF,OAAQA,GAEV,OAAOhE,EAAcmC,KAAK,aAAerD,EAAW,mBAAoBoD,IAE1EiC,sBA/Fa,SA+FSrF,EAAU8E,EAAgBC,EAAYC,EAAQC,GAClE,IAAI7B,EAAW,CACb2B,WAAYA,EACZI,gBAAiBL,EACjBE,OAAQA,EACRI,uBAAwBH,EAAkBnF,IAE5C,OAAOoB,EAAcoE,IAAI,aAAetF,EAAW,mBAAoBoD,IAEzEmC,sBAxGa,SAwGSvF,EAAU8E,EAAgBU,EAAcC,EAAOR,GACnE,IAAIlF,EAAS,CACXA,OAAQ,CACN2F,cAAeF,EACfL,gBAAiBL,EACjBF,SAAUa,EAAME,IAChBhB,eAAgBc,EAAMG,OACtBR,uBAAwBH,EAAkBnF,KAG9C,OAAOoB,EAAcqC,OAAO,aAAevD,EAAW,mBAAoBD,IAG5E8F,aArHa,SAqHA7F,GACX,OAAOkB,EAAc+B,IAAI,YAAcjD,EAAW,cAEpD8F,SAxHa,SAwHJ9F,EAAU+F,GACjB,OAAO7E,EAAc+B,IAAI,aAAejD,EAAW,YAAc+F,EAAU,MAE7EC,YA3Ha,SA2HDC,EAAOC,EAASlG,GAC1B,IAAIoD,EAAW,CACb6C,MAAOA,EACPC,QAASA,GAEX,OAAOhF,EAAcmC,KAAK,aAAerD,EAAW,UAAWoD,IAEjE+C,YAlIa,SAkIDF,EAAOC,EAASlG,EAAU+F,GACpC,IAAI3C,EAAW,CACb6C,MAAOA,EACPC,QAASA,GAEX,OAAOhF,EAAcmC,KAAK,aAAerD,EAAW,UAAY+F,EAAU,IAAK3C,IAEjFgD,YAzIa,SAyIDpG,EAAU+F,GACpB,OAAO7E,EAAcqC,OAAO,aAAevD,EAAW,UAAY+F,EAAU,MAG9EM,QA7Ia,SA6ILrG,EAAUsG,GAChB,OAAOpF,EAAc+B,IAAI,aAAejD,EAAW,UAAYsG,EAAS,MAE1EC,WAhJa,SAgJFvG,EAAUwG,EAAUC,EAAaC,GAC1C,IAAItD,EAAW,CACbhI,KAAMoL,EACNG,MAAOF,EACPpL,OAAQqL,EACRE,IAAK,IAEP,OAAO1F,EAAcmC,KAAK,aAAerD,EAAW,QAASoD,IAE/DyD,WAzJa,SAyJF7G,EAAUsG,EAAQG,EAAaC,GACxC,IAAItD,EAAW,CACbuD,MAAOF,EACPpL,OAAQqL,GAEV,OAAOxF,EAAcmC,KAAK,aAAerD,EAAW,QAAUsG,EAAS,IAAKlD,IAE9E0D,WAhKa,SAgKF9G,EAAUsG,GACnB,OAAOpF,EAAcqC,OAAO,aAAevD,EAAW,UAAYsG,EAAS,MAG7E1H,OApKa,SAoKNoB,EAAUoD,GACf,OAAOlC,EAAcmC,KAAK,aAAerD,EAAW,YAAaoD,IAEnE2D,mBAvKa,SAuKM/G,EAAUoD,GAC3B,OAAO1B,EAAkB2B,KAAK,aAAerD,EAAW,YAAaoD,IAEvE4D,gBA1Ka,SA0KGhH,GACd,OAAOkB,EAAc+B,IAAI,aAAejD,EAAW,kBAErDiH,qBA7Ka,SA6KQjH,GACnB,OAAOkB,EAAc+B,IAAI,aAAejD,EAAW,wBAErDkH,cAhLa,SAgLClH,EAAUoD,GACtB,OAAOlC,EAAcmC,KAAK,aAAerD,EAAW,wBAAyBoD,IAE/E+D,mBAnLa,SAmLMnH,EAAUoH,GAC3B,OAAOlG,EAAc+B,IAAI,aAAejD,EAAW,sBAAwBoH,EAAU,MAEvFC,gBAtLa,SAsLGrH,EAAUsH,EAAalM,EAAMgI,GAC3C,IAAImE,EAAc,CAChBnM,KAAMA,EACN6E,YAAaqH,EAAYrH,YACzBuH,SAAUF,EAAYlM,KACtBqM,WAAYrE,EAAS,oBACrBsE,WAAYtE,GAEd,OAAOlC,EAAcmC,KAAK,aAAerD,EAAW,gBAAiBuH,IAGvEI,kBAjMa,SAiMK3H,GAChB,OAAOkB,EAAc+B,IAAI,aAAejD,EAAW,YAErD4H,eApMa,SAoMExE,EAAUyE,GACvB,OAAO3G,EAAcmC,KAAK,WAAYD,EAAUyE,IAElDC,YAvMa,SAuMD9H,EAAU+H,GACpB,OAAO7G,EAAc+B,IAAI,aAAejD,EAAW,qBAAuB+H,EAAgB,MAE5FC,SA1Ma,WA2MX,OAAO9G,EAAc+B,IAAI,YAE3BgF,UA7Ma,WA8MX,OAAO/G,EAAc+B,IAAI,aAE3BiF,kBAhNa,SAgNKlI,EAAUmI,EAAUC,EAAYC,EAAaC,EAAeC,GAC5E,IAAInF,EAAW,CACboF,OAAQL,EACRM,MAAOL,EACPM,OAAQL,EACRM,aAAcL,EACdM,cAAeL,GAEjB,OAAOrH,EAAcmC,KAAK,aAAerD,EAAW,gBAAiBoD,IAEvEyF,aA1Na,SA0NA7I,GACX,OAAOkB,EAAc+B,IAAI,aAAejD,EAAW,eAErD8I,aA7Na,SA6NA9I,EAAU+I,EAAaC,GAClC,IAAI5F,EAAW,CACb6F,aAAcF,EACdG,eAAgBF,GAElB,OAAO9H,EAAcmC,KAAK,aAAerD,EAAW,WAAYoD,IAElE+F,mBApOa,SAoOMnJ,EAAUoJ,GAC3B,OAAOlI,EAAc+B,IAAI,aAAejD,EAAW,sBAAwBoJ,EAAY,MAEzFC,0BAvOa,SAuOarJ,GACxB,OAAOkB,EAAc+B,IAAI,aAAejD,EAAW,+BAErDsJ,gBA1Oa,WA2OX,OAAOpI,EAAc+B,IAAI,eAE3BsG,wBA7Oa,SA6OWvJ,EAAUwJ,EAAaC,EAAgBV,EAAaW,GAC1E,IAAItG,EAAW,CACbuG,OAAQH,EACR3B,OAAQ,CACNxM,OAAQ,CACNuO,QAASH,EACTV,YAAaA,IAGjBW,QAASA,GAKX,OAHIX,EAAYlN,SACduH,EAAS,gBAAkB2F,GAEtB7H,EAAcmC,KAAK,aAAerD,EAAW,QAASoD,IAE/DyG,mBA7Pa,WA8PX,OAAO3I,EAAc+B,IAAI,aAE3B6G,UAhQa,SAgQH9J,EAAU5E,EAAM2O,GACxB,IAAI3G,EAAW,CACbhI,KAAMA,EACN2O,SAAUA,GAEZ,OAAO7I,EAAcmC,KAAK,aAAerD,EAAW,SAAUoD,IAEhE4G,kBAvQa,SAuQKhK,GAChB,OAAOkB,EAAc+B,IAAI,aAAejD,EAAW,WAErDiK,cA1Qa,SA0QCjK,EAAUkK,GACtB,IAAInK,EAAS,CACXA,OAAQ,CACNoK,OAAQ,cAGZ,OAAOjJ,EAAc+B,IAAI,aAAejD,EAAW,SAAWkK,EAAU,IAAKnK,IAE/EqK,iBAlRa,SAkRIpK,GACf,OAAOkB,EAAc+B,IAAI,aAAejD,EAAW,kBAErDqK,qBArRa,SAqRQrK,GACnB,OAAOkB,EAAc+B,IAAI,aAAejD,EAAW,sBAGrDsK,aAzRa,WA2RX,OAAOpJ,EAAc+B,IAAI,YAE3BsH,iBA7Ra,SA6RIC,GAEf,OAAOtJ,EAAc+B,IAAI,eAAiBuH,EAAW,MAEvDC,eAjSa,SAiSEC,GAEb,IAAItH,EAAW,CACb8C,QAASwE,GAEX,OAAOxJ,EAAcmC,KAAK,eAAgBD,IAG5CuH,iBAzSa,WA0SX,OAAOzJ,EAAc+B,IAAI,gBAE3B2H,qBA5Sa,SA4SQJ,GACnB,OAAOtJ,EAAc+B,IAAI,cAAgBuH,EAAW,MAEtDK,mBA/Sa,SA+SMH,GACjB,IAAItH,EAAW,CACb8C,QAASwE,GAEX,OAAOxJ,EAAcmC,KAAK,mBAAoBD,IAEhD0H,gBArTa,SAqTGN,GACd,OAAOtJ,EAAcqC,OAAO,cAAgBiH,EAAW,MAEzDO,gBAxTa,SAwTGL,GACd,IAAItH,EAAW,CACb4H,UAAWN,GAEb,OAAOxJ,EAAcmC,KAAK,cAAeD,IAE3C6H,gBA9Ta,SA8TGnL,EAAI4K,GAClB,IAAItH,EAAW,CACbtD,GAAIA,EACJkL,UAAWN,GAEb,OAAOxJ,EAAcoE,IAAI,cAAgBxF,EAAK,IAAKsD,IAErD8H,eArUa,WAsUX,OAAOhK,EAAc+B,IAAI,gCChU7B,GACEkI,MAAO,CAAC,QAAS,eACjBnJ,KAFF,WAGI,MAAO,CACLvC,SAAU,GACVkB,YAAa,EACbM,YAAa,EACbL,QAAS,KAGbwK,QAAS,CACPC,YAAa,WAAjB,WACM,EAAN,4DACA,kBACQ,EAAR,wBACQ,EAAR,uCAEA,mBACQ,QAAR,aAGIxK,SAAU,WACR3D,KAAKmO,gBAGT5N,QAzBF,WA0BIP,KAAKmO,eAEPC,MAAO,CACLrM,YAAa,WACQ,WAAf/B,KAAKyC,OACPzC,KAAKmO,iBCzGsV,ICQ/V,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIpO,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACkB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAO+M,iBAAwBtO,EAAIuO,WAAW3M,MAAM,KAAMC,cAAc,CAACzB,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,QAAQ,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAG,UAAUjC,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAIwO,KAAS,KAAErN,WAAW,cAAcC,YAAY,QAAQd,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,YAAc,mBAAmB,UAAY,IAAIe,SAAS,CAAC,MAASrB,EAAIwO,KAAS,MAAGlN,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,WAAqB/B,EAAIyO,KAAKzO,EAAIwO,KAAM,OAAQjN,EAAOO,OAAOvD,eAAe6B,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,QAAQ,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAG,4BAA4BjC,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,WAAW,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAIwO,KAAgB,YAAErN,WAAW,qBAAqBC,YAAY,WAAWd,MAAM,CAAC,YAAc,wBAAwBe,SAAS,CAAC,MAASrB,EAAIwO,KAAgB,aAAGlN,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,WAAqB/B,EAAIyO,KAAKzO,EAAIwO,KAAM,cAAejN,EAAOO,OAAOvD,eAAeyB,EAAIoC,GAAG,MACtqC,EAAkB,CAAC,WAAa,IAAIpC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,KAAO,SAAS,MAAQ,gBCuCvP,GACEyE,KADF,WAEI,MAAO,CACLyJ,KAAM,CACJrQ,KAAM,GACN6E,YAAa,MAInBmL,QAAS,CACPO,cAAe,WACbzO,KAAKuO,KAAKrQ,KAAO,GACjB8B,KAAKuO,KAAKxL,YAAc,IAE1BuL,WAAY,WAAhB,WACA,GACQpQ,KAAM8B,KAAKuO,KAAKrQ,KAChB6E,YAAa/C,KAAKuO,KAAKxL,aAEzB,EAAN,gBACA,kBACQ,IAAR,uBACQ,EAAR,gBACQ,EAAR,cAAU,KAAV,WAAU,OAAV,kBAEA,0BCjEyW,ICOrW,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,oBCoHf,GACE2L,WAAY,CACVC,aAAJ,aACIC,aAAJ,EACIC,mBAAJ,GAEE/J,KANF,WAOI,MAAO,CACL5C,uBAAuB,EACvB4M,YAAa,GACbC,WAAY,GACZC,mBAAoB,GACpBC,eAAgB,GAChBC,SAAS,EACTC,YAAY,EACZC,iBAAkB,KAClBrN,YAAa,GACbM,eAAgB,KAGpBgN,SAAU,CACRC,aADJ,WACA,WACM,OAAOtP,KAAK8O,YAAY3Q,QAAO,SAArC,GACQ,OAAOwE,EAAOzE,KAAKqR,cAAcC,SAAS,EAAlD,2BAIEtB,QAAS,CACPuB,YAAa,WACXzP,KAAKkP,SAAU,EACflP,KAAKoP,iBAAmBpP,KAAK0P,OAAOR,QAAQjK,KAAK,CAC/C0K,UAAW3P,KAAKmP,WAAa,KAAOnP,KAAK4P,MAAMlP,QAAQmP,OAG3DC,aAAc,WACZ9P,KAAKkP,SAAU,EACflP,KAAKoP,iBAAiBW,SAExBrO,OAAQ,WACN1B,KAAKqC,eAAiBrC,KAAK+B,cAG/BxB,QAAS,WACPP,KAAKgQ,OAAOC,SAAS,cACrB3L,SAASyE,MAAQ,eClLyT,ICO1U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAIhJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAI4C,OAAa,OAAExC,EAAG,eAAeJ,EAAIuC,MACtI,EAAkB,GCmBtB,GACE2L,MAAO,CAAC,YACR1N,QAAS,WACPP,KAAKgQ,OAAOC,SAAS,eAAgBjQ,KAAK8C,UAC1C9C,KAAKgQ,OAAOC,SAAS,sBAAuBjQ,KAAK8C,UACjD9C,KAAKgQ,OAAOC,SAAS,kBAAmBjQ,KAAK8C,WAE/CuM,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,SAG7ByL,MAAO,CACLzL,OAAQ,SAAZ,GACsC,aAA5BwN,EAAOhN,OAAO,GAAGA,QACnBnD,KAAKoQ,QAAQC,KAAK,CAA1B,mDAEM/L,SAASyE,MAAQ/I,KAAK2C,OAAOzE,QCrC6S,ICO5U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAI6B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAI4C,OAAa,OAAExC,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,IAAO,MAAK,EAAM,cAAejC,EAAc,WAAEI,EAAG,MAAM,CAACgB,YAAY,sCAAsCc,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,MAAM,CAACgB,YAAY,8DAA8Dc,YAAY,CAAC,aAAa,QAAQ,cAAc,SAAS,CAAC9B,EAAG,KAAK,CAACgB,YAAY,cAAc,CAACpB,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,SAASiC,EAAG,IAAI,CAACJ,EAAIqC,GAAG,mCAAmCjC,EAAG,MAAM,CAACgB,YAAY,sBAAsBc,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,SAAS,CAACgB,YAAY,gCAAgCE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIyG,qBAAqB,CAACzG,EAAIqC,GAAG,eAAejC,EAAG,SAAS,CAACgB,YAAY,6BAA6BE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI0G,kBAAkB,CAAC1G,EAAIqC,GAAG,kBAAkBrC,EAAIuC,KAAOvC,EAAIuQ,WAAyjVvQ,EAAIuC,KAAjjVnC,EAAG,MAAM,CAACA,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,aAAa,CAACN,EAAI2C,GAAI3C,EAAIwQ,KAAkB,eAAE,SAASC,GAAO,OAAOrQ,EAAG,OAAO,CAACW,IAAI0P,EAAMvO,YAAY,CAAC,eAAe,OAAO,MAAQ,4BAA4B,YAAY,UAAU,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGgO,SAAazQ,EAAIwQ,KAAkB,cAAEpQ,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQN,EAAI0Q,aAAa,SAAW,YAAY,KAAO,aAAa,CAAE1Q,EAAIwQ,KAAKG,YAAiB,MAAEvQ,EAAG,IAAI,CAACgB,YAAY,0BAA0Bc,YAAY,CAAC,eAAe,OAAO,gBAAgB,OAAOZ,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAI4Q,gBAAkB5Q,EAAI4Q,kBAAkB,CAACxQ,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAEpB,EAAIwQ,KAAKG,YAAkB,OAAEvQ,EAAG,IAAI,CAACgB,YAAY,iBAAkBpB,EAAIwQ,KAAKK,cAAcrF,MAAM5M,QAAUoB,EAAIwQ,KAAKK,cAAcpF,OAAO7M,OAAQwB,EAAG,IAAI,CAACgB,YAAY,iBAAmBpB,EAAIwQ,KAAKG,YAAYpF,OAA4CvL,EAAIuC,KAAxCnC,EAAG,IAAI,CAACgB,YAAY,kBAA2BhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,aAAarC,EAAIuC,OAAOvC,EAAIuC,KAAMvC,EAAIwQ,KAAKG,YAAiB,MAAEvQ,EAAG,cAAc,CAACE,MAAM,CAAC,SAAW,kBAAkBO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,IAAI,CAACgB,YAAY,qCAAqCc,YAAY,CAAC,WAAa,cAAc,OAAS,OAAO,eAAe,UAAU,CAAC9B,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,wBAAwBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,cAAcJ,OAAM,IAAO,MAAK,EAAM,aAAa,CAAEjC,EAAIwQ,KAAKG,YAAkB,OAAEvQ,EAAG,MAAM,CAACgB,YAAY,mBAAmBd,MAAM,CAAC,YAAY,aAAa,CAACF,EAAG,OAAO,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAI8Q,uBAAyB9Q,EAAI8Q,yBAAyB,CAAC1Q,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,mBAAmBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gBAAgBrC,EAAIuC,KAAMvC,EAAIwQ,KAAKG,YAAkB,OAAEvQ,EAAG,MAAM,CAACgB,YAAY,mBAAmBd,MAAM,CAAC,YAAY,aAAa,CAACF,EAAG,IAAI,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIuG,mBAAmB,CAACnG,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,qBAAqBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,iBAAiBrC,EAAIuC,KAAMvC,EAAIwQ,KAAKG,YAAgB,KAAEvQ,EAAG,MAAM,CAACgB,YAAY,mBAAmBd,MAAM,CAAC,YAAY,aAAa,CAACF,EAAG,IAAI,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI0G,kBAAkB,CAACtG,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,yBAAyBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gBAAgBrC,EAAIuC,OAAOvC,EAAIuC,MAAM,GAAGnC,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAI4Q,eAAe,MAAQ,IAAI,OAAS,QAAQtP,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAI4Q,eAAerP,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,oBAAoBjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,gBAAgB,CAACkB,GAAG,CAAC,gBAAkBtB,EAAI+Q,oBAAoB,SAAS3Q,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAIgR,wBAAwB,MAAQ,IAAI,OAAS,QAAQ1P,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAIgR,wBAAwBzP,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,2BAA2BjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,IAAI,CAACJ,EAAIqC,GAAG,qLAAqLjC,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,4FAA4F,IAAM,aAAa,OAAS,WAAW,CAACN,EAAIqC,GAAG,mBAAmBrC,EAAIqC,GAAG,qEAAqEjC,EAAG,0BAA0B,CAACkB,GAAG,CAAC,YAAc,SAASC,GAAQvB,EAAIgR,yBAA2BhR,EAAIgR,6BAA6B,SAAS5Q,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAI8Q,sBAAsB,MAAQ,IAAI,OAAS,QAAQxP,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAI8Q,sBAAsBvP,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,qBAAqBjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,IAAI,CAACJ,EAAIqC,GAAG,kDAAkDjC,EAAG,MAAM,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,mBAAmBE,GAAG,CAAC,MAAQtB,EAAIqG,eAAe,CAACjG,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,mBAAmBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gBAAgBjC,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,SAASE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAI8Q,uBAAyB9Q,EAAI8Q,yBAAyB,CAAC1Q,EAAG,OAAO,CAACJ,EAAIqC,GAAG,uDAAuDjC,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,MAAM,CAACgB,YAAY,uBAAuB,CAAChB,EAAG,MAAM,CAACgB,YAAY,0BAA0B,CAAChB,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,oBAAoB,CAACE,MAAM,CAAC,OAASN,EAAI4C,WAAW,OAAOxC,EAAG,MAAM,CAACgB,YAAY,kBAAkB,CAAChB,EAAG,MAAM,CAACgB,YAAY,0BAA0B,CAACpB,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,mBAAmB,CAAChB,EAAG,OAAO,CAAC8B,YAAY,CAAC,cAAc,SAAS,CAAClC,EAAIqC,GAAG,cAAcrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGzC,EAAI4C,OAAOK,KAAKgO,UAAU,wBAAyBjR,EAAIkR,iBAAuB,OAAE9Q,EAAG,MAAM,CAACgB,YAAY,mBAAmB,CAAChB,EAAG,OAAO,CAAC8B,YAAY,CAAC,cAAc,SAAS,CAAClC,EAAIqC,GAAG,uBAAuBrC,EAAI2C,GAAI3C,EAAIkR,kBAAkB,SAASjO,GAAM,OAAO7C,EAAG,OAAO,CAACW,IAAIkC,EAAK9E,MAAM,CAAC6B,EAAIqC,GAAG,yBAAyBrC,EAAIyC,GAAGQ,GAAM,8BAA6B,GAAGjD,EAAIuC,KAAMvC,EAAImR,kBAAwB,OAAE/Q,EAAG,MAAM,CAACgB,YAAY,mBAAmB,CAAChB,EAAG,OAAO,CAAC8B,YAAY,CAAC,cAAc,SAAS,CAAClC,EAAIqC,GAAG,wBAAwBrC,EAAI2C,GAAI3C,EAAImR,mBAAmB,SAASC,GAAO,OAAOhR,EAAG,OAAO,CAACW,IAAIqQ,EAAMjT,MAAM,CAAC6B,EAAIqC,GAAG,yBAAyBrC,EAAIyC,GAAG2O,GAAO,8BAA6B,GAAGpR,EAAIuC,OAAQvC,EAAI4C,OAAOyO,iBAAuB,OAAEjR,EAAG,MAAM,CAACgB,YAAY,gBAAgBpB,EAAIuC,KAAMvC,EAAI4C,OAAOyO,iBAAuB,OAAEjR,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,oBAAoB,CAACE,MAAM,CAAC,UAAYN,EAAI4C,OAAOyO,iBAAiB,MAAQrR,EAAIwQ,KAAKc,MAAM,QAAUtR,EAAIwQ,KAAKe,QAAQ,MAAQvR,EAAIwR,UAAU,GAAGxR,EAAIuC,eAAgBvC,EAAI4C,OAAO6O,WAAazR,EAAI4C,OAAO6O,UAAU7S,QAASoB,EAAI4C,OAAO6O,UAAU7S,OAAgBwB,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,MAAM,CAACgB,YAAY,0BAA0B,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACgB,YAAY,8BAA8B,CAAEpB,EAAI4C,OAAO6O,WAAazR,EAAI4C,OAAO6O,UAAU7S,QAASoB,EAAI4C,OAAO6O,UAAU7S,OAAgBwB,EAAG,MAAM,CAACgB,YAAY,0BAA0B,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,eAAejC,EAAG,MAAM,CAACgB,YAAY,mCAAmCc,YAAY,CAAC,QAAU,YAAY,CAAElC,EAAIwQ,KAAKG,YAAiB,MAAEvQ,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,wCAAwCE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIgR,yBAA2BhR,EAAIgR,2BAA2B,CAAChR,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,yBAAyBrC,EAAIuC,SAASnC,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,WAAW,CAAC9B,EAAG,mBAAmB,CAACE,MAAM,CAAC,UAAYN,EAAI4C,OAAO6O,UAAU,UAAW,EAAM,cAAa,MAAS,KAAKzR,EAAIuC,KAAMvC,EAAIwQ,KAAKe,QAAc,OAAEnR,EAAG,MAAM,CAACgB,YAAY,0BAA0B,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,aAAajC,EAAG,MAAM,CAACgB,YAAY,mCAAmCc,YAAY,CAAC,QAAU,YAAY,CAAC9B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,cAAc,CAACgB,YAAY,wCAAwCd,MAAM,CAAC,GAAK,CAAEnC,KAAM,mBAAoB,CAACiC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,yBAAyBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,qBAAqB,OAAOjC,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,WAAW,CAAGlC,EAAIwQ,KAAKe,QAAQ3S,OAA0CoB,EAAIuC,KAAtCnC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gBAAyBjC,EAAG,uBAAuB,CAACE,MAAM,CAAC,UAAW,MAAU,KAAKN,EAAIuC,OAAOnC,EAAG,MAAM,CAACgB,YAAY,8BAA8B,CAAGpB,EAAIwQ,KAAKc,MAAM1S,QAAWoB,EAAI4C,OAAO8O,OAAO9S,OAAm1BoB,EAAIuC,KAA/0BnC,EAAG,MAAM,CAACgB,YAAY,0BAA0B,CAACpB,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,WAAW,CAAC9B,EAAG,IAAI,CAACJ,EAAIqC,GAAG,2HAA2HjC,EAAG,cAAc,CAAC8B,YAAY,CAAC,kBAAkB,aAAa5B,MAAM,CAAC,GAAK,CAAEnC,KAAM,aAAc,CAAC6B,EAAIqC,GAAG,kBAAkBrC,EAAIqC,GAAG,8NAA8N,GAAGjC,EAAG,MAAMA,EAAG,cAAc,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,GAAK,CAAEnC,KAAM,aAAc,CAACiC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gCAAgCjC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,qCAAqC,KAAepB,EAAIwQ,KAAKc,MAAY,OAAElR,EAAG,MAAM,CAACgB,YAAY,0BAA0B,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,oBAAoBjC,EAAG,MAAM,CAACgB,YAAY,mCAAmCc,YAAY,CAAC,QAAU,YAAY,CAAElC,EAAIwQ,KAAKc,MAAY,OAAElR,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,cAAc,CAACgB,YAAY,6BAA6Bd,MAAM,CAAC,GAAK,CAAEnC,KAAM,mBAAoB,CAACiC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,iBAAiBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,eAAe,GAAGrC,EAAIuC,SAASnC,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,WAAW,CAAGlC,EAAIwQ,KAAKc,MAAM1S,OAAiDoB,EAAIuC,KAA7CnC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,uBAAgCjC,EAAG,qBAAqB,CAACE,MAAM,CAAC,MAAQN,EAAIwQ,KAAKc,UAAU,KAAKtR,EAAIuC,KAAMvC,EAAI4C,OAAO8O,OAAa,OAAEtR,EAAG,MAAM,CAACgB,YAAY,0BAA0B,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,kBAAkBjC,EAAG,MAAM,CAACgB,YAAY,mCAAmCc,YAAY,CAAC,QAAU,YAAY,CAAC9B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,cAAc,CAACgB,YAAY,wCAAwCd,MAAM,CAAC,GAAK,CAAEnC,KAAM,mBAAoB,CAACiC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,wBAAwBjC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,qCAAqC,OAAOhB,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,WAAW,CAAC9B,EAAG,kBAAkB,KAAKJ,EAAIuC,iBAAiBvC,EAAIuC,KAAOvC,EAAI4C,OAAO6O,UAAU7S,OAA0EoB,EAAIuC,KAAtEnC,EAAG,6BAA6B,CAACE,MAAM,CAAC,mBAAkB,MAAkB,IAAa,GAAGN,EAAIuC,MACxlX,EAAkB,CAAC,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,iBAAiB,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,kBAAkBjC,EAAG,MAAM,CAACgB,YAAY,mCAAmCc,YAAY,CAAC,QAAU,iB,wBCDroB,EAAS,WAAa,IAAIlC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,YAAY,yBAAyB,gBAAgB,QAAQ5B,MAAM,CAAC,gBAAkBN,EAAIwQ,KAAKG,YAAYgB,OAAOtQ,SAAS,CAAC,YAAcrB,EAAIyC,GAAGzC,EAAI4C,OAAOzE,OAAOmD,GAAG,CAAC,KAAOtB,EAAI4R,YAAY,QAAU,SAASrQ,GAAQ,OAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOR,IAAI,SAAkB,MAAOQ,EAAO+M,iBAAwBtO,EAAI4R,YAAYhQ,MAAM,KAAMC,gBAAezB,EAAG,IAAI,CAAC8B,YAAY,CAAC,YAAY,QAAQ5B,MAAM,CAAC,gBAAkBN,EAAIwQ,KAAKG,YAAYgB,OAAOtQ,SAAS,CAAC,YAAcrB,EAAIyC,GAAGzC,EAAI4C,OAAOI,cAAc1B,GAAG,CAAC,KAAOtB,EAAI6R,kBAAkB,QAAU,SAAStQ,GAAQ,OAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOR,IAAI,SAAkB,MAAOQ,EAAO+M,iBAAwBtO,EAAI6R,kBAAkBjQ,MAAM,KAAMC,mBAC73B,EAAkB,GCoCtB,GACEyN,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,OAG7BrC,QAAS,CACPyD,YADJ,SACA,GACM3R,KAAK2C,OAAOzE,KAAO2T,EAAEhQ,OAAOiQ,UAC5B9R,KAAKoH,qBAEPwK,kBALJ,SAKA,GACM5R,KAAK2C,OAAOI,YAAc8O,EAAEhQ,OAAOiQ,UACnC9R,KAAKoH,qBAEPA,kBATJ,WAUM,EAAN,2EACA,sBACA,mBACQ,QAAR,eC3DsW,ICOlW,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAIrH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,gCAAgC,CAAChB,EAAG,MAAM,CAACA,EAAG,IAAI,CAACgB,YAAY,WAAW,CAACpB,EAAIqC,GAAG,eAAejC,EAAG,IAAI,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIyR,WAAazR,EAAIyR,UAAU7S,OAASoB,EAAIyR,UAAU7S,OAAS,UAAUwB,EAAG,MAAM,CAACgB,YAAY,gCAAgC,CAAChB,EAAG,MAAM,CAACA,EAAG,IAAI,CAACgB,YAAY,WAAW,CAACpB,EAAIqC,GAAG,WAAWjC,EAAG,IAAI,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIsR,OAAStR,EAAIsR,MAAM1S,OAASoB,EAAIsR,MAAM1S,OAAS,UAAUwB,EAAG,MAAM,CAACgB,YAAY,gCAAgC,CAAChB,EAAG,MAAM,CAACA,EAAG,IAAI,CAACgB,YAAY,WAAW,CAACpB,EAAIqC,GAAG,aAAajC,EAAG,IAAI,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIsR,OAAStR,EAAIuR,QAAQ3S,OAASoB,EAAIuR,QAAQ3S,OAAS,UAAUwB,EAAG,MAAM,CAACgB,YAAY,gCAAgC,CAAChB,EAAG,MAAM,CAACA,EAAG,IAAI,CAACgB,YAAY,WAAW,CAACpB,EAAIqC,GAAG,YAAYjC,EAAG,IAAI,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIkD,GAAG,gBAAPlD,CAAwBA,EAAIwR,kBACl+B,GAAkB,GC4CtB,IACEtD,MAAO,CAAC,YAAa,QAAS,UAAW,UC9C2T,MCOlW,GAAY,eACd,GACA,EACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIlO,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACgB,YAAY,gBAAgB,CAACpB,EAAI2C,GAAI3C,EAAgB,cAAE,SAASgS,GAAU,OAAO5R,EAAG,KAAK,CAACW,IAAIiR,EAASnP,GAAGX,YAAY,CAAC,QAAU,SAAS,CAAC9B,EAAG,wBAAwB,CAACE,MAAM,CAAC,SAAW0R,EAAS,SAAWhS,EAAIiS,SAAS,aAAajS,EAAIkS,WAAW5Q,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOvB,EAAIiI,OAAO+J,IAAW,KAAOhS,EAAImS,SAAS,MAAMnS,EAAIyR,UAAU7S,OAAS,EAAGwB,EAAG,KAAK,CAAC8B,YAAY,CAAC,QAAU,OAAO,OAAS,YAAY,CAAGlC,EAAIoS,iBAA+JpS,EAAIuC,KAAjJnC,EAAG,OAAO,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIoS,kBAAmB,KAAQ,CAACpS,EAAIqC,GAAG,cAAcrC,EAAIyC,GAAGzC,EAAI4C,OAAO6O,UAAU7S,OAAS,IAAI,OAAiBoB,EAAoB,iBAAEI,EAAG,OAAO,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIoS,kBAAmB,KAAS,CAACpS,EAAIqC,GAAG,eAAerC,EAAIuC,OAAOvC,EAAIuC,MAAM,IACh0B,GAAkB,GCDlB,GAAS,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAAC8B,YAAY,CAAC,UAAU,OAAO5B,MAAM,CAAC,OAASN,EAAIqS,cAAc,MAAQ,KAAK,OAAS,QAAQ/Q,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAIqS,cAAc9Q,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,qBAAqBhB,EAAG,MAAM,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,4BAA4BrC,EAAIyC,GAAGzC,EAAIgS,SAAS7T,WAAWiC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIqC,GAAG,wBAAwBrC,EAAIyC,GAAGzC,EAAIgS,SAASM,YAAYC,eAAgBvS,EAAIwQ,KAAKgC,mBAAmBxS,EAAIgS,SAASnP,IAAKzC,EAAG,KAAK,CAACJ,EAAIqC,GAAG,qCAAqCrC,EAAIyC,GAAGzC,EAAIkD,GAAG,gBAAPlD,CAAwBA,EAAIwQ,KAAKgC,mBAAmBxS,EAAIgS,SAASnP,IAAI,WAAW,KAAK7C,EAAIyC,GAAGzC,EAAIwQ,KAAKgC,mBAAmBxS,EAAIgS,SAASnP,IAAI,UAAU,qBAAqB7C,EAAIuC,KAAKnC,EAAG,KAAK,CAACJ,EAAIqC,GAAG,eAAerC,EAAIyC,GAAGzC,EAAIgS,SAAS/O,KAAKgO,aAAa7Q,EAAG,KAAK,CAACJ,EAAIqC,GAAG,eAAerC,EAAIyC,GAAGzC,EAAIkD,GAAG,SAAPlD,CAAiBA,EAAIgS,SAAS7O,WAAW,0BAA0B/C,EAAG,MAAMJ,EAAI2C,GAAI3C,EAAIgS,SAAoB,aAAE,SAASS,GAAY,OAAOrS,EAAG,YAAY,CAACW,IAAI0R,EAAW5P,GAAGvC,MAAM,CAAC,KAAOmS,EAAWC,cAAgB,YAAc,aAAa,MAAQD,EAAWtP,WAAW,UAAW,IAAQ,CAAC/C,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,eAAerC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWE,aAAavS,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,cAAcrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWG,YAAYxS,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,WAAWrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWxP,KAAKgO,aAAa7Q,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,mBAAmBrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWI,iBAAiBzS,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,gBAAgBrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGzC,EAAIkD,GAAG,eAAPlD,CAAuByS,EAAWK,eAAe1S,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,wBAAwBrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWM,sBAAsB3S,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,iBAAiBrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWO,iBAAiB5S,EAAG,MAAOqS,EAAwB,cAAErS,EAAG,MAAM,CAACA,EAAG,SAAS,CAAC8B,YAAY,CAAC,YAAY,SAAS,gBAAgB,SAAS,CAAClC,EAAIqC,GAAG,kBAAkBjC,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,SAAS,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGgQ,EAAWC,oBAAoB1S,EAAIuC,WAAU,OAAOnC,EAAG,SAAS,CAACgB,YAAY,uBAAuBd,MAAM,CAAC,aAAa,SAASgB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIqS,eAAiBrS,EAAIqS,oBAAoBjS,EAAG,UAAU,CAAC8B,YAAY,CAAC,UAAU,OAAO5B,MAAM,CAAC,OAASN,EAAIiT,cAAc,MAAQ,IAAI,OAAS,QAAQ3R,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAIiT,cAAc1R,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,qBAAqBhB,EAAG,MAAM,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,uBAAuBjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,OAAO,CAACkB,GAAG,CAAC,OAAS,SAASC,GAAQA,EAAO+M,oBAAqB,CAAClO,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAmB,gBAAEmB,WAAW,oBAAoBC,YAAY,QAAQd,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,UAAY,IAAIe,SAAS,CAAC,MAASrB,EAAmB,iBAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAIkT,gBAAgB3R,EAAOO,OAAOvD,eAAc6B,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,KAAO,SAAS,MAAQ,QAAQgB,GAAG,CAAC,MAAQtB,EAAImT,8BAA8B/S,EAAG,SAAS,CAACgB,YAAY,uBAAuBd,MAAM,CAAC,aAAa,SAASgB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIiT,eAAiBjT,EAAIiT,oBAAoB7S,EAAG,UAAU,CAAC8B,YAAY,CAAC,UAAU,OAAO5B,MAAM,CAAC,OAASN,EAAIoT,kBAAkB,MAAQ,KAAK,OAAS,QAAQ9R,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAIoT,kBAAkB7R,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,qBAAqBhB,EAAG,MAAM,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,qBAAqBrC,EAAIyC,GAAGzC,EAAIgS,SAAS7T,WAAY6B,EAAqB,kBAAEI,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,sBAAsB,CAACE,MAAM,CAAC,SAAWN,EAAIgS,SAAS,QAAU,QAAQ1Q,GAAG,CAAC,aAAe,SAASC,GAAQvB,EAAIoT,mBAAoB,OAAW,GAAGpT,EAAIuC,SAASnC,EAAG,SAAS,CAACgB,YAAY,uBAAuBd,MAAM,CAAC,aAAa,SAASgB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIoT,mBAAqBpT,EAAIoT,wBAAgD,eAAvBpT,EAAIqT,eAAiCjT,EAAG,MAAM,CAACgB,YAAY,6CAA6Cc,YAAY,CAAC,mBAAmB,aAAqC,SAAvBlC,EAAIqT,eAA2BjT,EAAG,MAAM,CAACgB,YAAY,uCAAuCc,YAAY,CAAC,mBAAmB,WAAWZ,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIqS,eAAiBrS,EAAIqS,kBAA0C,UAAvBrS,EAAIqT,gBAA8BrT,EAAIiS,SAAU7R,EAAG,MAAM,CAACgB,YAAY,0BAA0BkS,MAAM,CAAE,YAAatT,EAAIuT,oBAAqB,CAACnT,EAAG,MAAM,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,MAAM,CAACgB,YAAY,wBAAwBoS,MAAOxT,EAAsB,mBAAEsB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIuT,mBAAqBvT,EAAIuT,wBAAwBnT,EAAG,MAAM,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,GAAK,gBAAgB,KAAO,SAAS,CAACF,EAAG,MAAM,CAACgB,YAAY,mBAAmBc,YAAY,CAAC,QAAU,MAAM,CAAC9B,EAAG,MAAM,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,QAAU,MAAM,CAAC9B,EAAG,eAAe,CAACkB,GAAG,CAAC,MAAQtB,EAAIyT,aAAa5P,MAAM,CAACtF,MAAOyB,EAAgB,aAAE8D,SAAS,SAAUC,GAAM/D,EAAI0T,aAAa3P,GAAK5C,WAAW,mBAAmB,SAAiC,UAAvBnB,EAAIqT,eAA4BjT,EAAG,MAAM,CAACgB,YAAY,uCAAuCoS,MAAOxT,EAAsB,mBAAEsB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIuT,mBAAqBvT,EAAIuT,sBAAsBnT,EAAG,MAAM,CAACgB,YAAY,uCAAuCc,YAAY,CAAC,mBAAmB,aAAa9B,EAAG,MAAM,CAACgB,YAAY,mCAAmCc,YAAY,CAAC,aAAa,QAAQ,CAAElC,EAAIwQ,KAAKG,YAAiB,MAAEvQ,EAAG,OAAO,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOoS,qBAAsB,CAACvT,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,SAASO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,WAAW,CAACF,EAAG,IAAI,CAACgB,YAAY,oBAAoBc,YAAY,CAAC,eAAe,cAAcD,OAAM,IAAO,MAAK,EAAM,aAAa,CAAC7B,EAAG,MAAM,CAACgB,YAAY,mBAAmBE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIqS,eAAiBrS,EAAIqS,iBAAiB,CAACjS,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,yBAAyBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,YAAoC,UAAvBrC,EAAIqT,eAA4BjT,EAAG,MAAM,CAACgB,YAAY,mBAAmBE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIiT,eAAiBjT,EAAIiT,iBAAiB,CAAC7S,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,kBAAkBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,cAAcrC,EAAIuC,KAA6B,UAAvBvC,EAAIqT,eAA4BjT,EAAG,MAAM,CAACgB,YAAY,mBAAmBE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIoT,mBAAqBpT,EAAIoT,qBAAqB,CAAChT,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,qBAAqBrC,EAAIuC,KAAKnC,EAAG,MAAM,CAACgB,YAAY,mBAAmBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIiI,YAAY,CAAC7H,EAAG,OAAO,CAACgB,YAAY,2BAA2B,CAAChB,EAAG,IAAI,CAACgB,YAAY,mBAAmBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,cAAcjC,EAAG,MAA8B,UAAvBJ,EAAIqT,eAA4BjT,EAAG,MAAM,CAACA,EAAG,eAAe,CAAC8B,YAAY,CAAC,aAAa,OAAO,mBAAmB,cAAc,QAAU,KAAK5B,MAAM,CAAC,QAAUN,EAAI4T,oBAAoBtS,GAAG,CAAC,MAAQtB,EAAIyT,aAAa5P,MAAM,CAACtF,MAAOyB,EAAgB,aAAE8D,SAAS,SAAUC,GAAM/D,EAAI0T,aAAa3P,GAAK5C,WAAW,mBAAmB,GAAGnB,EAAIuC,QAAQ,GAAGvC,EAAIuC,OAASvC,EAAIiS,SAA6NjS,EAAIuC,KAAvNnC,EAAG,MAAM,CAACgB,YAAY,mCAAmCc,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,OAAO,CAACgB,YAAY,aAAa,CAACpB,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIkD,GAAG,SAAPlD,CAAiBA,EAAIgS,SAAS6B,WAAW,0BAAoC7T,EAAY,SAAEI,EAAG,MAAM,CAACgB,YAAY,mCAAmCc,YAAY,CAAC,aAAa,SAAS,CAAGlC,EAAIkS,UAA+NlS,EAAIuC,KAAxNnC,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,yCAAyCE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIqS,eAAiBrS,EAAIqS,iBAAiB,CAACrS,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,cAAwBrC,EAAIwQ,KAAKG,YAAYgB,OAAgC,UAAvB3R,EAAIqT,gBAA8BrT,EAAIiS,SAAU7R,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,yCAAyCE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIiT,eAAiBjT,EAAIiT,iBAAiB,CAACjT,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gBAAgBrC,EAAIuC,KAA6B,UAAvBvC,EAAIqT,gBAA8BrT,EAAIiS,SAAU7R,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,yCAAyCE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAI8T,qBAAuB9T,EAAI8T,uBAAuB,CAAC9T,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,0BAA0BrC,EAAIuC,KAAMvC,EAAIwQ,KAAKG,YAAYgB,OAAS3R,EAAIiS,SAAU7R,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,uCAAuCE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIiI,OAAOjI,EAAIgS,aAAa,CAAChS,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gBAAgBrC,EAAIuC,OAAOvC,EAAIuC,KAA6B,UAAvBvC,EAAIqT,eAA4BjT,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,UAAWuL,MAAO,CAAEsI,SAAUhS,EAAIgS,SAASnP,OAAS,CAAC7C,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIgS,SAAS7T,SAAS6B,EAAIuC,KAA6B,UAAvBvC,EAAIqT,eAA4BjT,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIgS,SAAS7T,SAAS6B,EAAIuC,KAAKnC,EAAG,MAA8B,UAAvBJ,EAAIqT,eAA4BjT,EAAG,OAAO,CAACgB,YAAY,aAAa,CAAChB,EAAG,OAAO,CAACgB,YAAY,WAAWd,MAAM,CAAC,MAAQN,EAAIwQ,KAAKgC,mBAAmBxS,EAAIgS,SAASnP,IAAI,SAAW,qBAAqB,CAAC7C,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIkD,GAAG,gBAAPlD,CAAwBA,EAAIwQ,KAAKgC,mBAAmBxS,EAAIgS,SAASnP,IAAI,WAAW,aAAc7C,EAAIgS,SAAS+B,YAAYnV,OAAS,EAAGwB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,YAAYrC,EAAIyC,GAAGzC,EAAIgS,SAAS+B,YAAYnV,QAAQ,qBAAqBwB,EAAG,OAAO,CAAC8B,YAAY,CAAC,OAAS,UAAU,kBAAkB,aAAaZ,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIqS,eAAiBrS,EAAIqS,iBAAiB,CAACrS,EAAIqC,GAAG,aAAarC,EAAIqC,GAAG,OAAOrC,EAAIuC,KAA0C,IAApCvC,EAAIgS,SAAS+B,YAAYnV,OAAcwB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,mBAAmBrC,EAAIyC,GAAGzC,EAAIgS,SAAS+B,YAAY,GAAGpB,UAAU,OAAO3S,EAAIuC,KAAMvC,EAAIgU,iBAAuB,OAAE5T,EAAG,OAAO,CAAC8B,YAAY,CAAC,cAAc,SAAS,CAAClC,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAAC8B,YAAY,CAAC,OAAS,UAAU,kBAAkB,YAAY,cAAc,OAAOZ,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIqS,eAAiBrS,EAAIqS,iBAAiB,CAACrS,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIgU,iBAAiBpV,QAAQ,uBAAuBoB,EAAIuC,OAA+B,SAAvBvC,EAAIqT,eAA2BjT,EAAG,OAAO,CAACgB,YAAY,aAAa,CAACpB,EAAIoC,GAAG,GAAGpC,EAAIqC,GAAG,sBAAsBjC,EAAG,OAAO,CAAC8B,YAAY,CAAC,OAAS,UAAU,kBAAkB,aAAaZ,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIqS,eAAiBrS,EAAIqS,iBAAiB,CAACrS,EAAIqC,GAAG,8BAAsD,eAAvBrC,EAAIqT,eAAiCjT,EAAG,OAAO,CAACgB,YAAY,aAAa,CAACpB,EAAIqC,GAAG,uCAAuCjC,EAAG,OAAO,CAACgB,YAAY,aAAa,CAACpB,EAAIqC,GAAG,oBAAoBrC,EAAIyC,GAAGzC,EAAIqT,gBAAgB,OAAQrT,EAAuB,oBAAEI,EAAG,MAAM,CAACA,EAAG,sBAAsB,CAACE,MAAM,CAAC,SAAWN,EAAIgS,UAAU1Q,GAAG,CAAC,aAAe,SAASC,GAAQvB,EAAI8T,qBAAsB,OAAW,GAAG9T,EAAIuC,MAAM,IAChgW,GAAkB,CAAC,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,0BAA0B,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,mBAAmB,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,sBAAsB,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,oBAAoB,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,MAAQ,WAAW,CAAC9B,EAAG,IAAI,CAACgB,YAAY,mCAAmC,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,MAAQ,0BAA0B,CAAC9B,EAAG,IAAI,CAACgB,YAAY,oC,iDCD1jC,GAAS,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,8BAA8Bc,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,oCAAqCrC,EAAW,QAAEI,EAAG,OAAO,CAACgB,YAAY,mBAAmBd,MAAM,CAAC,aAAa,UAAU,CAACF,EAAG,OAAO,CAACgB,YAAY,SAASE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIiU,MAAM,sBAAsBjU,EAAIuC,OAAOnC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAEpB,EAAIkU,SAAe,OAAE9T,EAAG,UAAU,CAACE,MAAM,CAAC,KAAON,EAAIkU,SAAS,eAAelU,EAAIgE,YAAY,WAAWhE,EAAI2D,QAAQ,UAAY,GAAG,oBAAoB,GAAG,sBAAsB,SAAS,yBAAyB,OAAO,YAAY,aAAa,iBAAiB,WAAW,YAAY,MAAM,YAAY,eAAe,YAAY,gBAAgB,eAAe,cAAcrC,GAAG,CAAC,qBAAqB,SAASC,GAAQvB,EAAIgE,YAAYzC,GAAQ,sBAAsB,SAASA,GAAQvB,EAAIgE,YAAYzC,KAAU,CAACnB,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,aAAa,MAAQ,OAAO,MAAQ,MAAM,SAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAClO,EAAIqC,GAAG,aAAarC,EAAIyC,GAAGzC,EAAIkD,GAAG,SAAPlD,CAAiB,IAAImU,KAAKjG,EAAMkG,IAAIjR,YAAY,wBAAwB,gBAAgB,MAAK,EAAM,YAAY/C,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,WAAW,SAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAClO,EAAIqC,GAAG,aAAarC,EAAIyC,GAAGyL,EAAMkG,IAAIC,eAAe,gBAAgB,MAAK,EAAM,cAAcjU,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,SAAS,SAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAClO,EAAIqC,GAAG,aAAarC,EAAIyC,GAAGyL,EAAMkG,IAAIE,QAAQ,gBAAgB,MAAK,EAAM,aAAalU,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,SAAS,SAAW,GAAG,MAAQ,MAAMO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAClO,EAAIqC,GAAG,aAAarC,EAAIyC,GAAGyL,EAAMkG,IAAIhR,OAAO,GAAGA,QAAQ,gBAAgB,MAAK,EAAM,eAAe,GAAGpD,EAAIuC,KAAQvC,EAAIkU,UAAYlU,EAAIkU,SAAStV,OAA+FoB,EAAIuC,KAA1FnC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,qEAA8E,MACnpE,GAAkB,GCkEtB,I,UAAA,CACE6L,MAAO,CACT,WACA,WAEEnJ,KALF,WAMI,MAAO,CACLmP,SAAU,GACVlQ,YAAa,EACbL,QAAS,IAGb2L,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,SAG7BpC,QAjBF,WAiBA,WACQP,KAAK+R,SACP,EAAN,2DACA,kBACQ,EAAR,8BAEA,uBAIM/R,KAAK2C,OAAO6O,UAAUzS,SAAQ,SAApC,GACQ,EAAR,4CACA,kBACU,EAAV,iDAEA,6BCnGwW,MCOpW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIgB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,aAAa,CAACE,MAAM,CAAC,SAAWN,EAAImF,SAAS,iBAAiB,GAAG,YAAY,SAAS,CAAC/E,EAAG,OAAO,CAACE,MAAM,CAAC,KAAO,WAAWiU,KAAK,WAAW,CAACvU,EAAIwU,GAAG,6BAA6B,GAAGpU,EAAG,MAAM,CAAC8B,YAAY,CAAC,gBAAgB,MAAM,mBAAmB,mCAAmC,MAAQ,4BAA4B,QAAU,OAAO,OAAS,4CAA4CsR,MAAOxT,EAAiB,eAAG,CAACI,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,MAAQ,6BAA6B5B,MAAM,CAAC,YAAc,GAAG,OAAS,GAAG,WAAY,IAAQ,CAACN,EAAIwU,GAAG,YAAY,IAAI,MACnpB,GAAkB,GC+BtB,IACEtG,MAAO,CACLuG,MAAO,CACLrV,QAAS,QACTd,KAAMoW,QAERvP,SAAU,CACR/F,QAAS,kBACTd,KAAMoW,SAGVpF,SAAU,CACRqF,cADJ,WAEM,IAAN,GACQF,MAAOxU,KAAKwU,OAEd,OAAOjB,KChDoV,MCO7V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCFFI,GAAqB,CAChC,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WC6PF,IACEjF,WAAY,CACV,eAAgB,GAApB,WACIiG,kBAAJ,GACIC,WAAJ,IAEE3G,MAAO,CAAC,WAAY,WAAY,aAChCnJ,KAPF,WAQI,MAAO,CACL+P,iBAAkB,GAClBpB,aAAc,GACdqB,SAAU,GACV7B,gBAAiB,GACjBK,mBAAmB,EACnBlB,eAAe,EACfY,eAAe,EACfG,mBAAmB,EACnB4B,mBAAmB,EACnBC,oBAAoB,EACpBnB,qBAAqB,EACrBT,eAAgB,KAChB6B,aAAa,EACbC,QAAQ,EACRC,aAAa,EACbxB,mBAAoBA,KAGxBtE,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3B6E,mBAPJ,WAQM,IAAN,qCAIM,OAHKC,EAAgBC,WAAW,OAC9BD,EAAkB,IAAMA,GAEtBrV,KAAKmV,YACA,CACL,mBAAoBE,EACpBlX,OAAQ,iBACRgJ,MAAO,QAGJ,CACL,mBAAoBkO,IAGxBtB,iBAvBJ,WAwBM,OAAO/T,KAAK+R,SAAS+B,YAAY3V,QAAO,SAA9C,+BAGE+P,QAAS,CACPlG,OADJ,SACA,GACUuN,QAAQ,yBACVvV,KAAKgU,MAAM,SAAUjC,IAIzByB,YAAa,GAAjB,wBACMxT,KAAK8U,SAAW3N,EAAMqO,IAClBxV,KAAK8U,SAASQ,WAAW,OAC3BtV,KAAK8U,SAAW9U,KAAK8U,SAASW,UAAU,IAE1C,EAAN,oDACMzV,KAAKgU,MAAM,OAAQhU,KAAK+R,YAC9B,GACImB,aAfJ,WAgBMlT,KAAKgT,eAAgB,EACrBxN,QAAQ7F,IAAIK,KAAKiT,iBACjBjT,KAAKgU,MAAM,OAAQhU,KAAK+R,SAAU/R,KAAKiT,kBAEzCyC,UApBJ,WAoBA,WACM,EAAN,mDACA,kBACQ,EAAR,kDACA,sDACU,EAAV,eAEU,EAAV,eAEQ,EAAR,4DAEA,wBAEIC,qBAAsB,SAA1B,KACM,GAAyB,IAArBC,EAAUjX,OACZ,OAAO,EAGT,IADA,IAAN,KACA,oBACQ,IAAR,OACkB,IAANkX,IACF9T,GAAe,QAEjBA,GAAe,cAAgB+T,EAAK,IAEtC9V,KAAKoQ,QAAQC,KAAK,CAAxB,sCAEI0F,YAAa,WACX/V,KAAKmV,aAAenV,KAAKmV,cAG7Ba,QAzGF,WA2GI,IAAJ,OACIC,OAAOC,iBAAiB,SAAS,SAArC,GACWC,EAAKtG,IAAIuG,SAASvE,EAAEhQ,UACvBsU,EAAK7C,mBAAoB,OAI/B/S,QAlHF,WAmHIP,KAAKmV,YAAqC,SAAvB3U,aAAaC,MAChC,GAAJ,oCAEIT,KAAKyT,aAAe,CAClB+B,IAAKxV,KAAK+R,SAAS5K,OAErBnH,KAAKoT,eAAiBpT,KAAK+R,SAAS5O,OAAO,GAAGA,OAClB,UAAxBnD,KAAKoT,gBAAsD,SAAxBpT,KAAKoT,eAC1CpT,KAAKiV,aAAc,EAEnBjV,KAAKiV,aAAc,GAGvBoB,cAhIF,WAiIIC,cAActW,KAAKuW,GACnBvW,KAAKuW,GAAI,GAEXnI,MAAO,CACL6G,YADJ,SACA,GACUuB,IAAQxW,KAAKuW,EACfvW,KAAKuW,EAAIE,YACjB,WACU,KAAV,YACA,8DACY,KAAZ,iBAEA,WACA,MAGQH,cAActW,KAAKuW,GACnBvW,KAAKuW,GAAI,MCncwV,MCQrW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCoBf,IACE7H,WAAY,CAAd,uBACET,MAAO,CAAC,YAAa,WAAY,aACjCnJ,KAHF,WAII,MAAO,CACLqN,kBAAkB,IAGtB9C,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BmG,aAPJ,WAQM,IAAN,iCACM,OAAI1W,KAAKmS,iBACAX,EAAUmF,UAEf3W,KAAKiS,WAAajS,KAAKwR,UAAU7S,OAAS,EACrC6S,EAAUmF,UAAUC,MAAM,EAAG,IAE7BpF,EAAUmF,YAIvBzI,QAAS,CACPlG,OADJ,SACA,cACM,EAAN,0CACA,kBACQ,EAAR,+CAEA,mBACQ,QAAR,aAGIkK,KAVJ,SAUA,wEACM,EAAN,mBACA,eACA,KACA,UACA,cACA,SAEA,iBACQ,EAAR,oEAEA,mBACQ,QAAR,eCxFqW,MCOjW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAInS,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACgB,YAAY,gBAAgBpB,EAAI2C,GAAI3C,EAAS,OAAE,SAAS8W,EAAKC,GAAO,OAAO3W,EAAG,KAAK,CAACW,IAAI+V,EAAKjU,GAAGX,YAAY,CAAC,QAAU,OAAO,gBAAgB,SAAS,CAAC9B,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,UAAWuL,MAAO,CAAEoN,KAAMA,EAAKjU,OAAS,CAAC7C,EAAIqC,GAAGrC,EAAIyC,GAAGqU,EAAK3Y,SAASiC,EAAG,MAAQJ,EAAIiS,SAAqSjS,EAAIuC,KAA/RnC,EAAG,OAAO,CAACgB,YAAY,aAAa,CAACpB,EAAIqC,GAAG,qBAAqBrC,EAAIyC,GAAGzC,EAAIkD,GAAG,SAAPlD,CAAiB8W,EAAK3T,WAAW,qBAAqB,KAAM2T,EAAS,KAAE1W,EAAG,OAAO,CAACJ,EAAIqC,GAAG,OAAOrC,EAAIyC,GAAGqU,EAAK7T,SAASjD,EAAIuC,KAAMuU,EAAgB,YAAE1W,EAAG,OAAO,CAACJ,EAAIqC,GAAG,KAAKrC,EAAIyC,GAAGqU,EAAK9T,aAAa,OAAOhD,EAAIuC,OAAiBvC,EAAY,SAAEI,EAAG,OAAO,CAACgB,YAAY,aAAa,CAAChB,EAAG,IAAI,CAACJ,EAAIqC,GAAG,YAAYrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGqU,EAAKpN,OAAO,OAAO1J,EAAIuC,KAAMvC,EAAY,SAAEI,EAAG,MAAM,CAACgB,YAAY,mCAAmCc,YAAY,CAAC,aAAa,UAAU,CAAC9B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,uCAAuCE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIiI,OAAO6O,EAAMC,MAAU,CAAC/W,EAAIoC,GAAG,GAAE,GAAMhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,kBAAkBrC,EAAIuC,MAAM,MAAK,MAC3nC,GAAkB,CAAC,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBC4CvK,IACE8M,MAAO,CAAC,QAAS,YACjBoB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,OAG7BrC,QAAS,CACPlG,OADJ,SACA,KACM,EAAN,gCACM,EAAN,gCACA,sBACA,mBACQ,QAAR,eC7DiW,MCO7V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIjI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACgB,YAAY,gBAAgBpB,EAAI2C,GAAI3C,EAAIwQ,KAAY,SAAE,SAASwG,GAAO,OAAO5W,EAAG,KAAK,CAACW,IAAIiW,EAAMnU,GAAGX,YAAY,CAAC,QAAU,OAAO,gBAAgB,SAAS,CAAC9B,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,eAAgB2E,OAAQ,CAAEC,SAAU/C,EAAI4C,OAAOC,GAAIiG,QAASkO,EAAMnU,OAAS,CAAC7C,EAAIqC,GAAGrC,EAAIyC,GAAGuU,EAAMhO,UAAU5I,EAAG,MAAM,CAACgB,YAAY,mCAAmCc,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAEpB,EAAY,SAAEI,EAAG,SAAS,CAACgB,YAAY,uCAAuCE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIiI,OAAO+O,MAAU,CAAChX,EAAIoC,GAAG,GAAE,GAAMhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,cAAcrC,EAAIuC,SAASnC,EAAG,MAAMA,EAAG,OAAO,CAACgB,YAAY,aAAa,CAACpB,EAAIqC,GAAG,iBAAiBrC,EAAIyC,GAAGzC,EAAIkD,GAAG,SAAPlD,CAAiBgX,EAAMnD,WAAW,yBAAyB,QAAO,MACr3B,GAAkB,CAAC,WAAa,IAAI7T,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBC2CvK,IACE8M,MAAO,CAAC,YACRnJ,KAFF,WAGI,MAAO,CACLwM,QAAS,KAGbpD,QAAS,CACPlG,OADJ,SACA,cACM,EAAN,iCACA,kBACQ,EAAR,+CAEA,mBACQ,QAAR,cAIEqH,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,QCnEmU,MCO9V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QClBX,GAAS,WAAa,IAAIxQ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,OAAO,CAACkB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAO+M,iBAAwBtO,EAAIuO,WAAW3M,MAAM,KAAMC,cAAc,CAACzB,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,QAAQ,CAACgB,YAAY,cAAc,CAAChB,EAAG,QAAQ,CAACgB,YAAY,aAAad,MAAM,CAAC,GAAK,WAAW,KAAO,OAAO,KAAO,UAAUgB,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOvB,EAAIiX,QAAQ1V,EAAOO,OAAOoV,WAAWlX,EAAIoC,GAAG,GAAIpC,EAAY,SAAEI,EAAG,OAAO,CAACgB,YAAY,aAAa,CAAGpB,EAAIf,SAAsDe,EAAIuC,KAAhDnC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,0BAAmCrC,EAAIqC,GAAG,iBAAiBrC,EAAIyC,GAAGzC,EAAIf,UAAU,kBAAkBe,EAAIuC,WAAWnC,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAE,CAAC,OAAQ,QAAS,OAAOqO,SAASzP,EAAImX,YAAmC,KAArBnX,EAAIoX,aAAqBhX,EAAG,MAAM,CAACA,EAAG,MAAMA,EAAG,SAAS,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,KAAO,UAAUgB,GAAG,CAAC,MAAQtB,EAAIqX,aAAa,CAACrX,EAAIqC,GAAG,eAAerC,EAAIyC,GAAGzC,EAAIsX,eAAiB,cAAgB,kBAAkBtX,EAAIqC,GAAG,eAAejC,EAAG,SAAS,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,KAAO,UAAUgB,GAAG,CAAC,MAAQtB,EAAIuX,cAAc,CAACvX,EAAIqC,GAAG,eAAerC,EAAIyC,GAAGzC,EAAIwX,gBAAkB,eAAiB,mBAAmBxX,EAAIqC,GAAG,eAAgBrC,EAAmB,gBAAEI,EAAG,SAAS,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,KAAO,UAAUgB,GAAG,CAAC,MAAQtB,EAAIyX,gBAAgB,CAACzX,EAAIqC,GAAG,eAAerC,EAAIyC,GAAGzC,EAAI0X,kBAAoB,cAAgB,kBAAkB1X,EAAIuC,KAAKnC,EAAG,MAAMA,EAAG,MAAOJ,EAAmB,gBAAEI,EAAG,MAAM,CAACJ,EAAIoC,GAAG,GAAIpC,EAAqB,kBAAEI,EAAG,KAAK,CAAC8B,YAAY,CAAC,aAAa,OAAO,OAAS,QAAQ,MAAQ,OAAO,SAAW,SAASlC,EAAI2C,GAAI3C,EAAc,YAAE,SAAS2X,GAAQ,OAAOvX,EAAG,KAAK,CAACW,IAAI4W,GAAQ,CAACvX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAkB,eAAEmB,WAAW,mBAAmBb,MAAM,CAAC,KAAO,YAAYe,SAAS,CAAC,MAAQsW,EAAO,QAAUC,MAAMC,QAAQ7X,EAAI8X,gBAAgB9X,EAAI+X,GAAG/X,EAAI8X,eAAeH,IAAS,EAAG3X,EAAkB,gBAAGsB,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIyW,EAAIhY,EAAI8X,eAAeG,EAAK1W,EAAOO,OAAOoW,IAAID,EAAKE,QAAuB,GAAGP,MAAMC,QAAQG,GAAK,CAAC,IAAIjU,EAAI4T,EAAOS,EAAIpY,EAAI+X,GAAGC,EAAIjU,GAAQkU,EAAKE,QAASC,EAAI,IAAIpY,EAAI8X,eAAeE,EAAIK,OAAO,CAACtU,KAAYqU,GAAK,IAAIpY,EAAI8X,eAAeE,EAAInB,MAAM,EAAEuB,GAAKC,OAAOL,EAAInB,MAAMuB,EAAI,UAAWpY,EAAI8X,eAAeI,MAASlY,EAAIqC,GAAG,mBAAmBrC,EAAIyC,GAAGkV,GAAQ,uBAAsB,GAAG3X,EAAIuC,KAAKnC,EAAG,MAAMA,EAAG,QAAQ,CAACgB,YAAY,mBAAmBc,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,GAAK,YAAY,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAKJ,EAAI2C,GAAI3C,EAAgB,cAAE,SAASsY,GAAiB,OAAOlY,EAAG,KAAK,CAACW,IAAIuX,EAAgBna,KAAKqV,MAAO8E,EAAqB,OAAG,CAACtY,EAAIqC,GAAG,uBAAuBrC,EAAIyC,GAAG6V,EAAgBna,MAAM,2BAA0B,KAAKiC,EAAG,QAAQJ,EAAI2C,GAAI3C,EAAc,YAAE,SAAS8V,GAAG,OAAO1V,EAAG,KAAK,CAACW,IAAI+U,GAAG9V,EAAI2C,GAAI3C,EAAgB,cAAE,SAASsY,GAAiB,OAAOlY,EAAG,KAAK,CAACW,IAAIuX,EAAgBna,MAAM,CAAC6B,EAAIqC,GAAG,uBAAuBrC,EAAIyC,GAAG6V,EAAgBvR,OAAO+O,EAAI,IAAI,2BAA0B,MAAK,OAAO9V,EAAIuC,KAAMvC,EAAkB,eAAEI,EAAG,MAAM,CAACJ,EAAIoC,GAAG,GAAGhC,EAAG,UAAU,CAACgB,YAAY,mBAAmB,CAAChB,EAAG,MAAM,CAACJ,EAAIqC,GAAG,mIAAmIjC,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,KAAKJ,EAAI2C,GAAI3C,EAAkB,gBAAE,SAAS2X,GAAQ,OAAOvX,EAAG,KAAK,CAACW,IAAI4W,EAAOxZ,MAAM,CAAC6B,EAAIqC,GAAG,yBAAyBrC,EAAIyC,GAAGkV,EAAOxZ,MAAM,6BAA4B,KAAK6B,EAAIqC,GAAG,8HAA8HrC,EAAIoC,GAAG,SAASpC,EAAIuC,KAAKnC,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,MAAM,eAAe,IAAI,MAAQ,OAAO,mBAAmB,aAAalC,EAAI2C,GAAI3C,EAAkB,gBAAE,SAAS2X,GAAQ,OAAOvX,EAAG,MAAM,CAACW,IAAI4W,EAAOxZ,MAAM,CAACiC,EAAG,OAAO,CAACgB,YAAY,iCAAiC,CAAChB,EAAG,QAAQ,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGkV,EAAOxZ,WAAW6B,EAAIqC,GAAG,+BAAgD,WAAhBsV,EAAOrZ,KAAmB8B,EAAG,MAAM,CAACgB,YAAY,kBAAkB,CAAChB,EAAG,SAAS,CAACE,MAAM,CAAC,KAAOqX,EAAOxZ,KAAK,GAAKwZ,EAAOxZ,MAAMmD,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOvB,EAAIuY,oBACv/HhX,EAAOO,OAAO0W,QAAQjX,EAAOO,OAAO0W,QAAQC,eACzCC,KACHf,EAAOxZ,SACJ,CAACiC,EAAG,SAAS,CAACE,MAAM,CAAC,SAAW,GAAG,SAAW,KAAK,CAACN,EAAIqC,GAAG,OAAOjC,EAAG,SAAS,CAACJ,EAAIqC,GAAG,uBAAuBrC,EAAI2C,GAAI3C,EAAW,SAAE,SAAS2Y,GAAG,OAAOvY,EAAG,SAAS,CAACW,IAAI4X,EAAEtX,SAAS,CAAC,MAAQsX,IAAI,CAC9L3Y,EAAI4Y,iBAAiBC,KAAI,SAAUlB,GAAU,OAAOA,EAAOxZ,QAASsR,SAASkJ,GACJ3Y,EAAIuC,KAA9EnC,EAAG,MAAM,CAACJ,EAAIqC,GAAG,uBAAuBrC,EAAIyC,GAAGkW,GAAG,8BAAsC,KAAK3Y,EAAIuC,KAAKvC,EAAIqC,GAAG,6BAA8BrC,EAAI8Y,gBAAgBnB,EAAOxZ,MAAOiC,EAAG,OAAO,CAACgB,YAAY,iCAAiC,CAAChB,EAAG,QAAQ,CAACJ,EAAIqC,GAAG,eAAerC,EAAIyC,GAAGzC,EAAI8Y,gBAAgBnB,EAAOxZ,YAAY6B,EAAIuC,KAAsB,aAAhBoV,EAAOrZ,KAAqB8B,EAAG,MAAM,CAACA,EAAG,MAAMA,EAAG,KAAK,CAACgB,YAAY,aAAac,YAAY,CAAC,aAAa,OAAO,OAAS,QAAQ,MAAQ,OAAO,SAAW,SAASlC,EAAI2C,GAAI3C,EAAW,SAAE,SAAS2Y,GAAG,OAAOvY,EAAG,KAAK,CAACW,IAAI4X,GAAG,CAACvY,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,KAAO,WAAW,KAAOqX,EAAOxZ,MAAMkD,SAAS,CAAC,MAAQsX,GAAGrX,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIuY,oBAAoBI,EAAGhB,EAAOxZ,UAAU6B,EAAIqC,GAAG,qBAAqBrC,EAAIyC,GAAGkW,GAAG,yBAAwB,KAAK3Y,EAAIuC,KAAKnC,EAAG,WAA6B,QAAlBJ,EAAImX,UAAqB/W,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAG,mBAAmBrC,EAAI2C,GAAI3C,EAAkB,gBAAE,SAAS+Y,EAAEhY,GAAK,OAAOX,EAAG,MAAM,CAACW,IAAIA,EAAIK,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAgB,aAAEmB,WAAW,iBAAiBb,MAAM,CAAC,KAAO,QAAQ,KAAO,gBAAgBe,SAAS,CAAC,MAAQ0X,EAAE,QAAU/Y,EAAIgZ,GAAGhZ,EAAIiZ,aAAaF,IAAIzX,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQvB,EAAIiZ,aAAaF,GAAG/Y,EAAIkZ,uBAAuBlZ,EAAIqC,GAAG,iBAAiBrC,EAAIyC,GAAG1B,GAAK,KAAKf,EAAIyC,GAAGsW,GAAG,uBAAsB,GAAG/Y,EAAIuC,MAAM,GAAGvC,EAAIuC,OAAQvC,EAAY,SAAEI,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,MAAM,eAAe,IAAI,MAAQ,OAAO,mBAAmB,aAAa9B,EAAG,QAAQ,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAG,UAAUjC,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAIwO,KAAS,KAAErN,WAAW,cAAcC,YAAY,QAAQd,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,YAAc,sBAAsBe,SAAS,CAAC,MAASrB,EAAIwO,KAAS,MAAGlN,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,WAAqB/B,EAAIyO,KAAKzO,EAAIwO,KAAM,OAAQjN,EAAOO,OAAOvD,aAAa6B,EAAG,QAAQJ,EAAIuC,KAAOvC,EAAI8E,MAAMlG,OAA4IwB,EAAG,MAAMJ,EAAI2C,GAAI3C,EAAS,OAAE,SAASmZ,EAAapC,GAAO,OAAO3W,EAAG,OAAO,CAACW,IAAIgW,GAAO,CAAC3W,EAAG,UAAU,CAACgB,YAAY,0BAA0B,CAAChB,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAACpB,EAAIqC,GAAG,iBAAiBrC,EAAIyC,GAAG0W,GAAc,yBAAwB,GAA5X/Y,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAEpB,EAAIf,UAAqC,IAAzBe,EAAIoZ,iBAAwBhZ,EAAG,MAAM,CAACgB,YAAY,SAAS,CAACpB,EAAIoC,GAAG,KAAKpC,EAAIuC,SAAoQnC,EAAG,MAAgC,IAAzBJ,EAAIoZ,iBAAwBhZ,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQN,EAAIoZ,iBAAiB,aAAa,GAAG,OAAS,UAAU,KAAO,UAAU,KAAO,cAAc,CAA2B,MAAzBpZ,EAAIoZ,iBAA0BhZ,EAAG,OAAO,CAACJ,EAAIqC,GAAG,qCAAqCrC,EAAIuC,OAAOvC,EAAIuC,MAAM,IACtnF,GAAkB,CAAC,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,YAAY,CAAChB,EAAG,OAAO,CAACgB,YAAY,aAAa,CAAChB,EAAG,IAAI,CAACgB,YAAY,oBAAoBhB,EAAG,OAAO,CAACgB,YAAY,cAAc,CAACpB,EAAIqC,GAAG,yBAAyB,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,UAAU,CAACgB,YAAY,wBAAwB,CAAChB,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAACpB,EAAIqC,GAAG,iTAAmT,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,mBAAmB,CAAChB,EAAG,IAAI,CAACgB,YAAY,oBAAoB,CAACpB,EAAIqC,GAAG,8BAA8B,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIqC,GAAG,8DAA8DjC,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIqC,GAAG,mOAAmOjC,EAAG,KAAK,CAACJ,EAAIqC,GAAG,wYAA0YjC,EAAG,KAAK,CAACJ,EAAIqC,GAAG,mEAAmEjC,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIqC,GAAG,wNAAwNjC,EAAG,KAAK,CAACJ,EAAIqC,GAAG,gQAAgQ,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,KAAO,SAAS,MAAQ,gBC8U3pF,I,sEAAA,CACEyE,KADF,WAEI,MAAO,CACLsU,cAAe,GACfjC,aAAc,GAOdkC,eAAgB,GAChBV,iBAAkB,CACxB,CAAQ,KAAR,WAAQ,KAAR,UACA,CAAQ,KAAR,UAAQ,KAAR,YACA,CAAQ,KAAR,iBAAQ,KAAR,WAEMpK,KAAM,CACJrQ,KAAM,GACNob,KAAM,IAERta,SAAU,GACV6F,MAAO,GACPsU,iBAAkB,EAElBH,aAAc,IACdO,YAAa,GACbC,eAAgB,CAAtB,kCACMnC,gBAAgB,EAChBE,iBAAiB,EACjBE,mBAAmB,EACnBI,eAAgB,GAChB4B,iBAAkB,EAClBC,OAAQ,CACd,CAAQ,KAAR,MAAQ,MAAR,4CACA,CAAQ,KAAR,OAAQ,MAAR,4CACA,CAAQ,KAAR,QAAQ,MAAR,+CAIErK,SAAU,CACRjL,QADJ,WAEM,IAAN,KAMM,MALuB,QAAnBpE,KAAKkX,UACP9S,EAAUpE,KAAKoZ,cAAcO,MAAM3Z,KAAKgZ,cAChD,4CACQ5U,EAAUwV,OAAO9a,KAAKkB,KAAKoZ,gBAEtBhV,GAETyV,eAVJ,WAUA,WACM,OAAO7Z,KAAK2Y,iBAAiBxa,QACnC,YAAQ,OAAR,gCAGI+Y,UAfJ,WAgBM,IAAN,8BACM,OAAIA,EAAkBA,EAAU3H,cACtC,MAEIuK,WApBJ,WAqBM,GAAuB,QAAnB9Z,KAAKkX,UAAqB,CAC5B,IAAR,gCACQ,OAAO6C,EAAI,EAAI/Z,KAAKyZ,iBAAmBM,EAC/C,gDACe/Z,KAAKmX,aAAaxY,OAElB,GAGXqb,WA9BJ,WA+BM,IAAN,UACA,uCAAQ,OAAR,gCAEA,oBACM,OAAO5V,GAET6V,aArCJ,WAqCA,WAcA,KACM,GAAuB,QAAnBja,KAAKkX,UASP,IARA,IAAR,uEAQA,+BAEU,IADA,IAAV,KACA,mBACYgD,EAAW7J,KAAKvJ,EAAOqT,GAAGtE,IAE5BuE,EAAiBpa,KAAKoE,QAAQyR,IAAMqE,OAE9C,6CACQ,IAAK,IAAb,mCACU,IAAK,IAAf,0BACgBxC,KAAU0C,EACZA,EAAiB1C,GAAQrH,KAAKrQ,KAAKmX,aAAa,GAA9D,IAEciD,EAAiB1C,GAAU,CAAC1X,KAAKmX,aAAa,GAA5D,IAKM,IAAN,sBACM,OAAOU,EAAewC,OAAOzB,KAAI,SAAvC,GACQ,IAAR,KACA,KAEQ,GAAI,EAAZ,oBAEU9R,EAASsT,EAAiB1C,GAC1BvQ,EAAQ,EAAlB,4DACA,CAQU,IAAV,yBACA,YAAY,OAAZ,gBAEU,GAAImT,EAAkB,CACpB,GAAIA,EAAiBC,OACnB,GAAuC,IAAnCD,EAAiBC,OAAO5b,OAE1BmI,EAASsT,EAAiBE,EAAiBC,OAAO,SAIlD,IADA,IAAhB,WAFA,WAGA,GACkB,IAAlB,KACkBC,EAAYzb,SAAQ,SAAtC,GACoB0b,GAAeF,EAAS,KACxBE,GACpB,iCAEkB3T,EAAOuJ,KAAKoK,IAP9B,iCAYc3T,EAAS6Q,MAAM,EAA7B,iBACA,iBAGYxQ,EAAQ,EAApB,8DAGYL,EAAS6Q,MAAM,EAA3B,sCACYxQ,EAAQ,EAApB,uDAGQ,MAAO,CAAf,8BAIE+G,QAAS,CACPkJ,WADJ,WAGMpX,KAAKuX,iBAAkB,EACvBvX,KAAKyX,mBAAoB,EAEzBzX,KAAKqX,gBAAkBrX,KAAKqX,gBAE9BC,YARJ,WASMtX,KAAKqX,gBAAiB,EACtBrX,KAAKuX,iBAAmBvX,KAAKuX,gBACxBvX,KAAKuX,kBAAiBvX,KAAKyX,mBAAoB,IAEtDD,cAbJ,WAcMxX,KAAKyX,mBAAqBzX,KAAKyX,mBAEjCoB,gBAAiB,SAArB,GACM,IAAN,kEACM,OAAI6B,EACKA,EAAI,iBAEJ,MAGXzB,mBAAoB,WAClBjZ,KAAKqZ,eAAiB,GACtBrZ,KAAK6X,eAAiB7X,KAAK2Y,iBAAiBC,KAAI,SAAtD,oBACM5Y,KAAK2a,gBAEPrC,oBAAqB,SAAzB,KAQM,GAAKiC,EAAL,CAEA,IAAN,OACA,yEACA,KAEM,GAAa,WAATlc,EAAmB,CACrB,GAAe,sBAAXkc,EAAgC,CAElCA,EAAS,KACT,GACEK,EAAeC,OAAO,4CAClBD,EAAapL,SAASxP,KAAKgZ,gBAC7B8B,MAAM,wDAApB,OACA,kBADA,MAGcF,EAAe,aAE7B,GAEQG,EAAsBR,EAAS,CAACA,GAAU,KAC1Cva,KAAKqZ,eAAiBrZ,KAAKqZ,eAAelb,QAClD,YAAU,OAAV,mBAEQ6B,KAAKqZ,eAAehJ,KAAK,CACvBxO,OAAQA,EACR0Y,OAAQQ,EACRC,cAAeJ,QAEzB,mBAqBQ,OAnBA,IAAR,4BACA,YAAU,OAAV,mBAEQG,EAAsBE,EAAMA,EAAI,UAAY,GACxCF,EAAoBvL,SAAS+K,GAC/BQ,EAAsBA,EAAoB5c,QAAO,SAA3D,mBAEU4c,EAAoB1K,KAAKkK,GAE3Bva,KAAKqZ,eAAiBrZ,KAAKqZ,eAAelb,QAClD,YAAU,OAAV,mBAEY4c,EAAoBpc,OAAS,GACzC,0BACU,OAAV,EACU,OAAV,EACU,cAAV,IAKMqB,KAAK2a,iBAEPlM,cAAe,WACbzO,KAAKuO,KAAKrQ,KAAO,GACjB8B,KAAKuO,KAAK+K,KAAO,GACjBtZ,KAAKhB,SAAW,GAChBgB,KAAKqZ,eAAiB,GACtBrZ,KAAKuZ,YAAc,GACnBvZ,KAAKoZ,cAAgB,GACrBpZ,KAAKmX,aAAe,IAEtB7I,WAAY,WAAhB,WACM,GAAKtO,KAAK2a,eAAV,CAIA,IAAN,eAOM,GANAzU,EAASgV,OAAO,OAAQlb,KAAKuO,KAAK+K,MAClCpT,EAASgV,OAAO,OAAQlb,KAAKuO,KAAKrQ,MAClCgI,EAASgV,OAAO,WAAY,aAC5BhV,EAASgV,OAAO,UAAWlb,KAAKhB,UAChCkH,EAASgV,OAAO,kBAAmBlb,KAAKuO,KAAK+K,KAAK6B,MAClDjV,EAASgV,OAAO,YAAalb,KAAKgQ,OAAOE,MAAMvN,OAAOC,IAClD,CAAC,MAAO,QAAS,QAAQ4M,SAASxP,KAAKkX,WAAY,CACrD,IAAR,sCACQhR,EAASgV,OAAO,iBAAkBE,GAClClV,EAASgV,OAAO,YAAalb,KAAKgZ,cAEpC,IAAN,GACQ5U,QAAS,CACP,eAAgB,uBAElBiX,iBAAkB,SAAUC,GAC1Btb,KAAKmZ,iBAAmB3Z,KAAK+b,MACvC,uBAEA,YAEM,EAAN,oBACA,kBACQ,EAAR,yDACQ,EAAR,qBACQ,EAAR,gBACQ,EAAR,sBAEA,yBAEIZ,aAAc,WACZ3a,KAAK6E,MAAQ,GACT7E,KAAKuO,KAAK+K,KAAK6B,MAAQ,GACzBnb,KAAK6E,MAAMwL,KAAK,kCAElB,IAAN,iCAOM,GANKmL,EAAkBhM,SAASxP,KAAKkX,YACnClX,KAAK6E,MAAMwL,KACnB,gDACA,cAGU,CAAC,MAAO,QAAS,QAAQb,SAASxP,KAAKkX,WAAY,CAEjDlX,KAAKqZ,eAAe1a,SAAWqB,KAAK6Z,eAAelb,QACrDqB,KAAK6E,MAAMwL,KACrB,oBACA,qCAAY,OAAZ,sBAIQ,IAAR,sBACA,oBAAU,OAAV,eACA,iBAAU,OAAV,YACQoL,EAAaA,EAAWtd,QAAO,SAAvC,0DACYsd,EAAW9c,OAAS,IAAI+c,IAAID,GAAYN,MAC1Cnb,KAAK6E,MAAMwL,KAAK,4CAA1B,OACA,EADA,MAKM,OAA6B,IAAtBrQ,KAAK6E,MAAMlG,QAEpBqY,QAAS,SAAb,GAGM,GAAK2E,EAAS,GAAd,CAGA,IAAN,YACM3b,KAAKqZ,eAAiB,GACtBrZ,KAAKoZ,cAAgB,GACrBpZ,KAAKmX,aAAe,GACpBnX,KAAKuO,KAAK+K,KAAOqC,EAAS,GAC1B3b,KAAKuO,KAAKrQ,KAAOc,EAAS2a,MAAM,KAAK/C,MAAM,GAAI,GAAGgF,KAAK,KACvD5b,KAAKhB,SAAWA,EAEO,QAAnBgB,KAAKkX,UACPlX,KAAK6b,mBACb,0CACQ7b,KAAK8b,qBAEL9b,KAAK2a,eAEP3a,KAAK6X,eAAiB7X,KAAK2Y,iBAAiBC,KAAI,SAAtD,sBAEIiD,iBAAkB,WAChB,IAAN,iBACA,+CAIA,OACME,EAAOC,WAAW1C,EAAK1C,MAAM,EAAG,MAChCmF,EAAOE,UAAY,SAAUpK,GAC3B,GAAIA,EAAEhQ,OAAOqa,aAAeC,WAAWC,KAAM,CAE3C,IAAV,kBACUC,EAAMjD,cAAgBtU,EAAK6U,MAAM,MAAM,GAAG2C,WAAW,IAAK,IAC1DD,EAAMlF,aAAerS,EAC/B,YACA,8BACUuX,EAAM1B,kBAIZmB,mBAAoB,WAClB,IAAN,iBACA,+CACA,OACMC,EAAOC,WAAW1C,EAAK1C,MAAM,EAAG,MAChCmF,EAAOE,UAAY,SAAUpK,GAC3B,GAAIA,EAAEhQ,OAAOqa,aAAeC,WAAWC,KAAM,CAE3C,IAAV,kBACA,gBACA,wCACU,IACEC,EAAMjD,cAAgBmD,KAAKC,MAAMC,EAAK,IACtCJ,EAAMlF,aAAesF,EAAK7F,MAAM,EAAGf,GAAG+C,KAAI,SAAtD,2BACYyD,EAAM1B,eAClB,SACY0B,EAAMjD,cAAgB,GACtBiD,EAAMlF,aAAe,GACrB,IAAZ,YACYtS,GAAS,+BACTA,GAAS4X,EAAK,GACdJ,EAAMxX,MAAMwL,KAAKxL,GACjBwX,EAAMxX,MAAMwL,KAAK,8CC7uBsU,MCO/V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAItQ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAGJ,EAAI2c,eAAuL3c,EAAIuC,KAA3KnC,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,IAAO,MAAK,EAAM,cAAyBjC,EAAI2c,eAA2G3c,EAAIuC,KAA/FnC,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,eAAyBN,EAAIwQ,KAAKG,YAAiB,MAAEvQ,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,OAAOc,YAAY,CAAC,aAAa,UAAU,CAAClC,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,YAAY,CAACA,EAAG,IAAI,CAACJ,EAAIqC,GAAG,yLAAyLjC,EAAG,MAAMJ,EAAIqC,GAAG,kGAAkGjC,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,2DAA2D,IAAM,aAAa,OAAS,WAAW,CAACN,EAAIqC,GAAG,mBAAmBrC,EAAIqC,GAAG,qEAAqEjC,EAAG,MAAMA,EAAG,4BAA4B,IAAI,SAASJ,EAAIuC,KAAMvC,EAAI4C,OAAO6O,UAAgB,OAAErR,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,OAAOc,YAAY,CAAC,aAAa,UAAU,CAAC9B,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,sBAAsBjC,EAAG,IAAI,CAACgB,YAAY,kBAAkBc,YAAY,CAAC,QAAU,UAAU,cAAc,OAAO,MAAQ,YAAY,CAAClC,EAAIqC,GAAG,iBAAiBrC,EAAIyC,GAAGzC,EAAIkD,GAAG,gBAAPlD,CAAwBA,EAAIwR,QAAQ,2BAA2BpR,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,mBAAmB,CAACE,MAAM,CAAC,UAAYN,EAAI4C,OAAO6O,UAAU,UAAW,MAAS,SAASzR,EAAIuC,MAAM,IAC/2D,GAAkB,CAAC,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,yBCiFpM,IACEsM,WAAY,CACViO,eAAJ,GACIC,qBAAJ,IAEE3O,MAAO,CAAC,kBACRoB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BgB,MAPJ,WAQM,OAAOvR,KAAKgQ,OAAOE,MAAMqB,SChGoT,MCO/U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIxR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACkB,GAAG,CAAC,OAAS,SAASC,GAAQA,EAAO+M,oBAAqB,CAAClO,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,OAAO,eAAe,SAASuD,MAAM,CAACtF,MAAOyB,EAAY,SAAE8D,SAAS,SAAUC,GAAM/D,EAAIkL,SAASnH,GAAK5C,WAAW,aAAa,CAACf,EAAG,IAAI,CAACgB,YAAY,aAAac,YAAY,CAAC,cAAc,OAAO,eAAe,SAASlC,EAAIqC,GAAG,2FAA2FjC,EAAG,MAAMA,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,OAAO,eAAe,QAAQuD,MAAM,CAACtF,MAAOyB,EAAY,SAAE8D,SAAS,SAAUC,GAAM/D,EAAIkL,SAASnH,GAAK5C,WAAW,aAAa,CAACf,EAAG,IAAI,CAACgB,YAAY,cAAcc,YAAY,CAAC,cAAc,OAAO,eAAe,SAASlC,EAAIqC,GAAG,+EAA+EjC,EAAG,MAAOJ,EAAI8c,aAAale,QAAUoB,EAAI+c,cAAcne,OAAQwB,EAAG,MAAM,CAACJ,EAAIqC,GAAG,sCAAsCjC,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACgB,YAAY,sBAAsB,CAACpB,EAAI2C,GAAI3C,EAAgB,cAAE,SAASiD,EAAK8T,GAAO,OAAO3W,EAAG,KAAK,CAACW,IAAIgW,GAAO,CAAC3W,EAAG,KAAK,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGQ,MAAS7C,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,WAAW5B,MAAM,CAAC,MAAQ,QAAQgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIgd,WAAW/Z,EAAM8T,MAAU,CAAC3W,EAAG,IAAI,CAACgB,YAAY,uBAAsBpB,EAAI2C,GAAI3C,EAAiB,eAAE,SAASoR,EAAM2F,GAAO,OAAO3W,EAAG,KAAK,CAACW,IAAIgW,GAAO,CAAC3W,EAAG,KAAK,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAG2O,MAAUhR,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,WAAW5B,MAAM,CAAC,MAAQ,QAAQgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIid,YAAY7L,EAAO2F,MAAU,CAAC3W,EAAG,IAAI,CAACgB,YAAY,wBAAuB,GAAGhB,EAAG,MAAMA,EAAG,QAAQJ,EAAIuC,KAAMvC,EAAIqL,cAAczM,QAAUoB,EAAIsL,eAAe1M,OAAQwB,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,aAAa,KAAO,QAAQ,UAAW,IAAQ,CAACN,EAAIqC,GAAG,mEAAmErC,EAAIuC,KAAKnC,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,oBAAoB,CAACF,EAAG,iBAAiB,CAACE,MAAM,CAAC,kBAAkB,GAAG,KAAON,EAAIkd,kBAAkB,YAAc,cAAc,KAAO,WAAW5b,GAAG,CAAC,OAAStB,EAAImd,SAAStZ,MAAM,CAACtF,MAAOyB,EAAiB,cAAE8D,SAAS,SAAUC,GAAM/D,EAAIod,cAAcrZ,GAAK5C,WAAW,kBAAkB,CAACf,EAAG,WAAW,CAACmU,KAAK,SAAS,CAACvU,EAAIqC,GAAG,oBAAoB,IAAI,IAAI,KAAKjC,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,qBAAqB,CAACF,EAAG,iBAAiB,CAACE,MAAM,CAAC,kBAAkB,GAAG,gBAAgB,GAAG,KAAON,EAAIqd,mBAAmB,YAAc,gBAAgB,KAAO,WAAW/b,GAAG,CAAC,OAAStB,EAAIsd,UAAUzZ,MAAM,CAACtF,MAAOyB,EAAkB,eAAE8D,SAAS,SAAUC,GAAM/D,EAAIud,eAAexZ,GAAK5C,WAAW,mBAAmB,CAACf,EAAG,WAAW,CAACmU,KAAK,SAAS,CAACvU,EAAIqC,GAAG,qBAAqB,IAAI,IAAI,KAAMrC,EAAImL,WAAWvM,QAAUoB,EAAIoL,YAAYxM,OAAQwB,EAAG,MAAM,CAACA,EAAG,MAAMA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,yBAAyBjC,EAAG,MAAMA,EAAG,MAAMA,EAAG,UAAU,CAACE,MAAM,CAAC,QAAU,GAAG,kBAAkB,KAAK,CAACN,EAAI2C,GAAI3C,EAAc,YAAE,SAASiD,EAAK8T,GAAO,OAAO3W,EAAG,MAAM,CAACW,IAAIkC,EAAK9E,KAAKiD,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACE,MAAM,CAAC,SAAW,GAAG,SAAW,GAAG,mBAAmB,YAAY,KAAO,aAAagB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAImL,WAAWqS,OAAOzG,EAAO,MAAM,CAAC/W,EAAIqC,GAAGrC,EAAIyC,GAAGQ,OAAU,MAAKjD,EAAI2C,GAAI3C,EAAe,aAAE,SAASoR,EAAM2F,GAAO,OAAO3W,EAAG,MAAM,CAACW,IAAIqQ,EAAMjT,KAAKiD,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACE,MAAM,CAAC,SAAW,GAAG,SAAW,GAAG,mBAAmB,YAAY,KAAO,aAAagB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIoL,YAAYoS,OAAOzG,EAAO,MAAM,CAAC/W,EAAIqC,GAAGrC,EAAIyC,GAAG2O,OAAW,OAAM,IAAI,GAAGpR,EAAIuC,KAAKnC,EAAG,MAAMA,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,iBAAiBE,GAAG,CAAC,MAAQtB,EAAIuO,aAAa,CAACvO,EAAIqC,GAAG,yBAC9rH,GAAkB,GCiItB,IACE0C,KADF,WAEI,MAAO,CACLmG,UAAU,EACVuS,YAAa,GACbC,aAAc,GACdvS,WAAY,GACZC,YAAa,GACbC,cAAe,GACfC,eAAgB,GAChB8R,cAAe,GACfG,eAAgB,KAGpBjO,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BsM,aAPJ,WAOA,WACM,OAAO7c,KAAKuQ,KAAKK,cAAcrF,MAAMpN,QAAO,SAAlD,0CAEI2e,cAVJ,WAUA,WACM,OAAO9c,KAAKuQ,KAAKK,cAAcpF,OAAOrN,QAAO,SAAnD,2CAEI8e,kBAbJ,WAaA,WACM,OAAOjd,KAAKwd,YAAYrf,QAAO,SAArC,GACQ,OACR,EACA,WACA,cACA,8CAIIif,mBAvBJ,WAuBA,WACM,OAAOpd,KAAKyd,aAAatf,QAAO,SAAtC,GACQ,OACR,EACA,WACA,cACA,gDAKE+P,QAAS,CACPgP,QAAS,SAAb,GACUQ,IACG1d,KAAKkL,WAAWsE,SAASkO,IAC5B1d,KAAKkL,WAAWmF,KAAKqN,KAI3BL,SAAU,SAAd,GACWrd,KAAKmL,YAAYqE,SAASmO,IAC7B3d,KAAKmL,YAAYkF,KAAKsN,IAG1BZ,WAAY,SAAhB,KACM/c,KAAKoL,cAAciF,KAAKqN,IAE1BV,YAAa,SAAjB,KACMhd,KAAKqL,eAAegF,KAAKsN,IAE3BrP,WAAY,WACV,EAAN,kBACA,eACA,cACA,gBACA,iBACA,mBACA,qBAEA,sBACA,uBACMtO,KAAKgU,MAAM,qBAGfgC,QAjFF,WAiFA,WACQhW,KAAKuQ,KAAKG,YAAYpF,SACxBtL,KAAKiL,UAAW,GAElB,EAAJ,WACA,kBACM,EAAN,qCACQ,EAAR,mCAGA,uBACI,EAAJ,YACA,kBACM,EAAN,qCACQ,EAAR,gCAGA,yBCpOkW,MCO9V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIlL,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAMJ,EAAI2C,GAAI3C,EAAU,QAAE,SAAS6d,GAAO,OAAOzd,EAAG,cAAc,CAACW,IAAI8c,EAAMhb,GAAGvC,MAAM,CAAC,GAAK,CAAEnC,KAAM,eAAgBuL,MAAO,CAAEmU,MAAOA,EAAMhb,OAAS,CAACzC,EAAG,KAAK,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,KAAK,CAAC8B,YAAY,CAAC,QAAU,OAAO,gBAAgB,OAAO,OAAS,YAAY,CAAC9B,EAAG,SAAS,CAAC8B,YAAY,CAAC,MAAQ,8BAA8B,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGob,EAAM1f,SAASiC,EAAG,MAAMA,EAAG,OAAO,CAACJ,EAAIqC,GAAG,YAAYrC,EAAIyC,GAAGzC,EAAIkD,GAAG,SAAPlD,CAAiB6d,EAAM1a,WAAW,iCAAgC,IAC3jB,GAAkB,GC+BtB,IACE4B,KADF,WAEI,MAAO,CACL2M,OAAQ,KAGZpC,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,OAG7BhQ,QAdF,WAcA,WACI,EAAJ,kCACA,kBACM,IAAN,4BACA,QACQ,EAAR,gCAGA,mBACM,QAAN,cCvDkW,MCO9V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QCsVf,IACEmO,WAAY,CACVmP,gBAAJ,GACIC,gBAAJ,EACInB,eAAJ,GACIoB,gBAAJ,GACInB,qBAAJ,GACIoB,kBAAJ,GACIC,wBAAJ,GACIC,YAAJ,GACIC,YAAJ,GACIvJ,WAAJ,IAEE9P,KAbF,WAcI,MAAO,CACLiM,yBAAyB,EACzBF,uBAAuB,EACvBF,gBAAgB,EAChBxB,YAAY,EACZC,iBAAkB,KAClBkB,YAAY,IAGhBjB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BgB,MAPJ,WAQM,OAAOvR,KAAKgQ,OAAOE,MAAMqB,OAE3Bd,aAAc,WACZ,IAAN,KACA,iBAUM,OATIzQ,KAAKuQ,KAAKK,cAAcrF,MAAM5M,SAChCyf,EAAMC,EAAUre,KAAKuQ,KAAKK,cAAcrF,MAAM5M,OAAS,SACnDqB,KAAKuQ,KAAKK,cAAcpF,OAAO7M,SACjCyf,EAAMA,EAAM,QAAUpe,KAAKuQ,KAAKK,cAAcpF,OAAO7M,OAAS,aAG7Dyf,GAAOpe,KAAKuQ,KAAKK,cAAcpF,OAAO7M,SACzCyf,EAAMC,EAAUre,KAAKuQ,KAAKK,cAAcpF,OAAO7M,OAAS,WAEnDyf,IAGXlQ,QAAS,CACP9H,aAAc,WAAlB,WACM,EAAN,6BACA,kBACQ,EAAR,cAAU,KAAV,YAEA,mBACQ,QAAR,aAGIE,cAAe,WAAnB,WACMtG,KAAKsQ,YAAa,EAClB,EAAN,8BACA,kBACQ,EAAR,4CACQ,EAAR,cAAU,KAAV,WAAU,OAAV,4BAEA,mBACQ,QAAR,aAGI9J,gBAAiB,WAArB,WACMxG,KAAKsQ,YAAa,EAClB,EAAN,gCACA,kBACQ,EAAR,4CACQ,EAAR,cAAU,KAAV,WAAU,OAAV,4BAEA,mBACQ,QAAR,aAGI7J,aAAc,WAAlB,WACMzG,KAAKyP,cACL,EAAN,6BACA,kBACQ,IAAR,iDACA,8BACA,sCACQ,EAAR,OACQ,EAAR,2BACQ,SAAR,oBACQ,EAAR,QACQ,EAAR,kBAEA,mBACQ,QAAR,SACQ,EAAR,mBAGIwB,eAAgB,WACd,IAAN,6DACM,OAAOqN,EAAcjE,QAEvBnJ,gBAAiB,WACf,IAAN,8DACM,OAAOqN,EAAelE,QAExBvJ,gBAAiB,WACf9Q,KAAK2Q,gBAAiB,EACtB3Q,KAAK0P,OAAO8O,SAASvZ,KAAK,CACxBQ,SAAU,KACVV,QAAS,mCACT1G,KAAM,WACN6G,SAAU,SACVuZ,OAAO,IAETze,KAAKgQ,OAAOC,SAAS,eAAgBjQ,KAAK2C,OAAOC,KAEnD6M,YAAa,WACXzP,KAAKoP,iBAAmBpP,KAAK0P,OAAOR,QAAQjK,KAAK,CAC/C0K,UAAW3P,KAAKmP,WAAa,KAAOnP,KAAK4P,MAAMlP,QAAQmP,OAG3DC,aAAc,WACZ9P,KAAKoP,iBAAiBW,UAG1BxP,QAAS,WAC8B,aAAjCP,KAAK2C,OAAOQ,OAAO,GAAGA,SACxBnD,KAAKsQ,YAAa,KCxe0T,MCQ9U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIvQ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,OAAU7B,EAAG,sBAAsB,CAACue,IAAI,aAAare,MAAM,CAAC,kBAAoB,SAAS,YAAc,aAAaF,EAAG,UAAU,CAAC8B,YAAY,CAAC,UAAU,OAAO5B,MAAM,CAAC,OAASN,EAAI4e,oBAAoB,MAAQ,IAAI,OAAS,QAAQtd,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAI4e,oBAAoBrd,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,mBAAmBjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,sBAAsB,CAACE,MAAM,CAAC,SAAWN,EAAI+C,SAAS,mBAAqB/C,EAAI6e,mBAAmB,mBAAqB7e,EAAI8e,oBAAoBxd,GAAG,CAAC,cAAgBtB,EAAI+e,eAAe,SAAS3e,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAEpB,EAAc,WAAEI,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAAC8B,YAAY,CAAC,SAAW,aAAa,CAAC9B,EAAG,MAAM,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,UAAU,MAAM,SAAW,WAAW,MAAQ,SAAS,CAAC9B,EAAG,4BAA4B,CAAC8B,YAAY,CAAC,SAAW,WAAW,IAAM,MAAM,cAAc,UAAU9B,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAsB,mBAAEmB,WAAW,uBAAuBwd,IAAI,cAAcvd,YAAY,kBAAkBc,YAAY,CAAC,eAAe,QAAQ5B,MAAM,CAAC,KAAO,OAAO,YAAc,SAAS,UAAY,GAAG,SAAW,IAAIe,SAAS,CAAC,MAASrB,EAAsB,oBAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOR,IAAI,SAAkB,KAAcf,EAAI2B,OAAOC,MAAM,KAAMC,YAAY,MAAQ,SAASN,GAAQvB,EAAIgf,oBAAqB,GAAM,MAAQ,SAASzd,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAI6e,mBAAmBtd,EAAOO,OAAOvD,WAAWyB,EAAsB,mBAAEI,EAAG,MAAM,CAACA,EAAG,qBAAqB,CAACE,MAAM,CAAC,kBAAkBN,EAAIif,eAAe,eAAejf,EAAI6e,oBAAoBvd,GAAG,CAAC,cAAgBtB,EAAI+e,WAAW,QAAU/e,EAAIkf,QAAQ,iBAAmB,SAAS3d,GAAQ,OAAOvB,EAAImf,oBAAoB,MAAQnf,EAAIof,oBAAoB,iBAAiB,SAAS7d,GAAQvB,EAAIgf,oBAAqB,GAAO,aAAahf,EAAIqf,cAAc,kBAAoBrf,EAAIsf,sBAAsB,GAAGtf,EAAIuC,MAAM,KAAKnC,EAAG,MAAM,CAACgB,YAAY,mBAAmBc,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,SAASO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,IAAI,CAACgB,YAAY,iBAAiBc,YAAY,CAAC,kBAAkB,QAAQ5B,MAAM,CAAC,KAAO,UAAU,KAAO,UAAUiU,KAAK,WAAW,CAACnU,EAAG,OAAO,CAACJ,EAAIqC,GAAG,uBAAuBJ,OAAM,IAAO,MAAK,EAAM,aAAa,CAAC7B,EAAG,SAAS,CAACJ,EAAIqC,GAAG,wBAAwBjC,EAAG,MAAMA,EAAG,MAAMA,EAAG,yBAAyB,CAACkB,GAAG,CAAC,QAAUtB,EAAIkf,QAAQ,aAAelf,EAAIuf,iBAAiB,IAAI,GAAGnf,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,cAAc,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,IAAI,CAACgB,YAAY,iBAAiBc,YAAY,CAAC,kBAAkB,QAAQ5B,MAAM,CAAC,KAAO,WAAW,CAACF,EAAG,OAAO,CAACJ,EAAIqC,GAAG,4BAA4BJ,OAAM,IAAO,MAAK,EAAM,YAAY,CAAC7B,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,UAAU,eAAe,aAAauD,MAAM,CAACtF,MAAOyB,EAAkB,eAAE8D,SAAS,SAAUC,GAAM/D,EAAIif,eAAelb,GAAK5C,WAAW,mBAAmB,CAACf,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,cAAcc,YAAY,CAAC,MAAQ,UAAU,4BAA4B,MAAM,4BAA4B,cAAclC,EAAIqC,GAAG,8CAA8C,GAAGjC,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,UAAU,eAAe,gBAAgBuD,MAAM,CAACtF,MAAOyB,EAAkB,eAAE8D,SAAS,SAAUC,GAAM/D,EAAIif,eAAelb,GAAK5C,WAAW,mBAAmB,CAACf,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,qBAAqBpB,EAAIqC,GAAG,yEAAyE,GAAGrC,EAAI2C,GAAI3C,EAAkB,gBAAE,SAASyQ,GAAO,OAAOrQ,EAAG,MAAM,CAACW,IAAI0P,EAAMA,MAAMrP,YAAY,QAAQc,YAAY,CAAC,gBAAgB,QAAQ,CAAC9B,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,UAAU,eAAemQ,EAAMA,OAAO5M,MAAM,CAACtF,MAAOyB,EAAkB,eAAE8D,SAAS,SAAUC,GAAM/D,EAAIif,eAAelb,GAAK5C,WAAW,mBAAmB,CAACnB,EAAIqC,GAAG,6BAA6BrC,EAAIyC,GAAGgO,EAAMA,OAAO,+BAA+B,UAASrQ,EAAG,MAAMA,EAAG,SAAS,CAACgB,YAAY,iBAAiBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAImf,sBAAsB,CAACnf,EAAIqC,GAAG,iBAAiB,IAAI,KAAKjC,EAAG,IAAI,CAACgB,YAAY,UAAUc,YAAY,CAAC,IAAM,QAAQ,MAAQ,UAAU,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,IAAM,MAAM,eAAe,QAAQ5B,MAAM,CAAC,KAAO,WAAW,KAAO,WAAWuD,MAAM,CAACtF,MAAOyB,EAAiB,cAAE8D,SAAS,SAAUC,GAAM/D,EAAIwf,cAAczb,GAAK5C,WAAW,kBAAkB,CAACnB,EAAIqC,GAAG,WAAWjC,EAAG,WAAW,CAAC8B,YAAY,CAAC,IAAM,OAAO5B,MAAM,CAAC,KAAO,WAAW,KAAO,WAAWgB,GAAG,CAAC,MAAQtB,EAAIyf,iBAAiB5b,MAAM,CAACtF,MAAOyB,EAAqB,kBAAE8D,SAAS,SAAUC,GAAM/D,EAAI0f,kBAAkB3b,GAAK5C,WAAW,sBAAsB,CAACnB,EAAIqC,GAAG,mBAAmB,GAAGjC,EAAG,MAAM,CAACgB,YAAY,OAAOc,YAAY,CAAC,gBAAgB,SAASlC,EAAI2C,GAAI3C,EAAmB,iBAAE,SAAS2f,EAAK5I,GAAO,OAAO3W,EAAG,OAAO,CAACW,IAAIgW,EAAQ4I,EAAKphB,OAAO,CAAC6B,EAAG,cAAc,CAACue,IAAI,cAAciB,UAAS,EAAKtf,MAAM,CAAC,MAAQ,SAASO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,OAAO,CAACgB,YAAY,uBAAuBd,MAAM,CAAC,KAAO,WAAW,CAACF,EAAG,MAAM,CAACgB,YAAY,OAAOc,YAAY,CAAC,gBAAgB,MAAM,eAAe,QAAQ,CAAC9B,EAAG,OAAO,CAACgB,YAAY,gBAAgBkS,MAAM,CAAE,iBAAiC,IAAhBqM,EAAKE,QAAmB3d,YAAY,CAAC,OAAS,YAAY,CAAC9B,EAAG,OAAO,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOoS,kBAAyB3T,EAAI8f,WAAWH,MAAS,CAAE5I,EAAQ,EAAG3W,EAAG,OAAO,CAACgB,YAAY,uBAAuB,CAACpB,EAAIqC,GAAG,QAAQrC,EAAIuC,KAAKnC,EAAG,OAAO,CAACgB,YAAY,OAAOc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,mBAAmBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGkd,EAAKphB,MAAMqb,MAAM,KAAK,OACjwM,mBAAd+F,EAAKrhB,MAA6BqhB,EAAKphB,MAAMqb,MAAM,KAAK,KAAO+F,EAAKphB,MAAMqb,MAAM,KAAK,GACrFxZ,EAAG,OAAO,CAACJ,EAAIqC,GAAG,mCAAmCrC,EAAIyC,GAAGkd,EAAKphB,MAAMqb,MAAM,KAAK,OAAO5Z,EAAIuC,OAAOnC,EAAG,OAAO,CAACgB,YAAY,0BAA0Bc,YAAY,CAAC,cAAc,MAAM,MAAQ,SAAS,CAAC9B,EAAG,IAAI,CAACgB,YAAY,0BAA0Bc,YAAY,CAAC,UAAY,aAAa,MAAQ,YAAY9B,EAAG,SAAS,CAACgB,YAAY,kBAAkBc,YAAY,CAAC,cAAc,OAAOZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI+f,WAAWJ,eAAkB1d,OAAM,IAAO,MAAK,IAAO,CAAC7B,EAAG,SAAS,CAACJ,EAAIqC,GAAG,wBAAwBjC,EAAG,MAAMA,EAAG,MAAMA,EAAG,yBAAyB,CAACE,MAAM,CAAC,aAAeqf,GAAMre,GAAG,CAAC,WAAa,SAASC,GAAQ,OAAOvB,EAAIggB,WAAWze,EAAQoe,IAAO,aAAe3f,EAAIuf,iBAAiB,IAAI,MAAK,GAAGnf,EAAG,MAAM,CAACgB,YAAY,QAAQpB,EAAI2C,GAAI3C,EAAe,aAAE,SAAS2f,EAAK5I,GAAO,OAAO3W,EAAG,OAAO,CAACW,IAAIgW,EAAQ4I,EAAKphB,OAAO,CAAgB,UAAdohB,EAAKrhB,KAAkB8B,EAAG,OAAO,CAACgB,YAAY,gBAAgBkS,MAAM,CAAE,iBAAiC,IAAhBqM,EAAKE,QAAmB3d,YAAY,CAAC,eAAe,MAAM,OAAS,WAAWZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI8f,WAAWH,EAAM5I,MAAU,CAAEA,EAAQ,GAAK/W,EAAIigB,gBAAgBrhB,OAAQwB,EAAG,OAAO,CAACgB,YAAY,uBAAuB,CAACpB,EAAIqC,GAAG,SAASrC,EAAIuC,KAAqB,cAAfod,EAAKphB,MAAuB6B,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,cAAcc,YAAY,CAAC,MAAQ,UAAU,4BAA4B,MAAM,4BAA4B,cAA8B,iBAAfyd,EAAKphB,MAA0B6B,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,qBAAoC,UAAdue,EAAKrhB,KAAkB8B,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,iBAAiBpB,EAAIuC,KAAKnC,EAAG,OAAO,CAAC8B,YAAY,CAAC,eAAe,QAAQ,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIkD,GAAG,aAAPlD,CAAqB2f,OAAUvf,EAAG,SAAS,CAACgB,YAAY,kBAAkBc,YAAY,CAAC,cAAc,OAAOZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI+f,WAAWJ,SAAY3f,EAAIuC,KAAoB,SAAdod,EAAKrhB,KAAiB8B,EAAG,OAAO,CAACgB,YAAY,gBAAgBkS,MAAM,CAAE,iBAAiC,IAAhBqM,EAAKE,OAAkB,YAA+B,aAAlBF,EAAKO,UAA0Bhe,YAAY,CAAC,eAAe,MAAM,OAAS,WAAWZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI8f,WAAWH,EAAM5I,MAAU,CAAEA,EAAQ,GAAK/W,EAAIigB,gBAAgBrhB,OAAQwB,EAAG,OAAO,CAACgB,YAAY,uBAAuB,CAACpB,EAAIqC,GAAG,SAASrC,EAAIuC,KAAwB,aAAlBod,EAAKO,SAAyB9f,EAAG,OAAO,CAACgB,YAAY,sBAAsBc,YAAY,CAAC,cAAc,SAAS,CAAClC,EAAIqC,GAAG,SAASrC,EAAIuC,KAAKnC,EAAG,OAAO,CAAC8B,YAAY,CAAC,eAAe,QAAQ,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIkD,GAAG,aAAPlD,CAAqB2f,OAAUvf,EAAG,SAAS,CAACgB,YAAY,kBAAkBc,YAAY,CAAC,cAAc,OAAOZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI+f,WAAWJ,SAAY3f,EAAIuC,UAAS,GAAIvC,EAAI4C,OAAuB,iBAAExC,EAAG,6BAA6B,CAACE,MAAM,CAAC,uBAAuBN,EAAI8e,mBAAmB,kBAAkB9e,EAAImgB,UAAU3P,KAAK4P,gBAAgB,qBAAqBpgB,EAAImgB,UAAU3P,KAAK6P,oBAAoB/e,GAAG,CAAC,wBAA0B,SAASC,GAAQ,OAAOvB,EAAIsgB,wBAAwB/e,OAAYvB,EAAIuC,MAAM,GAAGvC,EAAIuC,WAAWnC,EAAG,UAAU,CAACa,WAAW,CAAC,CAAC9C,KAAK,OAAO+C,QAAQ,SAAS3C,MAAOyB,EAAqB,kBAAEmB,WAAW,sBAAsBC,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,2CAA2CjC,EAAG,MAAM,CAACgB,YAAY,mBAAmBc,YAAY,CAAC,MAAQ,QAAQ,CAAC9B,EAAG,OAAO,CAAC8B,YAAY,CAAC,eAAe,SAAS,CAAClC,EAAIqC,GAAG,UAAUjC,EAAG,WAAW,CAAC8B,YAAY,CAAC,eAAe,QAAQ5B,MAAM,CAAC,OAAS,UAAU,IAAM,GAAI,IAAM,EAAE,KAAO,KAAMgB,GAAG,CAAC,QAAUtB,EAAIyf,iBAAiB5b,MAAM,CAACtF,MAAOyB,EAAa,UAAE8D,SAAS,SAAUC,GAAM/D,EAAIugB,UAAUxc,GAAK5C,WAAW,gBAAgB,KAAKf,EAAG,MAAM,CAACa,WAAW,CAAC,CAAC9C,KAAK,aAAa+C,QAAQ,iBAAiBE,YAAY,6BAA6Bc,YAAY,CAAC,SAAW,SAAS,cAAc,SAAS,aAAa,QAAQ,aAAa,UAAU,CAAC9B,EAAG,yBAAyB,CAAC8B,YAAY,CAAC,mBAAmB,YAAYsR,MAAM,CAAGgN,UAAW,SAAWxgB,EAAIugB,UAAY,KAAOjgB,MAAM,CAAC,eAAeN,EAAI0f,mBAAmBpe,GAAG,CAAC,aAAatB,EAAIqf,kBAAkB,SAAUrf,EAAiB,cAAEI,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,eAAe,CAACE,MAAM,CAAC,aAAaN,EAAImgB,UAAU3P,KAAKiQ,iBAAiBnf,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOvB,EAAI0gB,qBAAqBnf,QAAa,SAASvB,EAAIuC,KAAKnC,EAAG,UAAU,CAACa,WAAW,CAAC,CAAC9C,KAAK,OAAO+C,QAAQ,SAAS3C,MAAOyB,EAAgB,aAAEmB,WAAW,iBAAiBC,YAAY,UAAUd,MAAM,CAAC,GAAK,YAAY,CAACF,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,aAAa,mBAAmB,kBAAkB,CAACF,EAAG,SAAS,CAACJ,EAAIqC,GAAG,mBAAmBjC,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,SAASE,GAAG,CAAC,MAAQtB,EAAI2gB,gBAAgB,CAAC3gB,EAAIqC,GAAG,iCAAiCjC,EAAG,SAAS,CAACgB,YAAY,SAASE,GAAG,CAAC,MAAQtB,EAAI4gB,uBAAuB,CAAC5gB,EAAIqC,GAAG,gCAAgC,KAAKjC,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAEpB,EAAI6gB,UAAY7gB,EAAI8gB,iBAAkB1gB,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAI+gB,WAAW,IAAI/gB,EAAIyC,GAAGzC,EAAI6gB,SAAS,OAAO7gB,EAAIyC,GAAGzC,EAAIghB,WAAW,YAAYhhB,EAAIyC,GAAGzC,EAAIihB,WAAW,QAAQjhB,EAAIuC,OAAOnC,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAGpB,EAAI6gB,SAAY7gB,EAAI8gB,iBAAoG9gB,EAAIuC,KAAtFnC,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIghB,WAAW,YAAYhhB,EAAIyC,GAAGzC,EAAIihB,WAAW,QAAkBjhB,EAAoB,iBAAEI,EAAG,MAAM,CAACJ,EAAIoC,GAAG,GAAGpC,EAAIqC,GAAG,oCAAoCrC,EAAIuC,OAAOnC,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAEpB,EAAIghB,UAAY,EAAG5gB,EAAG,SAAS,CAACgB,YAAY,yCAAyCE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAI4e,qBAAuB5e,EAAIkhB,wBAAwB,CAAClhB,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,wBAAwBrC,EAAIuC,OAAQvC,EAAqB,kBAAEI,EAAG,MAAM,CAACgB,YAAY,aAAac,YAAY,CAAC,eAAe,SAAS,CAAC9B,EAAG,SAAS,CAACgB,YAAY,8BAA8Bc,YAAY,CAAC,gBAAgB,OAAOZ,GAAG,CAAC,MAAQtB,EAAImhB,aAAa,CAACnhB,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gBAAgBrC,EAAIyC,GAAGzC,EAAIohB,mBAAmB,WAAWphB,EAAIuC,OAAOnC,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAChB,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIqhB,uBAAuB,WAAWrhB,EAAI8e,mBAAmB1D,KAAK,QAAUpb,EAAIgE,YAAY,QAAS,EAAK,KAAO,WAAW,YAAY,MAAM,YAAY,eAAe,YAAY,iBAAiB1C,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOvB,EAAI4D,SAASrC,IAAS,iBAAiB,SAASA,GAAQvB,EAAIgE,YAAYzC,OAAY,GAAGnB,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,MAAM,CAACgB,YAAY,mBAAmB,CAAChB,EAAG,SAAS,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAI8e,mBAAuB,KAAE3d,WAAW,4BAA4Be,YAAY,CAAC,OAAS,4CAA4CZ,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,IAAI+f,EAAgB1J,MAAM2J,UAAUnjB,OAAOojB,KAAKjgB,EAAOO,OAAO0W,SAAQ,SAASiJ,GAAG,OAAOA,EAAEC,YAAW7I,KAAI,SAAS4I,GAAG,IAAIhL,EAAM,WAAYgL,EAAIA,EAAEE,OAASF,EAAEljB,MAAM,OAAOkY,KAAOzW,EAAIyO,KAAKzO,EAAI8e,mBAAoB,OAAQvd,EAAOO,OAAO8f,SAAWN,EAAgBA,EAAc,KAAK,SAAS/f,GAAQ,OAAOvB,EAAI2B,QAAO,GAAM,GAAM,OAAU,CAACvB,EAAG,SAAS,CAACiB,SAAS,CAAC,MAAQrB,EAAI8e,mBAAmB1D,OAAO,CAACpb,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAI8e,mBAAmB1D,SAAShb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACN,EAAIqC,GAAG,QAAQjC,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACN,EAAIqC,GAAG,QAAQjC,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACN,EAAIqC,GAAG,QAAQjC,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACN,EAAIqC,GAAG,QAAQjC,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIqC,GAAG,SAASjC,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIqC,GAAG,SAASjC,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIqC,GAAG,eAAejC,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,SAAS,CAACgB,YAAY,kBAAkBc,YAAY,CAAC,gBAAgB,OAAOZ,GAAG,CAAC,MAAQtB,EAAI6hB,kBAAkB,CAAC7hB,EAAIqC,GAAG,uBAAuBrC,EAAIyC,GAAGzC,EAAI8e,mBAAmBgD,OAAO,0BAA0B1hB,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,cAAc,CAACE,MAAM,CAAC,SAAW,iBAAiB,MAAQ,SAASO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,SAAS,CAACgB,YAAY,kBAAkBc,YAAY,CAAC,gBAAgB,QAAQ,CAAC9B,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,mBAAmBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,2BAA2BJ,OAAM,MAAS,CAAEjC,EAAIwQ,KAAa,SAAEpQ,EAAG,cAAc,CAAC8B,YAAY,CAAC,QAAU,SAAS5B,MAAM,CAAC,QAAUN,EAAIwQ,KAAKuR,SAAS,MAAQ/hB,EAAIgiB,oBAAoB,UAAW,EAAK,YAAa,EAAK,mBAAkB,EAAK,MAAQ,QAAQ,WAAW,QAAQ,YAAc,mBAAmB1gB,GAAG,CAAC,KAAO,SAASC,GAAQvB,EAAIiiB,qBAAsB,GAAM,MAAQ,SAAS1gB,GAAQvB,EAAIiiB,qBAAsB,GAAO,MAAQjiB,EAAIkiB,wBAAwBliB,EAAIuC,KAAMvC,EAAImiB,eAAqB,OAAE/hB,EAAG,OAAO,CAACA,EAAG,MAAMA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,sBAAsBjC,EAAG,MAAMA,EAAG,QAAQJ,EAAIuC,KAAKnC,EAAG,MAAM,CAACgB,YAAY,QAAQpB,EAAI2C,GAAI3C,EAAkB,gBAAE,SAASxB,EAAMuY,GAAO,OAAO3W,EAAG,OAAO,CAACW,IAAIgW,GAAO,CAAC3W,EAAG,OAAO,CAACgB,YAAY,0BAA0Bc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,OAAO,CAAC8B,YAAY,CAAC,eAAe,QAAQ,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGjE,EAAMA,UAAU4B,EAAG,SAAS,CAACgB,YAAY,kBAAkBc,YAAY,CAAC,cAAc,OAAOZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIoiB,YAAYrL,cAAiB,GAAG3W,EAAG,MAAMA,EAAG,WAAW,CAAC8B,YAAY,CAAC,gBAAgB,OAAO5B,MAAM,CAAC,KAAO,WAAWuD,MAAM,CAACtF,MAAOyB,EAAIqiB,eAAuB,SAAEve,SAAS,SAAUC,GAAM/D,EAAIyO,KAAKzO,EAAIqiB,eAAgB,WAAYte,IAAM5C,WAAW,4BAA4B,CAACf,EAAG,OAAO,CAACJ,EAAIqC,GAAG,iBAAiBjC,EAAG,MAAMA,EAAG,WAAW,CAAC8B,YAAY,CAAC,gBAAgB,OAAO5B,MAAM,CAAC,KAAO,WAAWuD,MAAM,CAACtF,MAAOyB,EAAIqiB,eAAyB,WAAEve,SAAS,SAAUC,GAAM/D,EAAIyO,KAAKzO,EAAIqiB,eAAgB,aAActe,IAAM5C,WAAW,8BAA8B,CAACf,EAAG,OAAO,CAACJ,EAAIqC,GAAG,mBAAmBjC,EAAG,MAAMA,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAWuD,MAAM,CAACtF,MAAOyB,EAAIqiB,eAAyB,WAAEve,SAAS,SAAUC,GAAM/D,EAAIyO,KAAKzO,EAAIqiB,eAAgB,aAActe,IAAM5C,WAAW,8BAA8B,CAACf,EAAG,OAAO,CAACJ,EAAIqC,GAAG,0BAA0B,IAAI,GAAGjC,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAEpB,EAAImgB,UAAUmC,QAAc,OAAEliB,EAAG,SAAS,CAACgB,YAAY,kBAAkBc,YAAY,CAAC,gBAAgB,OAAOZ,GAAG,CAAC,MAAQtB,EAAI8J,qBAAqB,CAAC9J,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,qBAAqBrC,EAAIuC,WAAYvC,EAAIghB,UAAY,EAAG5gB,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,UAAUlC,EAAIuC,KAAMvC,EAAImgB,UAAUmC,QAAc,OAAEliB,EAAG,+BAA+B,CAACE,MAAM,CAAC,aAAaN,EAAImgB,UAAUmC,QAAQ,MAAQtiB,EAAI8e,mBAAmBgD,MAAM,kBAAkB9hB,EAAImiB,eAAe,kBAAkBniB,EAAIqiB,gBAAgB/gB,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOvB,EAAIkf,QAAQ3d,IAAS,SAAW,SAASA,GAAQ,OAAOvB,EAAIuiB,gBAAgBhhB,IAAS,cAAgB,SAASA,GAAQ,OAAOvB,EAAIwiB,cAAcjhB,OAAYvB,EAAIuC,KAAMvC,EAAImgB,UAAUmC,QAAc,OAAEliB,EAAG,MAAM,CAAC8B,YAAY,CAAC,MAAQ,UAAU,CAAC9B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIqhB,uBAAuB,WAAWrhB,EAAI8e,mBAAmB1D,KAAK,QAAUpb,EAAIgE,YAAY,QAAS,EAAK,KAAO,WAAW,YAAY,MAAM,YAAY,eAAe,YAAY,iBAAiB1C,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOvB,EAAI4D,SAASrC,IAAS,iBAAiB,SAASA,GAAQvB,EAAIgE,YAAYzC,OAAY,GAAGvB,EAAIuC,KAAKnC,EAAG,OAAO,KAAKA,EAAG,WAAW,IACn8W,GAAkB,CAAC,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,QAAQ,CAAChB,EAAG,IAAI,CAACgB,YAAY,oCAAoC,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,mBAAmB,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,QAAQ,CAAChB,EAAG,IAAI,CAACgB,YAAY,mBAAmB,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,2BCH9qB,I,kDAAS,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACgB,YAAY,qBAAqBc,YAAY,CAAC,gBAAgB,QAAQ,CAAC9B,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQN,EAAIyiB,gBAAgB,CAACziB,EAAIqC,GAAG,oBAAoBjC,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,MAAM,CAACF,EAAG,OAAO,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,YAAYgB,GAAG,CAAC,MAAQtB,EAAI0iB,uBAAuB1iB,EAAI2C,GAAI3C,EAAkB,gBAAE,SAASxB,EAAMuY,GAAO,OAAO3W,EAAG,KAAK,CAACW,IAAIgW,GAAO,CAAC/W,EAAIqC,GAAGrC,EAAIyC,GAAGjE,EAAMA,aAAY4B,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIqC,GAAG,oBAAoB,GAAGrC,EAAI2C,GAAI3C,EAAa,WAAE,SAASwI,EAAMuO,GAAO,OAAO3W,EAAG,mCAAmC,CAACW,IAAIgW,EAAMzW,MAAM,CAAC,MAAQkI,EAAM,UAAYxI,EAAImgB,UAAUpJ,EAAQ,GAAG,MAAQ/W,EAAI8hB,MAAM,kBAAkB9hB,EAAImiB,eAAe,kBAAkBniB,EAAIqiB,eAAe,oBAAmB,EAAK,cAAcriB,EAAI2iB,WAAW,GAAKna,EAAME,KAAKpH,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOvB,EAAIiU,MAAM,UAAW1S,IAAS,SAAW,SAASA,GAAQ,OAAOvB,EAAIiU,MAAM,WAAY1S,IAAS,cAAgB,SAASA,GAAQ,OAAOvB,EAAIiU,MAAM,gBAAiB1S,WAAe,KACvlC,GAAkB,GCDlB,GAAS,WAAa,IAAIvB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAAEJ,EAAI4iB,UAAY,EAAGxiB,EAAG,KAAK,CAACA,EAAG,KAAK,CAAC8B,YAAY,CAAC,QAAU,KAAK5B,MAAM,CAAC,QAAU,MAAM,CAACF,EAAG,MAAM,CAACgB,YAAY,oEAAoEhB,EAAG,MAAM,CAACgB,YAAY,uCAAuC,CAAChB,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIkD,GAAG,gBAAPlD,CAAwBA,EAAI4iB,eAAexiB,EAAG,MAAMJ,EAAIqC,GAAG,sBAAsBjC,EAAG,MAAM,CAACgB,YAAY,wEAAwEpB,EAAIuC,KAAKnC,EAAG,KAAK,CAACA,EAAG,KAAK,CAACoT,MAAOxT,EAAiB,eAAG,CAACA,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAIkD,GAAG,SAAPlD,CAAiBA,EAAIkD,GAAG,kBAAPlD,CAA0BA,EAAIwI,MAAMqa,QAAQC,WAAW,MAAO9iB,EAAI+iB,iBAAiB,YAAY3iB,EAAG,KAAK,CAACA,EAAG,MAAM,CAACgB,YAAY,oBAAoB,CAAEpB,EAAmB,gBAAEI,EAAG,OAAO,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,YAAYe,SAAS,CAAC,QAAUrB,EAAIgjB,YAAY1hB,GAAG,CAAC,MAAQtB,EAAIijB,kBAAkBjjB,EAAIuC,KAAKnC,EAAG,OAAO,CAACgB,YAAY,eAAec,YAAY,CAAC,eAAe,MAAM,OAAS,WAAWZ,GAAG,CAAC,MAAQtB,EAAImhB,aAAa,CAAEnhB,EAAa,UAAEI,EAAG,IAAI,CAACgB,YAAY,cAAcc,YAAY,CAAC,MAAQ,UAAU,4BAA4B,MAAM,4BAA4B,WAAW5B,MAAM,CAAC,MAAQ,sBAAsBN,EAAIuC,KAAOvC,EAAIkjB,UAAgHljB,EAAIuC,KAAzGnC,EAAG,IAAI,CAACgB,YAAY,cAAcc,YAAY,CAAC,MAAQ,WAAW5B,MAAM,CAAC,MAAQ,sBAAgCN,EAAmB,gBAAEI,EAAG,OAAO,CAACgB,YAAY,eAAec,YAAY,CAAC,eAAe,MAAM,OAAS,WAAWZ,GAAG,CAAC,MAAQtB,EAAIwiB,gBAAgB,CAACpiB,EAAG,IAAI,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,MAAQ,WAAW5B,MAAM,CAAC,MAAQ,uBAAuBN,EAAIuC,KAAKnC,EAAG,OAAO,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,cAAc,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,IAAI,CAACgB,YAAY,aAAac,YAAY,CAAC,MAAQ,WAAW5B,MAAM,CAAC,KAAO,UAAU,MAAQ,UAAUiU,KAAK,cAActS,OAAM,MAAS,CAAEjC,EAAImjB,oBAA0B,OAAE/iB,EAAG,OAAO,CAACA,EAAG,IAAI,CAACJ,EAAIqC,GAAG,eAAejC,EAAG,MAAMA,EAAG,MAAMJ,EAAI2C,GAAI3C,EAAuB,qBAAE,SAASyQ,GAAO,OAAOrQ,EAAG,MAAM,CAACW,IAAI0P,EAAMA,MAAMrP,YAAY,QAAQc,YAAY,CAAC,gBAAgB,QAAQ,CAAC9B,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,UAAU,eAAemQ,EAAMA,OAAO5M,MAAM,CAACtF,MAAOyB,EAAkB,eAAE8D,SAAS,SAAUC,GAAM/D,EAAIif,eAAelb,GAAK5C,WAAW,mBAAmB,CAACnB,EAAIqC,GAAG,2BAA2BrC,EAAIyC,GAAGgO,EAAMA,OAAO,6BAA6B,WAAU,GAAGzQ,EAAIuC,KAAMvC,EAAIwI,MAAMqa,QAAQpS,MAAY,OAAErQ,EAAG,OAAO,CAACA,EAAG,IAAI,CAACgB,YAAY,eAAec,YAAY,CAAC,eAAe,SAAS9B,EAAG,IAAI,CAACJ,EAAIqC,GAAG,kBAAkBjC,EAAG,MAAMA,EAAG,MAAMJ,EAAI2C,GAAI3C,EAAIwI,MAAMqa,QAAa,OAAE,SAASpS,GAAO,OAAOrQ,EAAG,MAAM,CAACW,IAAI0P,EAAMrP,YAAY,QAAQc,YAAY,CAAC,gBAAgB,QAAQ,CAAC9B,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,YAAY,eAAemQ,GAAO5M,MAAM,CAACtF,MAAOyB,EAAkB,eAAE8D,SAAS,SAAUC,GAAM/D,EAAIojB,eAAerf,GAAK5C,WAAW,mBAAmB,CAACnB,EAAIqC,GAAG,2BAA2BrC,EAAIyC,GAAGgO,GAAO,6BAA6B,WAAU,GAAGzQ,EAAIuC,KAAKnC,EAAG,MAAMA,EAAG,IAAI,CAACJ,EAAIqC,GAAG,gCAAgCjC,EAAG,MAAM,CAACgB,YAAY,mBAAmBc,YAAY,CAAC,cAAc,SAAS,CAAC9B,EAAG,IAAI,CAACgB,YAAY,uBAAuB,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAc,WAAEmB,WAAW,eAAeC,YAAY,QAAQd,MAAM,CAAC,YAAc,aAAae,SAAS,CAAC,MAASrB,EAAc,YAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAIqjB,WAAW9hB,EAAOO,OAAOvD,aAAY6B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,SAASE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIsjB,UAAUtjB,EAAIqjB,eAAe,CAACrjB,EAAIqC,GAAG,cAAerC,EAAIif,eAAergB,QAAUoB,EAAIojB,eAAexkB,OAAQwB,EAAG,SAAS,CAACgB,YAAY,iBAAiBd,MAAM,CAAC,SAA8B,OAAnBN,EAAIqjB,YAA0C,KAAnBrjB,EAAIqjB,YAAmB/hB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIsjB,eAAe,CAACtjB,EAAIqC,GAAG,yCAAyCrC,EAAIuC,QAAQ,OAAOvC,EAAI2C,GAAI3C,EAAkB,gBAAE,SAASxB,EAAMuY,GAAO,OAAO3W,EAAG,KAAK,CAACW,IAAIgW,EAAM3V,YAAY,qCAAqCc,YAAY,CAAC,OAAS,UAAU,YAAY,QAAQsR,MAAOxT,EAAoB,iBAAEsB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIujB,YAAcvjB,EAAIujB,cAAc,CAACnjB,EAAG,OAAO,CAACkT,MAAM,CAAE,2BAA0D,IAA9BtT,EAAImiB,eAAevjB,SAAgB,CAACwB,EAAG,OAAO,CAACkT,MAAM,CAAE,0BAAyD,IAA9BtT,EAAImiB,eAAevjB,SAAgB,CAAY,IAAVmY,EAAa3W,EAAG,OAAO,CAACJ,EAAI2C,GAAI3C,EAAIwI,MAAMqa,QAAmB,aAAE,SAASW,GAAO,OAAQxjB,EAAIqiB,eAAyB,WAAEjiB,EAAG,OAAO,CAACW,IAAIyiB,EAAMljB,MAAM,CAAC,MAAQN,EAAIwQ,KAAKiT,OAAOD,IAAQniB,SAAS,CAAC,UAAYrB,EAAIyC,GAAG+gB,KAAS,CAACxjB,EAAIqC,GAAGrC,EAAIyC,GAAG+gB,MAAUxjB,EAAIuC,QAAOnC,EAAG,OAAO,CAAC8B,YAAY,CAAC,cAAc,UAAUlC,EAAI2C,GAAI3C,EAAIwI,MAAMqa,QAAW,KAAE,SAASa,GAAK,OAAQ1jB,EAAIqiB,eAAuB,SAAEjiB,EAAG,OAAO,CAACW,IAAI2iB,EAAItiB,YAAY,eAAec,YAAY,CAAC,eAAe,MAAM,mBAAmB,8BAA8B,MAAQ,0BAA0B,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGihB,MAAQ1jB,EAAIuC,QAAOvC,EAAI2C,GAAI3C,EAAkB,gBAAE,SAASyQ,GAAO,OAAQzQ,EAAIqiB,eAAuB,SAAEjiB,EAAG,OAAO,CAACW,IAAI0P,EAAMrP,YAAY,eAAec,YAAY,CAAC,eAAe,MAAM,mBAAmB,8BAA8B,MAAQ,0BAA0B,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGgO,MAAUzQ,EAAIuC,SAAQ,GAAGvC,EAAIuC,KAAKnC,EAAG,OAAO,CAAC8B,YAAY,CAAC,aAAa,cAAc5B,MAAM,CAAC,MAAQN,EAAIwI,MAAMqa,QAAQrkB,EAAMA,SAAS,CAACwB,EAAIqC,GAAG,iBAAiBrC,EAAIyC,GAAGzC,EAAIwI,MAAMqa,QAAQrkB,EAAMA,QAAQ,2BAA0B4B,EAAG,KAAK,CAACgB,YAAY,yDAAyD,CAAChB,EAAG,OAAO,CAACE,MAAM,CAAC,MAAQN,EAAI2jB,eAAe,CAAC3jB,EAAIqC,GAAG,aAAarC,EAAIyC,GAAGzC,EAAI2jB,cAAc,iBAAiB,GAAI3jB,EAAI4jB,SAAe,OAAExjB,EAAG,KAAK,CAACA,EAAG,KAAK,CAAC8B,YAAY,CAAC,QAAU,KAAK5B,MAAM,CAAC,QAAU,MAAM,CAACF,EAAG,MAAM,CAAC8B,YAAY,CAAC,YAAY,OAAO,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,OAAO,gBAAgB,SAASlC,EAAI2C,GAAI3C,EAAY,UAAE,SAAS6jB,EAAQ9M,GAAO,OAAO3W,EAAG,UAAU,CAACW,IAAI8iB,EAAQhhB,GAAGzB,YAAY,SAAS,CAAChB,EAAG,QAAQ,CAAC8B,YAAY,CAAC,eAAe,SAAS,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIkD,GAAG,SAAPlD,CAAiB6jB,EAAQhQ,WAAW,MAAO,2BAA2BzT,EAAG,QAAQ,CAAC8B,YAAY,CAAC,eAAe,SAAS,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGohB,EAAQ5gB,KAAKgO,aAAa7Q,EAAG,MAAOyjB,GAAWA,EAAQC,SAAU1jB,EAAG,MAAM,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQc,YAAY,CAAC,YAAY,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,WAAW,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAI4jB,SAAS7M,GAAc,QAAE5V,WAAW,4BAA4BC,YAAY,WAAWd,MAAM,CAAC,SAAW,GAAG,UAAY,GAAG,KAAO,KAAKe,SAAS,CAAC,MAASrB,EAAI4jB,SAAS7M,GAAc,SAAGzV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,WAAqB/B,EAAIyO,KAAKzO,EAAI4jB,SAAS7M,GAAQ,UAAWxV,EAAOO,OAAOvD,eAAe6B,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,6BAA6Bc,YAAY,CAAC,eAAe,WAAWZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI+jB,cAAcF,EAAS9M,MAAU,CAAC/W,EAAIqC,GAAG,gDAAgDjC,EAAG,SAAS,CAACgB,YAAY,6BAA6Bc,YAAY,CAAC,eAAe,WAAWZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIgkB,kBAAkBjN,GAAO,MAAU,CAAC/W,EAAIqC,GAAG,wDAAwDrC,EAAIuC,KAAMshB,IAAYA,EAAQC,SAAU1jB,EAAG,MAAM,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,MAAM,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,MAAM,CAACgB,YAAY,cAAc,CAACpB,EAAIqC,GAAG,qBAAqBrC,EAAIyC,GAAGohB,EAAQA,SAAS,sBAAuB7jB,EAAIwQ,KAAKG,YAAYgB,OAAS3R,EAAIikB,kBAAoBJ,EAAQ5gB,KAAKgO,SAAU7Q,EAAG,MAAM,CAACgB,YAAY,qBAAqB,CAAChB,EAAG,SAAS,CAACgB,YAAY,6BAA6Bc,YAAY,CAAC,eAAe,WAAWZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIgkB,kBAAkBjN,GAAO,MAAS,CAAC/W,EAAIqC,GAAG,gDAAgDjC,EAAG,SAAS,CAACgB,YAAY,uCAAuCc,YAAY,CAAC,eAAe,WAAWZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIkkB,cAAcL,EAAQhhB,GAAIkU,MAAU,CAAC/W,EAAIqC,GAAG,oDAAoDrC,EAAIuC,SAASvC,EAAIuC,UAAS,OAAOvC,EAAIuC,KAAKnC,EAAG,KAAK,CAACA,EAAG,KAAK,CAAC8B,YAAY,CAAC,QAAU,KAAK5B,MAAM,CAAC,QAAU,MAAM,CAAEN,EAAc,WAAEI,EAAG,MAAM,CAAC8B,YAAY,CAAC,cAAc,OAAO,iBAAiB,OAAO,eAAe,SAAS,CAAC9B,EAAG,MAAM,CAACgB,YAAY,QAAQc,YAAY,CAAC,YAAY,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,WAAW,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAW,QAAEmB,WAAW,YAAYC,YAAY,WAAWd,MAAM,CAAC,SAAW,GAAG,UAAY,GAAG,KAAO,IAAI,YAAc,qBAAqBe,SAAS,CAAC,MAASrB,EAAW,SAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAI6jB,QAAQtiB,EAAOO,OAAOvD,eAAc6B,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,6BAA6BE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAImkB,YAAYnkB,EAAI6jB,YAAY,CAAC7jB,EAAIqC,GAAG,sBAAsBjC,EAAG,0CAA0C,CAACE,MAAM,CAAC,MAAQN,EAAIwI,OAAOlH,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOvB,EAAIiU,MAAM,UAAW1S,QAAa,GAAGvB,EAAIuC,YACnlS,GAAkB,GCDlB,GAAS,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACgB,YAAY,oBAAoBc,YAAY,CAAC,MAAQ,OAAO,eAAe,SAASZ,GAAG,CAAC,QAAUtB,EAAIokB,wBAAwB,CAAChkB,EAAG,QAAQJ,EAAI2C,GAAI3C,EAAqB,mBAAE,SAASqkB,EAAKtjB,GAAK,OAAOX,EAAG,KAAK,CAACW,IAAIA,EAAIO,GAAG,CAAC,UAAY,SAASC,GAAQvB,EAAIskB,MAAQvjB,GAAK,WAAa,SAASQ,GAAQvB,EAAIskB,OAAS,KAAK,CAAClkB,EAAG,KAAK,CAAC8B,YAAY,CAAC,MAAQ,SAAS,CAAC9B,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,OAAS,WAAW5B,MAAM,CAAC,MAAQ,0BAA0BgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIukB,UAAUxjB,EAAKsjB,EAAM,WAAW,CAACjkB,EAAG,IAAI,CAACgB,YAAY,2BAA2BhB,EAAG,KAAK,CAAC8B,YAAY,CAAC,MAAQ,SAAS,CAAC9B,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,OAAS,WAAW5B,MAAM,CAAC,MAAQ,0BAA0BgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIukB,UAAUxjB,EAAKsjB,EAAM,eAAe,CAACjkB,EAAG,IAAI,CAACgB,YAAY,4BAA4BhB,EAAG,KAAK,CAAC8B,YAAY,CAAC,YAAY,aAAa,MAAQ,UAAU,CAAClC,EAAIqC,GAAG,aAAarC,EAAIyC,GAAG1B,GAAK,cAAeA,GAAOf,EAAIskB,MAAOlkB,EAAG,OAAO,CAACa,WAAW,CAAC,CAAC9C,KAAK,YAAY+C,QAAQ,mBAAmB3C,MAAM,EAAM4C,WAAW,MAAMqjB,IAAI,QAAQ,CAACrmB,KAAK,YAAY+C,QAAQ,sBAAsB3C,MAAOyB,EAAoB,iBAAEmB,WAAW,mBAAmBqjB,IAAI,YAAYpjB,YAAY,gBAAgBc,YAAY,CAAC,OAAS,WAAW5B,MAAM,CAAC,MAAQ,aAAa,CAACF,EAAG,IAAI,CAACgB,YAAY,kBAAkBpB,EAAIuC,OAAOnC,EAAG,KAAK,CAAEW,GAAOf,EAAIskB,MAAOlkB,EAAG,OAAO,CAACa,WAAW,CAAC,CAAC9C,KAAK,YAAY+C,QAAQ,mBAAmB3C,MAAM,EAAO4C,WAAW,OAAOqjB,IAAI,QAAQ,CAACrmB,KAAK,YAAY+C,QAAQ,sBAAsB3C,MAAOyB,EAAoB,iBAAEmB,WAAW,mBAAmBqjB,IAAI,YAAYpjB,YAAY,gBAAgBc,YAAY,CAAC,OAAS,UAAU,cAAc,MAAM,MAAQ,SAAS5B,MAAM,CAAC,MAAQ,eAAe,CAACF,EAAG,IAAI,CAACgB,YAAY,kBAAkBpB,EAAIuC,KAAMvC,EAAIykB,WAAW1jB,GAAKnC,OAAS,EAAGwB,EAAG,iBAAiB,CAACE,MAAM,CAAC,mBAAqBN,EAAI0kB,UAAU,QAAU1kB,EAAIykB,WAAW1jB,GAAK,aAAeA,GAAKO,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOvB,EAAIiU,MAAM,UAAW1S,MAAW,CAACvB,EAAIqC,GAAGrC,EAAIyC,GAAG4hB,MAASjkB,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAG4hB,OAAU,QAAO,MAC3oE,GAAkB,GCDlB,I,UAAS,WACb,IAAIM,EAAS1kB,KACTD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,WAAW,CAAC9B,EAAG,OAAO,CAACue,IAAI,oBAAoBvd,YAAY,YAAYE,GAAG,CAAC,MAAQ,SAAUkH,GAAS,OAAOmc,EAAO9U,MAAM+U,YAAY1f,KAAKsD,EAAOxI,EAAI6kB,OAAO7kB,EAAI8kB,OAAOpM,MAAO1Y,EAAI6P,MAAMkV,sBAAwB,CAAC/kB,EAAIwU,GAAG,YAAY,GAAGpU,EAAG,gBAAgB,CAACue,IAAI,cAAc9d,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAAS8B,GAAQ,MAAO,CAAEA,EAAW,KAAE1C,EAAG,UAAU,CAACgB,YAAY,wBAAwB,CAAChB,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAChB,EAAG,OAAO,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,MAAQ,0BAA0BgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIukB,UAAUvkB,EAAIglB,aAAcliB,EAAOiC,KAAKkgB,IAAK,WAAW,CAAC7kB,EAAG,IAAI,CAACgB,YAAY,yBAAyBhB,EAAG,MAAM,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGK,EAAOiC,KAAKkgB,UAAYjlB,EAAIklB,iBAAiBpiB,EAAOiC,MAA+2B3E,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACJ,EAAIqC,GAAG,qBAAqBjC,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,kBAAmB,CAAC6B,EAAIqC,GAAG,mBAAmB,KAA9+BjC,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,QAAU,GAAG,QAAU,wBAAwB,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,YAAc,YAAYuD,MAAM,CAACtF,MAAOuE,EAAOiC,KAAS,KAAEjB,SAAS,SAAUC,GAAM/D,EAAIyO,KAAK3L,EAAOiC,KAAM,OAAQhB,IAAM5C,WAAW,qBAAqBnB,EAAI2C,GAAI3C,EAAY,UAAE,SAASmlB,GAAQ,OAAO/kB,EAAG,SAAS,CAACW,IAAIokB,EAAO7mB,KAAK+C,SAAS,CAAC,MAAQ8jB,EAAO7mB,OAAO,CAAC0B,EAAIqC,GAAG,qBAAqBrC,EAAIyC,GAAG0iB,EAAO7mB,MAAM,yBAAwB,GAAG8B,EAAG,aAAa,CAACE,MAAM,CAAC,SAAW,GAAG,KAAO,QAAQ,YAAc,YAAY,mBAAmB,kBAAkB,KAAO,YAAYuD,MAAM,CAACtF,MAAOuE,EAAOiC,KAAS,KAAEjB,SAAS,SAAUC,GAAM/D,EAAIyO,KAAK3L,EAAOiC,KAAM,OAAQhB,IAAM5C,WAAW,sBAAsBf,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,cAAcgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIolB,gBAAgBtiB,EAAOiC,SAAS,CAAC/E,EAAIqC,GAAG,UAAU,IAAI,KAAgJrC,EAAIuC,aAAa,KAC90D,GAAkB,GCHlB,GAAS,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACa,WAAW,CAAC,CAAC9C,KAAK,OAAO+C,QAAQ,SAAS3C,MAAOyB,EAAU,OAAEmB,WAAW,WAAWwd,IAAI,UAAUvd,YAAY,eAAeoS,MAAOxT,EAAS,OAAG,CAACA,EAAIwU,GAAG,UAAU,KAAK,CAAC,KAAOxU,EAAI+E,QAAQ,IAChS,GAAkB,GCqBtB,IACE5G,KAAM,gBACN4G,KAFF,WAGI,MAAO,CACLoQ,QAAQ,EACRkQ,KAAM,EACNC,KAAM,EACNvgB,KAAM,KACNwgB,gBAAiB,OAGrBpX,QAAS,CACPjJ,KADJ,SACA,OACMjF,KAAK+P,QACDxH,IACFvI,KAAKolB,KAAO7c,EAAMgd,QAClBvlB,KAAKqlB,KAAO9c,EAAMid,SAGpBxlB,KAAK8E,KAAOA,EACZ9E,KAAKkV,QAAS,EACdlV,KAAKslB,gBAAkBA,EACvBhhB,SAAS4R,iBAAiB,QAASlW,KAAKylB,cAG1C1V,MAdJ,WAeM/P,KAAKkV,QAAS,EACd5Q,SAASohB,oBAAoB,QAAS1lB,KAAKylB,cAG7CA,YAnBJ,SAmBA,GAEM,GAAKzlB,KAAK4P,MAAM+V,SAAY3lB,KAAKkV,OAAjC,CAKA,IAAN,wCAEA,0CAEY0Q,GAAeC,GACnB7lB,KAAK+P,WAIXV,SAAU,CACRkE,MADJ,WAEM,MAAO,CACLuS,KAAM,GAAd,uBACQC,IAAK,GAAb,2BCxEsW,MCQlW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBTC,GAAW,CACb,CAAEC,MAAO,gBAAiB5nB,KAAM,WAChC,CAAE4nB,MAAO,0BAA2B5nB,KAAM,YAC1C,CACE4nB,MAAO,yFACP5nB,KAAM,QAER,CAAE4nB,MAAO,kBAAmB5nB,KAAM,eAClC,CAAE4nB,MAAO,kBAAmB5nB,KAAM,aAClC,CAAE4nB,MAAO,kBAAmB5nB,KAAM,YAElC,CAAE4nB,MAAO,KAAM5nB,KAAM,U,mhCC2DzB,QACEqQ,WAAY,CACVwX,cAAJ,IAEEjY,MAAO,CAAC,gBACR/P,KAAM,YACN4G,KANF,WAOI,MAAO,CACLkhB,SAAUA,GACVG,WAAY,CAClB,CAAQ,MAAR,MAAQ,MAAR,OACA,CAAQ,MAAR,OAAQ,MAAR,SAEMC,YAAa,KAGjBlY,QAAS,CACPoW,UAAW,SAAf,OACM,IAAN,GACQ/lB,MAAOA,EACPD,MAAOA,EACPD,KAAM,OACN4hB,SAAUA,EACVL,QAAQ,GAEV5f,KAAKgU,MAAM,UAAW0L,IAExBkF,OAAQ,SAAZ,cACA,eADA,IACA,0CACA,kBACA,KACA,0CAJA,8BAOM,MAAO,CAAb,oCAEIK,iBApBJ,SAoBA,GACM,IAAN,oCACM,QAAKoB,EAAWC,cAGZD,EAAWC,aAAahoB,MAAMwG,KAAK8T,KAAI,SAAjD,sCAKIuM,gBAAiB,SAArB,cACM,EAAN,sDACQ,IAAR,SACakB,EAAWC,eACdD,EAAWC,aAAe,CAApC,0CAGYD,EAAWC,aAAahoB,MAAMwG,KAAK8T,KAAI,SAAnD,uCAGQyN,EAAWC,aAAahoB,MAAMwG,KAAKuL,KAAK2U,GACxC,EAAR,mBACA,YACA,eACA,qBACA,gBACA,iBACU,EAAV,WACYjgB,QAAS,+BACT1G,KAAM,WACN6G,SAAU,SACVC,WAAY,oBACZC,YAAY,EACZC,SAAU,WACR,EAAd,uCAIU,EAAV,wCAKEgK,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,SAG7BqT,QApFF,cCtEkW,MCQ9V,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,qBC6Df,IACEtH,WAAY,CAAd,uBACET,MAAO,CAAC,SACRnJ,KAHF,WAII,MAAO,CACL2f,UAAN,GACM8B,eAAgB,GAChBC,QAAS,CACf,CAAQ,KAAR,UAAQ,MAAR,cAAQ,YAAR,WACA,CAAQ,KAAR,WAAQ,MAAR,wBAAQ,YAAR,YACA,CACQ,KAAR,OACQ,MAAR,uFACQ,YAAR,WAEA,CAAQ,KAAR,WAAQ,MAAR,gBAAQ,YAAR,WACA,CAAQ,KAAR,YAAQ,MAAR,gBAAQ,YAAR,WACA,CAAQ,KAAR,cAAQ,MAAR,gBAAQ,YAAR,YAEMnC,OAAQ,EACRoC,UAAW,KAGfpX,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B+jB,kBAJJ,WAIA,WAOM,OANA9M,OAAO+M,oBAAoB3mB,KAAKymB,WAAW1nB,SAAQ,SAAzD,GAEY+B,EAAIwU,WAAW,gBACV,EAAjB,gBAGatV,KAAKymB,YAGhBvY,QAAS,CACP5G,SAAU,WAAd,WACA,oBACA,iBACM,EAAN,6BACA,kBACQ,EAAR,4BAEA,wBAEIgd,UAAW,SAAf,OACM,IAAN,GACQ/lB,MAAOA,EACPD,MAAOA,EACPD,KAAM,OACN4hB,SAAUA,EACVL,QAAQ,GAEV5f,KAAKgU,MAAM,UAAW0L,IAExBkH,iBAAkB,WAChB5mB,KAAK0P,OAAOmX,aAAa5hB,KAAK,YAEhCkf,sBAvBJ,SAuBA,GACM,IAAI5b,EAAM1G,OAAOilB,QAAQ,gBAAiBve,EAAM1G,OAAOilB,QAAQ,qBAA/D,CAGA,IAAN,mCACM9mB,KAAKumB,eAAiB9N,IAExB+L,WA9BJ,SA8BA,GACM,GAA4B,KAAxBxkB,KAAKumB,eACP,OAAOvmB,KAAKumB,eAEd,IAAN,gBACA,iCAAQ,OAAR,2DAAQ,OAAR,YAKM,MAH4B,KAAxBvmB,KAAKumB,gBACPC,EAAQnW,KAAKrQ,KAAKumB,gBAEbC,IAGXjmB,QAAS,WACPP,KAAKsH,aCjKkW,MCOvW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,qBCmQf,IACEoH,WAAY,CACVqY,kCAAJ,GACInS,WAAJ,IAEE3G,MAAO,CACT,QACA,YACA,QACA,iBACA,mBACA,iBACA,kBACA,cAEEnJ,KAfF,WAgBI,MAAO,CACLwe,YAAY,EACZL,WAAW,EACXF,YAAY,EACZ5N,aAAa,EACbyO,QAAS,GACTD,SAAU,GACVP,WAAY,KACZpE,eAAgB,GAChBmE,eAAgB,KAGpB9T,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BxI,kBAPJ,WAQM,OAAO/H,KAAK0iB,YAAc1iB,KAAKgQ,OAAOE,MAAMnI,mBAE9Cif,cAVJ,WAWM,IAAN,sBAIM,OAHK3R,EAAgBC,WAAW,OAC9BD,EAAkB,IAAMA,GAEtBrV,KAAKmV,YACA,CACL,mBAAoBE,EACpBlX,OAAQ,iBACRgJ,MAAO,QAGJ,CACL,mBAAoBkO,IAGxB4R,iBA1BJ,WA2BM,OAAIjnB,KAAK+iB,WACA,CACL,mBAAoB,UACpB5b,MAAO,QAIPnH,KAAKijB,UACA,CACL,mBAAoB,UACpB9b,MAAO,QAGJ,IAET2b,eA1CJ,WA2CM,OAAI9iB,KAAKoiB,eAAe8E,WACf,6BAEA,uBAGXnV,SAjDJ,WAiDA,IAEA,EAFA,OACA,0DAWM,OAREA,EADEoV,EACSnnB,KAAK2C,OAAOyO,iBAAiBjT,QAChD,YAAU,OAAV,6CACA,GAEmB6B,KAAK2C,OAAOyO,iBAAiBjT,QAChD,YAAU,OAAV,2CACA,GAEa4T,GAET2R,aA/DJ,WAgEM,OAAO1jB,KAAK+R,SAAS7T,MAEvBykB,UAlEJ,WAmEM,IAAK3iB,KAAKonB,UACR,OAAO,EAET,IAAN,sEACA,0EACA,oBACA,oBACA,kBACyB,SAAfpnB,KAAK6hB,QACPwF,EAAQ7nB,KAAKE,MAAM4nB,EAAgBzE,IAErC,IAAN,aACM,OAAOrjB,KAAKE,MAAMijB,IAEpB4E,gBAjFJ,WAkFM,IAAN,KAMM,OALAC,EAAU,UAAYxnB,KAAKuI,MAAMG,OACjC8e,EAAU,OAASxnB,KAAKuI,MAAME,IAC9B+e,EAAU,SAAWxnB,KAAKuI,MAAMkf,MAChCD,EAAU,cAAgBxnB,KAAK+iB,WAC/ByE,EAAU,aAAexnB,KAAKijB,UACvBuE,GAETE,eA1FJ,WA2FM,OAAO1nB,KAAKuI,MAAMqa,QAAQpS,MAAMrS,QAAO,SAA7C,iCAEI+kB,oBA7FJ,WA6FA,WACM,OAAOljB,KAAKuQ,KAAKoX,cAAcxpB,QAAO,SAA5C,yDAEIypB,uBAhGJ,WAgGA,WACM,OAAO5nB,KAAKuQ,KAAKoX,cAAcxpB,QAAO,SAA5C,0DAGE+P,QAAS,CACPgT,WADJ,WAEWlhB,KAAKijB,WAER,GAAR,8FAEMjjB,KAAKijB,WAAajjB,KAAKijB,UACvB,EAAN,0FACA,sBACA,mBACQ,QAAR,aAGI4E,mBAbJ,SAaA,GAEU7nB,KAAK+iB,YAAc+E,EAAetY,SAASxP,KAAKuI,MAAME,OACxDzI,KAAKijB,WAAajjB,KAAKijB,YAG3BiB,YAAa,SAAjB,cACM,GAAN,iGACM,EAAN,oFACA,kBACQ,EAAR,oCACQ,EAAR,cAEA,wBAEIJ,cAAe,SAAnB,gBACM,EAAN,sFACA,kBACQ,EAAR,2CAEA,mBACQ,QAAR,aAGIG,cAAe,SAAnB,gBACU1O,QAAQ,kBACV,EAAR,oFACA,kBACU,EAAV,wBAEA,mBACU,QAAV,aAIIwO,kBAhDJ,SAgDA,KACM,GAAIgE,EAAQ,CACV,IAAR,mBACQC,EAAcnE,UAAW,EACzB7jB,KAAKwO,KAAKxO,KAAK2jB,SAAUsE,EAAcD,OAC/C,CACQ,IAAR,mBACQ,EAAR,YACQhoB,KAAKwO,KAAKxO,KAAK2jB,SAAUsE,EAAc,KAG3CjE,eA3DJ,WA2DA,WAQM,OAPIhkB,KAAKgQ,OAAOE,MAAMgY,YACpBloB,KAAKkoB,YAAcloB,KAAKgQ,OAAOE,MAAMgY,YAC7C,kBACQ,EAAR,oCACU,EAAV,0CAGaloB,KAAKkoB,aAEd7E,UAAW,SAAf,mBACqB8E,IAAXC,IACFA,EAASpoB,KAAKgf,gBAEXrH,MAAMC,QAAQwQ,KACjBA,EAAS,CAACA,IAGRA,EAAOzpB,QACT,GAAR,+FAGMypB,EAAOrpB,SAAQ,SAArB,IACA,IAAY,EAAZ,iCACU,EAAV,4BACU,EAAV,yEACA,kBACY,EAAZ,uBAEA,mBACY,GAAZ,gCACY,EAAZ,8DAAc,OAAd,gBAKUiB,KAAKmjB,eAAexkB,SACtBqB,KAAKmjB,eAAepkB,SAAQ,SAApC,GACU,EAAV,4EACA,sBACA,uBACU,EAAV,iFAEQiB,KAAKmjB,eAAiB,IAGxBnjB,KAAKgf,eAAiB,GACtBhf,KAAKojB,WAAa,KAClBpjB,KAAK4P,MAAMyY,cAAcC,UAE3B/F,cAAe,WACbviB,KAAKgU,MAAM,gBAAiBhU,KAAKuI,QAEnCggB,YAAa,WACXvoB,KAAK+iB,YAAa,EAClB,GAAN,6CAEIyF,cAAe,WACbxoB,KAAK+iB,YAAa,EAClB,GAAN,6CAEIC,aAAc,WACRhjB,KAAK+iB,WACP/iB,KAAKwoB,gBAELxoB,KAAKuoB,eAGTxS,YAAa,WACX/V,KAAKmV,aAAenV,KAAKmV,cAG7BkB,cAnQF,WAoQI,GAAJ,qCACI,GAAJ,+CACI,GAAJ,4CAEE9V,QAxQF,WAwQA,WAwBI,GAvBA,GAAJ,oCACI,GAAJ,8CACI,GAAJ,0CACI,GAAJ,oCAeIP,KAAKmV,YAAqC,SAAvB3U,aAAaC,MAE5BT,KAAKuI,MAAMqa,QAAQpS,MAAMjP,QAAQ,cAAgB,IACnDvB,KAAKijB,WAAY,GAEfjjB,KAAKuI,MAAMqa,QAAQpS,MAAMjP,QAAQ,iBAAmB,EAAG,CACzD,IAAN,oBACA,iBACM,EAAN,6BACA,kBACQ,EAAR,iCAEA,0BC5jBqW,MCQjW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC+Bf,IACEmN,WAAY,CAAd,gCACET,MAAO,CAAC,YAAa,QAAS,iBAAkB,iBAAkB,cAClEnJ,KAHF,WAII,MAAO,CACL2jB,WAAW,IAGfva,QAAS,CACPuU,gBAAiB,WACXziB,KAAKyoB,WACP,GAAR,6BACQzoB,KAAKyoB,WAAY,IAEjB,GAAR,qBACQzoB,KAAKyoB,WAAY,KAIvBpZ,SAAU,CACRmT,cADJ,WAEM,OAAIxiB,KAAKoiB,eAAe8E,WACf,MAEA,SC1EmV,MCQ9V,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAInnB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,gBAAe,EAAM,cAAa,GAAOuD,MAAM,CAACtF,MAAOyB,EAAa,UAAE8D,SAAS,SAAUC,GAAM/D,EAAI2oB,UAAU5kB,GAAK5C,WAAW,cAAc,CAACf,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,OAAOA,EAAG,SAASA,EAAG,MAAM,CAAC8B,YAAY,CAAC,SAAW,WAAW,aAAa,UAAU,CAAC9B,EAAG,IAAI,CAACJ,EAAIqC,GAAG,6BAA6BrC,EAAI2C,GAAI3C,EAAmB,iBAAE,SAASgS,GAAU,OAAO5R,EAAG,mBAAmB,CAACW,IAAIiR,EAASnP,GAAKmP,EAAS7T,KAAKmC,MAAM,CAAC,SAAW0R,EAAS,cAAchS,EAAIgjB,WAAWhR,GAAU,iBAAiBhS,EAAI4oB,aAAa,eAAe5oB,EAAI6oB,SAAS7W,IAAW1Q,GAAG,CAAC,OAAStB,EAAIiI,OAAO,KAAOjI,EAAImS,KAAK,OAASnS,EAAI8oB,qBAAqB9oB,EAAI+oB,gBAAgBnqB,OAAS,EAAGwB,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,QAAQ,CAAC9B,EAAG,OAAO,CAAC8B,YAAY,CAAC,kBAAkB,YAAY,OAAS,UAAU,eAAe,QAAQZ,GAAG,CAAC,MAAQtB,EAAIgpB,qBAAqB,CAAChpB,EAAIqC,GAAG,sBAAsBjC,EAAG,OAAO,CAAC8B,YAAY,CAAC,kBAAkB,YAAY,OAAS,WAAWZ,GAAG,CAAC,MAAQtB,EAAIipB,sBAAsB,CAACjpB,EAAIqC,GAAG,oBAAoBrC,EAAIuC,MAAM,IAC9nC,GAAkB,GCDlB,GAAS,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAAEJ,EAAIwQ,KAAKG,YAAiB,MAAEvQ,EAAG,OAAO,CAACA,EAAG,UAAU,CAAC8B,YAAY,CAAC,UAAU,OAAO5B,MAAM,CAAC,OAASN,EAAIqS,cAAc,MAAQ,KAAK,OAAS,QAAQ/Q,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAIqS,cAAc9Q,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,qBAAqBhB,EAAG,MAAM,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,4BAA4BrC,EAAIyC,GAAGzC,EAAIgS,SAAS7T,WAAWiC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIqC,GAAG,wBAAwBrC,EAAIyC,GAAGzC,EAAIgS,SAASM,YAAYC,eAAgBvS,EAAIwQ,KAAKgC,mBAAmBxS,EAAIgS,SAASnP,IAAKzC,EAAG,KAAK,CAACJ,EAAIqC,GAAG,uCAAuCrC,EAAIyC,GAAGzC,EAAIkD,GAAG,gBAAPlD,CAAwBA,EAAIwQ,KAAKgC,mBAAmBxS,EAAIgS,SAASnP,IAAI,WAAW,KAAK7C,EAAIyC,GAAGzC,EAAIwQ,KAAKgC,mBAAmBxS,EAAIgS,SAASnP,IAAI,UAAU,uBAAuB7C,EAAIuC,KAAKnC,EAAG,KAAK,CAACJ,EAAIqC,GAAG,eAAerC,EAAIyC,GAAGzC,EAAIgS,SAAS/O,KAAKgO,aAAa7Q,EAAG,KAAK,CAACJ,EAAIqC,GAAG,eAAerC,EAAIyC,GAAGzC,EAAIkD,GAAG,SAAPlD,CAAiBA,EAAIgS,SAAS7O,WAAW,0BAA0B/C,EAAG,MAAMJ,EAAI2C,GAAI3C,EAAIgS,SAAoB,aAAE,SAASS,GAAY,OAAOrS,EAAG,YAAY,CAACW,IAAI0R,EAAW5P,GAAGvC,MAAM,CAAC,KAAOmS,EAAWC,cAAgB,YAAc,aAAa,MAAQD,EAAWtP,WAAW,UAAW,IAAQ,CAAC/C,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,eAAerC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWE,aAAavS,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,cAAcrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWG,YAAYxS,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,WAAWrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWxP,KAAKgO,aAAa7Q,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,mBAAmBrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWI,iBAAiBzS,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,gBAAgBrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGzC,EAAIkD,GAAG,eAAPlD,CAAuByS,EAAWK,eAAe1S,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,wBAAwBrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWM,sBAAsB3S,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIqC,GAAG,iBAAiBrC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGgQ,EAAWO,iBAAiB5S,EAAG,MAAOqS,EAAwB,cAAErS,EAAG,MAAM,CAACA,EAAG,SAAS,CAAC8B,YAAY,CAAC,YAAY,SAAS,gBAAgB,SAAS,CAAClC,EAAIqC,GAAG,kBAAkBjC,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,SAAS,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGgQ,EAAWC,oBAAoB1S,EAAIuC,WAAU,OAAOnC,EAAG,SAAS,CAACgB,YAAY,uBAAuBd,MAAM,CAAC,aAAa,SAASgB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIqS,eAAiBrS,EAAIqS,oBAAoBjS,EAAG,UAAU,CAAC8B,YAAY,CAAC,UAAU,OAAO5B,MAAM,CAAC,OAASN,EAAIiT,cAAc,MAAQ,IAAI,OAAS,QAAQ3R,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAIiT,cAAc1R,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,qBAAqBhB,EAAG,MAAM,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,uBAAuBjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,OAAO,CAACkB,GAAG,CAAC,OAAS,SAASC,GAAQA,EAAO+M,oBAAqB,CAAClO,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAmB,gBAAEmB,WAAW,oBAAoBC,YAAY,QAAQd,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,UAAY,IAAIe,SAAS,CAAC,MAASrB,EAAmB,iBAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAIkT,gBAAgB3R,EAAOO,OAAOvD,eAAc6B,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,KAAO,SAAS,MAAQ,QAAQgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIkpB,2BAA2B9oB,EAAG,SAAS,CAACgB,YAAY,uBAAuBd,MAAM,CAAC,aAAa,SAASgB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIiT,eAAiBjT,EAAIiT,oBAAoB7S,EAAG,UAAU,CAAC8B,YAAY,CAAC,UAAU,OAAO5B,MAAM,CAAC,OAASN,EAAIoT,kBAAkB,MAAQ,KAAK,OAAS,QAAQ9R,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAIoT,kBAAkB7R,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,qBAAqBhB,EAAG,MAAM,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,qBAAqBrC,EAAIyC,GAAGzC,EAAIgS,SAAS7T,WAAY6B,EAAqB,kBAAEI,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,sBAAsB,CAACE,MAAM,CAAC,SAAWN,EAAIgS,SAAS,QAAU,QAAQ1Q,GAAG,CAAC,aAAe,SAASC,GAAQvB,EAAIoT,mBAAoB,OAAW,GAAGpT,EAAIuC,SAASnC,EAAG,SAAS,CAACgB,YAAY,uBAAuBd,MAAM,CAAC,aAAa,SAASgB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIoT,mBAAqBpT,EAAIoT,yBAAyB,GAAGpT,EAAIuC,KAAKnC,EAAG,OAAO,CAACgB,YAAY,4CAA4CoS,MAAOxT,EAAImpB,iBAAiBnpB,EAAIgS,UAAW1Q,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI8oB,eAAe9oB,EAAIgS,aAAa,CAAChS,EAAIqC,GAAG,SAASrC,EAAIyC,GAAGzC,EAAIgS,SAAS7T,MAAM,UAAW6B,EAAIgU,iBAAuB,OAAE5T,EAAG,OAAO,CAACgB,YAAY,0BAA0BE,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOoS,qBAAsB,CAACvT,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQN,EAAIgU,iBAAiBpV,OAAS,kBAAkB,KAAOoB,EAAIoV,YAAc,UAAY,aAAa,CAAChV,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,MAAQ,WAAW,CAAC9B,EAAG,IAAI,CAACgB,YAAY,8BAA8BE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIqS,eAAiBrS,EAAIqS,uBAAuB,GAAGrS,EAAIuC,KAAKnC,EAAG,OAAO,CAACgB,YAAY,8BAA8Bc,YAAY,CAAC,MAAQ,SAAS,CAAElC,EAAIgjB,aAAehjB,EAAI4oB,aAAcxoB,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIkD,GAAG,gBAAPlD,CAAwBA,EAAIopB,cAAc,OAAOppB,EAAIuC,OAAQvC,EAAIwQ,KAAKG,YAAiB,MAAEvQ,EAAG,OAAO,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOoS,qBAAsB,CAACvT,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,SAASO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,IAAI,CAAC8B,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,KAAO,WAAW,CAACF,EAAG,IAAI,CAACgB,YAAY,oBAAoBc,YAAY,CAAC,eAAe,OAAO,gBAAgB,aAAaD,OAAM,IAAO,MAAK,EAAM,aAAa,CAAC7B,EAAG,MAAM,CAACgB,YAAY,mBAAmBE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIqS,eAAiBrS,EAAIqS,iBAAiB,CAACjS,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,yBAAyBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,YAAoC,UAAvBrC,EAAIqT,eAA4BjT,EAAG,MAAM,CAACgB,YAAY,mBAAmBE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIiT,eAAiBjT,EAAIiT,iBAAiB,CAAC7S,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,kBAAkBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,cAAcrC,EAAIuC,KAA6B,UAAvBvC,EAAIqT,eAA4BjT,EAAG,MAAM,CAACgB,YAAY,mBAAmBE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIoT,mBAAqBpT,EAAIoT,qBAAqB,CAAChT,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,qBAAqBrC,EAAIuC,KAAKnC,EAAG,MAAM,CAACgB,YAAY,mBAAmBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIiI,YAAY,CAAC7H,EAAG,OAAO,CAACgB,YAAY,2BAA2B,CAAChB,EAAG,IAAI,CAACgB,YAAY,mBAAmBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,cAAcjC,EAAG,MAA8B,UAAvBJ,EAAIqT,eAA4BjT,EAAG,MAAM,CAACA,EAAG,eAAe,CAAC8B,YAAY,CAAC,aAAa,OAAO,mBAAmB,cAAc,QAAU,KAAK5B,MAAM,CAAC,QAAUN,EAAI4T,oBAAoBtS,GAAG,CAAC,MAAQtB,EAAIyT,aAAa5P,MAAM,CAACtF,MAAOyB,EAAgB,aAAE8D,SAAS,SAAUC,GAAM/D,EAAI0T,aAAa3P,GAAK5C,WAAW,mBAAmB,GAAGnB,EAAIuC,QAAQ,GAAGvC,EAAIuC,UACrpO,GAAkB,GCsMtB,IACEoM,WAAY,CACV,eAAgB,GAApB,WACIiG,kBAAJ,GACIC,WAAJ,IAEE3G,MAAO,CAAC,WAAY,cAAe,aAAc,gBACjDnJ,KAPF,WAQI,MAAO,CACL2O,aAAc,GACdqB,SAAU,GACV7B,gBAAiB,GACjBG,eAAgB,GAChBE,mBAAmB,EACnBlB,eAAe,EACfY,eAAe,EACfG,mBAAmB,EACnBgC,aAAa,EACbxB,mBAAoBA,KAGxBtE,SAAU,CACRkB,KADJ,WAEM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BwD,iBAJJ,WAKM,OAAO/T,KAAK+R,SAAS+B,YAAY3V,QAAO,SAA9C,+BAGE+P,QAAS,CACPkb,gBADJ,WAEMppB,KAAK4P,MAAMyZ,YAAYC,SAEzBL,OAJJ,WAKMjpB,KAAKgT,eAAgB,EACrBhT,KAAKgU,MAAM,OAAQhU,KAAK+R,SAAU/R,KAAKiT,kBAEzCjL,OARJ,WASUuN,QAAQ,yBACVvV,KAAKgU,MAAM,SAAUhU,KAAK+R,WAI9ByB,YAAa,GAAjB,wBACMxT,KAAK8U,SAAW3N,EAAMqO,IAClBxV,KAAK8U,SAASQ,WAAW,OAC3BtV,KAAK8U,SAAW9U,KAAK8U,SAASW,UAAU,IAE1C,EAAN,oDACMzV,KAAKgU,MAAM,OAAQhU,KAAK+R,YAC9B,GACIgE,YAAa,WACX/V,KAAKmV,aAAenV,KAAKmV,aAE3B+T,iBAzBJ,SAyBA,GACMlpB,KAAKmV,YAAqC,SAAvB3U,aAAaC,MAChC,IAAN,UACA,SACA,SAWM,OAVK4U,EAAgBC,WAAW,OAC9BD,EAAkB,IAAMA,GAGrBrV,KAAK+iB,aACR1N,EAAkB,UAClBkU,EAAiB,eACjBC,EAAU,OAGRxpB,KAAKmV,YACA,CACL,mBAAoBE,EACpB,kBAAmBkU,EACnBC,QAASA,EACTrrB,OAAQ,iBACRgJ,MAAO,WAGJ,CACL,mBAAoBkO,EACpB,kBAAmBkU,EACnBC,QAASA,IAGbX,eAAgB,SAApB,GACM7oB,KAAKgU,MAAM,SAAUjC,KAGzBiE,QAxFF,WA0FI,IAAJ,OACIC,OAAOC,iBAAiB,SAAS,SAArC,GACWC,EAAKtG,IAAIuG,SAASvE,EAAEhQ,UACvBsU,EAAK7C,mBAAoB,OAI/B/S,QAjGF,WAkGIP,KAAKmV,YAAqC,SAAvB3U,aAAaC,MAChC,GAAJ,oCAEIT,KAAKyT,aAAe,CAClB+B,IAAKxV,KAAK+R,SAAS5K,OAErBnH,KAAKoT,eAAiBpT,KAAK+R,SAAS5O,OAAO,GAAGA,OAC9CnD,KAAKiT,gBAAkBjT,KAAK+R,SAAS7T,MAEvCmY,cA3GF,WA4GIC,cAActW,KAAKuW,GACnBvW,KAAKuW,GAAI,ICpTwV,MCSjW,I,oBAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC+Bf,IACE7H,WAAY,CAAd,mBACET,MAAO,CAAC,qBAAsB,gBAAiB,oBAC/CoB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3BmmB,gBAJJ,WAMM,IAAN,+CACM,OAAOtX,EAAU6I,MAAK,SAA5B,KACQ,OAAOoP,EAAEvrB,KAAKwrB,cAAcC,EAAEzrB,UAGlCyqB,aAXJ,WAYM,YAAiCR,IAA1BnoB,KAAK4pB,mBAGhB9kB,KAlBF,WAmBI,MAAO,CACLqQ,aAAa,EACbuT,WAAW,EACXmB,kBAAmB,KAGvB3b,QAAS,CACP6U,WADJ,SACA,GACM,OAAO/iB,KAAK6pB,kBAAkBra,SAASuC,IAEzC6W,SAJJ,SAIA,GACM,IAAN,IACM,OAAI5oB,KAAK4pB,mBACPrY,EAAQvR,KAAK4pB,iBAAiB7X,EAASnP,IAClB,kBAAV2O,KAKRA,GAASvR,KAAK8pB,gBACjBvY,EAAQvR,KAAK8pB,cAAc/X,EAASM,YAAYC,aALvCf,GASbvJ,OAlBJ,SAkBA,cACMhI,KAAK0oB,WAAY,EACjB,EAAN,0CACA,iBACQ,EAAR,6DACU,EAAV,wBACU,EAAV,mBAGA,mBACQ,QAAR,SACQ,EAAR,iBAGIxW,KAhCJ,SAgCA,wEAEUe,IACFjT,KAAK0oB,WAAY,GAEnB,EAAN,mBACA,eACA,KACA,UACA,cACA,SAEA,iBACQ,EAAR,6DACU,EAAV,wBACU,EAAV,mBAGA,mBACQ,QAAR,SACQ,EAAR,iBAGIK,mBAvDJ,WAwDM/oB,KAAK6pB,kBAAoB7pB,KAAK8oB,gBAC9B9oB,KAAKgU,MAAM,0BAA2BhU,KAAK6pB,oBAE7Cb,oBA3DJ,WA4DMhpB,KAAK6pB,kBAAoB,GACzB7pB,KAAKgU,MAAM,0BAA2BhU,KAAK6pB,oBAE7ChB,eA/DJ,SA+DA,GACM,IAAN,iCACA,gBAC2B,IAAjBkB,EACFC,EAAS3Z,KAAK0B,GAEdiY,EAASzM,OAAOwM,EAAa,GAE/B/pB,KAAK6pB,kBAAoBG,EACzBhqB,KAAKgU,MAAM,0BAA2BhU,KAAK6pB,oBAE7C9T,YA1EJ,WA2EM/V,KAAKmV,aAAenV,KAAKmV,aAE3B8U,sBA7EJ,WA6EA,WACM,GAAIjqB,KAAK6e,mBAAmBnS,QAAQ8C,SAAS,QAC3CxP,KAAK6pB,kBAAoB7pB,KAAK8oB,oBADhC,CAIA,IAAN,KACM9oB,KAAK6e,mBAAmBnS,QAAQ3N,SAAQ,SAA9C,GACQ,GAAqB,kBAAV+X,EAAoB,CAC7B,IAAV,sCACY,OAAOP,EAAElE,YAAYC,aAAewE,KAEtCkT,EAAS3Z,KAAK0B,QACxB,wBACU,IAAV,sCACY,OAAOwE,EAAE3T,KAAOkU,KAElBkT,EAAS3Z,KAAK,OAGlBrQ,KAAK6pB,kBAAoBG,KAG7BzpB,QA5HF,WA6HI,GAAJ,oCACI,GAAJ,2CAEQP,KAAK6e,mBAAmBnS,QAAQ8C,SAAS,QAC3CxP,KAAK6pB,kBAAoB7pB,KAAK8oB,gBAE9B9oB,KAAKiqB,yBAGT7b,MAAO,CACL,6BADJ,SACA,GACMpO,KAAKiqB,yBAEPC,MAAM,IC7L6V,MCOnW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAInqB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACgB,YAAY,uBAAuB,CAAChB,EAAG,MAAM,CAACgB,YAAY,aAAac,YAAY,CAAC,QAAU,OAAO,cAAc,WAAW,CAAC9B,EAAG,UAAU,CAACE,MAAM,CAAC,eAAe,WAAW,KAAO,WAAWgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIoqB,mBAAmBvmB,MAAM,CAACtF,MAAOyB,EAAS,MAAE8D,SAAS,SAAUC,GAAM/D,EAAIqqB,MAAMtmB,GAAK5C,WAAW,WAAWf,EAAG,MAAM,CAACgB,YAAY,QAAQc,YAAY,CAAC,cAAc,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,eAAe3C,MAAOyB,EAAe,YAAEmB,WAAW,cAAcmpB,UAAU,CAAC,MAAO,KAAQ3L,IAAI,mBAAmBvd,YAAY,QAAQd,MAAM,CAAC,KAAO,OAAO,UAAYN,EAAIgjB,WAAW,YAAY,YAAchjB,EAAIuqB,eAAe,aAAalpB,SAAS,CAAC,MAASrB,EAAe,aAAGsB,GAAG,CAAC,OAAS,SAASC,GAAQvB,EAAIwqB,aAAexqB,EAAIoqB,kBAAkB,MAAQ,SAAS7oB,GAAQ,OAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOR,IAAI,SAAkB,KAAcf,EAAIyqB,UAAU,MAAQ,SAASlpB,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAIwqB,YAAYjpB,EAAOO,OAAOvD,MAAMmsB,SAAQ,KAAO,SAASnpB,GAAQ,OAAOvB,EAAI2qB,uBAAuBvqB,EAAG,MAAM,CAACJ,EAAIqC,GAAG,OAAOjC,EAAG,MAAM,CAACgB,YAAY,QAAQc,YAAY,CAAC,OAAS,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,UAAUc,YAAY,CAAC,MAAQ,OAAO,cAAc,QAAQ,CAAC9B,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,eAAe3C,MAAOyB,EAAe,YAAEmB,WAAW,cAAcmpB,UAAU,CAAC,MAAO,KAAQ3L,IAAI,mBAAmBvd,YAAY,QAAQc,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,KAAO,OAAO,UAAYN,EAAIgjB,WAAW,aAAa3hB,SAAS,CAAC,MAASrB,EAAe,aAAGsB,GAAG,CAAC,OAAS,SAASC,GAAQvB,EAAI4qB,aAAe5qB,EAAIoqB,kBAAkB,MAAQ,CAAC,SAAS7oB,GAAQ,OAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOR,IAAI,SAAkB,KAAcf,EAAIyqB,UAAU,SAASlpB,GAAQ,IAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,KAAK,GAAGH,EAAOR,IAAI,CAAC,KAAK,YAAc,OAAO,KAAOf,EAAI4qB,eAAe,SAASrpB,GAAQ,IAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,OAAO,GAAGH,EAAOR,IAAI,CAAC,OAAO,cAAgB,OAAO,KAAOf,EAAI4qB,gBAAgB,MAAQ,SAASrpB,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAI4qB,YAAYrpB,EAAOO,OAAOvD,MAAMmsB,SAAQ,KAAO,SAASnpB,GAAQ,OAAOvB,EAAI2qB,uBAAuBvqB,EAAG,MAAM,CAACJ,EAAIqC,GAAG,OAAOjC,EAAG,MAAM,CAACgB,YAAY,QAAQc,YAAY,CAAC,OAAS,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,UAAUc,YAAY,CAAC,MAAQ,OAAO,cAAc,QAAQ,CAAC9B,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,eAAe3C,MAAOyB,EAAc,WAAEmB,WAAW,aAAampB,UAAU,CAAC,MAAO,KAAQ3L,IAAI,kBAAkBvd,YAAY,QAAQc,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,KAAO,OAAO,UAAYN,EAAIgjB,WAAW,aAAa3hB,SAAS,CAAC,MAASrB,EAAc,YAAGsB,GAAG,CAAC,OAAS,SAASC,GAAQvB,EAAI6qB,YAAc7qB,EAAIoqB,kBAAkB,MAAQ,CAAC,SAAS7oB,GAAQ,OAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOR,IAAI,SAAkB,KAAcf,EAAIyqB,UAAU,SAASlpB,GAAQ,IAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,KAAK,GAAGH,EAAOR,IAAI,CAAC,KAAK,YAAc,OAAO,KAAOf,EAAI6qB,cAAc,SAAStpB,GAAQ,IAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,OAAO,GAAGH,EAAOR,IAAI,CAAC,OAAO,cAAgB,OAAO,KAAOf,EAAI6qB,eAAe,MAAQ,SAAStpB,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAI6qB,WAAWtpB,EAAOO,OAAOvD,MAAMmsB,SAAQ,KAAO,SAASnpB,GAAQ,OAAOvB,EAAI2qB,uBAAuBvqB,EAAG,OAAOA,EAAG,MAAM,CAACgB,YAAY,QAAQc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,OAAO,CAACgB,YAAY,UAAU,CAAChB,EAAG,SAAS,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAoB,iBAAEmB,WAAW,qBAAqBb,MAAM,CAAC,UAAYN,EAAIgjB,WAAW,aAAa1hB,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,IAAI+f,EAAgB1J,MAAM2J,UAAUnjB,OAAOojB,KAAKjgB,EAAOO,OAAO0W,SAAQ,SAASiJ,GAAG,OAAOA,EAAEC,YAAW7I,KAAI,SAAS4I,GAAG,IAAIhL,EAAM,WAAYgL,EAAIA,EAAEE,OAASF,EAAEljB,MAAM,OAAOkY,KAAOzW,EAAI8qB,iBAAiBvpB,EAAOO,OAAO8f,SAAWN,EAAgBA,EAAc,IAAI,SAAS/f,GAAQvB,EAAIwqB,aAAexqB,EAAIoqB,qBAAqBpqB,EAAI2C,GAAI3C,EAAa,WAAE,SAASmlB,GAAQ,OAAO/kB,EAAG,SAAS,CAACW,IAAIokB,EAAO5mB,MAAM8C,SAAS,CAAC,MAAQ8jB,EAAO5mB,QAAQ,CAACyB,EAAIqC,GAAGrC,EAAIyC,GAAG0iB,EAAOzM,YAAW,UAAU,KAAKtY,EAAG,MAAM,CAACgB,YAAY,uBAAuB,CAAChB,EAAG,MAAM,CAACgB,YAAY,aAAac,YAAY,CAAC,QAAU,OAAO,cAAc,WAAW,CAAC9B,EAAG,UAAU,CAACE,MAAM,CAAC,eAAe,QAAQ,KAAO,WAAWgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIoqB,mBAAmBvmB,MAAM,CAACtF,MAAOyB,EAAS,MAAE8D,SAAS,SAAUC,GAAM/D,EAAIqqB,MAAMtmB,GAAK5C,WAAW,WAAWf,EAAG,MAAM,CAACgB,YAAY,QAAQc,YAAY,CAAC,OAAS,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,eAAe3C,MAAOyB,EAAiB,cAAEmB,WAAW,gBAAgBmpB,UAAU,CAAC,MAAO,KAAQ3L,IAAI,aAAavd,YAAY,QAAQd,MAAM,CAAC,KAAO,OAAO,UAAYN,EAAIgjB,WAAW,SAAS,YAAchjB,EAAIuqB,eAAe,UAAUlpB,SAAS,CAAC,MAASrB,EAAiB,eAAGsB,GAAG,CAAC,OAAS,SAASC,GAAQvB,EAAI+qB,eAAiB/qB,EAAIoqB,kBAAkB,MAAQ,SAAS7oB,GAAQ,IAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOR,IAAI,SAAW,OAAO,KAAOf,EAAIgrB,YAAchrB,EAAIyqB,SAAWzqB,EAAIoqB,eAAgBpqB,EAAIirB,WAAY,IAAUjrB,EAAIkrB,OAAO,aAAa,MAAQ,SAAS3pB,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAI+qB,cAAcxpB,EAAOO,OAAOvD,MAAMmsB,SAAQ,KAAO,SAASnpB,GAAQ,OAAOvB,EAAI2qB,uBAAuBvqB,EAAG,MAAM,CAACJ,EAAIqC,GAAG,OAAOjC,EAAG,MAAM,CAACgB,YAAY,QAAQc,YAAY,CAAC,OAAS,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,eAAe3C,MAAOyB,EAAe,YAAEmB,WAAW,cAAcmpB,UAAU,CAAC,MAAO,KAAQ3L,IAAI,WAAWvd,YAAY,QAAQd,MAAM,CAAC,KAAO,OAAO,UAAYN,EAAIgjB,WAAW,SAAS,YAAchjB,EAAIuqB,eAAe,UAAUlpB,SAAS,CAAC,MAASrB,EAAe,aAAGsB,GAAG,CAAC,OAAS,SAASC,GAAQvB,EAAIgrB,aAAehrB,EAAIoqB,kBAAkB,MAAQ,SAAS7oB,GAAQ,OAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOR,IAAI,SAAkB,KAAcf,EAAIyqB,UAAU,MAAQ,SAASlpB,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAIgrB,YAAYzpB,EAAOO,OAAOvD,MAAMmsB,SAAQ,KAAO,SAASnpB,GAAQ,OAAOvB,EAAI2qB,wBAAwB,KAAKvqB,EAAG,MAAM,CAACgB,YAAY,uBAAuB,CAAChB,EAAG,MAAM,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,iBAAiBd,MAAM,CAAC,UAAYN,EAAImrB,OAAO7pB,GAAG,CAAC,MAAQtB,EAAIyqB,SAAS,CAACzqB,EAAIqC,GAAG,eAAerC,EAAIyC,GAAGzC,EAAIorB,aAAe,SAAW,cAAc,yBAC7hN,GAAkB,G,onBCyItB,QACEld,MAAO,CAAC,gBACRnJ,KAFF,WAGI,MAAO,CACLgmB,cAAe,GACfC,YAAa,GACbrL,KAAM,GACN0K,MAAO,WACPG,YAAa,GACbI,YAAa,EACbC,WAAY,EACZQ,UAAW,CACjB,CAAQ,KAAR,SAAQ,MAAR,KACA,CAAQ,KAAR,SAAQ,MAAR,KACA,CAAQ,KAAR,OAAQ,MAAR,KACA,CAAQ,KAAR,MAAQ,MAAR,MAEMP,iBAAkB,IAClBK,OAAO,EACPG,IAAKrrB,KAAKoD,QAAQC,MAAM4J,OAAO,2BAGnC1M,QAAS,WACP,GAAKP,KAAKmrB,aAQV,GAHAnrB,KAAK0f,KAAO,GAAhB,sBAG2B,mBAAnB1f,KAAK0f,KAAKrhB,KAA2B,CACvC2B,KAAKoqB,MAAQ,QACb,IAAN,6BACMpqB,KAAK8qB,cAAgBQ,EAAM,GAC3BtrB,KAAK+qB,YAAcO,EAAM,OAC/B,CACMtrB,KAAKoqB,MAAQ,WACb,IAAN,kBAGMpqB,KAAKuqB,YAAcgB,EAAOC,MAAM,8BAA8B,GAC9DxrB,KAAK4qB,WAAaW,EAAOC,MAAM,iBAAiB,GAChDxrB,KAAK2qB,YAAcY,EAAOC,MAAM,iBAAiB,GACjDxrB,KAAK6qB,iBAAmBU,EAAOC,MAAM,wBAAwB,GAC7DxrB,KAAKmqB,mBAGTjc,QAAS,CACPud,aAAc,WACZ,GAAIzrB,KAAK+iB,WAAW,aAClB,GAAI/iB,KAAKuqB,aAAevqB,KAAK2qB,aAAe3qB,KAAK4qB,WAC/C,OAAO,OAEjB,6BACY5qB,KAAK8qB,eAAiB9qB,KAAK+qB,YAC7B,OAAO,EAGX,OAAO,GAETT,eAAgB,SAApB,GACM,OAAOtqB,KAAKoqB,QAAUsB,EAAY1rB,KAAKqrB,IAAM,IAE/CM,kBAAmB,WACjB,MAAO,GAAb,iJAEIxB,eAAgB,WAApB,8DAIM,GAHAnqB,KAAKkrB,OAAQ,GAGRF,IAAchrB,KAAKyrB,eACtB,OAAO,EAGT,IAAN,0EACA,wBACA,mBAGA,uGACA,YAEM,GAAyB,MAArBG,EAA2B,CAC7B,IAAR,yBACQ,IAAK,EAAb,UACU,OAAO,EAET5rB,KAAK8qB,cAAgB,EAA7B,UACQ9qB,KAAK+qB,YAAc,EAA3B,UAEQa,EAAoBA,EAAkBhV,MAAM,GAC5C,MAAOgV,EAAkBjtB,OAAQ,CAC/B,IAAV,OACA,OACA,YACUitB,EAAoBA,EAAkBhV,MAAM,GAIhB,MAAxBiV,EACF7rB,KAAK8qB,cAAgB,EACjC,QACA,cACA,UACA,QACY9qB,KAAK+qB,YAAc,EAC/B,QACA,SACA,UACA,qBACY/qB,KAAK8qB,cAAgB,EACjC,QACA,cACA,UACY9qB,KAAK+qB,YAAc,EAC/B,QACA,SACA,WAIQ,OADA/qB,KAAKkrB,OAAQ,GACN,EAIJY,IACHA,EAAoBC,GAGtB,IAAN,sBACA,sBAwBM,OApBN,UACA,YACA,YACA,UACA,YACA,aAGQC,EAAmB,cAIjBC,EAAoBC,YACtBlsB,KAAK8qB,cAAgBmB,EAAoBhf,OAAO+e,IAE9CG,EAAkBD,YACpBlsB,KAAK+qB,YAAcoB,EAAkBlf,OAAO+e,OAIzCC,EAAoBC,YAAcC,EAAkBD,aAIzDlsB,KAAKkrB,OAAQ,GACN,IAETV,OAAQ,WACN,GAAMxqB,KAAK8qB,eAAiB9qB,KAAK+qB,aAAe/qB,KAAKmqB,iBAArD,CAKA,GAAInqB,KAAK8qB,cAAgB9qB,KAAK+qB,YAAa,CAAjD,MACA,sCAAQ,KAAR,cADA,KACQ,KAAR,YADA,KAIM,IAAN,KACA,KAGyB,aAAf/qB,KAAKoqB,OACPgC,EAAW,oBACXC,EAAYrsB,KAAK2rB,sBAEjBS,EAAW,iBACXC,EAAYrsB,KAAK8qB,cAAgB,IAAM9qB,KAAK+qB,aAI1C/qB,KAAK0f,MACP1f,KAAK0f,KAAK,QAAU0M,EACpBpsB,KAAK0f,KAAK,SAAW2M,EACrBrsB,KAAKgU,MAAM,aAAchU,KAAK0f,QAE9B1f,KAAK0f,KAAO,CACVnhB,MAAO,GACPF,KAAM+tB,EACN9tB,MAAO+tB,EACPpM,SAAU,OACVL,QAAQ,GAEV5f,KAAKgU,MAAM,UAAWhU,KAAK0f,MAG3B1f,KAAKssB,kBAIPtsB,KAAKgU,MAAM,kBAEbsY,eAAgB,WACd1S,OAAO2S,OAAOvsB,KAAKwsB,MAAOxsB,KAAKysB,SAAS3nB,KAAKnD,MAAM3B,QAErD+iB,WAAY,SAAhB,GACM,OAAO/iB,KAAKoqB,QAAUsB,GAExBT,OAAQ,SAAZ,GAEMjrB,KAAK4P,MAAM1R,GAAMwuB,WChW4U,MCO/V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI3sB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQ2Z,OAAO9a,KAAKiB,EAAI4sB,UAAUhuB,OAAS,EAAGwB,EAAG,KAAK,CAACgB,YAAY,QAAQ,CAAChB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAON,EAAI4sB,SAAS,eAAe5sB,EAAI0lB,YAAY,gBAAgB1lB,EAAI6sB,iBAAiB,GAAG7sB,EAAIuC,MACvR,GAAkB,G,aCDlB,GAAS,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,OAAO,CAACkT,MAAM,CAAC,CAAEuM,OAAQ7f,EAAIgjB,YAAc,CAAE8J,KAAM9sB,EAAI+sB,UAAY/sB,EAAIgjB,YAAc,CAAEgK,OAAsB,IAAdhtB,EAAIwR,QAAgBxR,EAAIgjB,aAAc9gB,YAAY,CAAC,YAAY,SAAS5B,MAAM,CAAC,GAAKN,EAAIitB,KAAKpqB,IAAIvB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI0lB,YAAY1lB,EAAIitB,SAAS,CAAEjtB,EAAW,QAAEI,EAAG,IAAI,CAACgB,YAAY,cAAcc,YAAY,CAAC,MAAQ,OAAO,MAAQ,UAAU,4BAA4B,MAAM,4BAA4B,UAAU,eAAe,OAAO,aAAa,SAASlC,EAAIuC,KAAMvC,EAAc,WAAEI,EAAG,IAAI,CAACgB,YAAY,iBAAiBc,YAAY,CAAC,MAAQ,OAAO,eAAe,OAAO,aAAa,SAASlC,EAAIuC,KAAMvC,EAAY,SAAEI,EAAG,IAAI,CAACgB,YAAY,aAAac,YAAY,CAAC,MAAQ,OAAO,eAAe,OAAO,aAAa,SAASlC,EAAIuC,KAAKnC,EAAG,MAAM,CAACgB,YAAY,eAAekS,MAAM,CAAC,CAAE,sBAAuBtT,EAAIgjB,aAAc9gB,YAAY,CAAC,MAAQ,SAAS,CAAClC,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAIitB,KAAKC,cAAc,YAAY9sB,EAAG,MAAM,CAACgB,YAAY,eAAec,YAAY,CAAC,cAAc,OAAO,eAAe,OAAO,MAAQ,UAAU,CAAClC,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAIkD,GAAG,gBAAPlD,CAAwBA,EAAIwR,QAAQ,cAAexR,EAAIitB,KAAKE,UAAYntB,EAAIitB,KAAKE,SAASvuB,OAAQwB,EAAG,KAAKJ,EAAI2C,GAAI3C,EAAIitB,KAAa,UAAE,SAASG,GAAO,OAAOhtB,EAAG,OAAO,CAACW,IAAIqsB,EAAMvqB,GAAGvC,MAAM,CAAC,KAAO8sB,EAAM,eAAeptB,EAAI0lB,YAAY,gBAAgB1lB,EAAI6sB,mBAAkB,GAAG7sB,EAAIuC,QAC55C,GAAkB,GCmCtB,IACEpE,KAAM,OACN+P,MAAO,CACL+e,KAAMpT,OACN6L,YAAa2H,SACbR,aAAchT,QAEhBvK,SAAU,CACRyd,QADJ,WAEM,OAAO9sB,KAAKgtB,KAAK5E,OAAO5Y,SAAS,cAEnC6d,SAJJ,WAKM,OAAOrtB,KAAKgtB,KAAK5E,OAAO5Y,SAAS,eAEnC8d,WAPJ,WAQM,OAAOttB,KAAKgtB,KAAK5E,OAAO5Y,SAAS,iBAEnCuT,WAVJ,WAWM,OAAO/iB,KAAK4sB,aAAahqB,KAAO5C,KAAKgtB,KAAKpqB,IAE5C2O,MAbJ,WAcM,OAAOvR,KAAKgtB,KAAKO,oBAAsB,KCzDiU,MCQ1W,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCPf,SAASC,GAAeC,EAAQ3sB,EAAK4sB,GACnC,GAAID,EAAOE,eAAe7sB,KAAwC,IAAhC4sB,EAAU5sB,EAAK2sB,EAAO3sB,IAAgB,OAAO2sB,EAC/E,IAAK,IAAP,iCACI,IAAJ,uBACI,GAAJ,WAAQ,OAAR,QAAQ,CAAR,aACM,IAAN,YACM,GAAkB,MAAd/K,EAAoB,OAAOA,GAGnC,OAAO,KAGT,QACEhU,WAAY,CAAd,aACE5J,KAFF,WAGI,MAAO,CACL6nB,SAAU,GACVC,aAAc,KACdgB,YAAa,OAGjBve,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,SAG7BuL,QAAS,CACPuX,YADJ,SACA,GACMzlB,KAAKgU,MAAM,aAAcgZ,GACzBhtB,KAAK4sB,aAAeI,GAEtBa,wBALJ,SAKA,GACM,IAAN,EAEQC,EAD8B,kBAArBC,EACAA,EAEAA,EAAiBnrB,GAE5B,IAAN,uDACM5C,KAAKgU,MAAM,aAAcgZ,GACzBhtB,KAAK4sB,aAAeI,GAEtBgB,aAhBJ,SAgBA,GACM,GAAIhuB,KAAK4sB,aAAc,CACrB,GAAI5sB,KAAK4sB,aAAahqB,KAAOqrB,EAAQrrB,GACnC,OAIF,OAFA5C,KAAK4sB,aAAaM,SAAS7c,KAAK4d,QAChCjuB,KAAK4sB,aAAeqB,GAGpBjuB,KAAKkuB,eAGP,IAAN,8DACM,GAAIC,EAAQ,CACV,GAAIA,EAAOjB,SAASkB,MAAK,SAAjC,yBACU,OAIF,OAFAD,EAAOjB,SAAS7c,KAAK4d,QACrBjuB,KAAK4sB,aAAeqB,GAItB,IAAN,0DACUjB,IACFhtB,KAAK4sB,aAAeI,IAGxBqB,aA3CJ,SA2CA,GACWxmB,EAAW6a,WAAW0F,OAAO5Y,SAAS3H,EAAWxJ,OACpDwJ,EAAW6a,WAAW0F,OAAO/X,KAAKxI,EAAWxJ,OAGjDiwB,SAhDJ,WAiDMtuB,KAAKuuB,WAAU,WACbjqB,SAASkqB,eAAexuB,KAAK4sB,aAAahqB,GAAGlE,YAAY+vB,eAAe,CACtEC,SAAU,SACVC,MAAO,SACPC,OAAQ,eAIdV,aAzDJ,WAyDA,WACM,EAAN,qCACA,kBAEQ,GADA,EAAR,4BACA,gBACU,IAAV,8BACU,EAAV,+CAAY,OAAZ,aAGA,yBAGE7X,cAnFF,WAoFI,GAAJ,qBACI,GAAJ,uBACI,GAAJ,wBACI,GAAJ,qCAEE9V,QAAS,WACP,GAAJ,sCACI,GAAJ,wCACI,GAAJ,qCACI,GAAJ,gEACIP,KAAKkuB,gBAEP9f,MAAO,CACLwe,aAAc,WACZ5sB,KAAKgQ,OAAOC,SAAS,mBAAoBjQ,KAAK4sB,cAC9C5sB,KAAKsuB,cC3H+V,MCOtW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QClBX,GAAS,WAAa,IAAIvuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,SAAS,CAACgB,YAAY,SAASd,MAAM,CAAC,MAAQ,mBAAmB,UAAYN,EAAI8uB,WAAWxtB,GAAG,CAAC,MAAQtB,EAAI+uB,oBAAoB,CAAC/uB,EAAIoC,GAAG,KAAKhC,EAAG,SAAS,CAACgB,YAAY,SAASc,YAAY,CAAC,eAAe,OAAO5B,MAAM,CAAC,MAAQ,sBAAsB,UAAYN,EAAIgvB,UAAU1tB,GAAG,CAAC,MAAQtB,EAAIivB,uBAAuB,CAACjvB,EAAIoC,GAAG,QAC1a,GAAkB,CAAC,WAAa,IAAIpC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,yBAAyB,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,2BCsChV,IACEkO,SAAU,CACRtH,kBADJ,WAEM,OAAO/H,KAAKgQ,OAAOE,MAAMnI,mBAE3B8mB,UAJJ,WAKM,QAAI7uB,KAAK+H,mBACyC,kBAAlC/H,KAAK+H,kBAAkBomB,QAKzCY,SAXJ,WAYM,QAAI/uB,KAAK+H,mBACA/H,KAAK+H,kBAAkBmlB,SAASvuB,SAM7CuP,QAAS,CACP4gB,kBAAmB,WACjB,GAAN,oEAEIE,qBAAsB,WACpB,GAAKhvB,KAAK+H,kBAAkBmlB,SAASvuB,OAArC,CAGA,IAAN,kDACM,GAAN,2CCpE6W,MCQzW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIoB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,MAAM,QAAUN,EAAIwY,QAAQ,OAASxY,EAAIkvB,WAAW,IAC1L,GAAkB,G,oCCwBtB,IACEhhB,MAAO,CAAC,aACRS,WAAY,CAAd,gBACE5J,KAAM,WAAR,WACI,MAAO,CACLyT,QAAS,CACP2W,MAAO,CACL7wB,KAAM,MACN8wB,KAAM,CACJC,SAAS,EACT/wB,KAAM,IACNgxB,gBAAgB,GAElBC,UAAW,OACXC,WAAY,CACVH,SAAS,EACTI,OAAQ,YACRC,MAAO,GACPC,iBAAkB,CAChBN,SAAS,EACTO,MAAO,IAETC,iBAAkB,CAChBR,SAAS,EACTK,MAAO,KAGX/V,OAAQ,CAAC,UACTmW,QAAS,CACPC,MAAM,EACNC,MAAO,CACLC,UAAU,EACVC,WAAW,EACXd,MAAM,EACNe,QAAQ,EACRC,SAAS,IAGbroB,OAAQ,CACNsoB,mBAAoB,SAAhC,OACc,EAAd,wBAIQC,QAAS,CACPjB,SAAS,EACTkB,cAAc,EACd7vB,MAAO,OACP8vB,EAAG,CACDC,UAAW,SAAvB,GACc,IAAd,8BACA,0CACc,MAAO,GAArB,4EAIQC,YAAa,CACXC,IAAK,CACHC,YAAa,MACbC,aAAc,IAGlBC,WAAY,CACVzB,SAAS,GAEX0B,KAAM,CACJC,MAAO,CACLC,MAAO,CACLlB,MAAM,IAGVmB,MAAO,CACLD,MAAO,CACLlB,MAAM,KAIZiB,MAAO,CACL1yB,KAAM,WACN6yB,cAAe,SAKvB7hB,SAAU,CACR4f,OADJ,WAEM,IAAN,GACQ/wB,KAAM,SACN4G,KAAM,IAER,OAAI9E,KAAKmxB,WACPlC,EAAOnqB,KAAO8U,OAAOwX,QAAQpxB,KAAKmxB,UAAUrsB,MAAM8T,KAAI,SAA9D,kCACe,CAACqW,IAEH,CAACA,KAGZ/gB,QAAS,CACPmjB,uBADJ,SACA,GACM,IAAN,sBAGA,yCACA,OACA,OAGA,yCACM,MAAO,CAAb,gBAEIC,kBAbJ,SAaA,GACM,IAAN,6BACA,+BAGM,GAAsB,IAAlBrC,EAAOtwB,OAAX,CAIA,IAAN,UACA,iCAEA,GACQJ,MAAO,GACPF,KAAM,iBACNC,MAAOizB,EAAUC,MAAMC,cAAgB,IAAMF,EAAUG,IAAID,cAC3DxR,SAAU,OACVL,QAAQ,GAEV5f,KAAKgU,MAAM,UAAW0L,KAExBiS,SAlCJ,WAmCiC,SAAvBnxB,aAAaC,MACfT,KAAKuY,QAAU,CACb2W,MAAO,CACLI,UAAW,QAEbe,QAAS,CACP5vB,MAAO,SAIXT,KAAKuY,QAAU,CACb2W,MAAO,CACLI,UAAW,QAEbe,QAAS,CACP5vB,MAAO,YAMjBF,QAzJF,WA2JI,GAAJ,kCAEEyV,QA7JF,WA8JIhW,KAAK2xB,aCvLwV,MCO7V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI5xB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,QAAQ,aAAa,2CAA2C,SAAW,WAAW,CAAE2X,OAAO9a,KAAKiB,EAAI6xB,SAAe,OAAEzxB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAEpB,EAAI6xB,QAAQC,OAAa,OAAE1xB,EAAG,MAAM,CAACgB,YAAY,SAASc,YAAY,CAAC,YAAY,MAAM,SAAW,OAAO,aAAa,SAAS,aAAa,UAAU,CAAC9B,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,SAAS,CAAClC,EAAIoC,GAAG,GAAGpC,EAAI2C,GAAI3C,EAAI6xB,QAAc,QAAE,SAASrzB,GAAO,OAAO4B,EAAG,MAAM,CAACW,IAAIvC,EAAMA,MAAM4C,YAAY,YAAYc,YAAY,CAAC,OAAS,UAAU,QAAU,eAAeZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI+xB,eAAevzB,EAAMA,UAAU,CAAC4B,EAAG,OAAO,CAAC8B,YAAY,CAAC,eAAe,QAAQ,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGjE,EAAMA,gBAAe,KAAKwB,EAAIuC,KAAMvC,EAAI6xB,QAAQhc,UAAgB,OAAEzV,EAAG,MAAM,CAACgB,YAAY,SAASc,YAAY,CAAC,cAAc,2CAA2C,YAAY,MAAM,SAAW,OAAO,aAAa,SAAS,aAAa,UAAU,CAAC9B,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,SAAS,CAAClC,EAAIoC,GAAG,GAAGpC,EAAI2C,GAAI3C,EAAI6xB,QAAiB,WAAE,SAASG,GAAU,OAAO5xB,EAAG,MAAM,CAACW,IAAIixB,EAASC,UAAU7wB,YAAY,YAAYc,YAAY,CAAC,OAAS,UAAU,QAAU,eAAeZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIkyB,kBAAkBF,EAASC,cAAc,CAAC7xB,EAAG,OAAO,CAAC8B,YAAY,CAAC,eAAe,QAAQ,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGuvB,EAASC,cAAc7xB,EAAG,SAAS,CAAC8B,YAAY,CAAC,QAAU,QAAQ,CAAClC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGzC,EAAIkD,GAAG,gBAAPlD,CAAwBgyB,EAASxgB,QAAQ,aAAY,KAAKxR,EAAIuC,KAAMvC,EAAI6xB,QAAQM,KAAKvzB,QAAUoB,EAAI6xB,QAAQxJ,OAAOzpB,OAAQwB,EAAG,MAAM,CAACgB,YAAY,SAASc,YAAY,CAAC,cAAc,2CAA2C,YAAY,MAAM,SAAW,OAAO,aAAa,SAAS,aAAa,UAAU,CAAC9B,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,SAAS,CAAClC,EAAIoC,GAAG,GAAGpC,EAAI2C,GAAI3C,EAAI6xB,QAAc,QAAE,SAASphB,GAAO,OAAOrQ,EAAG,MAAM,CAACW,IAAI0P,EAAMA,MAAMrP,YAAY,YAAYc,YAAY,CAAC,OAAS,UAAU,QAAU,eAAeZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIoyB,eAAe3hB,EAAMA,UAAU,CAAkB,cAAhBA,EAAMA,MAAuBrQ,EAAG,OAAO,CAACJ,EAAIoC,GAAG,GAAE,GAAMpC,EAAIqC,GAAG,uCAAwD,iBAAhBoO,EAAMA,MAA0BrQ,EAAG,OAAO,CAACJ,EAAIoC,GAAG,GAAE,GAAMpC,EAAIqC,GAAG,yCAAyCjC,EAAG,OAAO,CAAC8B,YAAY,CAAC,eAAe,QAAQ,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGgO,EAAMA,UAAUrQ,EAAG,SAAS,CAAC8B,YAAY,CAAC,QAAU,QAAQ,CAAClC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGzC,EAAIkD,GAAG,gBAAPlD,CAAwByQ,EAAMe,QAAQ,YAAWxR,EAAI2C,GAAI3C,EAAI6xB,QAAY,MAAE,SAASnO,GAAK,OAAOtjB,EAAG,MAAM,CAACW,IAAI2iB,EAAIA,IAAItiB,YAAY,YAAYc,YAAY,CAAC,OAAS,UAAU,QAAU,eAAeZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIqyB,aAAa3O,EAAIA,QAAQ,CAACtjB,EAAG,OAAO,CAAC8B,YAAY,CAAC,eAAe,QAAQ,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGihB,EAAIA,QAAQtjB,EAAG,SAAS,CAAC8B,YAAY,CAAC,QAAU,QAAQ,CAAClC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGzC,EAAIkD,GAAG,gBAAPlD,CAAwB0jB,EAAIlS,QAAQ,aAAY,KAAKxR,EAAIuC,KAAMvC,EAAI6xB,QAAQS,cAAoB,OAAElyB,EAAG,MAAM,CAACgB,YAAY,SAASc,YAAY,CAAC,cAAc,2CAA2C,YAAY,MAAM,SAAW,OAAO,aAAa,SAAS,aAAa,UAAU,CAAC9B,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,SAAS,CAAClC,EAAIoC,GAAG,GAAGhC,EAAG,uBAAuB,CAACE,MAAM,CAAC,MAAQN,EAAI6xB,QAAQS,eAAehxB,GAAG,CAAC,cAAgB,SAASC,GAAQ,OAAOvB,EAAIiU,MAAM,gBAAiB1S,QAAa,KAAKvB,EAAIuC,OAAOvC,EAAIuC,QAC9wG,GAAkB,CAAC,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC8B,YAAY,CAAC,iBAAiB,SAAS,CAAC9B,EAAG,SAAS,CAACJ,EAAIqC,GAAG,eAAe,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC8B,YAAY,CAAC,iBAAiB,SAAS,CAAC9B,EAAG,SAAS,CAACJ,EAAIqC,GAAG,mBAAmB,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC8B,YAAY,CAAC,iBAAiB,SAAS,CAAC9B,EAAG,SAAS,CAACJ,EAAIqC,GAAG,aAAa,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,cAAcc,YAAY,CAAC,MAAQ,UAAU,4BAA4B,MAAM,4BAA4B,eAAe,WAAa,IAAIlC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,IAAI,CAACgB,YAAY,sBAAsB,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC8B,YAAY,CAAC,iBAAiB,SAAS,CAAC9B,EAAG,SAAS,CAACJ,EAAIqC,GAAG,wBCD5pC,GAAS,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAMJ,EAAI2C,GAAI3C,EAAS,OAAE,SAAS8W,GAAM,OAAO1W,EAAG,MAAM,CAACW,IAAI+V,EAAKjU,GAAGzB,YAAY,iBAAiBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIuyB,cAAczb,MAAS,CAAC9W,EAAIqC,GAAG,SAASrC,EAAIyC,GAAGqU,EAAK3Y,MAAM,aAAY,IAC/S,GAAkB,GCuBtB,IACE+P,MAAO,CAAC,SACRC,QAAS,CACPokB,cAAe,SAAnB,oEACUC,GACFvyB,KAAKgU,MAAM,gBAAiB6C,MC7BoU,MCQpW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCqGf,cACE,MAAO,CACL2b,KAAM,EACNC,gBAAiB,GACjBtX,KAAM,GACNzO,QAAS,OACTmV,MAAO,MACP6Q,MAAO,KAIX,IACEhkB,WAAY,CACVikB,kBAAJ,IAEE1kB,MAAO,CAAC,iBAAkB,eAC1BoB,SAAU,CACRkB,KADJ,WAEM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BqiB,cAJJ,WAKM,OAAO5yB,KAAKgQ,OAAOE,MAAM0iB,eAE3BV,KAPJ,WAQM,OAAOlyB,KAAKgQ,OAAOE,MAAMgiB,MAE3Btc,UAVJ,WAWM,OAAO5V,KAAKgQ,OAAOE,MAAM0F,WAE3Bid,IAbJ,WAcM,MAAO,CACLhB,OAAQ7xB,KAAKuQ,KAAKuR,SAClBoQ,KAAMlyB,KAAKkyB,KACX9J,OAAQpoB,KAAKuQ,KAAKoX,cAClB/R,UAAW5V,KAAK4V,UAChByc,cAAeryB,KAAKuQ,KAAKc,QAG7BugB,QAtBJ,WAsBA,WACA,KAEM,OAAK5xB,KAAKuJ,aAIVqoB,EAAQ,UAAY5xB,KAAKuQ,KAAKuR,SAAS3jB,QAAO,SAApD,UACA,+DAEMyzB,EAAQ,QAAU5xB,KAAKkyB,KAAK/zB,QAAO,SAAzC,uEACMyzB,EAAQ,UAAY5xB,KAAKuQ,KAAKoX,cAAcxpB,QAAO,SAAzD,UACA,+DAEMyzB,EAAQ,aAAe5xB,KAAK4V,UAAUzX,QAAO,SAAnD,UACA,mEAEMyzB,EAAQ,iBAAmB5xB,KAAKuQ,KAAKc,MAAMlT,QAAO,SAAxD,UACA,8DAGWyb,OAAO9S,OAAO8qB,GAASzzB,QAAO,SAAzC,6BAIayzB,EAHE5xB,KAAK6yB,KAlBL7yB,KAAK6yB,MAwBlBxc,cAAe,WACbJ,OAAOyP,oBAAoB,QAAS1lB,KAAK+P,QAE3CxP,QAAS,WACP0V,OAAOC,iBAAiB,QAASlW,KAAK+P,QAExC7B,QAAS,CACP6B,MADJ,SACA,GACW/P,KAAK6P,IAAIuG,SAASvE,EAAEhQ,SACvB7B,KAAKgU,MAAM,QAASnC,EAAEhQ,SAG1BswB,eANJ,SAMA,GACM,IAAN,GACM,UAAqB,EACrB,YAAwB,KACxB3K,EAAUhe,YAAcspB,KACxB,IAAN,GACQv0B,MAAO,GACPD,MAAOkS,EACPnS,KAAM,QACN4hB,SAAU,OACVL,QAAQ,GAEV4H,EAAUhe,YAAYkpB,MAAMriB,KAAKqP,GACjC1f,KAAKgU,MAAM,oBAAqBwT,IAElC4K,aArBJ,SAqBA,GACM,IAAN,GACM,UAAqB,GACrB5K,EAAUje,YAAc,OAASka,EACjC+D,EAAUhe,YAAcspB,KACxB9yB,KAAKgU,MAAM,oBAAqBwT,IAElCyK,kBA5BJ,SA4BA,GACM,IAAN,GACM,UAAqB,GACrBzK,EAAUje,YAAc,cAAqBwoB,EAAW,IACxDvK,EAAUhe,YAAcspB,KACxB9yB,KAAKgU,MAAM,oBAAqBwT,IAElCsK,eAnCJ,SAmCA,GACM,IAAN,KACA,KAC+B,KAArB9xB,KAAKuJ,cACPwpB,EAAY/yB,KAAKuJ,YAAc,KAE5BvJ,KAAKuJ,YAAYiG,SAAS,OAC7BujB,EAAY,IAEdvL,EAAU+K,UAAW,EACrB/K,EAAUje,YAAcwpB,EAAYx0B,EAAQ,IAC5CipB,EAAUhe,YAAcspB,KACxB9yB,KAAKgU,MAAM,oBAAqBwT,MC/OiU,MCQnW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIznB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACkB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAO+M,iBAAwBtO,EAAIuO,WAAW3M,MAAM,KAAMC,cAAc,CAACzB,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAY,SAAEmB,WAAW,aAAaC,YAAY,QAAQd,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,YAAc,mBAAmB,UAAY,IAAIe,SAAS,CAAC,MAASrB,EAAY,UAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAIuJ,SAAShI,EAAOO,OAAOvD,eAAcyB,EAAIoC,GAAG,MAClnB,GAAkB,CAAC,WAAa,IAAIpC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,KAAO,SAAS,MAAQ,uBCgCvP,IACE4N,MAAO,CAAC,WAAY,qBAAsB,sBAC1CnJ,KAFF,WAGI,MAAO,CACLwE,SAAU,KAGd4E,QAAS,CACPO,cAAe,WACbzO,KAAKsJ,SAAW,IAElBgF,WAAY,WAAhB,WACM,EAAN,wFACA,kBACQ,IAAR,oBACQ,EAAR,yBACQ,EAAR,gCACQ,EAAR,gBACQ,EAAR,cAAU,KAAV,UAAU,MAAV,iBAEA,0BCrDuW,MCOnW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,qjCCyff,kBACE,MAAO,CACLkkB,KAAM,EACNC,gBAAiB,GACjBtX,KAAM,GACNzO,QAAS,GACTmV,MAAO,MACP6Q,MAAO,KAIX,cACE,MAAO,CACLniB,KAAM,CACJ4P,gBAAiB,IAEnBkC,QAAS,KAIb,IACErhB,WAAY,CACVgyB,WAAJ,SAEEtkB,WAAY,CACVukB,yBAAJ,GACIC,wBAAJ,GACIC,oBAAJ,GACIC,oBAAJ,GACIC,uBAAJ,GACIC,WAAJ,GACIC,iBAAJ,GACIC,iBAAJ,GACI5e,WAAJ,IAEE3G,MAAO,CAAC,YACRnJ,KAhBF,WAiBI,MAAO,CACLjC,OAAQ,GACR4wB,qBAAqB,EACrBC,gBAAgB,EAChBC,YAAY,EACZ9S,kBAAkB,EAClB9c,YAAa,EACb6vB,cAAc,EACdC,iBAAiB,EACjB1kB,YAAY,EACZC,iBAAkB,KAClB2P,oBAAoB,EACpBJ,qBAAqB,EACrBuB,UAAW,CACT3P,KAAM,GACN8R,QAAS,IAEXzD,mBAAoB,GACpBC,mBAAoB,KACpBqD,eAAgB,CAAC,CAAvB,8BACMH,oBAAqB,GACrBC,qBAAqB,EACrB8R,eAAgB,GAChB1R,eAAgB,CACd2R,UAAU,EACVC,YAAY,EACZ9M,YAAY,GAEdlI,eAAgB,GAChBS,mBAAmB,EACnBF,eAAe,EACf0U,aAAc,GAApB,QACM3T,UAAW,EACX4T,WAAY,CACV3D,EAAG,EACH4D,EAAG,KAIT9kB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BwQ,UAPJ,WAQM,OAAO/gB,KAAKkgB,UAAU3P,KAAK6jB,yBAA2B,GAExDhT,uBAVJ,WAWM,IAAN,iDAKM,OAHIiT,EAAQ,OACVA,EAAQ,KAEHA,GAETrT,UAlBJ,WAmBM,OAAOhhB,KAAKkgB,UAAU3P,KAAK+jB,QAAU,KAAQ,GAE/CxT,UArBJ,WAsBM,OAAO9gB,KAAK6e,mBAAmB2T,MAAQ,GAEzC5R,QAxBJ,WAyBM,KAAI5gB,KAAK+gB,UAAY/gB,KAAK6e,mBAAmB1D,MAG7C,OAAO1c,SAASuB,KAAK6e,mBAAmB2T,MAAQ/zB,SAASuB,KAAK6e,mBAAmB1D,OAEnFgG,kBA9BJ,WA+BM,OAAOvH,OAAO9a,KAAKkB,KAAK8zB,gBAAgBn1B,QAE1C41B,YAAa,WACX,OAAOv0B,KAAK6e,mBAAmB6T,MAAMv0B,QAAO,SAAlD,+CAEI6hB,gBAAiB,WACf,OAAOhgB,KAAK6e,mBAAmB6T,MAAMv0B,QAAO,SAAlD,4CAEIupB,eAvCJ,WAwCM,OAAO1nB,KAAKgQ,OAAOE,MAAMK,KAAKoX,cAAcxpB,QAAO,SAAzD,uCAEI4J,kBA1CJ,WA2CM,OAAO/H,KAAKgQ,OAAOE,MAAMnI,oBAG7BmG,QAAS,CACPoR,aAAc,WACZtf,KAAK4P,MAAM,iBAAiB4kB,UAAW,GAEzC9yB,OAAQ,WAAZ,yPAEM,GADA1B,KAAK6gB,kBAAmB,EACnB7gB,KAAK4e,mBAAV,CAII5e,KAAK4zB,cAEP5zB,KAAKy0B,UAAU,WAAY,IAAK,CAAxC,cAIMz0B,KAAK8zB,eAAiB,GAEtB9zB,KAAKkgB,UAAYwU,KAEbC,IAIF30B,KAAK6e,mBAAmB2T,KAAO,EAC/BxyB,KAAK+D,YAAc,GAIrB/D,KAAK6e,mBAAmBgT,OAAS7xB,KAAKkiB,eAEtC,IAAN,GACQzY,MAAOzJ,KAAK4e,mBACZzgB,OAAQ6B,KAAK6e,oBAIX+V,IACF1uB,EAAS,cAAe,GAGtBioB,IACFjoB,EAAS,UAAYioB,GAGnBA,GAAUyG,IACZ50B,KAAKi0B,aAAe9F,GAGlBnuB,KAAKi0B,eACP/tB,EAAS,UAAYlG,KAAKi0B,cAGxBY,IACF,GAAR,mBACQ70B,KAAK+e,oBAAqB,GAG5B,EAAN,wBACA,kBACQ,EAAR,iCACQ,EAAR,2BACQ,EAAR,oBAEA,IACU,GAAV,mDACU,EAAV,uCACU,EAAV,iDAGA,yBAEIM,kBAAmB,SAAvB,GACMrf,KAAK4e,mBAAqBkW,EAAYvrB,YACtCvJ,KAAK6e,mBAAqBiW,EAAYtrB,YACtCxJ,KAAK4P,MAAMmlB,YAAYrI,QACnBoI,EAAYvC,UACdvyB,KAAK0B,UAGTmI,mBAAoB,WAAxB,WACM7J,KAAKyP,cACL,IAAN,GACQhG,MAAOzJ,KAAK4e,mBACZzgB,OAAQ6B,KAAK6e,mBACbmW,UAAW,cAEb,EAAN,oCACA,kBACQ,IAAR,iDACA,8BACA,eACQ,EAAR,OACQ,EAAR,2BACQ,SAAR,oBACQ,EAAR,QACQ,EAAR,kBAEA,mBACQ,QAAR,SACQ,EAAR,mBAGIlW,WAAY,SAAhB,cAEM9e,KAAK8zB,eAAiB,GAEtB9zB,KAAK+e,oBAAqB,EAC1B/e,KAAK2e,qBAAsB,EAEvBvV,IAAW3K,SAAS2K,EAAQ,KAAyB,kBAAXA,IAC5CA,EAASA,EAAOxG,GAChB5C,KAAKoQ,QAAQC,KAAK,CAA1B,iCAEM,EAAN,yBACA,kBACQ,IAAR,oBAOQ,GANA,EAAR,kCACQ,EAAR,8CACA,kEACU,EAAV,4BAAY,MAAZ,UAAY,KAAZ,UAEQ,EAAR,2CACA,iFACU,IAAV,KACU,EAAV,6CACY,IAAZ,8DACA,EACc,EAAd,+BAEc,EAAd,cAGU,EAAV,6BAEQ,IAAR,6BACQ,GAAR,EACU,IAAV,uBACA,qBACc,EAAd,gCAIQ,EAAR,gBACQ,EAAR,cAEA,wBAEIkS,cAAe,SAAnB,GAEM,IAAN,MACA,MAGM,GADAviB,KAAK4zB,aAAerrB,GACfvI,KAAK6zB,gBAAiB,CACzB,IAAR,sDACA,sDACQ7zB,KAAK6zB,gBAAkB,CAA/B,6BAGM,IAAN,wBACA,uDACA,IACA,QACA,gBACA,UACA,IACA,QACA,WACA,UACA,GACQt1B,MAAO,GACPD,MAAO22B,EAAe,IAAMhJ,EAAoBhf,OAAO+e,GACvD3tB,KAAM,iBACN4hB,SAAU,OACVL,QAAQ,GAEhB,GACQrhB,MAAO,GACPD,MAAO2tB,EAAoBhf,OAAO+e,GAAoB,IAAMkJ,EAC5D72B,KAAM,iBACN4hB,SAAU,OACVL,QAAQ,GAGV5f,KAAK4e,mBAAqB,YAAmB5e,KAAK4zB,aAAanrB,IAE/DzI,KAAK6e,mBAAmB6T,MAAQ,CAACyC,EAAWC,GAE5C,IAAN,iEAEQp1B,KAAK6e,mBAAmBnS,QADtBya,EACgC,CAACnnB,KAAK4zB,aAAalrB,QAEnB,CAAC1I,KAAK4zB,aAAahR,QAAQyS,kBAE/Dr1B,KAAK6e,mBAAmB1D,KAAOma,EAE/Bt1B,KAAK0B,UAEPgf,cAAe,WACb1gB,KAAK4zB,cAAe,EACpB5zB,KAAK4e,mBAAqBrC,KAAKC,MAAMD,KAAKgZ,UAAUv1B,KAAK6zB,gBAAgBtqB,cACzEvJ,KAAK6e,mBAAqBtC,KAAKC,MAAMD,KAAKgZ,UAAUv1B,KAAK6zB,gBAAgBrqB,cACzExJ,KAAK0B,UAEPif,qBAAsB,WACpB3gB,KAAKy0B,UAAU,IAAMz0B,KAAK4zB,aAAanrB,IAAK,IAAK,CAAvD,eAEI4X,wBAAyB,SAA7B,cACA,KACM7O,EAAUzS,SAAQ,SAAxB,GACQ,IAAR,8DACYooB,EACF1F,EAASpR,KAAK0B,EAASM,YAAYC,YAEnCmP,EAASpR,KAAK0B,EAASnP,OAG3B5C,KAAK6e,mBAAmBnS,QAAU+U,EAClCzhB,KAAK0B,UAEP8zB,YAAa,WACXx1B,KAAK4e,mBAAqB,GAC1B5e,KAAK6e,mBAAqB,KAC1B7e,KAAK6e,mBAAmBnS,QAAU,OAClC1M,KAAKkgB,UAAYwU,KACjB10B,KAAKoQ,QAAQqlB,QAAQ,CAA3B,cAEI5V,WAAY,SAAhB,QAE0BsI,IAAhBzI,EAAKE,SACPF,EAAKE,QAAS,GAEhBF,EAAKE,QAAUF,EAAKE,OACpB5f,KAAK0B,UAEPoe,WAAY,SAAhB,oEACA,mFACM9f,KAAK6e,mBAAmB6T,MAAMnV,OAAOmY,EAAW,GAC9B,UAAdhW,EAAKrhB,OACP2B,KAAKgf,eAAiBhf,KAAKgf,eAAe7gB,QAAO,SAAzD,0BAEUuD,GACF1B,KAAK0B,UAGTqe,WAAY,SAAhB,KAEM,IAAN,oGACM/f,KAAK6e,mBAAmB6T,MAAMnV,OAAOmY,EAAW,EAAGC,GACnD31B,KAAK0B,UAEPud,QAAS,SAAb,GAGWjf,KAAK6e,mBAAmB6T,QAC3B1yB,KAAK6e,mBAAmB6T,MAAQ,IAElC1yB,KAAK6e,mBAAmB6T,MAAMriB,KAAKqP,GACnC1f,KAAK0B,UAEP+e,qBAAsB,SAA1B,cACWzgB,KAAK6e,mBAAmB6T,QAC3B1yB,KAAK6e,mBAAmB6T,MAAQ,IAElC1yB,KAAK6e,mBAAmB6T,MAAM3zB,SAAQ,SAA5C,GAC0B,mBAAd2gB,EAAKrhB,MACP,EAAV,oBAGM2B,KAAKif,QAAQS,IAEfkW,gBAAiB,SAArB,GACM,IAAN,GACQr3B,MAAO,GACPD,MAAOu3B,EACPx3B,KAAM,QACN4hB,SAAU,OACVL,QAAQ,GAEhB,gCACM,GAAI8S,EACF,IAAK,IAAb,mBACU,GAAIA,EAAM7c,GAAGvX,QAAUu3B,EAErB,YADA71B,KAAK8f,WAAWjK,GAKtB7V,KAAKif,QAAQS,IAEfR,iBAAkB,WAAtB,WAEMlf,KAAK6e,mBAAmB6T,MAAQ1yB,KAAK6e,mBAAmB6T,MAAMv0B,QAAO,SAA3E,6BACM6B,KAAKgf,eAAejgB,SAAQ,SAAlC,GACQ,IAAR,GACUR,MAAO,GACPD,MAAOkS,EACPnS,KAAM,QACN4hB,SAAU,OACVL,QAAQ,GAEV,EAAR,WACQ,EAAR,0BAGI0C,gBAAiB,SAArB,IACsD,IAA5CtiB,KAAKuQ,KAAKoX,cAAcpmB,QAAQiP,IAClCxQ,KAAKuQ,KAAKoX,cAActX,KAAKG,IAGjC7M,SAAU,SAAd,GACM3D,KAAK6e,mBAAmB2T,KAAOsD,EAAU91B,KAAK6e,mBAAmB1D,KAAOnb,KAAK6e,mBAAmB1D,KAChGnb,KAAK0B,QAAO,GAAM,GAAO,IAE3BugB,qBAAsB,SAA1B,cAEM3jB,EAAMS,SAAQ,SAApB,IACa,EAAb,yEACU,EAAV,oBAGMT,EAAMS,SAAQ,SAApB,GACQ,EAAR,0BAGMiB,KAAK+hB,oBAAsB,IAE7BI,YAAa,SAAjB,GACMniB,KAAKkiB,eAAe3E,OAAOzG,EAAO,IAEpCif,qBAAsB,SAA1B,GACM,IAAN,qBACUxtB,EAAMwa,WACR/iB,KAAKwO,KAAKxO,KAAK8zB,eAAgBhzB,EAAKyH,GAEpCvI,KAAKg2B,QAAQh2B,KAAK8zB,eAAgBhzB,IAGtCogB,WAAY,WAAhB,WAIA,KACA,KACA,KACMtH,OAAO9a,KAAKkB,KAAK8zB,gBAAgB/0B,SAAQ,SAA/C,KACY,EAAZ,4BACUk3B,EAAc5lB,KAAK,EAA7B,mBAGU6lB,EAAgB7lB,KAAK,EAA/B,sBAMQyX,EADEmO,EAAct3B,QAAUu3B,EAAgBv3B,QAIzB,EAAzB,OAHyBu3B,EAGzB,EAKM,EAAN,iFACA,sBACA,uBAEM,IAAN,qCACM,GAAN,sBA/BA,WAiCA,GAjCA,IAiCA,0CACA,0BAlCA,gCAqCItU,gBAAiB,WACuB,QAAlC5hB,KAAK6e,mBAAmBgD,MAC1B7hB,KAAK6e,mBAAmBgD,MAAQ,OAEhC7hB,KAAK6e,mBAAmBgD,MAAQ,MAElC7hB,KAAK0B,QAAO,GAAM,GAAM,IAE1B+N,YAAa,WACXzP,KAAKoP,iBAAmBpP,KAAK0P,OAAOR,QAAQjK,KAAK,CAC/C0K,UAAW3P,KAAKmP,WAAa,KAAOnP,KAAK4P,MAAMlP,QAAQmP,OAG3DC,aAAc,WACZ9P,KAAKoP,iBAAiBW,SAExBqP,cAAe,SAAnB,cAOM,GANApf,KAAK4e,mBAAqBoO,EAAKC,aAC/BjtB,KAAK6e,mBAAqBtC,KAAKC,MAAMwQ,EAAKmJ,cACrCn2B,KAAK6e,mBAAmBgT,QAAW7xB,KAAK6e,mBAAmBgT,OAAOlzB,SACrEqB,KAAK6e,mBAAmBgT,OAAS,CAAC,CAA1C,+BAEM7xB,KAAKkiB,eAAiBliB,KAAK6e,mBAAmBgT,OACH,SAAvC7xB,KAAK6e,mBAAmBnS,QAAQ,IAAqD,SAApC1M,KAAK6e,mBAAmBnS,QAAoB,CAC/F,IAAR,KACQ1M,KAAK2C,OAAOyO,iBAAiBrS,SAAQ,SAA7C,GACU,IAAV,8DACcooB,EACFiP,EAAW/lB,KAAK0B,EAASM,YAAYC,YAErC8jB,EAAW/lB,KAAK0B,EAASnP,OAG7B5C,KAAK6e,mBAAmBnS,QAAU0pB,EAEpC,IAAN,gCACM,GAAI1D,EACF,IAAK,IAAb,mBACgC,UAAlBA,EAAM7c,GAAGxX,MACX2B,KAAKgf,eAAe3O,KAAKqiB,EAAM7c,GAAGvX,OAIxC0B,KAAK4zB,cAAe,EACpB5zB,KAAK0B,QAAO,GAAO,GAAM,EAAMsrB,EAAKpqB,KAEtC4c,gBAAiB,WACf,GAAN,0BAEI6W,cAAe,SAAnB,GAEMr2B,KAAKk0B,WAAW3D,EAAIhoB,EAAM+tB,MAC1Bt2B,KAAKk0B,WAAWC,EAAI5rB,EAAMguB,MACtBhuB,EAAMiuB,OAAS,EACjBx2B,KAAKsgB,WAAa,IAC1B,aACQtgB,KAAKsgB,WAAa,MAGtBnB,oBAAqB,SAAzB,GAEUsX,IAAkBz2B,KAAK4P,MAAMmlB,aAAsE,OAAvD0B,EAAcC,aAAa,0BACzE12B,KAAK+e,oBAAqB,KAKhC3Q,MAAO,CACLuoB,UAAW,SAAf,GACM32B,KAAK6e,mBAAmB1D,KAAOhL,EAC/BnQ,KAAK0B,QAAO,GAAO,GAAM,KAG7BsU,QAviBF,WAuiBA,WACIhW,KAAK4P,MAAMmlB,YAAYrI,QACvB1sB,KAAK+e,oBAAqB,EAC1B,GAAJ,iCACM,EAAN,2BAEI,GAAJ,sCACM,EAAN,sBAGExe,QAAS,WAAX,WACA,KASI,GAPAP,KAAK6C,OAAS,CACZuG,OAAQpJ,KAAK42B,OAAOntB,MAAMoN,KAC1BggB,UAAW72B,KAAK42B,OAAOntB,MAAMsI,SAC7B+kB,YAAa92B,KAAK42B,OAAOntB,MAAMstB,MAC/BxtB,YAAavJ,KAAK42B,OAAOntB,MAAMutB,GAG7Bh3B,KAAK6C,OAAOuG,OACdpJ,KAAK8e,WAAW9e,KAAK6C,OAAOuG,YAD9B,CAUA,GALIpJ,KAAK6C,OAAO0G,cACdvJ,KAAK4e,mBAAqB5e,KAAK6C,OAAO0G,YACtCgpB,GAAW,GAGTvyB,KAAK6C,OAAOg0B,UAAW,CACpB72B,KAAK6C,OAAO0G,cACfvJ,KAAK4e,mBAAqB,KAG5B,IAAN,iDACQ,OAAO7M,EAASnP,KAAOnE,SAAS,EAAxC,wBAGA,iEAEQuB,KAAK6e,mBAAmBnS,QADtBya,EACgC,CAACpV,EAASM,YAAYC,YAEtB,CAACP,EAASnP,IAE9C2vB,GAAW,EAGRvyB,KAAK4e,qBACR5e,KAAK6e,mBAAmBnS,QAAU,CAAC,SAGjC6lB,IACGvyB,KAAK6e,mBAAmBnS,QAAQ/N,SACnCqB,KAAK6e,mBAAmBnS,QAAU,CAAC,SAErC1M,KAAK0B,aC9nCsU,MCQ7U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI3B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,gBAC/F,GAAkB,GCAlB82B,GAAS,GAKT,GAAY,eACdA,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCjBX,GAAS,WAAa,IAAIl3B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,OAAU7B,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,WAAWF,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAEpB,EAAI4C,OAAO8O,OAAa,OAAEtR,EAAG,MAAM,CAACA,EAAG,OAAO,CAACgB,YAAY,2BAA2B,CAACpB,EAAIqC,GAAG,kBAAkBjC,EAAG,iBAAiBA,EAAG,MAAMA,EAAG,OAAO,GAAGJ,EAAIuC,KAAKnC,EAAG,OAAO,CAACgB,YAAY,2BAA2B,CAACpB,EAAIqC,GAAG,mBAAmBjC,EAAG,yBAAyB,UAAU,IAC9vB,GAAkB,GCDlB,GAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAMJ,EAAI2C,GAAI3C,EAAU,QAAE,SAAS6d,GAAO,OAAOzd,EAAG,cAAc,CAACW,IAAI8c,EAAM1f,KAAKmC,MAAM,CAAC,GAAK,CAAEnC,KAAM,eAAgBuL,MAAO,CAAEgD,OAAQmR,EAAM1f,SAAW,CAACiC,EAAG,KAAK,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,KAAK,CAAC8B,YAAY,CAAC,QAAU,OAAO,gBAAgB,OAAO,OAAS,YAAY,CAAC9B,EAAG,SAAS,CAAC8B,YAAY,CAAC,MAAQ,8BAA8B,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGob,EAAMsZ,iBAAiB/2B,EAAG,MAAMA,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGob,EAAM7a,yBAAwB,IACxhB,GAAkB,GCmCtB,IACE+B,KADF,WAEI,MAAO,CACL2M,OAAQ,KAGZpC,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,OAG7BhQ,QAdF,WAcA,WACI,EAAJ,qBACA,kBACM,EAAN,iBAEA,mBACM,QAAN,cCxDwW,MCOpW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QC6Bf,IACE0N,MAAO,CAAC,YACRS,WAAY,CAAd,qCACEW,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,UCpDwT,MCOnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI5C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,OAAU7B,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,WAAWF,EAAG,aAAa,IAC9V,GAAkB,GCDlB,GAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACue,IAAI,iBAAiBvd,YAAY,qBAAqBc,YAAY,CAAC,OAAS,SAAS,CAAC9B,EAAG,MAAM,CAACgB,YAAY,OAAOc,YAAY,CAAC,OAAS,SAAS,CAAC9B,EAAG,SAAS,CAACgB,YAAY,cAAcc,YAAY,CAAC,gBAAgB,MAAM,CAAElC,EAAgB,aAAEI,EAAG,MAAM,CAACA,EAAG,cAAc,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,IAAI,CAACgB,YAAY,4BAA4Bc,YAAY,CAAC,mBAAmB,gBAAgB,CAAC9B,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,eAAe,OAAO,aAAa,MAAM,YAAY,UAAU,CAAC9B,EAAG,IAAI,CAACgB,YAAY,6BAA8BpB,EAAgB,aAAEI,EAAG,MAAM,CAAC8B,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,SAAS,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIo3B,mBAAmBp3B,EAAIuC,KAAKnC,EAAG,SAAS,CAAC8B,YAAY,CAAC,YAAY,SAAS5B,MAAM,CAAC,KAAO,mBAAmB,KAAK2B,OAAM,IAAO,MAAK,EAAM,YAAY,CAACjC,EAAI2C,GAAI3C,EAAU,QAAE,SAASuM,GAAa,OAAOnM,EAAG,MAAM,CAACW,IAAIwL,EAAYpO,KAAKiD,YAAY,mBAAmBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIq3B,WAAW9qB,MAAgB,CAACnM,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,eAAgBuL,MAAO,CAAEgD,OAAQH,EAAYpO,SAAW,CAAC6B,EAAIqC,GAAGrC,EAAIyC,GAAG8J,EAAY4qB,kBAAkB,MAAKn3B,EAAI2C,GAAI3C,EAAe,aAAE,SAASs3B,GAAY,OAAOl3B,EAAG,MAAM,CAACW,IAAIu2B,EAAWz0B,GAAGzB,YAAY,mBAAmBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIu3B,gBAAgBD,MAAe,CAACl3B,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,eAAgBuL,MAAO,CAAEmU,MAAOyZ,EAAWz0B,OAAS,CAAC7C,EAAIqC,GAAGrC,EAAIyC,GAAG60B,EAAWn5B,UAAU,OAAM,IAAI,GAAG6B,EAAIuC,KAAKnC,EAAG,cAAc,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,IAAI,CAACgB,YAAY,4BAA4Bc,YAAY,CAAC,mBAAmB,gBAAgB,CAAElC,EAAIw3B,wBAAwBp5B,OAAO0N,YAAkB,OAAE1L,EAAG,OAAO,CAACJ,EAAIqC,GAAG,uBAAuBrC,EAAIyC,GAAGzC,EAAIy3B,kBAAkBz3B,EAAIw3B,wBAAwBp5B,OAAO0N,YAAY,IAAI,GAAG3N,MAAM,wBAAwBiC,EAAG,SAAS,CAACJ,EAAIqC,GAAG,qBAAqBjC,EAAG,SAAS,CAAC8B,YAAY,CAAC,YAAY,SAAS5B,MAAM,CAAC,KAAO,mBAAmB,KAAK2B,OAAM,MAASjC,EAAI2C,GAAI3C,EAAI4C,OAAgB,WAAE,SAASoP,GAAU,OAAO5R,EAAG,MAAM,CAACW,IAAIiR,EAASnP,GAAGzB,YAAY,mBAAmBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIq3B,WAAWr3B,EAAIo3B,iBAAiB,CAACh3B,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,eAAgBuL,MAAO,CAAEgD,OAAQ1M,EAAIo3B,aAAcplB,SAAUA,EAASnP,OAAS,CAAC7C,EAAIqC,GAAGrC,EAAIyC,GAAGuP,EAAS7T,UAAU,MAAK,GAAI6B,EAAgB,aAAEI,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAgB,aAAEmB,WAAW,iBAAiBC,YAAY,kBAAkBc,YAAY,CAAC,gBAAgB,IAAI,QAAU,QAAQ5B,MAAM,CAAC,YAAc,0BAA0Be,SAAS,CAAC,MAASrB,EAAgB,cAAGsB,GAAG,CAAC,MAAQtB,EAAI03B,mBAAmB,MAAQ,SAASn2B,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAI23B,aAAap2B,EAAOO,OAAOvD,WAAUyB,EAAIuC,KAAMvC,EAAgB,aAAEI,EAAG,OAAO,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,cAAc,CAACE,MAAM,CAAC,SAAW,iBAAiB,MAAQ,SAASO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,SAAS,CAACgB,YAAY,yCAAyCd,MAAM,CAAC,KAAO,UAAU,UAAYN,EAAIo3B,cAAc7iB,KAAK,WAAW,CAACnU,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,iBAAiBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,kBAAkBJ,OAAM,IAAO,MAAK,EAAM,aAAa,CAAC7B,EAAG,MAAM,CAACA,EAAG,MAAM,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,yCAAyC,CAACF,EAAG,WAAW,CAACgB,YAAY,aAAad,MAAM,CAAC,KAAO,UAAU,mBAAmB,SAAUmW,GAAO,OAAOA,EAAM,MAAQnV,GAAG,CAAC,MAAQtB,EAAI43B,eAAe/zB,MAAM,CAACtF,MAAOyB,EAAe,YAAE8D,SAAS,SAAUC,GAAM/D,EAAI63B,YAAY9zB,GAAK5C,WAAW,kBAAkB,GAAGf,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,gBAAgBN,EAAI2C,GAAI3C,EAAW,SAAE,SAAS83B,GAAQ,OAAO13B,EAAG,UAAU,CAACW,IAAI+2B,EAAOx3B,MAAM,CAAC,eAAew3B,EAAO,KAAO,UAAU,UAAY93B,EAAI+3B,eAAez2B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIq3B,WAAW,CAAEl5B,KAAM6B,EAAIo3B,iBAAkBvzB,MAAM,CAACtF,MAAOyB,EAAc,WAAE8D,SAAS,SAAUC,GAAM/D,EAAIg4B,WAAWj0B,GAAK5C,WAAW,eAAe,CAACf,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGq1B,WAAe,GAAG13B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,eAAeN,EAAI2C,GAAI3C,EAAc,YAAE,SAASi4B,GAAM,OAAO73B,EAAG,UAAU,CAACW,IAAIk3B,EAAK33B,MAAM,CAAC,eAAe23B,EAAK,KAAO,UAAU,UAAYj4B,EAAI+3B,eAAez2B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIq3B,WAAW,CAAEl5B,KAAM6B,EAAIo3B,iBAAkBvzB,MAAM,CAACtF,MAAOyB,EAAa,UAAE8D,SAAS,SAAUC,GAAM/D,EAAIk4B,UAAUn0B,GAAK5C,WAAW,cAAc,CAACf,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGw1B,WAAa,IAAI,OAAO73B,EAAG,cAAc,CAACE,MAAM,CAAC,SAAW,iBAAiB,MAAQ,SAASO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,SAAS,CAACgB,YAAY,0CAA0C,CAAChB,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,kBAAkBhB,EAAG,OAAO,CAACJ,EAAIqC,GAAG,wBAAwBJ,OAAM,IAAO,MAAK,EAAM,aAAa,CAAC7B,EAAG,SAAS,CAACJ,EAAIqC,GAAG,yBAAyBjC,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAc,WAAEmB,WAAW,eAAeC,YAAY,QAAQd,MAAM,CAAC,KAAO,OAAO,YAAc,aAAa,SAAW,IAAIe,SAAS,CAAC,MAASrB,EAAc,YAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAIm4B,WAAW52B,EAAOO,OAAOvD,eAAc6B,EAAG,SAAS,CAACgB,YAAY,kBAAkBE,GAAG,CAAC,MAAQtB,EAAIo4B,gBAAgB,CAACp4B,EAAIqC,GAAG,YAAYjC,EAAG,SAAS,CAACgB,YAAY,yCAAyCc,YAAY,CAAC,cAAc,OAAO5B,MAAM,CAAC,UAAYN,EAAI+3B,eAAez2B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIq3B,WAAW,CAAEl5B,KAAM6B,EAAIo3B,eAAgB,MAAS,CAACp3B,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,qBAAqBjC,EAAG,SAAS,CAACgB,YAAY,yCAAyCc,YAAY,CAAC,cAAc,OAAOZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIq4B,GAAGC,SAAS,CAACt4B,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,sBAAsB,GAAGrC,EAAIuC,MAAM,GAAGnC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,YAAY,CAACE,MAAM,CAAC,gBAAe,EAAM,cAAa,GAAOuD,MAAM,CAACtF,MAAOyB,EAAa,UAAE8D,SAAS,SAAUC,GAAM/D,EAAI2oB,UAAU5kB,GAAK5C,WAAW,cAAc,CAACf,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,OAAOA,EAAG,SAASA,EAAG,MAAM,CAAC8B,YAAY,CAAC,SAAW,WAAW,aAAa,UAAU,CAAClC,EAAIqC,GAAG,sCAAsCjC,EAAG,IAAI,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIo3B,sBAAuBp3B,EAAI8M,SAASlO,QAAUoB,EAAIu4B,WAAav4B,EAAIo3B,aAAch3B,EAAG,MAAM,CAACgB,YAAY,WAAW,CAACpB,EAAIqC,GAAG,iBAAiBrC,EAAIuC,KAAMvC,EAAI8M,SAASlO,QAAUoB,EAAIu4B,UAAWn4B,EAAG,YAAY,CAACue,IAAI,QAAQre,MAAM,CAAC,OAASN,EAAI4K,OAAO,UAAY5K,EAAIw4B,UAAU,aAAex4B,EAAIy4B,cAAcn3B,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOvB,EAAI04B,uBAAuBn3B,IAAS,SAAW,SAASA,GAAQ,OAAOvB,EAAI24B,oBAAoBp3B,IAAS,IAAM,SAASA,GAAQ,OAAOvB,EAAI24B,oBAAoBp3B,MAAWvB,EAAI2C,GAAI3C,EAAY,UAAE,SAAS44B,GAAK,OAAOx4B,EAAG,aAAa,CAACW,IAAI63B,EAAI7zB,KAAKlC,GAAGvC,MAAM,CAAC,WAAas4B,QAAS,GAAG54B,EAAIuC,KAAMvC,EAAiB,cAAEI,EAAG,OAAO,CAACA,EAAG,OAAO,CAACA,EAAG,IAAI,CAACJ,EAAIqC,GAAG,8BAA8BrC,EAAIyC,GAAGzC,EAAIqD,QAC9jOC,IAAItD,EAAI64B,kBAAkBhlB,YAC1BrQ,QACAC,gBAAgBrD,EAAG,IAAI,CAACgB,YAAY,WAAWc,YAAY,CAAC,kBAAkB,YAAY,cAAc,QAAQZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIq3B,WAAW,CAAEl5B,KAAM6B,EAAIo3B,eAAgB,MAAS,CAACh3B,EAAG,OAAO,CAACJ,EAAIqC,GAAG,iBAAiBrC,EAAIuC,KAAKvC,EAAI2C,GAAI3C,EAAIw3B,wBAAwBp5B,OAAkB,aAAE,SAAS6I,GAAY,OAAO7G,EAAG,OAAO,CAACW,IAAIkG,EAAW/E,YAAY,CAAC,MAAQ,MAAM,cAAc,SAAS,CAAClC,EAAIqC,GAAG,qDAAqDrC,EAAIyC,GAAGzC,EAAIy3B,kBAAkBxwB,GAAY,GAAG9I,MAAM,sBAAqB,SAAU6B,EAAa,UAAEI,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAACpB,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAEpB,EAAa,UAAEI,EAAG,wBAAwB,CAACE,MAAM,CAAC,YAAYN,EAAI84B,aAAa94B,EAAIuC,MAAM,SAASvC,EAAIuC,QAC70B,GAAkB,CAAC,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,uBAAuB,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,kBAAkB,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,OAAO,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,mC,yECJ5gB,GAAS,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,SAASF,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,OAAON,EAAI2C,GAAI3C,EAAkB,gBAAE,SAASxB,EAAMuY,GAAO,OAAO3W,EAAG,KAAK,CAACW,IAAIgW,GAAO,CAAC/W,EAAIqC,GAAGrC,EAAIyC,GAAGjE,EAAMA,aAAY4B,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIqC,GAAG,oBAAoB,GAAGrC,EAAI2C,GAAI3C,EAAImgB,UAAiB,SAAE,SAAS3X,EAAMuO,GAAO,OAAO3W,EAAG,mCAAmC,CAACW,IAAIgW,EAAMzW,MAAM,CAAC,MAAQkI,EAAM,UAAYxI,EAAImgB,UAAUmC,QAAQvL,EAAQ,GAAG,kBAAkB/W,EAAImiB,eAAe,kBAAkBniB,EAAIqiB,eAAe,oBAAmB,SAAY,IAC5pB,GAAkB,GCuCtB,IACE1T,WAAY,CACVoqB,4BAAJ,IAEE7qB,MAAO,CAAC,OAAQ,cAAe,WAAY,eAC3CnJ,KALF,WAMI,MAAO,CACLob,UAAW,GACXgC,eAAgB,GAChBE,eAAgB,CACd2R,UAAU,EACVC,YAAY,KAIlB3kB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,OAG7BrC,QAAS,CACPxM,OAAQ,SAAZ,0EACWkY,OAAO9a,KAAK0K,GAAa7K,SAC5B6K,EAAc,GACdxJ,KAAKkiB,eAAiB,CAAC,CAA/B,+BAGM,IAAN,aACA,WAAU,OAAV,QAAU,CAAV,GACQhc,EAAS,OAASuD,EAElBvD,EAAS,SAAWuD,EAGtB,EAAN,yBACA,kBACQ,EAAR,oBAEA,wBAEIqV,WAAY,SAAhB,cACM,EAAN,0BACA,kBACQ,IAAR,oBACA,iBACA,6BACA,4BACU,EAAV,SAAY,MAAZ,UAAY,KAAZ,UAEQ,EAAR,wBACQ,EAAR,eAEA,yBAGEve,QAAS,WACHP,KAAK6W,MACP7W,KAAK8e,WAAW9e,KAAK6W,KAAKjU,IAExB5C,KAAK+4B,UACP/4B,KAAK0B,OAAO1B,KAAK+4B,UAEf/4B,KAAKuJ,aACPvJ,KAAK0B,OAAO1B,KAAKuJ,cAGrB6E,MAAO,CACL7E,YAAa,SAAjB,GACMvJ,KAAK0B,OAAO,IAEdq3B,SAAU,SAAd,GACM/4B,KAAK0B,OAAO,MClHuV,MCOrW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCoPf,IACEgN,WAAY,CAAd,qCACE5J,KAFF,WAGI,MAAO,CACLwzB,WAAW,EACX5P,WAAW,EACXgP,aAAc,GACdjmB,OAAQ,GACRunB,YAAa,GACb7B,aAAc,GACdyB,kBAAmB,GACnBrB,wBAAyB,GACzB0B,eAAgB,GAChBrB,YAAa,EACb/qB,SAAU,GACVgsB,UAAW,GACXK,UAAW,IACXhB,WAAY,GACZiB,QAAS,CAAC,SAAU,QAAS,SAAU,aAAc,gBACrDpB,WAAY,SACZqB,WAAY,CAAC,SAAU,QACvBnB,UAAW,SACXttB,OAAQ,CACN4I,MAAO,CACf,CACU,SAAV,OACU,MAAV,CACY,MAAZ,iBACY,MAAZ,QACY,OAAZ,QACY,6BAAZ,UACY,cAAZ,SACY,cAAZ,SACY,MAAZ,UACY,YAAZ,KACY,cAAZ,OACY,qBAAZ,MACY,QAAZ,MACY,mBAAZ,OACY,qBAAZ,OACY,YAAZ,OACY,iBAAZ,OACY,MAAZ,gBAGA,CACU,SAAV,gBACU,MAAV,CACY,gBAAZ,QACY,kBAAZ,MACY,kBAAZ,QAGA,CACU,SAAV,sBACU,MAAV,CACY,mBAAZ,UACY,qBAAZ,YAGA,CACU,SAAV,0BACU,MAAV,CACY,mBAAZ,UACY,qBAAZ,YAGA,CACU,SAAV,sBACU,MAAV,CACY,mBAAZ,UACY,qBAAZ,YAGA,CACU,SAAV,4BACU,MAAV,CACY,mBAAZ,UACY,qBAAZ,YAGA,CACU,SAAV,OACU,MAAV,CACY,MAAZ,EACY,cAAZ,SACY,0BAAZ,GACY,qBAAZ,WACY,YAAZ,GACY,gBAAZ,aACY,qBAAZ,EACY,qBAAZ,UACY,MAAZ,gBAGA,CACU,SAAV,gBACU,MAAV,CACY,MAAZ,EACY,aAAZ,UACY,qBAAZ,UACY,qBAAZ,YAGA,CACU,SAAV,SACU,MAAV,CACY,QAAZ,IACY,MAAZ,aAIQskB,OAAQ,CACN35B,KAAM,GACNm7B,SAAS,EACTC,WAAW,EACXC,cAAe,GAIjBC,QAAS,GACTC,QAAS,IACTC,gBAAgB,EAChBC,oBAAoB,EACpBC,gBAAgB,EAChBC,oBAAoB,EACpBC,qBAAqB,EACrBC,cAAe,SACfC,kBAAmB,EACnBC,oBAAqB,EACrBC,UAAU,EACVC,eAAe,EACfC,iBAAiB,EAGjBC,UAAU,EACVC,cAAc,EACdC,qBAAqB,EACrBC,sBAAsB,EACtBC,mBAAmB,EACnBC,YAAY,EACZC,kBAAmB,GACnBC,WAAY,UAIlBvrB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3Bm1B,cAJJ,WAKM,OAAsD,IAA/Cle,OAAO9a,KAAKkB,KAAK44B,mBAAmBj6B,SAG/CuP,QAAS,CACPkpB,WAAY,SAAhB,wEACMp3B,KAAK2K,OAAOktB,OAAO35B,KAAO8B,KAAK+3B,WAE/B,IAAN,qEACME,EAAU,GAAG1kB,MAAM,eAAiBvT,KAAKi4B,UAE/C,WAAU,OAAV,QAAU,CAAV,GACQj4B,KAAKm3B,aAAe7qB,EAAYpO,KAEhC8B,KAAKm3B,aAAe7qB,EAGtBtM,KAAKs4B,WAAY,EACjBt4B,KAAK6M,SAAW,GAChB7M,KAAK66B,eAAiBC,YAAW,WAC1B,EAAb,kBACU,EAAV,gBAEA,KACM96B,KAAK64B,UAAY,GACjB,IAAN,KACA,KACU74B,KAAK42B,OAAOntB,MAAMsI,UACpBlG,EAAYwE,KAAK5R,SAASuB,KAAK42B,OAAOntB,MAAMsI,WAC5CvF,GAAU,GAEVxM,KAAK2C,OAAO6O,UAAUzS,SAAQ,SAAtC,GACUwN,EAAe8D,KAAK0B,EAASM,YAAYC,eAG7C,EAAN,gEACA,kBACQ,IAIR,EACA,EALA,uBACA,+BACA,6BACA,KAIA,gBACU,EAAV,uBACU,EAAV,yBAEU,EAAV,WACU,EAAV,YAEQ,EAAR,qBACU,EAAV,MAAY,KAAZ,OAAY,MAAZ,aAEQ,EAAR,qBACU,EAAV,MAAY,KAAZ,OAAY,MAAZ,oBAEA,iBACQ,EAAR,oBACQ,EAAR,0BACQ,EAAR,WACQ,aAAR,kBACQ,EAAR,aACQ,EAAR,gBAEA,mBACQ,QAAR,aAGIglB,gBAAiB,SAArB,cACMt3B,KAAK2K,OAAOktB,OAAO35B,KAAO,SAC1B8B,KAAKm3B,aAAeE,EAAWn5B,KAC/B8B,KAAK44B,kBAAoB,GACzB54B,KAAKs4B,WAAY,EACjBt4B,KAAK6M,SAAW,GAChB7M,KAAK66B,eAAiBC,YAAW,WAC1B,EAAb,kBACU,EAAV,gBAEA,KACM96B,KAAK64B,UAAY,GAEjB,IAAN,KAEQ7rB,EADR,WAAU,OAAV,QAAU,CAAV,GACkBqqB,EAAWz0B,GAEXy0B,EAGZ,EAAN,gCACA,kBACQ,EAAR,uCACQ,IAAR,kDACA,wBAAU,MAAV,qBACA,wBAAU,MAAV,qBACA,KACQ,EAAR,qBACU,EAAV,YACU,EAAV,WAEQ,EAAR,qBACU,EAAV,YACU,EAAV,WAEQ,aAAR,kBACQ,EAAR,WACQ,EAAR,aACQ,EAAR,gBAEA,mBACQ,QAAR,aAGI0D,kBAAmB,SAAvB,GAEM,IAAN,uBAOM,OAJAC,EAAeA,EAAaC,IAAIxZ,EAAStjB,OAAO,QAAQ68B,gBACxDA,EAAeA,EAAaC,IAAIxZ,EAAStjB,OAAO,QAAQ+8B,kBACxDF,EAAeA,EAAaC,IAAIxZ,GAEzBuZ,GAETG,iBAAkB,SAAtB,GACM,IAAN,4BAEM,GAAwB,IAApB1Z,EAAS9iB,OAAb,CAMAqB,KAAKo4B,GAAGvrB,WAAWuuB,SAAS,SAC5BJ,EAAaK,YAAY,SAGzB,IAAN,GACQ5xB,MAAO,CACL6xB,KAAM,CACJC,OAAQ,KAGZpgB,KAAMnb,KAAKk5B,WAEb8B,EAAaj8B,SAAQ,SAA3B,GACgC,UAApB2B,EAAQyQ,SACVyI,OAAO9a,KAAK4B,EAAQoE,OAAOgD,QAAQ/I,SAAQ,SAArD,GACY,IAAZ,GACcu8B,KAAM,CACJE,KAAM,CAAC,CAAvB,8DAGYzC,EAAStvB,MAAM6xB,KAAKC,OAAOlrB,KAAKorB,SAItCz7B,KAAK64B,UAAYE,OA7Bf/4B,KAAKo4B,GAAGvrB,WAAWwuB,YAAY,UA+BnClD,cAAe,WAAnB,WACA,8BACA,4BACA,YACMn4B,KAAKs4B,WAAY,EACjBt4B,KAAK6M,SAAWA,EAChB7M,KAAKm3B,aAAen3B,KAAKk4B,WACzBl4B,KAAKs4B,WAAY,EACjB,EAAN,8DACQ,IAAR,uBACQ,EAAR,uBAEMt4B,KAAKk4B,WAAa,IAEpBO,uBAAwB,SAA5B,GACM,IAAN,8BACMz4B,KAAKm7B,iBAAiB1Z,IAExBgW,mBAAoB,WAAxB,WAEMz3B,KAAKo4B,GAAGvrB,WAAW6uB,WAGnB,IAAN,gDACA,EACA,cACA,cACA,4BAIM17B,KAAKm7B,iBAAiB1Z,IAExBiX,oBAAqB,SAAzB,GACM14B,KAAKo4B,GAAGvrB,WAAWwuB,YAAY,SAC/Br7B,KAAK64B,UAAY,MAEnBlB,cAAe,WACR33B,KAAKo4B,IAGVp4B,KAAKo4B,GACX,QACA,mBACA,OACQ,QAAR,uBAEA,UAEIuD,aAAc,WACZ,IAAN,6CACA,4CACA,2CACMC,EAAOroB,MAAMsoB,UAAYC,EAAe,KACxCF,EAAOroB,MAAMwoB,OAASD,EAAe,KACrCF,EAAOroB,MAAMyoB,SAAWC,EAAc,KACtCL,EAAOroB,MAAMiB,MAAQynB,EAAc,MAGrC1D,UAtNJ,SAsNA,GACM2D,EAAUt3B,IAAI,GAApB,GACMs3B,EAAUt3B,IAAI,GAApB,GACM5E,KAAK27B,gBAGP,aA5NJ,iLA4NA,EA5NA,+BA4NA,KAEA,SACA,UAEA,UAjOA,SAmOA,EAnOA,OAoOA,gBAGA,mCAvOA,wGAyOIhK,SAAU,WACR3xB,KAAKmV,YAAqC,SAAvB3U,aAAaC,MAC5BT,KAAKmV,YACPnV,KAAKo4B,GACb,QACA,iBACA,OACU,MAAV,UACU,qBAAV,YAEA,SAEQp4B,KAAKo4B,GACb,QACA,iBACA,OACU,MAAV,UACU,qBAAV,YAEA,UAGIZ,kBA/PJ,SA+PA,GACM,OAAOx3B,KAAK2C,OAAO6O,UAAUrT,QAAO,SAA1C,wBAGEoC,QA7ZF,WA6ZA,WACI0V,OAAOC,iBACX,SACA,0BACM,EAAN,iBACA,MAEI,EAAJ,qBACA,kBACM,EAAN,iBAEA,mBACM,QAAN,YAEI,EAAJ,kCACA,kBACM,IAAN,4BACA,QACQ,EAAR,qCAGA,mBACM,QAAN,YAEI,GAAJ,iCAEIlW,KAAK6C,OAAS,CACZmK,QAAShN,KAAK42B,OAAOntB,MAAMmU,MAC3Bue,WAAYn8B,KAAK42B,OAAOntB,MAAMgD,OAC9BzF,WAAYhH,KAAK42B,OAAOntB,MAAMsI,UAG5B/R,KAAK6C,OAAOmK,SACdhN,KAAKs3B,gBAAgBt3B,KAAK6C,OAAOmK,SAG/BhN,KAAK6C,OAAOs5B,YACdn8B,KAAKo3B,WAAWp3B,KAAK6C,OAAOs5B,cCxsB4T,MCQ1V,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCaf,IACEztB,WAAY,CAAd,YACET,MAAO,CAAC,YACRoB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,UCrCuT,MCOlV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI5C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,OAAU7B,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,eAAeF,EAAG,gCAAgC,CAACkB,GAAG,CAAC,eAAiB,SAASC,GAAQ,OAAOvB,EAAIq8B,eAAe96B,OAAYnB,EAAG,MAAMA,EAAG,MAAOJ,EAAIs8B,gBAAsB,OAAEl8B,EAAG,UAAU,CAACgB,YAAY,WAAW,CAACpB,EAAIoC,GAAG,KAAKpC,EAAIuC,KAAKvC,EAAI2C,GAAI3C,EAAmB,iBAAE,SAASqK,GAAa,OAAOjK,EAAG,UAAU,CAACW,IAAIsJ,EAAYxH,GAAGzB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,yBAAyB,CAACE,MAAM,CAAC,YAAc+J,EAAY,eAAc,MAAS,SAAQ,IACzyB,GAAkB,CAAC,WAAa,IAAIrK,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,OAAO,CAACgB,YAAY,cAAc,CAACpB,EAAIqC,GAAG,4BCDhM,GAAS,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAIu8B,cAAc,MAAQ,IAAI,OAAS,QAAQj7B,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAIu8B,cAAch7B,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,wBAAwBjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,OAAO,CAACkB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAO+M,iBAAwBtO,EAAImS,UAAU,CAAC/R,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,QAAQ,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAG,UAAUjC,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAmB,gBAAEmB,WAAW,oBAAoBC,YAAY,QAAQd,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,YAAc,wBAAwB,UAAY,IAAIe,SAAS,CAAC,MAASrB,EAAmB,iBAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAIw8B,gBAAgBj7B,EAAOO,OAAOvD,eAAc6B,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,KAAO,SAAS,MAAQ,wBAAwBF,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAACpB,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,QAAQ,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAG,iCAAiCjC,EAAG,4BAA4B,CAACkB,GAAG,CAAC,kBAAoB,SAASC,GAAQvB,EAAI8pB,kBAAoBvoB,MAAWnB,EAAG,MAAMA,EAAG,6CAA6C,CAACkB,GAAG,CAAC,oBAAsBtB,EAAIy8B,8BAA8Br8B,EAAG,MAAMA,EAAG,kBAAkB,CAACW,IAAIf,EAAI08B,mBAAmBv+B,KAAKwgB,IAAI,YAAYre,MAAM,CAAC,OAASN,EAAI28B,QAAQr7B,GAAG,CAAC,cAAgBtB,EAAI48B,aAAa/4B,MAAM,CAACtF,MAAOyB,EAAY,SAAE8D,SAAS,SAAUC,GAAM/D,EAAImG,SAASpC,GAAK5C,WAAW,eAAe,SAASf,EAAG,UAAU,CAACa,WAAW,CAAC,CAAC9C,KAAK,OAAO+C,QAAQ,SAAS3C,MAAOyB,EAAI68B,WAAkD,IAArChjB,OAAO9a,KAAKiB,EAAI88B,UAAUl+B,OAAcuC,WAAW,oDAAoDC,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,OAAO,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,iBAAiBrC,EAAIyC,GAAGzC,EAAI08B,mBAAmBvF,cAAc,kBAAkB/2B,EAAG,OAAO,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,IAAI,CAACgB,YAAY,6BAA6BE,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIu8B,eAAiBv8B,EAAIu8B,iBAAiB,CAACv8B,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gBAAgBjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,iBAAiB,CAACa,WAAW,CAAC,CAAC9C,KAAK,OAAO+C,QAAQ,SAAS3C,MAAyB,UAAlByB,EAAI+8B,UAAuB57B,WAAW,0BAA0Bb,MAAM,CAAC,aAAaN,EAAIoxB,aAAahxB,EAAG,qBAAqB,CAACa,WAAW,CAAC,CAAC9C,KAAK,OAAO+C,QAAQ,SAAS3C,MAAyB,UAAlByB,EAAI+8B,UAAuB57B,WAAW,0BAA0Bb,MAAM,CAAC,SAAWN,EAAI88B,aAAa,UAAU,IACt6F,GAAkB,CAAC,WAAa,IAAI98B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,OAAO,CAACgB,YAAY,qBAAqB,CAAChB,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,uBAAuBhB,EAAG,OAAO,CAAC8B,YAAY,CAAC,cAAc,SAAS,CAAClC,EAAIqC,GAAG,0BAA0B,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,oBCDjf,GAAS,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAKN,EAAIg9B,WACtH,GAAkB,G,aCsBtB,IACE9uB,MAAO,CAAC,YACRnJ,KAFF,WAGI,MAAO,CACLi4B,OAAQ,QAAU/8B,KAAKg9B,OAG3B5uB,MAAO,CACLyuB,SAAU,SAAd,KACM,OAAN,QAAM,CAAN,2DChCsW,MCOlW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI98B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAI28B,OAAa,OAAEv8B,EAAG,OAAO,CAACkB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAO+M,iBAAwBtO,EAAIuO,WAAW3M,MAAM,KAAMC,YAAY,QAAU,SAASN,GAAQ,IAAIA,EAAOjD,KAAKkD,QAAQ,QAAQxB,EAAIyB,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOR,IAAI,SAAW,OAAO,KAAOQ,EAAO+M,oBAAqB,CAACtO,EAAI2C,GAAI3C,EAAU,QAAE,SAASxB,EAAMuY,GAAO,OAAO3W,EAAG5B,EAAMF,KAAK0B,EAAIk9B,GAAG,CAACn8B,IAAIgW,EAAM2M,IAAI,YAAYpjB,MAAM,CAAC,MAAQN,EAAImG,SAAS3H,EAAML,MAAM,QAAUK,EAAM2+B,SAAS77B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIo9B,WAAW5+B,EAAML,KAAMoD,MAAW,YAAY/C,GAAM,OAAUwB,EAAIoC,GAAG,IAAI,GAAGpC,EAAIuC,MACtpB,GAAkB,CAAC,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACgB,YAAY,iBAAiBd,MAAM,CAAC,KAAO,SAAS,MAAQ,aCDhN,GAAS,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAW,QAAEI,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,QAAQ,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIyQ,UAAUrQ,EAAG,QAAQ,CAACgB,YAAY,QAAQc,YAAY,CAAC,YAAY,SAAS5B,MAAM,CAAC,KAAO,OAAO,KAAON,EAAI7B,KAAK,YAAc6B,EAAIq9B,aAAah8B,SAAS,CAAC,MAAQrB,EAAIzB,OAAO+C,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIiU,MAAM,QAAS1S,EAAOO,OAAOvD,aAAayB,EAAIuC,MACjc,GAAkB,GC6BtB,IACE2L,MAAO,CAAC,cAAe,QAAS,OAAQ,QAAS,YC/B0T,MCOzW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIlO,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAW,QAAEI,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,QAAQ,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIyQ,UAAUrQ,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,UAAU,CAAChB,EAAG,SAAS,CAACiB,SAAS,CAAC,MAAQrB,EAAIzB,OAAO+C,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIiU,MAAM,QAAS1S,EAAOO,OAAOvD,UAAU,CAAC6B,EAAG,SAAS,CAACE,MAAM,CAAC,SAAW,GAAG,MAAQ,KAAK,CAACN,EAAIqC,GAAG,uBAAuBrC,EAAI2C,GAAI3C,EAAW,SAAE,SAASmlB,GAAQ,OAAO/kB,EAAG,SAAS,CAACW,IAAIokB,GAAQ,CAACnlB,EAAIqC,GAAGrC,EAAIyC,GAAG0iB,UAAc,SAASnlB,EAAIuC,MACnkB,GAAkB,GC6BtB,IACE2L,MAAO,CAAC,UAAW,QAAS,QAAS,YC/BwU,MCO3W,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIlO,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAW,QAAEI,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,QAAQ,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIyQ,UAAUrQ,EAAG,mBAAmB,CAACE,MAAM,CAAC,YAAc,6BAA6B,qBAAqBN,EAAIs9B,cAAc,SAAW,OAAO,GAAGt9B,EAAIuC,MACjV,GAAkB,GCyBtB,IACE2L,MAAO,CAAC,cAAe,QAAS,OAAQ,QAAS,WACjDC,QAAS,CACPmvB,cADJ,SACA,GAGM,IAAN,oFAEM,OADAr9B,KAAKgU,MAAM,QAASspB,GACbA,KClCoW,MCO7W,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCoBf,IACE5uB,WAAY,CACV6uB,uBAAJ,GACIC,yBAAJ,GACIC,2BAAJ,IAEExvB,MAAO,CAAC,SAAU,SAClBnJ,KAPF,WAQI,MAAO,CACLoB,SAAUlG,KAAK1B,OAAS,KAG5B4P,QAAS,CACPivB,WADJ,SACA,KACMn9B,KAAKwO,KAAKxO,KAAKkG,SAAUw3B,EAAWp/B,GACpC0B,KAAKgU,MAAM,QAAShU,KAAKkG,WAE3BoI,WALJ,WAMMtO,KAAKgU,MAAM,oBCxDmV,MCOhW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIjU,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,QAAQ,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAG,0BAA0BjC,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,UAAU,CAAChB,EAAG,SAAS,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAY,SAAEmB,WAAW,aAAaG,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,IAAI+f,EAAgB1J,MAAM2J,UAAUnjB,OAAOojB,KAAKjgB,EAAOO,OAAO0W,SAAQ,SAASiJ,GAAG,OAAOA,EAAEC,YAAW7I,KAAI,SAAS4I,GAAG,IAAIhL,EAAM,WAAYgL,EAAIA,EAAEE,OAASF,EAAEljB,MAAM,OAAOkY,KAAOzW,EAAI0hB,SAASngB,EAAOO,OAAO8f,SAAWN,EAAgBA,EAAc,IAAI,SAAS/f,GAAQ,OAAOvB,EAAI49B,0BAA0B,CAACx9B,EAAG,SAAS,CAACE,MAAM,CAAC,SAAW,GAAG,MAAQ,KAAK,CAACN,EAAIqC,GAAG,uBAAuBrC,EAAI2C,GAAI3C,EAAIwQ,KAAgB,aAAE,SAASqtB,EAAW1/B,GAAM,OAAOiC,EAAG,SAAS,CAACW,IAAI88B,EAAWh7B,GAAGxB,SAAS,CAAC,MAAQlD,IAAO,CAAC6B,EAAIqC,GAAG,eAAerC,EAAIyC,GAAGo7B,EAAW1G,cAAc,oBAAmB,UACt8B,GAAkB,GC+BtB,IACEjpB,MAAO,CAAC,YAAa,SACrBnJ,KAFF,WAGI,MAAO,CACL2c,SAAU,GACVoc,cAAe,KAGnBxuB,SAAU,CACRkB,KADJ,WAEM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,OAG7BrC,QAAS,CACPyvB,oBAAqB,WACnB,IAAN,mEACMG,EAAgB5/B,KAAO8B,KAAKyhB,SAC5BzhB,KAAKgU,MAAM,sBAAuB8pB,MCjDuU,MCO3W,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI/9B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAIg+B,UAAgB,OAAE59B,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,KAAON,EAAIg+B,UAAU,QAAUh+B,EAAIi+B,aAAa,WAAY,EAAK,qBAAoB,EAAK,WAAW,GAAG,WAAY,EAAK,YAAY,MAAM,kBAAkB,eAAe,GAAGj+B,EAAIuC,MACrU,GAAkB,GC+BtB,IACE2L,MAAO,CAAC,aACRC,QAAS,CACP8vB,WAAY,WACV,IAAN,KACA,oBAQM,OAPApkB,OAAO9a,KAAKm/B,GAAUl/B,SAAQ,SAApC,GACQm/B,EAAQ7tB,KAAK,CACX9R,MAAOuC,EACP0P,MAAO1P,EACPq9B,UAAU,OAGPD,KC7CsV,MCO/V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIn+B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,YAAY,QAAQO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,2BAA2BC,GAAG,WAAW,MAAO,CAACZ,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,WAAW5B,MAAM,CAAC,MAAQN,EAAIyQ,MAAM,aAAazQ,EAAI6f,OAAS,aAAe,oBAAoB5d,OAAM,MAAS,CAAC7B,EAAG,UAAU,CAACE,MAAM,CAAC,KAAON,EAAIyR,UAAU,QAAUzR,EAAIq+B,gBAAgB,eAAer+B,EAAI0hB,SAAS,UAAY,IAAIpgB,GAAG,CAAC,qBAAqB,SAASC,GAAQvB,EAAI0hB,SAASngB,GAAQ,sBAAsB,SAASA,GAAQvB,EAAI0hB,SAASngB,OAAY,IAAI,IACzmB,GAAkB,GC4BtB,IACE2M,MAAO,GACPS,WAAY,CAAd,eACE5J,KAHF,WAII,MAAO,CACL2c,SAAU,GACV2c,gBAAiB,CACvB,CACQ,MAAR,WAKE/uB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BiB,UAPJ,WAOA,WACA,KAaM,OAZAxR,KAAK2C,OAAOyO,iBAAiBrS,SAAQ,SAA3C,GACQ,IAAR,OAEA,8DACYooB,IACFngB,EAAa+K,EAASM,YAAYC,YAEpCd,EAAUnB,KAAK,CACbzN,GAAIoE,EACJ9I,KAAM6T,EAAS7T,UAGZsT,GAEThB,MAvBJ,WAwBM,IAAN,gCAIM,OAHIxQ,KAAKyhB,SAAS9iB,SAChB6R,EAAQ,uBAAyBxQ,KAAKyhB,SAAS9iB,OAAS,IAAMqB,KAAKwR,UAAU7S,OAAS,KAEjF6R,IAGXpC,MAAO,CACLqT,SADJ,SACA,GACMzhB,KAAKgU,MACX,oBACA,mBAAQ,OAAR,YC7E6W,MCOzW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QC8Ff,IACEtF,WAAY,CACV2vB,cAAJ,GACIC,gBAAJ,GACIC,sCAAJ,GACIC,aAAJ,GACIC,uBAAJ,IAEE35B,KARF,WASI,MAAO,CACL43B,OAAQ,GACRx2B,SAAU,GACV22B,SAAU,GACVJ,mBAAoB,GACpBG,WAAW,EACXN,eAAe,EACfC,gBAAiB,GACjBO,UAAW,GACX3L,UAAW,GACXtH,kBAAmB,KAGvBxa,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,SAG7BuL,QAAS,CACPsuB,2BAA4B,SAAhC,GACMx8B,KAAK48B,WAAY,EACjB,IAAN,KACM58B,KAAK08B,OAASkB,EAAWc,YACzB1+B,KAAK08B,OAAO39B,SAAQ,SAA1B,GACQ+F,EAAKvG,EAAML,MAAQK,EAAMyc,iBAE3Bhb,KAAKkG,SAAWpB,EAChB9E,KAAKy8B,mBAAqBmB,GAE5BjB,YAAa,WAAjB,WACM38B,KAAK48B,WAAY,EACjB58B,KAAKkG,SAAS,SAAWlG,KAAK6pB,kBAC9B,IAAN,GACQ8U,gBAAiB3+B,KAAKy8B,mBAAmBv+B,KACzC0gC,sBAAuB5+B,KAAKkG,UAE9B,EAAN,gCACA,kBACQ,IAAR,wBACQ,EAAR,oDACQ,EAAR,iBAAU,KAAV,MAAU,SAAV,WACQ,EAAR,2BACQ,EAAR,iCAEQ,EAAR,oDAEA,wBAEIgM,KAAM,WAAV,WACMlS,KAAKs8B,eAAgB,EACrB,EAAN,2FACA,kBACQ,IAAR,oBACQ,EAAR,0BACQ,EAAR,sBAEA,0BCjLoW,MCOhW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIv8B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,OAAO,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAIqK,YAAYlM,MAAM,YAAa6B,EAAI8+B,cAAcC,YAAc/+B,EAAI8+B,cAAcE,SAAU5+B,EAAG,OAAO,CAAC8B,YAAY,CAAC,cAAc,OAAO,cAAc,WAAW,CAAClC,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGzC,EAAI8+B,cAAcC,YAAY,MAAM/+B,EAAIyC,GAAGzC,EAAI8+B,cAAcE,UAAU,OAAOh/B,EAAIuC,KAAKvC,EAAI2C,GAAI3C,EAAa,WAAE,SAASgS,GAAU,OAAO5R,EAAG,mBAAmB,CAACW,IAAIiR,EAASnP,GAAGX,YAAY,CAAC,cAAc,QAAQ5B,MAAM,CAAC,SAAW0R,SAAe,KAAK5R,EAAG,MAAM,CAACue,IAAI,YAAYvd,YAAY,gBAAgB,CAAoB,UAAlBpB,EAAI+8B,UAAuB38B,EAAG,iBAAiB,CAACE,MAAM,CAAC,aAAaN,EAAIoxB,aAAapxB,EAAIuC,KAAwB,UAAlBvC,EAAI+8B,UAAuB38B,EAAG,qBAAqB,CAACE,MAAM,CAAC,SAAWN,EAAI88B,YAAY98B,EAAIuC,MAAM,MACj5B,GAAkB,GC2CtB,IACE2L,MAAO,CAAC,cAAe,cACvBS,WAAY,CAAd,sDACE5J,KAHF,WAII,MAAO,CACL+3B,SAAU,GACV9zB,MAAO,GACP+zB,UAAW,GACX3L,UAAW,KAGf9hB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3Bk8B,cAJJ,WAKM,OAAOtiB,KAAKC,MAAMxc,KAAKoK,YAAYI,aAErCgH,UAPJ,WAOA,WACA,KAOM,OANIxR,KAAK6+B,cAAc/nB,OAASa,MAAMC,QAAQ5X,KAAK6+B,cAAc/nB,QAC/D9W,KAAK6+B,cAAc/nB,MAAM/X,SAAQ,SAAzC,GACU,IAAV,iEACUyS,EAAUnB,KAAK0B,MAGZP,IAGXtD,QAAS,CACPyuB,YAAa,WAAjB,WACA,GACQgC,gBAAiB3+B,KAAKoK,YAAYE,SAClCs0B,sBAAuB5+B,KAAKoK,YAAYI,YAE1C,EAAN,gCACA,kBACQ,IAAR,wBACQ,EAAR,mDACQ,EAAR,iBAAU,KAAV,MAAU,SAAV,WACQ,EAAR,2BACQ,EAAR,mCACQ,EAAR,iCAEQ,EAAR,oDAEA,yBAGEwL,QAAS,WACPhW,KAAK28B,gBC9FkW,MCOvW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QC8Bf,IACEjuB,WAAY,CAAd,uDACE5J,KAFF,WAGI,MAAO,CACLk6B,aAAc,GACdC,kBAAmB,KAGvB5vB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3B8rB,gBAPJ,WAQM,IAAN,6JACM,OAAOjkB,EAAOpY,KAAKg/B,aAAch/B,KAAKi/B,mBAC5C,QACA,YAGE/wB,QAAS,CACPkuB,eADJ,SACA,GACMp8B,KAAKg/B,aAAa3uB,KAAKjG,KAG3B7J,QAAS,WAAX,WACI,EAAJ,gCACA,kBACM,EAAN,kCAEA,mBACM,QAAN,YAEI,EAAJ,qCACA,kBACM,EAAN,oCAEA,mBACM,QAAN,cCxFmV,MCO/U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,OAAU7B,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,eAAeF,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,wBAAwB,KAAKA,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,IAAI,CAACJ,EAAIqC,GAAG,4EAA4EjC,EAAG,MAAMA,EAAG,SAAS,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,UAAYN,EAAIm/B,oBAAoBvgC,SAAWoB,EAAIo/B,oBAAoBxgC,QAAQ0C,GAAG,CAAC,MAAQtB,EAAI6L,eAAe,CAAC7L,EAAIqC,GAAG,qBAAqBrC,EAAIyC,GAAGzC,EAAIm/B,oBAAoBvgC,QAAQ,iBAAiBoB,EAAIyC,GAAGzC,EAAIo/B,oBAAoBxgC,QAAQ,4BAA4BwB,EAAG,MAAMA,EAAG,MAAMJ,EAAI2C,GAAI3C,EAAY,UAAE,SAASq/B,GAAS,OAAOj/B,EAAG,OAAO,CAACW,IAAIs+B,EAAQx8B,IAAI,CAACzC,EAAG,6BAA6B,CAACE,MAAM,CAAC,QAAU++B,GAAS/9B,GAAG,CAAC,YAAc,SAASC,GAAQvB,EAAIs/B,SAAS9hB,OAAOxd,EAAIs/B,SAAS99B,QAAQ69B,GAAU,QAAQ,OAAM,SAASj/B,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACgB,YAAY,eAAec,YAAY,CAAC,aAAa,QAAQ,aAAa,SAAS,CAAC9B,EAAG,OAAO,CAACgB,YAAY,2BAA2B,CAACpB,EAAIqC,GAAG,oCAAoCjC,EAAG,MAAMA,EAAG,MAAMA,EAAG,UAAU,CAACE,MAAM,CAAC,KAAON,EAAIyR,UAAU,QAAUzR,EAAIq+B,gBAAgB,eAAer+B,EAAIo/B,oBAAoB,UAAY,IAAI99B,GAAG,CAAC,qBAAqB,SAASC,GAAQvB,EAAIo/B,oBAAoB79B,GAAQ,sBAAsB,SAASA,GAAQvB,EAAIo/B,oBAAoB79B,OAAY,SAASnB,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,OAAO,CAACgB,YAAY,2BAA2B,CAACpB,EAAIqC,GAAG,gCAAgCjC,EAAG,MAAMA,EAAG,MAAMA,EAAG,UAAU,CAACE,MAAM,CAAC,KAAON,EAAIu/B,mBAAmB,QAAUv/B,EAAIw/B,gBAAgB,eAAex/B,EAAIm/B,oBAAoB,eAAe,eAAe,UAAY,IAAI79B,GAAG,CAAC,qBAAqB,SAASC,GAAQvB,EAAIm/B,oBAAoB59B,GAAQ,sBAAsB,SAASA,GAAQvB,EAAIm/B,oBAAoB59B,OAAY,SAASnB,EAAG,OAAO,IACj7E,GAAkB,GCDlB,GAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,8BAA8Bc,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAIy/B,cAAc,MAAMz/B,EAAI2C,GAAI3C,EAAa,WAAE,SAASgS,GAAU,OAAO5R,EAAG,OAAO,CAACW,IAAIiR,GAAU,CAAChS,EAAIqC,GAAGrC,EAAIyC,GAAGuP,SAAehS,EAAIqC,GAAG,YAAY,GAAGjC,EAAG,OAAO,CAACgB,YAAY,mBAAmBd,MAAM,CAAC,aAAa,UAAU,CAACF,EAAG,OAAO,CAACgB,YAAY,SAASE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIiU,MAAM,uBAAuB7T,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,QAAQ,CAACgB,YAAY,sBAAsB,CAACpB,EAAIoC,GAAG,GAAGhC,EAAG,QAAQJ,EAAI2C,GAAI3C,EAAa,WAAE,SAASoU,EAAI2C,GAAO,OAAO3W,EAAG,KAAK,CAACW,IAAIgW,GAAO,CAAC3W,EAAG,KAAK,CAACA,EAAG,MAAM,CAACkT,MAAM,CACnyBosB,QAAwB,YAAftrB,EAAIhR,OACbu8B,KAAqB,SAAfvrB,EAAIhR,OACVw8B,QAAwB,YAAfxrB,EAAIhR,OACb0B,MAAsB,UAAfsP,EAAIhR,QACXlB,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,gBAAgB,OAAO,aAAa,MAAM,cAAc,WAAW9B,EAAG,KAAK,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAG2R,EAAIyrB,aAAaz/B,EAAG,KAAK,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAG2R,EAAIE,WAAWlU,EAAG,KAAK,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAG2R,EAAIpC,SAAS7T,cAAa,UAC1P,GAAkB,CAAC,WAAa,IAAI6B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,MAAMA,EAAG,KAAK,CAACJ,EAAIqC,GAAG,cAAcjC,EAAG,KAAK,CAACJ,EAAIqC,GAAG,YAAYjC,EAAG,KAAK,CAACJ,EAAIqC,GAAG,kBCsDzM,IACE6L,MAAO,CAAC,WACRnJ,KAFF,WAGI,MAAO,CACL+6B,gBAAiB,GACjB5rB,SAAU,GACVgB,aAAa,IAGjB5F,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BuvB,eAPJ,WAQM,OAAO9/B,KAAKiU,SAAStV,QAEvBohC,kBAVJ,WAWM,IAAN,IAMM,OALA//B,KAAKiU,SAASlV,SAAQ,SAA5B,GAC0C,SAA9B6gC,EAASz8B,OAAO,GAAGA,QAAmD,UAA9By8B,EAASz8B,OAAO,GAAGA,SAC7DoO,GAAS,MAGNA,GAETC,UAnBJ,WAoBM,IAAN,UAIM,OAHAxR,KAAKiU,SAASlV,SAAQ,SAA5B,GACQihC,EAAY/E,IAAI2E,EAAS7tB,SAAS7T,SAE7B8hC,GAETjC,UA1BJ,WA2BM,IAAN,KASM,OARA/9B,KAAKiU,SAASlV,SAAQ,SAA5B,GACQ,IAAR,KACQoV,EAAIhR,OAASy8B,EAASz8B,OAAO,GAAGA,OAChCgR,EAAIyrB,SAAWA,EAASxrB,cACxBD,EAAIE,OAASurB,EAASvrB,OACtBF,EAAIpC,SAAW6tB,EAAS7tB,SACxBkuB,EAAW5vB,KAAK8D,MAEX8rB,GAETT,aAtCJ,WAuCM,OAAOx/B,KAAK+/B,kBAAoB,IAAM//B,KAAK8/B,eAAiB,oBAGhE5xB,QAAS,CACPwH,UADJ,WACA,WACM,EAAN,mDACA,kBACQ,EAAR,kCACQ,EAAR,oCACQ,EAAR,kBAEA,yBAGEW,cA9DF,WA+DIC,cAActW,KAAKuW,GACnBvW,KAAKuW,GAAI,GAEXhW,QAlEF,WAmEIP,KAAK6/B,gBAAkB7/B,KAAKo/B,QAC5Bp/B,KAAKiU,SAAWjU,KAAKo/B,QAAQnrB,SAC7BjU,KAAKiV,aAAc,GAErB7G,MAAO,CACL6G,YADJ,SACA,GACUuB,IAAQxW,KAAKuW,EACfvW,KAAKuW,EAAIE,YACjB,WACU,KAAV,YACA,+CACY,KAAZ,iBAEA,WACA,MAGQH,cAActW,KAAKuW,GACnBvW,KAAKuW,GAAI,MCjJ6V,MCQ1W,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCkFf,IACEtI,MAAO,CAAC,YACRS,WAAY,CACViG,kBAAJ,GACIurB,wBAAJ,IAEEp7B,KANF,WAOI,MAAO,CACLw6B,mBAAoB,GACpBH,oBAAqB,GACrBD,oBAAqB,GACrBG,SAAU,GACVjB,gBAAiB,CACvB,CACQ,MAAR,OACQ,MAAR,aAGMmB,gBAAiB,CACvB,CACQ,MAAR,eACQ,MAAR,WACQ,UAAR,GAEA,CACQ,MAAR,cACQ,MAAR,kBAKElwB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BiB,UAPJ,WAQM,IAAN,KAOM,OANAxR,KAAK2C,OAAO6O,UAAUzS,SAAQ,SAApC,GACQwX,EAAElG,KAAK,CACLzN,GAAImP,EAASnP,GACb1E,KAAM6T,EAAS7T,UAGZqY,IAGXrI,QAAS,CACPtC,aAAc,WAAlB,WACA,2DACA,6DACM5L,KAAKm/B,oBAAsB,GAC3Bn/B,KAAKk/B,oBAAsB,GAC3B,EAAN,iCACA,kBACQ,EAAR,8BAEA,yBAGE3+B,QAAS,WAAX,WACI,EAAJ,6BACA,kBACM,EAAN,6BAEA,mBACM,QAAN,cCzKiV,MCO7U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,gBAC/F,GAAkB,GCAlB,GAAS,GAKT,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCjBX,GAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,OAAU7B,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,aAAaF,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAIogC,qBAAqB,MAAQ,IAAI,OAAS,QAAQ9+B,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAIogC,qBAAqB7+B,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,0BAA0BjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,uBAAuB,CAACkB,GAAG,CAAC,YAAc,SAASC,GAAQvB,EAAIogC,sBAAwBpgC,EAAIogC,0BAA0B,SAAShgC,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,SAAS,CAACgB,YAAY,oBAAoBc,YAAY,CAAC,eAAe,OAAOZ,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIogC,sBAAwBpgC,EAAIogC,wBAAwB,CAACpgC,EAAIoC,GAAG,GAAGhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,oBAAoBjC,EAAG,MAAM,CAACgB,YAAY,OAAOc,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAGpB,EAAIwQ,KAAKe,QAAQ3S,OAAgGoB,EAAIuC,KAA5FnC,EAAG,MAAM,CAACJ,EAAIqC,GAAG,uEAAgFjC,EAAG,gBAAgB,CAACE,MAAM,CAAC,UAAW,MAAS,UAAU,IACh5C,GAAkB,CAAC,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,2BCDnK,GAAS,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACkB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAO+M,iBAAwBtO,EAAIuO,WAAW3M,MAAM,KAAMC,cAAc,CAACzB,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,QAAQ,CAACgB,YAAY,SAAS,CAACpB,EAAIqC,GAAG,WAAWjC,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC9C,KAAK,QAAQ+C,QAAQ,UAAU3C,MAAOyB,EAAS,MAAEmB,WAAW,UAAUC,YAAY,QAAQd,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,YAAc,sBAAsB,UAAY,IAAIe,SAAS,CAAC,MAASrB,EAAS,OAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOO,OAAOC,YAAqB/B,EAAIgJ,MAAMzH,EAAOO,OAAOvD,eAAcyB,EAAIoC,GAAG,MAC7pB,GAAkB,CAAC,WAAa,IAAIpC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,SAAS,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,QAAQ,CAACgB,YAAY,oBAAoBd,MAAM,CAAC,KAAO,SAAS,MAAQ,kBCiCvP,IACEyE,KADF,WAEI,MAAO,CACLiE,MAAO,KAGXmF,QAAS,CACPO,cAAe,WACbzO,KAAK+I,MAAQ,IAEfuF,WAAY,WAAhB,WACA,KACM,EAAN,yCACA,kBACQ,IAAR,uBACQ,EAAR,gBACQ,EAAR,cAAU,KAAV,eAAU,OAAV,cACQ,EAAR,+CAEA,yBAGEe,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,QC7DyU,MCOpW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCmDf,IACE7B,WAAY,CACVC,aAAJ,aACIyxB,YAAJ,GACIC,kBAAJ,IAEEv7B,KANF,WAOI,MAAO,CACLq7B,sBAAsB,IAG1B9wB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,QCrFwT,MCOnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIxQ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,OAAU7B,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,aAAcN,EAAU,OAAEI,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACgB,YAAY,eAAec,YAAY,CAAC,QAAU,SAAS,CAAC9B,EAAG,MAAM,CAACgB,YAAY,uCAAuCc,YAAY,CAAC,gBAAgB,OAAO,eAAe,SAAS,CAAC9B,EAAG,KAAK,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIgJ,YAAYhJ,EAAI2C,GAAI3C,EAAU,QAAE,SAAS2a,EAAI5D,GAAO,OAAO3W,EAAG,MAAM,CAACW,IAAIgW,GAAO,CAAG4D,EAAIxb,cAAy9Ca,EAAIuC,KAA98CnC,EAAG,MAAM,CAACgB,YAAY,gBAAgBkS,MAAM,CAAEitB,YAAa5lB,EAAI8Z,UAAWvyB,YAAY,CAAC,eAAe,OAAO,aAAa,OAAO,gBAAgB,QAAQZ,GAAG,CAAC,UAAY,SAASC,GAAQoZ,EAAI8Z,UAAW,GAAM,WAAa,SAASlzB,GAAQoZ,EAAI8Z,UAAW,KAAS,CAAE9Z,EAAY,SAAEva,EAAG,OAAO,CAAC8B,YAAY,CAAC,MAAQ,UAAU,CAAC9B,EAAG,SAAS,CAACgB,YAAY,SAASE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIwgC,YAAYzpB,SAAa/W,EAAIuC,KAAMoY,EAAQ,KAAEva,EAAG,MAAM,CAACgB,YAAY,UAAUc,YAAY,CAAC,gBAAgB,MAAM,CAAC9B,EAAG,MAAM,CAACgB,YAAY,UAAU,CAAChB,EAAG,WAAW,CAACgB,YAAY,WAAWc,YAAY,CAAC,OAAS,QAAQ5B,MAAM,CAAC,YAAc,4BAA4Be,SAAS,CAAC,MAAQsZ,EAAI1R,SAAS3H,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIygC,OAAOl/B,EAAQoZ,SAAWva,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,SAAS,CAAEqa,EAAW,QAAEva,EAAG,MAAM,CAACgB,YAAY,UAAU,CAAChB,EAAG,MAAM,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,aAAa,QAAQ,SAAW,QAAQb,SAAS,CAAC,UAAYrB,EAAIyC,GAAGzC,EAAI0gC,OAAO/lB,EAAI1R,eAAejJ,EAAIuC,QAAQ,GAAGvC,EAAIuC,KAAMoY,EAAQ,KAAEva,EAAG,MAAM,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,+BAA+Bd,MAAM,CAAC,UAAYqa,EAAI1R,SAAS3H,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI2gC,YAAYhmB,MAAQ,CAAC3a,EAAIoC,GAAG,GAAE,GAAMhC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gBAAgBrC,EAAIuC,KAAOoY,EAAIimB,KAA4J5gC,EAAIuC,KAA1JnC,EAAG,MAAM,CAACgB,YAAY,gBAAgBC,SAAS,CAAC,UAAYrB,EAAIyC,GAAGzC,EAAI0gC,OAAO/lB,EAAI1R,WAAW3H,GAAG,CAAC,SAAW,SAASC,GAAQoZ,EAAIimB,MAAQjmB,EAAIimB,WAA8BjmB,EAAiB,cAAEva,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,OAAO,gBAAgB,QAAQZ,GAAG,CAAC,UAAY,SAASC,GAAQoZ,EAAI8Z,UAAW,GAAM,WAAa,SAASlzB,GAAQoZ,EAAI8Z,UAAW,KAAS,CAACr0B,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,kBAAkB,CAAwB,oBAAtBuZ,EAAIxb,cAAqCiB,EAAG,IAAI,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,UAAWuL,MAAO,CAAEoN,KAAM6D,EAAIkmB,eAAe/pB,KAAKjU,OAAS,CAACzC,EAAG,SAAS,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGkY,EAAIkmB,eAAe/pB,KAAK3Y,YAAY,GAAG6B,EAAIuC,KAA4B,yBAAtBoY,EAAIxb,cAA0CiB,EAAG,IAAI,CAACJ,EAAIqC,GAAG,yBAAyBrC,EAAIyC,GAAGkY,EAAIkmB,eAAex2B,YAAYlM,MAAM,0BAA0B6B,EAAIuC,KAA4B,8BAAtBoY,EAAIxb,cAA+CiB,EAAG,IAAI,CAACJ,EAAIqC,GAAG,yBAAyBrC,EAAIyC,GAAGkY,EAAIkmB,eAAeC,kBAAkB3iC,MAAM,0BAA0B6B,EAAIuC,KAAKnC,EAAG,SAAS,CAACgB,YAAY,SAASd,MAAM,CAAC,aAAa,UAAUgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIwgC,YAAYzpB,SAAa3W,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAGua,EAAIxb,cAAca,EAAIk9B,GAAG,CAACxZ,IAAI,aAAa,YAAY/I,EAAIkmB,gBAAe,KAAS,OAAO7gC,EAAIuC,KAAKnC,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,QAAQZ,GAAG,CAAC,UAAY,SAASC,GAAQoZ,EAAIomB,WAAY,GAAM,WAAa,SAASx/B,GAAQoZ,EAAIomB,WAAY,KAAS,CAAEhqB,IAAU/W,EAAIghC,OAAOpiC,OAAS,EAAGwB,EAAG,MAAM,CAAC8B,YAAY,CAAC,cAAc,UAAUlC,EAAIuC,KAAMwU,IAAU/W,EAAIghC,OAAOpiC,OAAS,GAAK+b,EAAIomB,WAAapmB,EAAI8Z,SAAUr0B,EAAG,MAAM,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,SAAS,CAACgB,YAAY,oBAAoBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIihC,SAASlqB,MAAU,CAAC/W,EAAIqC,GAAG,wDAAyDrC,EAAIwQ,KAAKc,MAAY,OAAElR,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,wBAAwB,CAACE,MAAM,CAAC,aAAY,EAAK,UAAUyW,IAAU/W,EAAIghC,OAAOpiC,OAAS,EAAE,MAAQ,kBAAkB0C,GAAG,CAAC,cAAgB,SAASC,GAAQ,OAAOvB,EAAIkhC,iBAAiB3/B,EAAQwV,QAAY,GAAG/W,EAAIuC,KAAMvC,EAAmB,gBAAEI,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,+BAA+B,CAACE,MAAM,CAAC,cAAa,EAAK,UAAUyW,IAAU/W,EAAIghC,OAAOpiC,OAAS,EAAE,aAAeoB,EAAIs8B,iBAAiBh7B,GAAG,CAAC,eAAiB,SAASC,GAAQ,OAAOvB,EAAImhC,wBAAwB5/B,EAAQwV,QAAY,GAAG/W,EAAIuC,OAAOvC,EAAIuC,aAAY,SAASvC,EAAIuC,MAAM,IACp8I,GAAkB,CAAC,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,cAAcd,MAAM,CAAC,cAAc,c,aCDtM,GAAS,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,aAAa,CAACue,IAAI,WAAWre,MAAM,CAAC,UAAY,OAAO,YAAY,OAAO,SAAWN,EAAImF,WAAW,CAAC/E,EAAG,IAAI,CAACgB,YAAY,SAASkS,MAAM,CAAE,aAActT,EAAIohC,WAAY9gC,MAAM,CAAC,KAAO,WAAWiU,KAAK,WAAW,CAACnU,EAAG,OAAO,CAACJ,EAAIqC,GAAG,mBAAmBjC,EAAG,SAAS,CAAC8B,YAAY,CAAC,YAAY,SAAS5B,MAAM,CAAC,KAAON,EAAI6f,OAAS,aAAe,mBAAmB,GAAGzf,EAAG,MAAM,CAACgB,YAAY,aAAac,YAAY,CAAC,MAAQ,QAAQ,MAAQ,2BAA2B,CAAC9B,EAAG,UAAU,CAACgB,YAAY,mBAAmB,CAAEpB,EAAIi/B,cAAgBj/B,EAAIi/B,aAAargC,OAAS,EAAGwB,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAACpB,EAAIqC,GAAG,2BAA2BrC,EAAIuC,KAAKvC,EAAI2C,GAAI3C,EAAgB,cAAE,SAASqhC,GAAK,OAAOjhC,EAAG,IAAI,CAACW,IAAIsgC,EAAIx+B,GAAGzB,YAAY,gBAAgBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIshC,qBAAqBD,MAAQ,CAACjhC,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAG4+B,EAAIljC,eAAc,QAC56B,GAAkB,GCgCtB,IACE+P,MAAO,CAAC,YAAa,eAAgB,UACrCnJ,KAFF,WAGI,MAAO,CACLI,SAAU,oBAGdgJ,QAAS,CACPmzB,qBAAsB,SAA1B,GACMrhC,KAAKgU,MAAM,iBAAkB5J,KAGjC7J,QAAS,WACHP,KAAKshC,SACPthC,KAAKkF,SAAW,kBC/C0V,MCO5W,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QClBX,GAAS,WAAa,IAAInF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACue,IAAI,YAAYvd,YAAY,gBAAgB,CAAChB,EAAG,qBAAqB,CAACE,MAAM,CAAC,SAAWN,EAAI88B,aAAa,MAC9O,GAAkB,GC0BtB,IACE5uB,MAAO,CAAC,qBACRS,WAAY,CAAd,oBACE5J,KAHF,WAII,MAAO,CACL+3B,SAAU,GACV9zB,MAAO,KAGXsG,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,SAG7BuL,QAAS,CACPyuB,YAAa,WAAjB,WACM,EAAN,6DACA,kBACQ,IAAR,wBACQ,EAAR,mDACQ,EAAR,iBAAU,KAAV,MAAU,SAAV,WACQ,EAAR,2BACQ,EAAR,sCAEA,yBAGE3mB,QAAS,WACPhW,KAAK28B,gBCvDuW,MCO5W,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI58B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAI0zB,oBAAoB,MAAQ,IAAI,OAAS,QAAQpyB,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAI0zB,oBAAoBnyB,KAAU,CAACnB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,mBAAmBjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,sBAAsB,CAACE,MAAM,CAAC,SAAWN,EAAI+C,SAAS,mBAAqB/C,EAAI6e,mBAAmB,mBAAqB7e,EAAI8e,oBAAoBxd,GAAG,CAAC,cAAgB,SAASC,GAAQ,OAAOvB,EAAIuyB,cAAchxB,QAAa,SAASnB,EAAG,aAAa,CAACue,IAAI,WAAWre,MAAM,CAAC,UAAY,OAAO,YAAY,OAAO,SAAWN,EAAImF,SAAS,kBAAkBnF,EAAIwhC,UAAU3gC,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAAS2d,GACp3B,IAAIkB,EAASlB,EAAIkB,OACjB,OAAOzf,EAAG,IAAI,CAACgB,YAAY,SAASkS,MAAM,CAAE,aAActT,EAAIwhC,SAAU,sBAAuBxhC,EAAIwhC,WAAY,CAAGxhC,EAAIwhC,SAAsGxhC,EAAIuC,KAAhGnC,EAAG,SAAS,CAAC8B,YAAY,CAAC,eAAe,MAAM,YAAY,SAAS5B,MAAM,CAAC,KAAO,UAAoBN,EAAc,WAAEI,EAAG,OAAO,CAAC8B,YAAY,CAAC,eAAe,QAAQ,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIwhC,SAAW,iBAAmBxhC,EAAIyhC,WAAWtjC,SAAS6B,EAAIuC,KAAMvC,EAAY,SAAEI,EAAG,OAAO,CAACJ,EAAIqC,GAAG,oBAAoBrC,EAAIuC,KAAKnC,EAAG,SAAS,CAAC8B,YAAY,CAAC,YAAY,SAAS5B,MAAM,CAAC,KAAOuf,EAAS,aAAe,mBAAmB,QAAQ,CAACzf,EAAG,MAAM,CAACgB,YAAY,aAAac,YAAY,CAAC,MAAQ,QAAQ,MAAQ,2BAA2B,CAAC9B,EAAG,UAAU,CAACgB,YAAY,mBAAmB,CAAGpB,EAAIwhC,SAAuIxhC,EAAIuC,KAAjInC,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAIqC,GAAG,yFAAyFjC,EAAG,QAAkBJ,EAAIwQ,KAAKc,MAAY,OAAElR,EAAG,MAAMJ,EAAI2C,GAAI3C,EAAIwQ,KAAU,OAAE,SAASsG,GAAM,OAAO1W,EAAG,kBAAkB,CAACW,IAAI+V,EAAKjU,GAAGvB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIuyB,cAAczb,MAAS,CAAC1W,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGqU,EAAK3Y,cAAa,GAAG6B,EAAIuC,SAAWvC,EAAIwhC,SAAo+BxhC,EAAIuC,KAA99BnC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAEpB,EAAc,WAAEI,EAAG,SAAS,CAACgB,YAAY,iBAAiBc,YAAY,CAAC,MAAQ,yBAAyB,kBAAkB,QAAQZ,GAAG,CAAC,MAAQtB,EAAIy1B,cAAc,CAACz1B,EAAIqC,GAAG,qCAAqCrC,EAAIuC,SAASnC,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAChB,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAEpB,EAAc,WAAEI,EAAG,SAAS,CAACgB,YAAY,oBAAoBc,YAAY,CAAC,gBAAgB,OAAO5B,MAAM,CAAC,UAAYN,EAAI6e,oBAAoBvd,GAAG,CAAC,MAAQtB,EAAI4J,aAAa,CAAC5J,EAAIqC,GAAG,4CAA4CrC,EAAIuC,OAAOnC,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,SAAS,CAACgB,YAAY,4BAA4Bc,YAAY,CAAC,gBAAgB,OAAO5B,MAAM,CAAC,UAAYN,EAAI6e,oBAAoBvd,GAAG,CAAC,MAAQtB,EAAI0hC,WAAW,CAACthC,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,cAAcF,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIyhC,WAAa,cAAgB,2BAA2B,YAAqB,IAC5iE,GAAkB,GC2GtB,IACE9yB,WAAY,CACV8kB,iBAAJ,IAEEvlB,MAAO,CAAC,qBAAsB,qBAAsB,WAAY,SAAU,YAC1EnJ,KALF,WAMI,MAAO,CACL08B,WAAY,KACZ/N,qBAAqB,EACrBvuB,SAAU,oBAGdgJ,QAAS,CACPokB,cAAe,SAAnB,oEACMtyB,KAAKyzB,qBAAsB,EAC3BzzB,KAAKwhC,WAAa3qB,EACd0b,GACFvyB,KAAKgU,MAAM,gBAAiB6C,IAGhC2e,YAAa,WACXx1B,KAAKgU,MAAM,eACXhU,KAAKwhC,WAAa,KAClBxhC,KAAK4P,MAAM8xB,SAASpZ,UAEtBmZ,SAAU,WACRzhC,KAAKyzB,qBAAsB,EAC3BzzB,KAAK4P,MAAM8xB,SAASpZ,UAEtB3e,WAAY,WAAhB,WACW3J,KAAKwhC,aAGVxhC,KAAK4P,MAAM8xB,SAASpZ,SACpBtoB,KAAKwhC,WAAW/3B,MAAQzJ,KAAK4e,mBAC7B5e,KAAKwhC,WAAWrjC,OAASoe,KAAKgZ,UAAUv1B,KAAK6e,oBAC7C,EAAN,6FACA,kBACQ,EAAR,sDAEA,0BAGExP,SAAU,CACRkB,KADJ,WAEM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,OAG7BhQ,QAAS,WACHP,KAAKshC,SACPthC,KAAKkF,SAAW,gBAElB,IAAJ,yBACI,GAAIy8B,EAAa,CACf,IAAN,sCACQ,OAAO9qB,EAAKjU,KAAOnE,SAASkjC,MAE9B3hC,KAAKsyB,cAAczb,EAAK,IAAI,MCvKuU,MCQrW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCsIf,cACE,MAAO,CACL3X,cAAe,GACf0hC,eAAgB,GAChB53B,QAAS,GACT23B,MAAM,EACNG,WAAW,EACXtM,UAAU,IAId,IACE9lB,WAAY,CACVkzB,0BAAJ,GACIC,qBAAJ,GACIC,0BAAJ,GACIC,mBAAJ,GACIC,gBAAJ,IAEE/zB,MAAO,CAAC,WAAY,WACpBnJ,KATF,WAUI,MAAO,CACLi8B,OAAQ,GACRh4B,MAAO,GACPi2B,aAAc,GACdC,kBAAmB,KAGvB/wB,QAAS,CACPsyB,OAAQ,GAAZ,0BACM9lB,EAAI1R,QAAU6I,EAAEhQ,OAAOvD,MACvB0B,KAAKkS,SACX,KACI8uB,SALJ,SAKA,GACM,IAAN,MACA,OACMhhC,KAAK+gC,OAAOxjB,OAAO0kB,EAAU,EAAGC,IAElC3B,YAVJ,SAUA,GACMvgC,KAAK+gC,OAAOxjB,OAAOzG,EAAO,GACrB9W,KAAK+gC,OAAOpiC,SACfqB,KAAK+gC,OAAS,CAACoB,OAEjBniC,KAAKkS,QAEPgvB,wBAjBJ,SAiBA,KACM,IAAN,MACA,OAEU,YAAa34B,GACf25B,EAAShjC,cAAgB,4BACzBgjC,EAAStB,eAAiB,CAAlC,uBAEQsB,EAAShjC,cAAgB,uBACzBgjC,EAAStB,eAAiB,CAAlC,gBAEM5gC,KAAK+gC,OAAOxjB,OAAO0kB,EAAU,EAAGC,GAChCliC,KAAKkS,QAEP+uB,iBA/BJ,SA+BA,KACMjhC,KAAK8gC,WAAY,EACjB,IAAN,MACA,OACMoB,EAAShjC,cAAgB,kBACzBgjC,EAAStB,eAAiB,CAAhC,QACM5gC,KAAK+gC,OAAOxjB,OAAO0kB,EAAU,EAAGC,GAChCliC,KAAKkS,QAEPkwB,UAxCJ,SAwCA,GACMzT,EAAMgS,MAAQhS,EAAMgS,MAEtBD,YA3CJ,SA2CA,GACM1gC,KAAKoiC,UAAUzT,GACf3uB,KAAKkS,QAEPA,KA/CJ,WAgDMlS,KAAK+gC,OAAOhiC,SAAQ,SAA1B,GACQ4vB,EAAMmS,WAAY,EAClBnS,EAAM6F,UAAW,KAEnB,IAAN,8BACM,EAAN,qDACA,sBACA,wBAEIiM,OAzDJ,SAyDA,GACM,OAAO,OAAb,aAAa,CAAb,mBAGEpxB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3B8rB,gBAPJ,WAQM,IAAN,6JACM,OAAOjkB,EAAOpY,KAAKg/B,aAAch/B,KAAKi/B,qBAG1C1+B,QAAS,WAAX,WACI,EAAJ,qCACA,kBACM,EAAN,8BACM,IAAN,4BAEQ,EAAR,OADA,SACA,OAEA,iBAGA,mBACM,QAAN,YAEI,EAAJ,+BACA,kBACM,EAAN,kCAEA,mBACM,QAAN,YAEI,EAAJ,oCACA,kBACM,EAAN,oCAEA,mBACM,QAAN,cCxRsV,MCQlV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,OAAU7B,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,gBAAgBF,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,OAAOc,YAAY,CAAC,aAAa,UAAU,CAAClC,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,UAAU,CAACE,MAAM,CAAC,KAAON,EAAIsiC,iBAAiB,eAAe,SAAS,CAACliC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,kBAAkBO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAAS+D,GAAM,MAAO,CAAC/E,EAAIqC,GAAG,mBAAmBrC,EAAIyC,GAAGsC,EAAKqP,IAAIjW,MAAM,yBAAyBiC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,WAAW,MAAQ,YAAYO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAAS+D,GAAM,MAAO,CAAC3E,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGsC,EAAKqP,IAAIvN,oBAAoBzG,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,QAAQ,MAAQ,SAASO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAAS+D,GAAM,MAAO,CAA4B,kBAAnBA,EAAKqP,IAAI7V,MAAoB6B,EAAG,MAAM,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGsC,EAAKqP,IAAI7V,UAAU6B,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGsC,EAAKqP,IAAI7V,kBAAkB,IAAI,UAAU,IAChvC,GAAkB,CAAC,WAAa,IAAIyB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,wBCmDpM,IACEsM,WAAY,GACZ5J,KAFF,WAGI,MAAO,IAETuK,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3B8xB,iBAPJ,WAQM,IAAN,KACM,IAAK,IAAX,uCACQhc,EAAWhW,KAAK,CACdnS,KAAMkmB,EACNxd,SAAU5G,KAAKgQ,OAAOE,MAAMK,KAAK8V,WAAWjC,GAAMxd,SAClDtI,MAAO0B,KAAKgQ,OAAOE,MAAMK,KAAK8V,WAAWjC,GAAM9lB,QAGnD,OAAO+nB,IAGXrQ,QAxBF,WAyBIhW,KAAKgQ,OAAOC,SAAS,eAAgBjQ,KAAKgQ,OAAOE,MAAMvN,OAAOC,MC7EkR,MCOhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI7C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,OAAU7B,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,kBAAmBuZ,OAAO9a,KAAKiB,EAAIuiC,aAAa3jC,OAAS,EAAGwB,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,UAAU,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,gEAAgEjC,EAAG,WAAW,CAACgB,YAAY,UAAUd,MAAM,CAAC,KAAO,aAAa,KAAO,YAAYgB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIwiC,aAAaxiC,EAAIyiC,aAAc,MAAM,CAACriC,EAAG,IAAI,CAACgB,YAAY,qBAAqBd,MAAM,CAAC,cAAc,UAAUN,EAAIqC,GAAG,oDAAoD,KAAKjC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAEpB,EAAI0iC,iBAAiB9jC,OAAS,EAAGwB,EAAG,UAAU,CAACE,MAAM,CAAC,KAAON,EAAI0iC,mBAAmB,CAACtiC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,WAAW,SAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGyL,EAAMkG,IAAI9V,aAAa,MAAK,EAAM,cAAc8B,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,cAAc,MAAQ,gBAAgB,SAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAElO,EAAI2iC,YAAYz0B,EAAMkG,IAAIwuB,aAAcxiC,EAAG,IAAI,CAACE,MAAM,CAAC,KAAON,EAAI2iC,YAAYz0B,EAAMkG,IAAIwuB,aAAa,OAAS,WAAW,CAACxiC,EAAG,IAAI,CAACgB,YAAY,6BAA6BpB,EAAIqC,GAAG,IAAIrC,EAAIyC,GAAGzC,EAAI2iC,YAAYz0B,EAAMkG,IAAIwuB,aAAaC,MAAM,0BAA0BziC,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGyL,EAAMkG,IAAIwuB,oBAAoB,MAAK,EAAM,cAAcxiC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,GAAG,MAAQ,QAAQO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,IAAI,CAACa,WAAW,CAAC,CAAC9C,KAAK,YAAY+C,QAAQ,mBAAmB3C,MAAO2P,EAAMkG,IAAO,IAAEjT,WAAW,gBAAgBqjB,IAAI,QAAQ,CAACrmB,KAAK,YAAY+C,QAAQ,sBAAsB3C,MAAOyB,EAA0B,uBAAEmB,WAAW,yBAAyBqjB,IAAI,YAAYpjB,YAAY,cAAcc,YAAY,CAAC,OAAS,WAAW5B,MAAM,CAAC,MAAQ,4BAA4BF,EAAG,cAAc,CAACgB,YAAY,OAAOd,MAAM,CAAC,GAAK,CAAEnC,KAAM,UAAWuL,MAAO1J,EAAI8iC,wBAAwB50B,EAAMkG,IAAI6Q,QAAS,CAAC7kB,EAAG,IAAI,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,cAAc,OAAO,MAAQ,yDAAyDF,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,cAAc,QAAQ5B,MAAM,CAAC,YAAcN,EAAI8iC,wBAAwB50B,EAAMkG,IAAI6Q,KAAK,YAAY,MAAK,EAAM,cAAc7kB,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,iBAAiB,SAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGyL,EAAMkG,IAAI6Q,YAAY,MAAK,EAAM,cAAc7kB,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,QAAQO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,YAAYJ,EAAI2C,GAAI3C,EAAI+iC,gBAAgB70B,EAAMkG,IAAI+d,OAAO,SAASzO,GAAK,OAAOtjB,EAAG,QAAQ,CAACW,IAAI2iB,EAAIvlB,KAAKmC,MAAM,CAAC,KAAQ,MAASojB,EAAS,MAAI,cAAe,CAACtjB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,UAAWuL,MAAO1J,EAAIgjC,0BAA0BhjC,EAAIijC,QAAQvf,EAAIvlB,MAAM+kC,SAAU,CAAC9iC,EAAG,IAAI,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,cAAc,OAAO,MAAQ,iDAAiDN,EAAIqC,GAAG,2BAA2BrC,EAAIyC,GAAGihB,EAAIvlB,MAAM,2BAA2B,MAAK,OAAO,MAAK,EAAM,aAAaiC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,OAAS,WAAW5B,MAAM,CAAC,MAAQ,YAAYgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIwiC,aAAat0B,EAAMkG,IAAKlG,EAAM6I,UAAU,CAAC3W,EAAG,IAAI,CAACgB,YAAY,sBAAsB,MAAK,EAAM,aAAahB,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,OAAO,CAACgB,YAAY,2BAA2Bc,YAAY,CAAC,OAAS,WAAW5B,MAAM,CAAC,MAAQ,cAAcgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAImjC,UAAUj1B,EAAMkG,QAAQ,CAAChU,EAAG,IAAI,CAACgB,YAAY,uBAAuB,MAAK,EAAM,eAAe,GAAGhB,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAACpB,EAAIqC,GAAG,4CAA4CjC,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,aAAc,CAAC6B,EAAIqC,GAAG,kBAAkBrC,EAAIqC,GAAG,kEAAkE,IAAI,SAAUwX,OAAO9a,KAAKiB,EAAIuiC,aAAa3jC,OAAS,EAAGwB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,UAAU,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAACpB,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAEyY,OAAO9a,KAAKiB,EAAIijC,SAASrkC,OAAS,EAAGwB,EAAG,UAAU,CAACE,MAAM,CAAC,KAAOuZ,OAAO9S,OAAO/G,EAAIijC,SAAS,eAAe,aAAa,yBAAyB,SAAS,CAAC7iC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,GAAG,MAAQ,OAAOO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,UAAWuL,MAAO1J,EAAIgjC,0BAA0B90B,EAAMkG,IAAI8uB,SAAU,CAAC9iC,EAAG,IAAI,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,cAAc,OAAO,MAAQ,qDAAqD,MAAK,EAAM,cAAcF,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,WAAW,MAAQ,WAAW,SAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAQ,MAAS4N,EAAMkG,IAAIsP,IAAS,MAAI,cAAe,CAAC1jB,EAAIqC,GAAGrC,EAAIyC,GAAGyL,EAAMkG,IAAIsP,IAAIvlB,MAAM,WAAW,MAAK,EAAM,cAAciC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,QAAQ,MAAQ,cAAc,SAAW,GAAG,QAAU,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAClO,EAAIqC,GAAG,uBAAuBrC,EAAIyC,GAAGyL,EAAMkG,IAAI5C,OAAO,0BAA0B,MAAK,EAAM,cAAcpR,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,aAAa,MAAQ,SAAS,MAAQ,MAAM,SAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAClO,EAAIqC,GAAG,uBAAuBrC,EAAIyC,GAAGyL,EAAMkG,IAAIsP,IAAI0f,QAAQ,0BAA0B,MAAK,EAAM,eAAe,GAAGhjC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,oCAAoC,OAAOjC,EAAG,MAAM,CAACgB,YAAY,UAAU,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAACpB,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAEpB,EAAIqjC,WAAWzkC,OAAS,EAAGwB,EAAG,UAAU,CAACE,MAAM,CAAC,KAAON,EAAIqjC,aAAa,CAACjjC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,GAAG,MAAQ,OAAOO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,UAAWuL,MAAO1J,EAAI8iC,wBAAwB50B,EAAMkG,IAAIsP,IAAK,UAAW,CAACtjB,EAAG,IAAI,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,cAAc,OAAO,MAAQ,uDAAuD,MAAK,EAAM,cAAcF,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,MAAM,SAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,qBAAqB,CAACN,EAAIqC,GAAGrC,EAAIyC,GAAGyL,EAAMkG,IAAIsP,KAAK,WAAW,MAAK,EAAM,cAActjB,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,QAAQ,MAAQ,gBAAgB,SAAW,GAAG,QAAU,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAClO,EAAIqC,GAAG,uBAAuBrC,EAAIyC,GAAGyL,EAAMkG,IAAI5C,OAAO,0BAA0B,MAAK,EAAM,eAAe,GAAGpR,EAAG,OAAO,CAACJ,EAAIqC,GAAG,sCAAsC,SAASrC,EAAIuC,SAASvC,EAAIuC,KAAKvC,EAAIoC,GAAG,IAAI,IACvtO,GAAkB,CAAC,WAAa,IAAIpC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,+BAA+BjC,EAAG,IAAI,CAACgB,YAAY,yBAAyBd,MAAM,CAAC,MAAQ,iDAAiDF,EAAG,IAAI,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,OAAO,CAACgB,YAAY,cAAc,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,iCAAiCjC,EAAG,IAAI,CAACgB,YAAY,yBAAyBd,MAAM,CAAC,MAAQ,8CAA8CF,EAAG,IAAI,CAACgB,YAAY,oBAAoB,CAAChB,EAAG,OAAO,CAACgB,YAAY,cAAc,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,2BCDz6B,GAAS,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAIsjC,YAAY1kC,SAAWoB,EAAIujC,cAAenjC,EAAG,OAAO,CAACkB,GAAG,CAAC,WAAa,SAASC,GAAQ,OAAOvB,EAAIwjC,cAAa,EAAM,IAAI,WAAa,SAASjiC,GAAQ,OAAOvB,EAAIwjC,cAAa,EAAO,QAAQ,CAACpjC,EAAG,QAAQ,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,wBAAwB,CAACF,EAAG,OAAO,CAACgB,YAAY,kBAAkB,CAAChB,EAAG,IAAI,CAACgB,YAAY,aAAad,MAAM,CAAC,cAAc,YAAYN,EAAIqC,GAAG,SAASrC,EAAIyC,GAAGzC,EAAIsjC,YAAY1kC,QAAQ,UAAUwB,EAAG,MAAM,CAACa,WAAW,CAAC,CAAC9C,KAAK,OAAO+C,QAAQ,SAAS3C,MAAOyB,EAAU,OAAEmB,WAAW,WAAWC,YAAY,wBAAwB,CAAChB,EAAG,MAAM,CAACgB,YAAY,iBAAiB,CAACpB,EAAIqC,GAAG,mCAAmCjC,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIgC,kBAAkB5B,EAAG,aAAa,CAACE,MAAM,CAAC,UAAYN,EAAIsjC,YAAY,MAAQ,MAAM,eAAiB,CAAErP,YAAY,EAAO9M,YAAY,EAAO6M,UAAU,GAAO,eAAiB,CAAC,CAAEx1B,MAAO,UAAWF,KAAM,SAAU,WAAa0B,EAAIyjC,sBAAsB,IAAI,GAAIzjC,EAAiB,cAAEI,EAAG,OAAO,CAACJ,EAAIqC,GAAG,qBAAqBrC,EAAIyC,GAAGzC,EAAIsjC,YAAY1kC,QAAU,MAAM,yBAA0BoB,EAAIsjC,YAAkB,OAAEljC,EAAG,aAAa,CAACE,MAAM,CAAC,UAAYN,EAAIsjC,YAAY,MAAQ,MAAM,eAAiB,CAAErP,YAAY,EAAO9M,YAAY,EAAO6M,UAAU,GAAO,eAAiB,CAAC,CAAEx1B,MAAO,UAAWF,KAAM,SAAU,WAAa0B,EAAIyjC,qBAAqBzjC,EAAIuC,MAAM,GAAGnC,EAAG,QAAQ,CAAC8B,YAAY,CAAC,QAAU,OAAO5B,MAAM,CAAC,QAAU,GAAG,KAAO,aAAa,CAACF,EAAG,OAAO,CAACgB,YAAY,kBAAkB,CAAChB,EAAG,IAAI,CAACgB,YAAY,mBAAmBd,MAAM,CAAC,cAAc,YAAYN,EAAIqC,GAAG,UAC7kD,GAAkB,GC+DtB,IACEsM,WAAY,CAAd,cACET,MAAO,CACLlM,YAAa,CAAC0S,QACd6uB,cAAe,CAAnB,0BAEEx+B,KANF,WAOI,MAAO,CACLu+B,YAAa,GACbI,aAAc,KACdD,kBAAmB,KACnBtuB,QAAQ,EACRwuB,MAAO,OAGXx1B,QAAS,CACPy1B,eAAgB,WAApB,WACUz9B,EAAW,CAArB,yDACM,EAAN,2CACQ,EAAR,2BACQ,EAAR,8CAGIq9B,aAAc,SAAlB,gBACWvjC,KAAKqjC,YAAY1kC,SAGtBilC,aAAa5jC,KAAK0jC,OAClB1jC,KAAK0jC,MAAQ5I,YAAW,WACtB,EAAR,WACA,MAGEzrB,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3BoF,kBAJJ,WAKM,OAAO/H,KAAKgQ,OAAOE,MAAMnI,mBAAqB,CAApD,QAGEiO,QAzCF,WA0CIhW,KAAK2jC,kBAEPv1B,MAAO,CACLrM,YAAa,GAAjB,wBACM/B,KAAK2jC,eAAeE,KAC1B,OC/GuW,MCQnW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI9jC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACgB,YAAY,OAAO,CAAChB,EAAG,KAAK,CAACgB,YAAY,YAAY,CAACpB,EAAIqC,GAAG,iBAAiBjC,EAAG,UAAU,CAACE,MAAM,CAAC,iBAAiB,cAAc,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,eAAe,YAAY,KAAO,YAAYuD,MAAM,CAACtF,MAAOyB,EAAI+jC,WAAc,IAAEjgC,SAAS,SAAUC,GAAM/D,EAAIyO,KAAKzO,EAAI+jC,WAAY,MAAOhgC,IAAM5C,WAAW,qBAAqB,GAAGf,EAAG,UAAU,CAACE,MAAM,CAAC,QAAU,KAAK,CAACF,EAAG,UAAU,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,WAAW,MAAQ,WAAW,iBAAiB,aAAauD,MAAM,CAACtF,MAAOyB,EAAI+jC,WAAe,KAAEjgC,SAAS,SAAUC,GAAM/D,EAAIyO,KAAKzO,EAAI+jC,WAAY,OAAQhgC,IAAM5C,WAAW,oBAAoBnB,EAAI2C,GAAI3C,EAAY,UAAE,SAASmlB,GAAQ,OAAO/kB,EAAG,SAAS,CAACW,IAAIokB,EAAO7mB,KAAK+C,SAAS,CAAC,MAAQ8jB,EAAO7mB,OAAO,CAAC0B,EAAIqC,GAAG,iBAAiBrC,EAAIyC,GAAG0iB,EAAO7mB,MAAM,qBAAoB,IAAI,GAAG8B,EAAG,UAAU,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,SAAW,GAAG,KAAO,QAAQ,YAAc,YAAY,mBAAmB,mBAAmBuD,MAAM,CAACtF,MAAOyB,EAAgB,aAAE8D,SAAS,SAAUC,GAAM/D,EAAIgkC,aAAajgC,GAAK5C,WAAW,mBAAmB,GAAGf,EAAG,UAAU,CAACE,MAAM,CAAC,QAAU,kBAAkB,CAACF,EAAG,aAAa,CAACE,MAAM,CAAC,SAAW,GAAG,SAAW,GAAG,UAAW,EAAM,MAAQ,QAAQuD,MAAM,CAACtF,MAAOyB,EAAgB,aAAE8D,SAAS,SAAUC,GAAM/D,EAAIikC,aAAalgC,GAAK5C,WAAW,mBAAmB,GAAGf,EAAG,UAAU,CAACE,MAAM,CAAC,QAAU,GAAG,SAAW,GAAG,SAAW,aAAa,CAACF,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,cAAcgB,GAAG,CAAC,MAAQtB,EAAIkkC,UAAU,CAAClkC,EAAIqC,GAAG,WAAW,GAAGjC,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,WAAW,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAImkC,QAAQn0B,WAAW,CAAChQ,EAAIqC,GAAG,aAAa,MAAM,GAAGjC,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,6BAA6B,CAACF,EAAG,UAAU,CAACyD,MAAM,CAACtF,MAAOyB,EAAI+jC,WAAsB,YAAEjgC,SAAS,SAAUC,GAAM/D,EAAIyO,KAAKzO,EAAI+jC,WAAY,cAAehgC,IAAM5C,WAAW,6BAA6B,GAAGf,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,cAAc,QAAQ5B,MAAM,CAAC,YAAcN,EAAI8iC,wBAAwB9iC,EAAI+jC,WAAW9e,KAAK,KAAK,kBAAiB,MAAS,MAC9jE,GAAkB,GCqDtB,IACEtW,WAAY,CAAd,mBACET,MAAO,CAAC,SACRnJ,KAHF,WAII,IAAJ,yCACI,MAAO,CACLg/B,WAAYK,EACZJ,aAAcI,EAAOjS,KAAK/zB,QAAO,SAAvC,gCACM6lC,aAAcG,EAAOjS,KAAK/zB,QAAO,SAAvC,0CACM6nB,SAAUA,KAGd9X,QAAS,CACP+1B,QADJ,WAEMjkC,KAAKkkC,QAAQn0B,QACb/P,KAAK8jC,WAAW5R,KAAOlyB,KAAK+jC,aAAa3rB,OAAOpY,KAAKgkC,cACrDhkC,KAAKgU,MAAM,QAAShU,KAAK8jC,aAE3BjB,wBANJ,SAMA,KACM,QAAc1a,IAAV7pB,EACF,MAAO,CAAf,MAEM,IAAN,oBAMM,OAJAmL,EAAQA,EAAMgsB,QAAQ,UAAW,aACnBtN,IAAV5pB,IACFkL,EAAQ,GAAhB,yBAEa,CAAb,OAGE4F,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,QC1FsU,MCQjW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,2hCCgNf,QACE7B,WAAY,CAAd,mBACE5J,KAFF,WAGI,MAAO,CACLs+B,WAAY,GACZJ,QAAS,GACTV,YAAa,GACb8B,WAAY,GACZC,OAAO,EACPrxB,eAAe,EACfgT,SAAUA,KAGd9X,QAAS,CACPg1B,UADJ,SACA,cACM,GAAI3tB,QAAQ,eAAgB,CAC1B,IAAIzQ,EAAO9E,KAAKyiC,iBAAiBtkC,QAAO,SAAhD,2BACQ,EAAR,2FACU,EAAV,4BAIIqkC,UATJ,WAUM,MAAO,CACLxd,IAAK,KACL3mB,KAAM,QACNskC,YAAa,KACbzQ,KAAM,KAGVwQ,YAjBJ,SAiBA,GACM,YAAkBva,IAAdmc,GAAyC,OAAdA,GAAoC,KAAdA,IAGjDA,EAAUhvB,WAAW,QAChB,IAAIivB,IAAID,KACvB,iBACe,IAAIC,IAAI,UAAYD,KAK/BE,qBA7BJ,WA6BA,WACMxkC,KAAKgQ,OAAOC,SAAS,eAAgBjQ,KAAKgQ,OAAOE,MAAMvN,OAAOC,IAE9D,EAAN,mCACQ,EAAR,mBACQ,EAAR,mBAGI6hC,eArCJ,WAqCA,WACM,EAAN,8BACQ9F,gBAAiB,eACjBC,sBAAuB,CAA/B,eACA,kBACQ,EAAR,sDAII8F,uBA9CJ,WA+CM1kC,KAAK0P,OAAOmX,aAAa5hB,KAAK,CAApC,qEAEI0/B,aAjDJ,WAoDM3kC,KAAKgjC,QAAU,GAHrB,WAIA,uBAJA,IAIA,iDACA,QADA,IACA,0CAEA,OAEA,EADA,8BACA,OAEA,EAEA,kBACA,iBACA,QACA,QACA,wBAGA,wBACA,kCAjBA,gCAJA,gCAyBIF,gBA1EJ,SA0EA,cACA,8FAEM,OADAt9B,QAAQ7F,IAAIilC,GACLA,GAETC,UA/EJ,SA+EA,GACM,GAAN,WAAU,OAAV,QAAU,CAAV,GACQ,OAAOphB,EAEP,IAAR,WACQ,GAAIzjB,KAAKsiC,YAAY7e,GACnB,OAAO,GAAjB,gCAEU,IAAK,IAAIwC,KAASjmB,KAAKsiC,YAAY,WACjC,GAAI7e,EAAI+H,MAAMvF,GACZ,OAAO,GAArB,2CAGU,OAAO,GAAjB,sCAKI8c,0BAjGJ,SAiGA,GACM,IAAN,6GACM,MAAO,CAAb,MAEIF,wBArGJ,SAqGA,KACM,IAAN,oBAMM,OAJAp5B,EAAQA,EAAMgsB,QAAQ,UAAW,aACnBtN,IAAV5pB,IACFkL,EAAQ,GAAhB,yBAEa,CAAb,MAEI84B,aA9GJ,SA8GA,gBACMviC,KAAK0P,OAAOo1B,MAAM7/B,KAAK,CACrBkpB,OAAQnuB,KACRX,UAAW0lC,GACX92B,MAAO,CAAf,SACQnG,OAAQ,CACN1J,MAAO,SAAjB,IAC2B,IAAX0Y,EACF,EAAd,yCAGc,EAAd,+CAEY,EAAZ,wBAKIkuB,iBAhIJ,WAgIA,WAEM,EAAN,kGACA,iBACQ,EAAR,WACU,QAAV,qCACU,KAAV,aACU,SAAV,SACU,WAAV,UACU,YAAV,IAEQ,EAAR,iBACQ,EAAR,kBAEA,mBACQ,EAAR,WACU,QAAV,qBACU,KAAV,YACU,SAAV,SACU,YAAV,SAKE31B,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3B00B,sBAPJ,WAQM,YAA0C9c,IAAtCnoB,KAAKuQ,KAAK8V,WAAWC,aAChB,CAAf,6DAEatmB,KAAKuQ,KAAK8V,WAAWC,cAE9Bmc,iBAbJ,WAcM,OAAOziC,KAAKilC,sBAAsB3mC,MAAMwG,OAG5CkR,QAtLF,WAuLIhW,KAAKwkC,uBACLxkC,KAAKykC,mBC3Z6U,MCQlV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI1kC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,OAAU7B,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,MAAMF,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,OAAOc,YAAY,CAAC,aAAa,UAAU,CAAClC,EAAIoC,GAAG,GAAGhC,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIwQ,KAAKc,MAAM,UAAW,MAAS,UAAU,IAC9lB,GAAkB,CAAC,WAAa,IAAItR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACgB,YAAY,qBAAqB,CAACpB,EAAIqC,GAAG,4BC0CpM,IACEsM,WAAY,CAAd,eACEW,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAJJ,WAKM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,QClDwT,MCOnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIxQ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,gBAC/F,GAAkB,GCAlB,GAAS,GAKT,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCjBX,GAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACS,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAAChB,EAAIqC,GAAG,WAAWrC,EAAIyC,GAAGzC,EAAI4C,OAAOzE,MAAM,YAAY8D,OAAM,OAAU7B,EAAG,sBAAsB,CAACE,MAAM,CAAC,kBAAoB,SAAS,YAAc,WAAWF,EAAG,UAAU,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,kBAAkB,UAAU,IACtgB,GAAkB,GCDlB,GAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAIiT,eAAe3R,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAIiT,cAAc1R,KAAU,CAACnB,EAAG,UAAU,CAACgB,YAAY,OAAO,CAAChB,EAAG,KAAK,CAACgB,YAAY,YAAY,CAACpB,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAImlC,kBAAkB,iBAAiB/kC,EAAG,MAAM,CAAC8B,YAAY,CAAC,MAAQ,SAAS,CAAC9B,EAAG,MAAM,CAAC8B,YAAY,CAAC,MAAQ,MAAM,OAAS,OAAO,MAAQ,SAAS,CAAC9B,EAAG,KAAK,CAACJ,EAAIqC,GAAG,eAAejC,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,YAAY,MAAQ,YAAY,iBAAiB,aAAauD,MAAM,CAACtF,MAAOyB,EAAIolC,YAAqB,UAAEthC,SAAS,SAAUC,GAAM/D,EAAIyO,KAAKzO,EAAIolC,YAAa,YAAarhC,IAAM5C,WAAW,0BAA0BnB,EAAI2C,GAAI3C,EAAkB,gBAAE,SAASqlC,GAAU,OAAOjlC,EAAG,SAAS,CAACW,IAAIskC,EAASC,GAAGjkC,SAAS,CAAC,MAAQgkC,EAAS3sB,OAAO,CAAC1Y,EAAIqC,GAAG,mBAAmBrC,EAAIyC,GAAG4iC,EAASC,IAAI,uBAAsB,IAAI,GAAGllC,EAAG,MAAM,CAAC8B,YAAY,CAAC,cAAc,MAAM,OAAS,SAAS,CAAC9B,EAAG,MAAM,CAACJ,EAAIqC,GAAG,2CAA2CjC,EAAG,IAAI,CAACA,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIulC,OAAO,sBAAsBnlC,EAAG,kBAAkB,CAACE,MAAM,CAAC,YAAcN,EAAIulC,OAAO,oBAAoB,GAAGnlC,EAAG,MAAM,CAACJ,EAAIqC,GAAG,mBAAmBrC,EAAIyC,GAAGzC,EAAIwlC,sBAAsBplC,EAAG,UAAU,CAAC8B,YAAY,CAAC,aAAa,QAAQ5B,MAAM,CAAC,MAAQ,kBAAkB,iBAAiB,cAAc,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,eAAe,YAAY,KAAO,WAAW,KAAO,MAAMgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIylC,WAAWzlC,EAAIolC,YAAYr3B,aAAalK,MAAM,CAACtF,MAAOyB,EAAIolC,YAAqB,UAAEthC,SAAS,SAAUC,GAAM/D,EAAIyO,KAAKzO,EAAIolC,YAAa,YAAarhC,IAAM5C,WAAW,4BAA4B,GAAGf,EAAG,UAAU,CAACE,MAAM,CAAC,QAAU,KAAK,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,QAAU,GAAG,SAAW,GAAG,SAAW,aAAa,CAACF,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,WAAW,CAACE,MAAM,CAAC,SAA+C,OAApCN,EAAIwlC,cAAch2B,cAAuB,KAAO,cAAclO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI0lC,gBAAgB1lC,EAAIolC,gBAAgB,CAACplC,EAAIqC,GAAG,mBAAmBrC,EAAIyC,GAAGzC,EAAImlC,kBAAkB,qBAAqB,GAAG/kC,EAAG,IAAI,CAACgB,YAAY,WAAW,CAAChB,EAAG,WAAW,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIiT,eAAgB,KAAS,CAACjT,EAAIqC,GAAG,aAAa,MAAM,IAAI,KAAKjC,EAAG,OAAO,CAACgB,YAAY,gBAAgBc,YAAY,CAAC,OAAS,WAAW5B,MAAM,CAAC,MAAQ,mBAAmBgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI2lC,iBAAiB,CAACvlC,EAAG,IAAI,CAACgB,YAAY,gBAAgBpB,EAAIqC,GAAG,aAAcrC,EAAiB,cAAEI,EAAG,UAAU,CAACW,IAAI,eAAeT,MAAM,CAAC,KAAON,EAAI4lC,cAAc,eAAe5lC,EAAIgE,YAAY,WAAWhE,EAAI2D,QAAQ,UAAY,GAAG,oBAAoB,GAAG,sBAAsB,SAAS,yBAAyB,OAAO,YAAY,aAAa,iBAAiB,WAAW,YAAY,MAAM,YAAY,eAAe,YAAY,gBAAgB,eAAe,SAASrC,GAAG,CAAC,qBAAqB,SAASC,GAAQvB,EAAIgE,YAAYzC,GAAQ,sBAAsB,SAASA,GAAQvB,EAAIgE,YAAYzC,KAAU,CAACnB,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,QAAQ,MAAQ,OAAO,SAAW,GAAG,WAAa,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,MAAM,CAACE,MAAM,CAAC,eAAe,qBAAqBgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI6lC,cAAc33B,EAAMkG,QAAQ,CAACpU,EAAIqC,GAAG,aAAarC,EAAIyC,GAAGyL,EAAMkG,IAAIpL,OAAO,kBAAkB,MAAK,EAAM,aAAa5I,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,SAAS,WAAa,GAAG,SAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,MAAM,CAACE,MAAM,CAAC,eAAe,qBAAqBgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI6lC,cAAc33B,EAAMkG,QAAQ,CAACpU,EAAIqC,GAAG,aAAarC,EAAIyC,GAAGyL,EAAMkG,IAAI0xB,QAAQ,kBAAkB,MAAK,EAAM,cAAc1lC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,SAAS,SAAW,GAAG,WAAa,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,MAAM,CAACE,MAAM,CAAC,eAAe,qBAAqBgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI6lC,cAAc33B,EAAMkG,QAAQ,CAACpU,EAAIqC,GAAG,aAAarC,EAAIyC,GAAGyL,EAAMkG,IAAIhR,QAAQ,KAAKhD,EAAG,OAAO,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,eAAe,YAAY,MAAQ,qDAAqD,CAAsB,UAApB4N,EAAMkG,IAAIhR,OAAoBhD,EAAG,IAAI,CAACgB,YAAY,uBAAuBpB,EAAIuC,aAAa,MAAK,EAAM,cAAcnC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,UAAU,MAAQ,WAAWO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,UAAWuL,MAAO,CAAEutB,EAAG/oB,EAAMkG,IAAIrO,iBAAmB,CAAC3F,EAAG,IAAI,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,cAAc,OAAO,MAAQ,mDAAmDF,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,cAAc,QAAQ5B,MAAM,CAAC,YAAc4N,EAAMkG,IAAIrO,gBAAgB3F,EAAG,OAAO,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,eAAe,YAAY,MAAQ,aAAagB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI6lC,cAAc33B,EAAMkG,QAAQ,CAAChU,EAAG,IAAI,CAACgB,YAAY,kBAAkBhB,EAAG,OAAO,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,eAAe,YAAY,MAAQ,eAAegB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI+lC,WAAW73B,EAAMkG,QAAQ,CAAChU,EAAG,IAAI,CAACgB,YAAY,uBAAuB,MAAK,EAAM,cAAc,GAAGpB,EAAIuC,KAAKnC,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAEpB,EAAIgmC,UAAUpnC,OAAS,EAAGwB,EAAG,UAAU,CAACE,MAAM,CAAC,KAAON,EAAIgmC,YAAY,CAAC5lC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,GAAG,MAAQ,OAAOO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAC9yKnC,KAAM,UACNuL,MAAO1J,EAAI8iC,wBAAwB50B,EAAMkG,IAAI6xB,OAAQ,aAAc,CAAC7lC,EAAG,IAAI,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,cAAc,OAAO,MAAQ,uDAAuD,MAAK,EAAM,YAAYF,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,MAAM,SAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,qBAAqB,CAACN,EAAIqC,GAAGrC,EAAIyC,GAAGyL,EAAMkG,IAAI6xB,QAAQ,WAAW,MAAK,EAAM,cAAc7lC,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,QAAQ,MAAQ,gBAAgB,SAAW,GAAG,QAAU,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASkN,GAAO,MAAO,CAAC9N,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,cAAc,QAAQ5B,MAAM,CAAC,YAAc4N,EAAMkG,IAAI6xB,cAAc,MAAK,EAAM,eAAe,GAAG7lC,EAAG,OAAO,CAACJ,EAAIqC,GAAG,sCAAsC,IAAI,IACpzB,GAAkB,GCchB6jC,GAAgB,sBAAH,OACbC,OAAOC,aADM,gGAMX,IAAIjyB,KAAKA,KAAKmX,OAAO+a,eAAe,SAASzsB,MAAM,KAAK,GAN7C,uBAOP,IAAIzF,KAAKA,KAAKmX,OAAO+a,eAAe,SAASzsB,MAAM,KAAK,GAPjD,kBAYb0sB,GAAe,gJAUfC,GAAU,GAAH,OAAML,GAAN,oEAIXI,GAJW,MAOPE,GAAwB,GAAH,OAAMN,GAAN,wEAIzBI,GAJyB,MAOrBG,GAAsB,GAAH,OAAMP,GAAN,sEAIvBI,GAJuB,MAMnBI,GAAmB,GAAH,OAAMR,GAAN,mEAIpBI,GAJoB,MAOhBK,GAAiB,GAAH,OAAMT,GAAN,6FAIlBI,GAJkB,MAOdM,GAAmB,GAAH,OAAMV,GAAN,4EAIpBI,GAJoB,MAOhBO,GAAW,GAAH,OAAMX,GAAN,+DAIZI,GAJY,MAQRQ,GAAsB,GAAH,OAAMZ,GAAN,wEAIvBI,GAJuB,MAOnBS,GAA6B,GAAH,OAAMb,GAAN,+EAI9BI,GAJ8B,MAO1BU,GAA2B,GAAH,OAAMd,GAAN,6EAI5BI,GAJ4B,MAOxBW,GAAmB,GAAH,OAAMf,GAAN,6CAGpBI,GAHoB,MAMhBY,GAAkB,GAAH,OAAMhB,GAAN,mEAInBI,GAJmB,MAOfa,GAAkB,GAAH,OAAMjB,GAAN,mEAInBI,GAJmB,MAMfc,GAAgB,GAAH,OAAMlB,GAAN,iEAIjBI,GAJiB,MAMbe,GAAqB,GAAH,OAAMnB,GAAN,sEAItBI,GAJsB,MAMlBgB,GAAuB,GAAH,OAAMpB,GAAN,wEAIxBI,GAJwB,MAMpBiB,GAAgB,GAAH,OAAMrB,GAAN,iEAIjBI,GAJiB,MAMbkB,GAAgB,GAAH,OAAMtB,GAAN,iEAIjBI,GAJiB,MAMbmB,GAAkB,GAAH,OAAMvB,GAAN,mEAInBI,GAJmB,MAOfoB,GAAkB,GAAH,OAAMxB,GAAN,mEAInBI,GAJmB,MAQfqB,GAAqB,GAAH,OAAMzB,GAAN,uEAItBI,GAJsB,MAOlBsB,GAA2B,GAAH,OAAM1B,GAAN,6EAI5BI,GAJ4B,MAOxBuB,GAA8B,GAAH,OAAM3B,GAAN,gFAI/BI,GAJ+B,MAO3BwB,GAAgC,GAAH,OAAM5B,GAAN,mFAIjCI,GAJiC,MAO7ByB,GAA8B,GAAH,OAAM7B,GAAN,iFAI/BI,GAJ+B,MAO3B0B,GAAsB,GAAH,OAAM9B,GAAN,wEAIvBI,GAJuB,MAOnB2B,GAAwB,GAAH,OAAM/B,GAAN,0EAIzBI,GAJyB,MAOrB4B,GAAwB,GAAH,OAAMhC,GAAN,0EAIzBI,GAJyB,MAOrB6B,GAAwB,GAAH,OAAMjC,GAAN,0EAIzBI,GAJyB,MAOrB8B,GAAuB,GAAH,OAAMlC,GAAN,yEAIxBI,GAJwB,MAOpB+B,GAAuB,GAAH,OAAMnC,GAAN,yEAIxBI,GAJwB,MAOpBgC,GAA+B,GAAH,OAAMpC,GAAN,iFAIhCI,GAJgC,MAO5BiC,GAAyB,GAAH,OAAMrC,GAAN,2EAI1BI,GAJ0B,MAOtBkC,GAA2B,GAAH,OAAMtC,GAAN,6EAI5BI,GAJ4B,MAOxBmC,GAA6B,GAAH,OAAMvC,GAAN,+EAI9BI,GAJ8B,MAO1BoC,GAA8B,GAAH,OAAMxC,GAAN,gFAI/BI,GAJ+B,MAO3BqC,GAAgC,GAAH,OAAMzC,GAAN,kFAIjCI,GAJiC,MAO7BsC,GAAoC,GAAH,OAAM1C,GAAN,wFAIrCI,GAJqC,MAOjCuC,GAA6B,GAAH,OAAM3C,GAAN,gFAI9BI,GAJ8B,MAO1BwC,GAA4B,GAAH,OAAM5C,GAAN,+EAI7BI,GAJ6B,MAOzByC,GAAsB,GAAH,OAAM7C,GAAN,wEAIvBI,GAJuB,MAOnB0C,GAAsB,GAAH,OAAM9C,GAAN,wEAIvBI,GAJuB,MAOnB2C,GAA6B,GAAH,OAAM/C,GAAN,gFAI9BI,GAJ8B,MAO1B4C,GAAyB,GAAH,OAAMhD,GAAN,2EAI1BI,GAJ0B,MAOtB6C,GAA4B,GAAH,OAAMjD,GAAN,8EAI7BI,GAJ6B,MAOzB8C,GAA2B,GAAH,OAAMlD,GAAN,6EAI5BI,GAJ4B,MAOxB+C,GAA4B,GAAH,OAAMnD,GAAN,8EAI7BI,GAJ6B,MAOzBgD,GAAyB,GAAH,OAAMpD,GAAN,2EAI1BI,GAJ0B,MAOtBiD,GAAyB,GAAH,OAAMrD,GAAN,2EAI1BI,GAJ0B,MAOtBkD,GAA0B,GAAH,OAAMtD,GAAN,4EAI3BI,GAJ2B,MAOvBmD,GAAsB,GAAH,OAAMvD,GAAN,wEAIvBI,GAJuB,MAOnBoD,GAAyB,GAAH,OAAMxD,GAAN,yEAI1BI,GAJ0B,MAOtBqD,GAAuB,GAAH,OAAMzD,GAAN,uEAIxBI,GAJwB,MAOpBsD,GAAwB,GAAH,OAAM1D,GAAN,yEAIzBI,GAJyB,MAOrBuD,GAAsC,GAAH,OAAM3D,GAAN,uFAIvCI,GAJuC,MAMnCwD,GAAkB,GAAH,OAAM5D,GAAN,kEAInBI,GAJmB,MAMfyD,GAAuB,GAAH,OAAM7D,GAAN,yEAIxBI,GAJwB,MAMpB0D,GAA6B,GAAH,OAAM9D,GAAN,8EAI9BI,GAJ8B,MAM1B2D,GAAwB,GAAH,OAAM/D,GAAN,yEAIzBI,GAJyB,MAMrB4D,GAAuB,GAAH,OAAMhE,GAAN,yEAIxBI,GAJwB,MAMpB6D,GAAuC,GAAH,OAAMjE,GAAN,yFAIxCI,GAJwC,MAMpC8D,GAAkC,GAAH,OAAMlE,GAAN,mFAInCI,GAJmC,MAM/B+D,GAAkB,GAAH,OAAMnE,GAAN,kEAInBI,GAJmB,MAMfgE,GAAwB,GAAH,OAAMpE,GAAN,wEAIzBI,GAJyB,MAMrBiE,GAA+B,GAAH,OAAMrE,GAAN,gFAIhCI,GAJgC,MAM5BkE,GAA+B,GAAH,OAAMtE,GAAN,gFAIhCI,GAJgC,MAM5BmE,GAAqC,GAAH,OAAMvE,GAAN,sFAItCI,GAJsC,MAMlCoE,GAAsB,GAAH,OAAMxE,GAAN,sEAIvBI,GAJuB,MAMnBqE,GAAiC,GAAH,OAAMzE,GAAN,kFAIlCI,GAJkC,MAM9BsE,GAA+B,GAAH,OAAM1E,GAAN,gFAIhCI,GAJgC,MAM5BuE,GAAoB,GAAH,OAAM3E,GAAN,oEAIrBI,GAJqB,MAMjBwE,GAAoB,GAAH,OAAM5E,GAAN,oEAIrBI,GAJqB,MAMjByE,GAA2B,GAAH,OAAM7E,GAAN,2EAI5BI,GAJ4B,MAMxB0E,GAA8B,GAAH,OAAM9E,GAAN,8EAI/BI,GAJ+B,MAM3B2E,GAAuB,GAAH,OAAM/E,GAAN,uEAIxBI,GAJwB,MAMpB4E,GAAiB,GAAH,OAAMhF,GAAN,iEAIlBI,GAJkB,MAOd6E,GAAiB,CACnB,CAAE,GAAM,aAAc,KAAQ5E,IAC9B,CAAE,GAAM,4BAA6B,KAAQC,IAC7C,CAAE,GAAM,0BAA2B,KAAQC,IAC3C,CAAE,GAAM,wBAAyB,KAAQC,IACzC,CAAE,GAAM,oBAAqB,KAAQC,IACrC,CAAE,GAAM,uBAAwB,KAAQC,IACxC,CAAE,GAAM,cAAe,KAAQC,IAC/B,CAAE,GAAM,qBAAsB,KAAQC,IACtC,CAAE,GAAM,4BAA6B,KAAQC,IAC7C,CAAE,GAAM,0BAA2B,KAAQC,IAC3C,CAAE,GAAM,kBAAmB,KAAQC,IACnC,CAAE,GAAM,gBAAiB,KAAQC,IACjC,CAAE,GAAM,gBAAiB,KAAQC,IACjC,CAAE,GAAM,cAAe,KAAQC,IAC/B,CAAE,GAAM,mBAAoB,KAAQC,IACpC,CAAE,GAAM,oBAAqB,KAAQC,IACrC,CAAE,GAAM,cAAe,KAAQC,IAC/B,CAAE,GAAM,cAAe,KAAQC,IAC/B,CAAE,GAAM,gBAAiB,KAAQC,IACjC,CAAE,GAAM,gBAAiB,KAAQC,IACjC,CAAE,GAAM,oBAAqB,KAAQC,IACrC,CAAE,GAAM,0BAA2B,KAAQC,IAC3C,CAAE,GAAM,6BAA8B,KAAQC,IAC9C,CAAE,GAAM,gCAAiC,KAAQC,IACjD,CAAE,GAAM,8BAA+B,KAAQC,IAC/C,CAAE,GAAM,qBAAsB,KAAQC,IACtC,CAAE,GAAM,uBAAwB,KAAQC,IACxC,CAAE,GAAM,uBAAwB,KAAQC,IACxC,CAAE,GAAM,uBAAwB,KAAQC,IACxC,CAAE,GAAM,sBAAuB,KAAQC,IACvC,CAAE,GAAM,sBAAuB,KAAQC,IACvC,CAAE,GAAM,8BAA+B,KAAQC,IAC/C,CAAE,GAAM,wBAAyB,KAAQC,IACzC,CAAE,GAAM,0BAA2B,KAAQC,IAC3C,CAAE,GAAM,4BAA6B,KAAQC,IAC7C,CAAE,GAAM,6BAA8B,KAAQC,IAC9C,CAAE,GAAM,+BAAgC,KAAQC,IAChD,CAAE,GAAM,qCAAsC,KAAQC,IACtD,CAAE,GAAM,6BAA8B,KAAQC,IAC9C,CAAE,GAAM,4BAA6B,KAAQC,IAC7C,CAAE,GAAM,qBAAsB,KAAQC,IACtC,CAAE,GAAM,qBAAsB,KAAQC,IACtC,CAAE,GAAM,6BAA8B,KAAQC,IAC9C,CAAE,GAAM,wBAAyB,KAAQC,IACzC,CAAE,GAAM,2BAA4B,KAAQC,IAC5C,CAAE,GAAM,0BAA2B,KAAQC,IAC3C,CAAE,GAAM,2BAA4B,KAAQC,IAC5C,CAAE,GAAM,wBAAyB,KAAQC,IACzC,CAAE,GAAM,wBAAyB,KAAQC,IACzC,CAAE,GAAM,yBAA0B,KAAQC,IAC1C,CAAE,GAAM,qBAAsB,KAAQC,IACtC,CAAE,GAAM,uBAAwB,KAAQC,IACxC,CAAE,GAAM,qBAAsB,KAAQC,IACtC,CAAE,GAAM,uBAAwB,KAAQC,IACxC,CAAE,GAAM,qCAAsC,KAAQC,IACtD,CAAE,GAAM,gBAAiB,KAAQC,IACjC,CAAE,GAAM,sBAAuB,KAAQC,IACvC,CAAE,GAAM,4BAA6B,KAAQC,IAC7C,CAAE,GAAM,uBAAwB,KAAQC,IACxC,CAAE,GAAM,sBAAuB,KAAQC,IACvC,CAAE,GAAM,uCAAwC,KAAQC,IACxD,CAAE,GAAM,iCAAkC,KAAQC,IAClD,CAAE,GAAM,gBAAiB,KAAQC,IACjC,CAAE,GAAM,sBAAuB,KAAQC,IACvC,CAAE,GAAM,8BAA+B,KAAQC,IAC/C,CAAE,GAAM,8BAA+B,KAAQC,IAC/C,CAAE,GAAM,oCAAqC,KAAQC,IACrD,CAAE,GAAM,oBAAqB,KAAQC,IACrC,CAAE,GAAM,gCAAiC,KAAQC,IACjD,CAAE,GAAM,8BAA+B,KAAQC,IAC/C,CAAE,GAAM,kBAAmB,KAAQC,IACnC,CAAE,GAAM,kBAAmB,KAAQC,IACnC,CAAE,GAAM,yBAA0B,KAAQC,IAC1C,CAAE,GAAM,4BAA6B,KAAQC,IAC7C,CAAE,GAAM,qBAAsB,KAAQC,IACtC,CAAE,GAAM,eAAgB,KAAQC,KCldpC,IACEv8B,WAAY,CAAd,mBACE5J,KAFF,WAGI,MAAO,CACLf,YAAa,EACbonC,WAAW,EACXC,WAAY,GACZ1nC,QAAS,GACTyhC,YAAa,GACbnyB,eAAe,EACfkyB,iBAAkB,SAClB9B,WAAY,GACZ2C,UAAW,GACXmF,eAAgBA,GAChBzyB,KAAM,GACN6sB,OAAQ,GACRC,cAAe,OAGnBl2B,SAAU,CACRs2B,cADJ,WAEM,OAAO3lC,KAAKgQ,OAAOE,MAAMy1B,eAE3BhjC,OAJJ,WAKM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,QAE3B4N,KAPJ,WAQM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,OAG7ByF,QA9BF,WA+BIhW,KAAKqrC,sBACLrrC,KAAKsrC,iBAEPp9B,QAAS,CAEPs3B,WAAY+F,EAAEC,UAAS,SAAU19B,GAArC,WACM9N,KAAKulC,cAAgB,GACrB,EAAN,sBACA,kBACQ,EAAR,yBACQ,EAAR,sBAEA,mBACQ,EAAR,sCAEQ,EAAR,4CACQ,EAAR,WACU,QAAV,gBACU,KAAV,YACU,SAAV,SACU,YAAV,SAGA,KACIE,gBAAiB,SAArB,cACoC,WAA1BzlC,KAAKklC,kBACP,EAAR,8DACU,EAAV,0BACYngC,QAAS,gCACT1G,KAAM,eAER,EAAV,iBACU,EAAV,yCAEA,mBACU,EAAV,sDACU,EAAV,WACY,QAAZ,gBACY,KAAZ,YACY,SAAZ,SACY,YAAZ,OAIoC,WAA1B2B,KAAKklC,kBACP,EAAR,gEACA,kBACU,EAAV,+DACY,OAAZ,yCAEU,EAAV,sCAEU,EAAV,yBACA,CACY,QAAZ,mCACY,KAAZ,eAEU,EAAV,oBAEA,wBAIIQ,YA5DJ,WA6DM1lC,KAAKgT,eAAgB,EACrBhT,KAAKyrC,iBAAkB,EACvBzrC,KAAKklC,iBAAmB,SACxBllC,KAAKmlC,YAAc,CAAzB,sBAEIS,cAlEJ,SAkEA,GACmB,OAAT8F,GACV,uDACM1rC,KAAKklC,iBAAmB,SACxBllC,KAAKgT,eAAgB,EACrBhT,KAAKmlC,YAAcuG,GAErB5F,WAzEJ,SAyEA,cACUvwB,QAAQ,iBACV,EAAR,6BACA,kBAEU,EAAV,+DACY,OAAZ,gCAGA,mBACU,QAAV,aAIIstB,wBAvFJ,SAuFA,KACM,IAAN,oBAOM,OALAp5B,EAAQA,EAAMgsB,QAAQ,UAAW,aACnBtN,IAAV5pB,IACFkL,EAAQ,GAAhB,0BAGa,CAAb,MAEI4hC,oBAjGJ,WAiGA,WACM,EAAN,8BACQ1M,gBAAiB,eACjBC,sBAAuB,CAA/B,yBACA,kBACQ,EAAR,sDAII0M,cA1GJ,WA0GA,WACM,EAAN,8BACQ3M,gBAAiB,eACjBC,sBAAuB,CAA/B,kBACA,kBACQ,EAAR,qDAII+M,mBAnHJ,SAmHA,GACM,MAAe,UAAXxoC,EAA2B,MACxB,SAETyoC,cAvHJ,SAuHA,GACM,GAAIj0B,MAAMC,QAAQ5X,KAAKgQ,OAAOE,MAAMy1B,eAAgB,CAClD,IAAItxB,EAASrU,KAAKgQ,OAAOE,MAAMy1B,cAAcxnC,QAAO,SAA5D,GACU,OAAOuc,EAAImxB,YAAcv+B,KAE3B,MAAO,CAAf,UAEQ,MAAO,CAEL+G,OAAQ,CAAC,CACP,UAAa/G,QC7TyU,MCQ9V,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCqBf,IACEW,MAAO,CAAC,YACRS,WAAY,CAAd,gBACEW,SAAU,CACR1M,OADJ,WAEM,OAAO3C,KAAKgQ,OAAOE,MAAMvN,UC7CwT,MCOnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCmBfvD,aAAIwF,IAAIknC,QAER,IAAMC,GAAS,CACb,CACE7tC,KAAM,OACN8tC,KAAM,IACN3sC,UAAW4sC,GAEb,CAEED,KAAM,oBACN3sC,UAAW6sC,EACXj+B,OAAO,EACPif,SAAU,CACR,CACE8e,KAAM,GACN9tC,KAAM,WACNmB,UAAW8sC,IAEb,CACEH,KAAM,QACN3sC,UAAW+sC,GACXn+B,OAAO,EACPif,SAAU,CACR,CACE8e,KAAM,GACN9tC,KAAM,gBACNmB,UAAWgtC,GACXp+B,OAAO,KAIb,CACE+9B,KAAM,UACN9tC,KAAM,UACNmB,UAAWitC,GACXr+B,OAAO,GAET,CACE+9B,KAAM,QACN3sC,UAAWktC,GACXt+B,OAAO,EACPif,SAAU,CACR,CACE8e,KAAM,GACN9tC,KAAM,gBACNmB,UAAWmtC,IAEb,CACER,KAAM,UACN9tC,KAAM,eACNmB,UAAWotC,GACXx+B,OAAO,KAIb,CACE+9B,KAAM,YACN9tC,KAAM,YACNmB,UAAWqtC,GACXz+B,OAAO,GAET,CACE+9B,KAAM,YACN9tC,KAAM,UACNmB,UAAWstC,GACX1+B,OAAO,GAET,CACE+9B,KAAM,QACN3sC,UAAWutC,GACX3+B,OAAO,EACPif,SAAU,CACR,CACE8e,KAAM,GACN9tC,KAAM,gBACNmB,UAAWwtC,IAEb,CACEb,KAAM,WACN9tC,KAAM,eACNmB,UAAWytC,GACX7+B,OAAO,KAIb,CACE+9B,KAAM,aACN9tC,KAAM,aACNmB,UAAW0tC,GACX9+B,OAAO,GAET,CACE+9B,KAAM,eACN9tC,KAAM,eACNmB,UAAW2tC,GACX/+B,OAAO,GAET,CACE+9B,KAAM,gBACN9tC,KAAM,gBACNmB,UAAW4tC,GACXh/B,OAAO,MAMA,OAAI69B,OAAU,CAC3BoB,KAAM,UACNnB,Y,aChIF3sC,aAAIwF,IAAIuoC,SAER,IAAMC,GAAe,SAAAllB,GACnB,MAAO,CACLvlB,OAAQ,GACR4N,KAAM,GACNqiB,cAAe,GACfV,KAAM,GACNtc,UAAW,GACXrE,MAAO,EACPxJ,kBAAmB,KACnBmgB,YAAaA,IAKXhY,GAAQk9B,KAEC,OAAID,QAAKE,MAAM,CAC5Bn9B,SACAo9B,UAAW,CACTC,WADS,SACEr9B,EAAOs9B,GAChBpuC,aAAIquC,IAAIv9B,EAAO,SAAUs9B,EAAQnrB,QAAQ,IACzCjjB,aAAIquC,IAAIv9B,EAAO,OAAQs9B,EAAQj9B,OAEjCm9B,mBALS,SAKUx9B,EAAOs9B,GACxBpuC,aAAIquC,IAAIv9B,EAAO,gBAAiBs9B,EAAQnrB,UAE1CsrB,kBARS,SAQSz9B,EAAOs9B,GACvB,IAAII,EAAUJ,EAAQnrB,QAAQ,GAAG,gBAAgB,WACjDjjB,aAAIquC,IAAIv9B,EAAO,OAAQ09B,IAEzBC,eAZS,SAYM39B,EAAOs9B,GACpB,IAAII,EAAUJ,EAAQnrB,QAAQ,GAAG,gBAAgB,WACjDjjB,aAAIquC,IAAIv9B,EAAO,YAAa09B,IAE9BE,UAhBS,SAgBC59B,EAAOs9B,GACfpuC,aAAIquC,IAAIv9B,EAAO,QAASs9B,IAE1BO,gBAnBS,SAmBO79B,EAAOs9B,GACrBpuC,aAAIquC,IAAIv9B,EAAO,oBAAqBs9B,IAEtCQ,mBAtBS,SAsBU99B,EAAOs9B,GACxBpuC,aAAIquC,IAAIv9B,EAAO,gBAAiBs9B,EAAQ,YACxCpuC,aAAIquC,IAAIv9B,EAAO,sBAAuBs9B,EAAQ,QAAQ,iBAExDS,YA1BS,SA0BG/9B,EAAOs9B,GACjBU,EAAU9hC,kBAAkB+hC,MAAK,SAAAxpC,GAC/B,IAAIujB,EAAcvjB,EAASG,KAAKud,QAAQ,GAAGrR,SAC3C4I,OAAO2S,OAAOrc,EAAOk9B,GAAallB,SAIxCkmB,QAAS,CACPC,aADO,SACM17B,EAAS7P,GACpB,OAAOorC,EAAUloC,UAAUlD,GACxBqrC,MAAK,SAAAxpC,GAEJgO,EAAQ27B,OAAO,aAAc3pC,EAASG,MACtC6N,EAAQ1C,SAAS,qBAAsBnN,GACvC6P,EAAQ1C,SAAS,kBAAmBnN,MAErCyrC,OAAM,SAAA18B,QAEX28B,YAXO,SAWK77B,EAAS7P,GAEnB,OAAOorC,EAAUzjC,kBAAkB3H,GAChCqrC,MAAK,SAAAxpC,GACJgO,EAAQ27B,OAAO,YAAa3pC,EAASG,KAAKyL,KAAKgB,UAEhDg9B,OAAM,SAAA18B,QAEX48B,WAnBO,SAmBI97B,GACTA,EAAQ27B,OAAO,gBAEjBI,iBAtBO,SAsBU/7B,EAASmb,GACxBnb,EAAQ27B,OAAO,kBAAmBxgB,IAEpC6gB,oBAzBO,SAyBah8B,EAAS7P,GAI3B,OAHKA,IACHA,EAAW6P,EAAQzC,MAAMvN,OAAOC,IAE3BsrC,EAAUhhC,iBAAiBpK,GAC/BqrC,MAAK,SAAAxpC,GACJgO,EAAQ27B,OAAO,qBAAsB3pC,EAASG,SAE/CypC,OAAM,SAAA18B,QAEX+8B,mBAnCO,SAmCYj8B,EAAS7P,GAC1B,GAAK6P,EAAQzC,MAAMvN,OAAOyO,iBAAiBzS,OAA3C,CAGA,IAAIuH,EAAW,CACby4B,gBAAiB,eACjBC,sBAAuB,CACrBrgC,MAAO,MACPw4B,MAAO,SAGX,OAAOmX,EAAUlkC,cAAclH,EAAUoD,GACtCioC,MAAK,SAAAxpC,GACJgO,EAAQ27B,OAAO,oBAAqB3pC,EAASG,SAE9CypC,OAAM,SAAA18B,SAEXg9B,gBApDO,SAoDSl8B,EAAS7P,GACvB,GAAK6P,EAAQzC,MAAMvN,OAAOyO,iBAAiBzS,OAA3C,CAGA,IAAIuH,EAAW,CACby4B,gBAAiB,eACjBC,sBAAuB,CACrBrgC,MAAO,YACPw4B,MAAO,SAGX,OAAOmX,EAAUlkC,cAAclH,EAAUoD,GACtCioC,MAAK,SAAAxpC,GACJgO,EAAQ27B,OAAO,iBAAkB3pC,EAASG,SAE3CypC,OAAM,SAAA18B,SAEXi9B,gBArEO,SAqESn8B,GACdu7B,EAAUzgC,mBACP0gC,MAAK,SAAAxpC,GACJgO,EAAQ27B,OAAO,qBAAsB3pC,EAASG,SAC7CypC,OAAM,SAAA18B,W,oJCvGjBk9B,QAAQ9T,IAAI+T,QAAaC,QAAeC,QAAQC,QAAYC,QAAaC,QAAcC,QAAWC,QAAaC,SAE/G3wC,EAAQ,QACRA,EAAQ,QACRA,EAAQ,QAKR,IAAM4wC,GAAW,IAAIrwC,aACNqwC,mBAGfrwC,aAAIwF,IAAI/F,EAAQ,SAChBO,aAAIwF,IAAI8qC,MACRtwC,aAAIwF,IAAI+qC,MACRvwC,aAAIwF,IAAIgrC,QAAO,CACbC,qBAAsB,oBACtBC,gBAAiB,QAEnB1wC,aAAIwF,IAAImrC,MACR3wC,aAAIC,UAAU,cAAe2wC,MAC7B5wC,aAAIC,UAAU,oBAAqB4wC,SAGnC7wC,aAAIuL,OAAOulC,eAAgB,EAE3B,IAAI9wC,aAAI,CACN+wC,UACAC,SACAC,OAAQ,SAAA33B,GAAC,OAAIA,EAAE43B,MACdC,OAAO,S,+ECxDJC,EAAgB3xC,UAStB2xC,EAAc1xC,OAAOC,SAAQ,SAAAC,GAE3B,IAAMyxC,EAAeD,EAAcxxC,GAGnCI,aAAIjB,OAAOsyC,EAAatxC,QAAQjB,KAAMuyC,EAAatxC,QAAQhB,Y,oCC/B7D,W,oCCAA,W,oCCAA,W,oCCAA,W,yECAA,IAAIya,EAAM,CACT,kBAAmB,OACnB,oBAAqB,OACrB,qBAAsB,OACtB,kBAAmB,OACnB,uBAAwB,QAIzB,SAAS83B,EAAeC,GACvB,IAAI/tC,EAAKguC,EAAsBD,GAC/B,OAAOE,EAAoBjuC,GAE5B,SAASguC,EAAsBD,GAC9B,IAAIE,EAAoBrvB,EAAE5I,EAAK+3B,GAAM,CACpC,IAAI9+B,EAAI,IAAIi/B,MAAM,uBAAyBH,EAAM,KAEjD,MADA9+B,EAAEk/B,KAAO,mBACHl/B,EAEP,OAAO+G,EAAI+3B,GAEZD,EAAe5xC,KAAO,WACrB,OAAO8a,OAAO9a,KAAK8Z,IAEpB83B,EAAeM,QAAUJ,EACzBK,EAAOC,QAAUR,EACjBA,EAAe9tC,GAAK,Q,oFC1BpB,W,uBCAA,IAAIgW,EAAM,CACT,sBAAuB,OACvB,2BAA4B,QAI7B,SAAS83B,EAAeC,GACvB,IAAI/tC,EAAKguC,EAAsBD,GAC/B,OAAOE,EAAoBjuC,GAE5B,SAASguC,EAAsBD,GAC9B,IAAIE,EAAoBrvB,EAAE5I,EAAK+3B,GAAM,CACpC,IAAI9+B,EAAI,IAAIi/B,MAAM,uBAAyBH,EAAM,KAEjD,MADA9+B,EAAEk/B,KAAO,mBACHl/B,EAEP,OAAO+G,EAAI+3B,GAEZD,EAAe5xC,KAAO,WACrB,OAAO8a,OAAO9a,KAAK8Z,IAEpB83B,EAAeM,QAAUJ,EACzBK,EAAOC,QAAUR,EACjBA,EAAe9tC,GAAK,Q,qDCRL,cACb1E,KAAM,aACNC,OAAQ,SAASC,GACf,OAAKA,GACLA,EAAQA,EAAMM,WACPN,EAAM+yC,OAAO,GAAGC,cAAgBhzC,EAAMwY,MAAM,IAFhC,M,oCClBvB,W,kCCAA,W,2DCAA,W,6DCAA,W,oCCAA,W,6GCAA,W,yDCAA,W,uGCAA,W,kCCAA,W,yCCAA,IAAIy5B,EAAS,WAAa,IAAItwC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACgB,YAAY,UAAUc,YAAY,CAAC,mBAAmB,2BAA2B,QAAU,IAAI,gBAAgB,yCAAyC,CAAC9B,EAAG,MAAM,CAACgB,YAAY,qBAAqBc,YAAY,CAAC,iBAAiB,MAAM,CAAC9B,EAAG,MAAM,CAACgB,YAAY,SAASd,MAAM,CAAC,KAAO,aAAa,aAAa,oBAAoB,CAA4B,WAA1BN,EAAIsxC,kBAAgClxC,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAEpB,EAAI+oB,gBAAsB,OAAE3oB,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACkT,MAAM,CAAE,YAAiC,aAApBtT,EAAIgE,cAA8B,CAAC5D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,cAAe,CAACiC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,eAAed,MAAM,CAAC,cAAc,YAAYF,EAAG,OAAO,CAACJ,EAAIqC,GAAG,iBAAiB,GAAGjC,EAAG,KAAK,CAACkT,MAAM,CAAE,YAAiC,YAApBtT,EAAIgE,cAA6B,CAAC5D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,WAAY,uBAAuB,SAAS,CAACiC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,gBAAgBd,MAAM,CAAC,uBAAuB,OAAO,cAAc,YAAYF,EAAG,OAAO,CAACE,MAAM,CAAC,uBAAuB,SAAS,CAACN,EAAIqC,GAAG,gBAAgB,GAAGjC,EAAG,KAAK,CAACkT,MAAM,CAAE,YAAiC,UAApBtT,EAAIgE,cAA2B,CAAC5D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,mBAAoB,CAACiC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,yBAAyBd,MAAM,CAAC,cAAc,YAAYF,EAAG,OAAO,CAACJ,EAAIqC,GAAG,cAAc,GAAGjC,EAAG,KAAK,CAACkT,MAAM,CAAE,YAAiC,cAApBtT,EAAIgE,cAA+B,CAAC5D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,eAAgB,CAACiC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,mBAAmBd,MAAM,CAAC,cAAc,YAAYF,EAAG,OAAO,CAACJ,EAAIqC,GAAG,kBAAkB,GAAGjC,EAAG,KAAK,CAACkT,MAAM,CAAE,YAAiC,cAApBtT,EAAIgE,cAA+B,CAAC5D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,aAAc,CAACiC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,eAAed,MAAM,CAAC,cAAc,YAAYF,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gBAAgB,GAAGjC,EAAG,KAAK,CAACkT,MAAM,CAAE,YAAiC,YAApBtT,EAAIgE,cAA6B,CAAC5D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,mBAAoB,CAACiC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,cAAcd,MAAM,CAAC,cAAc,YAAYF,EAAG,OAAO,CAACJ,EAAIqC,GAAG,gBAAgB,GAAGjC,EAAG,KAAK,CAACkT,MAAM,CAAE,YAAiC,UAApBtT,EAAIgE,cAA2B,CAAC5D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,mBAAoB,CAACiC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,wBAAwBd,MAAM,CAAC,cAAc,YAAYF,EAAG,OAAO,CAACJ,EAAIqC,GAAG,cAAc,GAAIrC,EAAQ,KAAEI,EAAG,KAAK,CAACkT,MAAM,CAAE,YAAiC,eAApBtT,EAAIgE,cAAgC,CAAC5D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,gBAAiB,CAACiC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,eAAed,MAAM,CAAC,cAAc,YAAYF,EAAG,OAAO,CAACJ,EAAIqC,GAAG,kCAAkCjC,EAAG,OAAO,CAACgB,YAAY,eAAec,YAAY,CAAC,mBAAmB,8BAA8B,MAAQ,0BAA0B,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIuxC,wBAAwB,GAAGvxC,EAAIuC,KAAKnC,EAAG,KAAK,CAACkT,MAAM,CAAE,YAAiC,iBAApBtT,EAAIgE,cAAkC,CAAC5D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEnC,KAAM,kBAAmB,CAACiC,EAAG,OAAO,CAACgB,YAAY,iBAAiB,CAAChB,EAAG,IAAI,CAACgB,YAAY,eAAed,MAAM,CAAC,cAAc,YAAYF,EAAG,OAAO,CAACJ,EAAIqC,GAAG,oCAAoCjC,EAAG,OAAO,CAACgB,YAAY,eAAec,YAAY,CAAC,mBAAmB,8BAA8B,MAAQ,0BAA0B,CAAClC,EAAIqC,GAAGrC,EAAIyC,GAAGzC,EAAIwxC,2BAA2B,OAAOxxC,EAAIuC,OAAOvC,EAAIuC,KAAKnC,EAAG,MAAM,CAACgB,YAAY,cAAc,CAAChB,EAAG,MAAM,CAACgB,YAAY,eAAe,CAACpB,EAAIwU,GAAG,YAAY,YAC3jHjU,EAAkB,GC4GtB,G,8BAAA,CACEpC,KAAM,sBACN+P,MAAO,CACLojC,kBAAmB58B,OACnB1Q,YAAa0Q,QAEfvG,QAAS,CACPsjC,qBAAsB,SAA1B,GACM,OAAO53B,OAAO9S,OAAO9G,KAAKuQ,KAAK8V,YAAY+H,MAAK,SAAtD,8BAGE/e,SAAU,CACRkB,KADJ,WAEM,OAAOvQ,KAAKgQ,OAAOE,MAAMK,MAE3BuY,gBAJJ,WAKM,OAAO9oB,KAAKgQ,OAAOE,MAAMvN,OAAOyO,kBAElCkgC,eAPJ,WAQM,OAAO13B,OAAOwX,QAAQpxB,KAAKuQ,KAAK8V,YAAY1nB,QAE9C4yC,kBAVJ,WAWM,MAAI,iBAAkBvxC,KAAKuQ,KAAK8V,YAC1B,SAAUrmB,KAAKuQ,KAAK8V,WAAWC,aAAahoB,MACvC0B,KAAKuQ,KAAK8V,WAAWC,aAAahoB,MAAMwG,KAAKnG,OAGjD,MCxI+U,I,wBCQxVU,EAAY,eACd,EACAgxC,EACA/vC,GACA,EACA,KACA,WACA,MAIa,aAAAjB,E,gHCnBf,W,yDCAA,OAee,cACbnB,KAAM,gBACNC,OAAQ,SAASC,GACVA,IACHA,EAAQ,GAEV,IAAIqzC,EAAO,GACX,GAAIrzC,EAAQ,UACVA,EAAQoB,KAAK+b,MAAOnd,EAAQ,IAAc,IAAM,GAChDqzC,EAAO,SACF,GAAIrzC,EAAQ,OACjBA,EAAQoB,KAAK+b,MAAOnd,EAAQ,IAAW,IAAM,GAC7CqzC,EAAO,QACF,MAAIrzC,EAAQ,KAIjB,OAAOA,EAHPA,EAAQoB,KAAK+b,MAAOnd,EAAQ,IAAQ,IAAM,GAC1CqzC,EAAO,IAIT,OAAOrzC,EAAQqzC,K,yDClCnB,W,kCCAA,W,yDCAA,W,yCCAA,IAAIpB,EAAS,WAAa,IAAItwC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACgB,YAAY,UAAUc,YAAY,CAAC,mBAAmB,2BAA2B,QAAU,IAAI,gBAAgB,yCAAyC,CAAC9B,EAAG,MAAM,CAACgB,YAAY,sBAAsB,CAAChB,EAAG,MAAM,CAACgB,YAAY,SAASd,MAAM,CAAC,KAAO,aAAa,aAAa,oBAAoB,CAACF,EAAG,MAAM,CAACgB,YAAY,gBAAgB,CAAChB,EAAG,cAAc,CAACgB,YAAY,cAAcd,MAAM,CAAC,GAAK,MAAM,CAACF,EAAG,MAAM,CAACgB,YAAY,OAAOc,YAAY,CAAC,aAAa,QAAQ,CAAC9B,EAAG,MAAM,CAACE,MAAM,CAAC,IAAM,kCAAkCF,EAAG,OAAO,CAAC8B,YAAY,CAAC,MAAQ,kCAAkC,cAAc,MAAM,aAAa,MAAM,YAAY,2BAA2B,CAAClC,EAAIqC,GAAG,QAAQjC,EAAG,IAAI,CAACJ,EAAIqC,GAAG,iBAAiB,GAAGjC,EAAG,MAAM,CAACgB,YAAY,cAAcc,YAAY,CAAC,cAAc,OAAO,aAAa,MAAM,YAAY,2BAA2B,CAAClC,EAAIwU,GAAG,SAAS,GAAGpU,EAAG,MAAM,CAACgB,YAAY,6BAA6B,CAACpB,EAAIwU,GAAG,WAAW,GAAGpU,EAAG,MAAM,CAACgB,YAAY,aAAac,YAAY,CAAC,eAAe,UAAU,CAAC9B,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAChB,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,eAAe,UAAU,KAAO,WAAWgB,GAAG,CAAC,MAAQtB,EAAI2xC,aAAa9tC,MAAM,CAACtF,MAAOyB,EAAe,YAAE8D,SAAS,SAAUC,GAAM/D,EAAIoV,YAAYrR,GAAK5C,WAAW,gBAAgB,CAACnB,EAAIqC,GAAG,0CAA0C,GAAGjC,EAAG,MAAM,CAACgB,YAAY,eAAe,CAACpB,EAAIqC,GAAG,eAAerC,EAAIyC,GAAGzC,EAAImoB,aAAa,gBAAgBnoB,EAAIoC,GAAG,YACn/C7B,EAAkB,CAAC,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAChB,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,YAAY,CAACN,EAAIqC,GAAG,gB,YCoE1L,GACElE,KAAM,iBACN4G,KAFF,WAGI,MAAO,CACLqQ,YAAa,OAIjB9F,SAAU,CACR6Y,YADJ,WAEM,OAAOloB,KAAKgQ,OAAOE,MAAMgY,cAG7Bha,QAAS,CACPwjC,YADJ,WAEM,IAAN,gBACM,OAAQhxC,EAAQC,QAAQF,OACtB,IAAK,QACHC,EAAQC,QAAQF,MAAQ,OACxBD,aAAaC,MAAQ,OACrBT,KAAKmV,aAAc,EACnB,EAAV,mCACU,MACF,IAAK,OACHzU,EAAQC,QAAQF,MAAQ,QACxBD,aAAaC,MAAQ,QACrBT,KAAKmV,aAAc,EACnB,EAAV,mCACU,SAIR5U,QAhCF,WAiCIP,KAAKmV,YAAqC,SAAvB3U,aAAaC,QCtGmT,I,wBCQnVpB,EAAY,eACd,EACAgxC,EACA/vC,GACA,EACA,KACA,WACA,MAIa,aAAAjB,E,2CCnBf","file":"js/chunk-common.8d63f4b4.js","sourcesContent":["/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'filterChip',\n  filter: function(input) {\n    if (input.type === 'label') {\n      if (input.value === '__ts_star') {\n        return 'Starred'\n      } else if (input.value === '__ts_comment') {\n        return 'Commented'\n      }\n      return input.value\n    }\n    return input.field + ':' + input.value\n  },\n}\n","/*\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'formatTimestamp',\n  filter: function(input) {\n    let tsLength = parseInt(input).toString().length\n    if (tsLength === 13) {\n      return input // exit early if timestamp is already in milliseconds\n    } else if (tsLength === 15 || tsLength === 16) {\n      input = input / 1000 // microseconds -> milliseconds\n    } else if (tsLength === 10) {\n      input = input * 1000000 // seconds -> milliseconds\n    } else if (tsLength === 19) {\n      input = input / 1000000 // nanoseconds -> milliseconds\n    }\n    return input\n  },\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intelligence.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoryContent.vue?vue&type=style&index=0&lang=scss&\"","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue'\n\nconst requireComponent = require.context(\n  // The relative path of the components folder\n  '../components',\n  // Whether or not to look in subfolders\n  false,\n  // The regular expression used to match base component filenames\n  /App[A-Z]\\w+\\.(vue|js)$/\n)\n\nrequireComponent.keys().forEach(fileName => {\n  // Get component config\n  const componentConfig = requireComponent(fileName)\n  const componentName = componentConfig.default.name\n\n  // Register component globally\n  Vue.component(\n    componentName,\n    // Look for the component options on `.default`, which will\n    // exist if the component was exported with `export default`,\n    // otherwise fall back to module's root.\n    componentConfig.default || componentConfig\n  )\n})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explore.vue?vue&type=style&index=0&lang=scss&\"","/*\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'compactBytes',\n  filter: function(input) {\n    // Based on https://gist.github.com/james2doyle/4aba55c22f084800c199\n    if (!input) {\n      input = 0\n    }\n    let units = ['B', 'kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n    let exponent = Math.min(Math.floor(Math.log(input) / Math.log(1000)), units.length - 1)\n    let num = (input / Math.pow(1000, exponent)).toFixed(2) * 1\n    return num + units[exponent]\n  },\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineListItem.vue?vue&type=style&index=0&id=4b58650c&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n  created: function() {\n    let element = document.body\n    if (!localStorage.theme) {\n      localStorage.theme = 'light'\n    }\n    element.dataset.theme = localStorage.theme\n  },\n}\n</script>\n\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\"></style>\n<style lang=\"scss\"></style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=c099394c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"vue-multiselect/dist/vue-multiselect.min.css?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"center\",fn:function(){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchQuery),expression:\"searchQuery\"}],staticClass:\"ts-home-input\",attrs:{\"type\":\"text\",\"placeholder\":\"Search for investigations\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.searchQuery)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchQuery=$event.target.value}}})]},proxy:true}])}),_c('section',{staticClass:\"section\",staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"}},[_c('div',{staticClass:\"container is-fluid\"},[_c('button',{staticClass:\"button is-success\",on:{\"click\":function($event){_vm.showSketchCreateModal = !_vm.showSketchCreateModal}}},[_vm._m(0),_c('strong',[_vm._v(\"New investigation\")])])])]),_c('b-modal',{attrs:{\"active\":_vm.showSketchCreateModal,\"width\":640,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showSketchCreateModal=$event}}},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Create new sketch\")])]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('ts-create-sketch-form')],1)])])]),(_vm.newSearchQuery)?_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('b-message',{attrs:{\"title\":\"Search results\",\"closable\":false}},[_c('ts-sketch-list',{attrs:{\"scope\":\"search\",\"search-query\":_vm.newSearchQuery}}),_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.newSearchQuery = ''}}},[_vm._v(\"Close\")])],1)],1)]):_vm._e(),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_vm._m(1),_c('div',{staticClass:\"card-content\"},[_c('ts-sketch-list',{attrs:{\"scope\":\"recent\"}})],1)])]),_c('br')]),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_vm._m(2),_c('div',{staticClass:\"card-content\"},[_c('ts-sketch-list',{attrs:{\"scope\":\"user\"}})],1)])])]),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_vm._m(3),_c('div',{staticClass:\"card-content\"},[_c('ts-sketch-list',{attrs:{\"scope\":\"shared\"}})],1)])])]),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_vm._m(4),_c('div',{staticClass:\"card-content\"},[_c('ts-sketch-list',{attrs:{\"scope\":\"archived\"}})],1)])])]),_c('br')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-plus-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"card-header\"},[_c('div',{staticClass:\"card-header-title\"},[_vm._v(\"\\n            My recent activity\\n          \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"card-header\"},[_c('div',{staticClass:\"card-header-title\"},[_vm._v(\"\\n            My investigations\\n          \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"card-header\"},[_c('div',{staticClass:\"card-header-title\"},[_vm._v(\"\\n            Shared with me\\n          \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"card-header\"},[_c('div',{staticClass:\"card-header-title\"},[_vm._v(\"\\n            Archived\\n          \")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.sketches.length)?_c('div',[_vm._v(\"No \"+_vm._s(_vm.scope)+\" investigations found\")]):_vm._e(),_c('ul',{staticClass:\"content-list\"},_vm._l((_vm.sketches),function(sketch){return _c('li',{key:sketch.id,staticClass:\"list-item\",staticStyle:{\"padding\":\"20px\"}},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-8\"},[_c('router-link',{attrs:{\"to\":{ name: 'Overview', params: { sketchId: sketch.id } }}},[_c('strong',[_vm._v(_vm._s(sketch.name))])]),_c('div',{staticClass:\"description\"},[_vm._v(_vm._s(sketch.description))])],1),_c('div',{staticClass:\"column\"},[_c('strong',{staticStyle:{\"color\":\"var(--default-font-color)\"}},[_vm._v(\"Created by:\")]),_vm._v(\" \"+_vm._s(sketch.user)+\"\\n          \"),_c('div',{staticStyle:{\"font-size\":\"0.9em\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(sketch.created_at,'YYYY-MM-DD')))])]),_c('div',{staticClass:\"column\",staticStyle:{\"text-align\":\"right\"}},[_c('span',{staticClass:\"button is-small is-rounded is-light\",staticStyle:{\"border-radius\":\"20px\",\"margin-top\":\"10px\"}},[(sketch.status === 'archived')?_c('span',[_vm._v(\"\\n              Archived\\n            \")]):(sketch.last_activity)?_c('span',[_vm._v(\"\\n              Active\\n              \"+_vm._s(_vm.$moment\n                  .utc(sketch.last_activity)\n                  .local()\n                  .fromNow())+\"\\n            \")]):(!sketch.last_activity)?_c('span',[_vm._v(\"\\n              No activity yet\\n            \")]):_vm._e()]),_c('div')])])])}),0),_c('br'),(_vm.numSketches > _vm.perPage)?_c('b-pagination',{staticClass:\"is-right\",attrs:{\"total\":_vm.numSketches,\"simple\":true,\"per-page\":_vm.perPage,\"size\":\"is-small\"},on:{\"change\":_vm.paginate},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport axios from 'axios'\nimport { SnackbarProgrammatic as Snackbar } from 'buefy'\n\nconst RestApiClient = axios.create({\n  baseURL: '/api/v1',\n  headers: {\n    common: {\n      'X-CSRFToken': document.getElementsByTagName('meta')[0]['content'],\n    },\n  },\n})\n\nconst RestApiBlobClient = axios.create({\n  baseURL: '/api/v1',\n  responseType: 'blob',\n  headers: {\n    common: {\n      'X-CSRFToken': document.getElementsByTagName('meta')[0]['content'],\n    },\n  },\n})\n\n// Show message on errors.\nRestApiClient.interceptors.response.use(\n  function (response) {\n    return response\n  },\n  function (error) {\n    if (error.response.data.message === 'The CSRF token has expired.') {\n      Snackbar.open({\n        message: error.response.data.message,\n        type: 'is-white',\n        position: 'is-top',\n        actionText: 'Refresh',\n        indefinite: true,\n        onAction: () => {\n          location.reload()\n        },\n      })\n    } else {\n      console.error(error.response.data)\n      Snackbar.open({\n        message: `Error: \"${error.message}\" (see console for details)`,\n        type: 'is-danger',\n        position: 'is-top',\n        actionText: 'Close',\n        duration: 7000,\n      })\n    }\n    return Promise.reject(error)\n  }\n)\n\nexport default {\n  // Sketch\n  getSketchList(scope, page, searchQuery) {\n    let params = {\n      params: {\n        scope: scope,\n        page: page,\n        search_query: searchQuery,\n      },\n    }\n    return RestApiClient.get('/sketches/', params)\n  },\n  getSketch(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/')\n  },\n  createSketch(formData) {\n    return RestApiClient.post('/sketches/', formData)\n  },\n  deleteSketch(sketchId) {\n    return RestApiClient.delete('/sketches/' + sketchId + '/')\n  },\n  archiveSketch(sketchId) {\n    let formData = {\n      action: 'archive',\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/archive/', formData)\n  },\n  unArchiveSketch(sketchId) {\n    let formData = {\n      action: 'unarchive',\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/archive/', formData)\n  },\n  exportSketch(sketchId) {\n    let formData = {\n      action: 'export',\n    }\n    return RestApiBlobClient.post('/sketches/' + sketchId + '/archive/', formData)\n  },\n  getSketchAttributes(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/attribute/')\n  },\n  addSketchAttribute(sketchId, name, value, ontology) {\n    let attribute = {\n      name: name,\n      values: [value],\n      ontology: ontology,\n      action: 'post',\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/attribute/', attribute)\n  },\n  getSketchTimeline(sketchId, timelineId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/timelines/' + timelineId + '/')\n  },\n  getSketchTimelineAnalysis(sketchId, timelineId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/timelines/' + timelineId + '/analysis/')\n  },\n  saveSketchTimeline(sketchId, timelineId, name, description, color) {\n    let formData = {\n      name: name,\n      description: description,\n      color: color,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /timelines/ + timelineId + '/', formData)\n  },\n  saveSketchSummary(sketchId, name, description) {\n    let formData = {\n      name: name,\n      description: description,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/', formData)\n  },\n  deleteSketchTimeline(sketchId, timelineId) {\n    return RestApiClient.delete('/sketches/' + sketchId + /timelines/ + timelineId + '/')\n  },\n  // Get details about an event\n  getEvent(sketchId, searchindexId, eventId) {\n    let params = {\n      params: {\n        searchindex_id: searchindexId,\n        event_id: eventId,\n      },\n    }\n    return RestApiClient.get('/sketches/' + sketchId + '/event/', params)\n  },\n  saveEventAnnotation(sketchId, annotationType, annotation, events, currentSearchNode, remove = false) {\n    let formData = {\n      annotation: annotation,\n      annotation_type: annotationType,\n      events: events,\n      current_search_node_id: currentSearchNode.id,\n      remove: remove,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/event/annotate/', formData)\n  },\n  updateEventAnnotation(sketchId, annotationType, annotation, events, currentSearchNode) {\n    let formData = {\n      annotation: annotation,\n      annotation_type: annotationType,\n      events: events,\n      current_search_node_id: currentSearchNode.id,\n    }\n    return RestApiClient.put('/sketches/' + sketchId + '/event/annotate/', formData)\n  },\n  deleteEventAnnotation(sketchId, annotationType, annotationId, event, currentSearchNode) {\n    let params = {\n      params: {\n        annotation_id: annotationId,\n        annotation_type: annotationType,\n        event_id: event._id,\n        searchindex_id: event._index,\n        current_search_node_id: currentSearchNode.id,\n      },\n    }\n    return RestApiClient.delete('/sketches/' + sketchId + '/event/annotate/', params)\n  },\n  // Stories\n  getStoryList(sketchId) {\n    return RestApiClient.get('sketches/' + sketchId + '/stories/')\n  },\n  getStory(sketchId, storyId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/stories/' + storyId + '/')\n  },\n  createStory(title, content, sketchId) {\n    let formData = {\n      title: title,\n      content: content,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /stories/, formData)\n  },\n  updateStory(title, content, sketchId, storyId) {\n    let formData = {\n      title: title,\n      content: content,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /stories/ + storyId + '/', formData)\n  },\n  deleteStory(sketchId, storyId) {\n    return RestApiClient.delete('/sketches/' + sketchId + /stories/ + storyId + '/')\n  },\n  // Saved views\n  getView(sketchId, viewId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/views/' + viewId + '/')\n  },\n  createView(sketchId, viewName, queryString, queryFilter) {\n    let formData = {\n      name: viewName,\n      query: queryString,\n      filter: queryFilter,\n      dsl: '',\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /views/, formData)\n  },\n  updateView(sketchId, viewId, queryString, queryFilter) {\n    let formData = {\n      query: queryString,\n      filter: queryFilter,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /views/ + viewId + '/', formData)\n  },\n  deleteView(sketchId, viewId) {\n    return RestApiClient.delete('/sketches/' + sketchId + '/views/' + viewId + '/')\n  },\n  // Search\n  search(sketchId, formData) {\n    return RestApiClient.post('/sketches/' + sketchId + '/explore/', formData)\n  },\n  exportSearchResult(sketchId, formData) {\n    return RestApiBlobClient.post('/sketches/' + sketchId + '/explore/', formData)\n  },\n  getAggregations(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/aggregation/')\n  },\n  getAggregationGroups(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/aggregation/group/')\n  },\n  runAggregator(sketchId, formData) {\n    return RestApiClient.post('/sketches/' + sketchId + '/aggregation/explore/', formData)\n  },\n  runAggregatorGroup(sketchId, groupId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/aggregation/group/' + groupId + '/')\n  },\n  saveAggregation(sketchId, aggregation, name, formData) {\n    let newFormData = {\n      name: name,\n      description: aggregation.description,\n      agg_type: aggregation.name,\n      chart_type: formData['supported_charts'],\n      parameters: formData,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + '/aggregation/', newFormData)\n  },\n  // Misc resources\n  countSketchEvents(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/count/')\n  },\n  uploadTimeline(formData, config) {\n    return RestApiClient.post('/upload/', formData, config)\n  },\n  getSessions(sketchId, timelineIndex) {\n    return RestApiClient.get('/sketches/' + sketchId + '/explore/sessions/' + timelineIndex + '/')\n  },\n  getUsers() {\n    return RestApiClient.get('/users/')\n  },\n  getGroups() {\n    return RestApiClient.get('/groups/')\n  },\n  editCollaborators(sketchId, isPublic, usersToAdd, groupsToAdd, usersToRemove, groupsToRemove) {\n    let formData = {\n      public: isPublic,\n      users: usersToAdd,\n      groups: groupsToAdd,\n      remove_users: usersToRemove,\n      remove_groups: groupsToRemove,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /collaborators/, formData)\n  },\n  getAnalyzers(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/analyzer/')\n  },\n  runAnalyzers(sketchId, timelineIds, analyzers) {\n    let formData = {\n      timeline_ids: timelineIds,\n      analyzer_names: analyzers,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /analyzer/, formData)\n  },\n  getAnalyzerSession(sketchId, sessionId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/analyzer/sessions/' + sessionId + '/')\n  },\n  getActiveAnalyzerSessions(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + '/analyzer/sessions/active/')\n  },\n  getLoggedInUser() {\n    return RestApiClient.get('/users/me/')\n  },\n  generateGraphFromPlugin(sketchId, graphPlugin, currentIndices, timelineIds, refresh) {\n    let formData = {\n      plugin: graphPlugin,\n      config: {\n        filter: {\n          indices: currentIndices,\n          timelineIds: timelineIds,\n        },\n      },\n      refresh: refresh,\n    }\n    if (timelineIds.length) {\n      formData['timeline_ids'] = timelineIds\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /graph/, formData)\n  },\n  getGraphPluginList() {\n    return RestApiClient.get('/graphs/')\n  },\n  saveGraph(sketchId, name, elements) {\n    let formData = {\n      name: name,\n      elements: elements,\n    }\n    return RestApiClient.post('/sketches/' + sketchId + /graphs/, formData)\n  },\n  getSavedGraphList(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + /graphs/)\n  },\n  getSavedGraph(sketchId, graphId) {\n    let params = {\n      params: {\n        format: 'cytoscape',\n      },\n    }\n    return RestApiClient.get('/sketches/' + sketchId + /graphs/ + graphId + '/', params)\n  },\n  getSearchHistory(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + /searchhistory/)\n  },\n  getSearchHistoryTree(sketchId) {\n    return RestApiClient.get('/sketches/' + sketchId + /searchhistorytree/)\n  },\n  // Sigma (to be deprecated)\n  getSigmaList() {\n    // deprecated\n    return RestApiClient.get('/sigma/')\n  },\n  getSigmaResource(ruleUuid) {\n    // deprecated\n    return RestApiClient.get('/sigma/rule/' + ruleUuid + '/')\n  },\n  getSigmaByText(ruleText) {\n    // deprecated\n    let formData = {\n      content: ruleText,\n    }\n    return RestApiClient.post('/sigma/text/', formData)\n  },\n  // SigmaRule (new rules file based)\n  getSigmaRuleList() {\n    return RestApiClient.get('/sigmarule/')\n  },\n  getSigmaRuleResource(ruleUuid) {\n    return RestApiClient.get('/sigmarule/' + ruleUuid + '/')\n  },\n  getSigmaRuleByText(ruleText) {\n    let formData = {\n      content: ruleText,\n    }\n    return RestApiClient.post('/sigmarule/text/', formData)\n  },\n  deleteSigmaRule(ruleUuid) {\n    return RestApiClient.delete('/sigmarule/' + ruleUuid + '/')\n  },\n  createSigmaRule(ruleText) {\n    let formData = {\n      rule_yaml: ruleText,\n    }\n    return RestApiClient.post('/sigmarule/', formData)\n  },\n  updateSigmaRule(id, ruleText) {\n    let formData = {\n      id: id,\n      rule_yaml: ruleText,\n    }\n    return RestApiClient.put('/sigmarule/' + id + '/', formData)\n  },\n  getTagMetadata() {\n    return RestApiClient.get('/intelligence/tagmetadata/')\n  }\n}\n","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <div v-if=\"!sketches.length\">No {{ scope }} investigations found</div>\n\n    <ul class=\"content-list\">\n      <li class=\"list-item\" v-for=\"sketch in sketches\" :key=\"sketch.id\" style=\"padding:20px;\">\n        <div class=\"columns\">\n          <div class=\"column is-8\">\n            <router-link :to=\"{ name: 'Overview', params: { sketchId: sketch.id } }\"\n              ><strong>{{ sketch.name }}</strong></router-link\n            >\n            <div class=\"description\">{{ sketch.description }}</div>\n          </div>\n          <div class=\"column\">\n            <strong style=\"color:var(--default-font-color)\">Created by:</strong> {{ sketch.user }}\n            <div style=\"font-size: 0.9em;\">{{ sketch.created_at | moment('YYYY-MM-DD') }}</div>\n          </div>\n          <div class=\"column\" style=\"text-align: right;\">\n            <span class=\"button is-small is-rounded is-light\" style=\"border-radius: 20px;margin-top:10px;\">\n              <span v-if=\"sketch.status === 'archived'\">\n                Archived\n              </span>\n              <span v-else-if=\"sketch.last_activity\">\n                Active\n                {{\n                  $moment\n                    .utc(sketch.last_activity)\n                    .local()\n                    .fromNow()\n                }}\n              </span>\n              <span v-else-if=\"!sketch.last_activity\">\n                No activity yet\n              </span>\n            </span>\n            <div></div>\n          </div>\n        </div>\n      </li>\n    </ul>\n\n    <br />\n    <b-pagination\n      class=\"is-right\"\n      v-if=\"numSketches > perPage\"\n      v-model=\"currentPage\"\n      @change=\"paginate\"\n      :total=\"numSketches\"\n      :simple=\"true\"\n      :per-page=\"perPage\"\n      size=\"is-small\"\n    >\n    </b-pagination>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  props: ['scope', 'searchQuery'],\n  data() {\n    return {\n      sketches: [],\n      numSketches: 0,\n      currentPage: 1,\n      perPage: 10,\n    }\n  },\n  methods: {\n    getSketches: function() {\n      ApiClient.getSketchList(this.scope, this.currentPage, this.searchQuery)\n        .then(response => {\n          this.sketches = response.data.objects\n          this.numSketches = response.data.meta.total_items\n        })\n        .catch(e => {\n          console.error(e)\n        })\n    },\n    paginate: function() {\n      this.getSketches()\n    },\n  },\n  created() {\n    this.getSketches()\n  },\n  watch: {\n    searchQuery: function() {\n      if (this.scope === 'search') {\n        this.getSketches()\n      }\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\">\n.description {\n  display: -webkit-box;\n  font-size: 0.9em;\n  overflow: hidden;\n  max-width: 35ch;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SketchList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SketchList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SketchList.vue?vue&type=template&id=014f3ae4&scoped=true&\"\nimport script from \"./SketchList.vue?vue&type=script&lang=js&\"\nexport * from \"./SketchList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SketchList.vue?vue&type=style&index=0&id=014f3ae4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"014f3ae4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm.apply(null, arguments)}}},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"Name\")]),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.name),expression:\"form.name\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Name your sketch\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value)}}})])]),_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"Description (optional)\")]),_c('div',{staticClass:\"control\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.description),expression:\"form.description\"}],staticClass:\"textarea\",attrs:{\"placeholder\":\"Describe your sketch\"},domProps:{\"value\":(_vm.form.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"description\", $event.target.value)}}})])]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{staticClass:\"button is-success\",attrs:{\"type\":\"submit\",\"value\":\"Save\"}})])])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <form v-on:submit.prevent=\"submitForm\">\n    <div class=\"field\">\n      <label class=\"label\">Name</label>\n      <div class=\"control\">\n        <input v-model=\"form.name\" class=\"input\" type=\"text\" required placeholder=\"Name your sketch\" autofocus />\n      </div>\n    </div>\n    <div class=\"field\">\n      <label class=\"label\">Description (optional)</label>\n      <div class=\"control\">\n        <textarea v-model=\"form.description\" class=\"textarea\" placeholder=\"Describe your sketch\"></textarea>\n      </div>\n    </div>\n    <div class=\"field\">\n      <div class=\"control\">\n        <input class=\"button is-success\" type=\"submit\" value=\"Save\" />\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  data() {\n    return {\n      form: {\n        name: '',\n        description: '',\n      },\n    }\n  },\n  methods: {\n    clearFormData: function() {\n      this.form.name = ''\n      this.form.description = ''\n    },\n    submitForm: function() {\n      let formData = {\n        name: this.form.name,\n        description: this.form.description,\n      }\n      ApiClient.createSketch(formData)\n        .then(response => {\n          let newSketchId = response.data.objects[0].id\n          this.clearFormData()\n          this.$router.push({ name: 'Overview', params: { sketchId: newSketchId } })\n        })\n        .catch(e => {})\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateSketchForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateSketchForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateSketchForm.vue?vue&type=template&id=f9c0c516&\"\nimport script from \"./CreateSketchForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateSketchForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:center>\n        <input\n          v-on:keyup.enter=\"search\"\n          v-model=\"searchQuery\"\n          class=\"ts-home-input\"\n          type=\"text\"\n          placeholder=\"Search for investigations\"\n          autofocus\n        />\n      </template>\n    </ts-navbar-main>\n\n    <!-- Secondary navigation -->\n    <section class=\"section\" style=\"margin-top:10px; margin-bottom: 10px;\">\n      <div class=\"container is-fluid\">\n        <button class=\"button is-success\" v-on:click=\"showSketchCreateModal = !showSketchCreateModal\">\n          <span class=\"icon is-small\">\n            <i class=\"fas fa-plus-circle\"></i>\n          </span>\n          <strong>New investigation</strong>\n        </button>\n      </div>\n    </section>\n\n    <b-modal :active.sync=\"showSketchCreateModal\" :width=\"640\" scroll=\"keep\">\n      <div class=\"card\">\n        <header class=\"card-header\">\n          <p class=\"card-header-title\">Create new sketch</p>\n        </header>\n        <div class=\"card-content\">\n          <div class=\"content\">\n            <ts-create-sketch-form></ts-create-sketch-form>\n          </div>\n        </div>\n      </div>\n    </b-modal>\n\n    <section class=\"section\" v-if=\"newSearchQuery\">\n      <div class=\"container is-fluid\">\n        <b-message title=\"Search results\" :closable=\"false\">\n          <ts-sketch-list scope=\"search\" :search-query=\"newSearchQuery\"></ts-sketch-list>\n          <button class=\"button\" v-on:click=\"newSearchQuery = ''\">Close</button>\n        </b-message>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <div class=\"card-header-title\">\n              My recent activity\n            </div>\n          </header>\n          <div class=\"card-content\">\n            <ts-sketch-list scope=\"recent\"></ts-sketch-list>\n          </div>\n        </div>\n      </div>\n      <br />\n    </section>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <div class=\"card-header-title\">\n              My investigations\n            </div>\n          </header>\n          <div class=\"card-content\">\n            <ts-sketch-list scope=\"user\"></ts-sketch-list>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <div class=\"card-header-title\">\n              Shared with me\n            </div>\n          </header>\n          <div class=\"card-content\">\n            <ts-sketch-list scope=\"shared\"></ts-sketch-list>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <div class=\"card-header-title\">\n              Archived\n            </div>\n          </header>\n          <div class=\"card-content\">\n            <ts-sketch-list scope=\"archived\"></ts-sketch-list>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <br />\n  </div>\n</template>\n\n<script>\nimport TsSketchList from '../components/Home/SketchList'\nimport TsCreateSketchForm from '../components/Common/CreateSketchForm'\nimport TsNavbarMain from '../components/AppNavbarMain'\n\nexport default {\n  components: {\n    TsNavbarMain,\n    TsSketchList,\n    TsCreateSketchForm,\n  },\n  data() {\n    return {\n      showSketchCreateModal: false,\n      allSketches: [],\n      mySketches: [],\n      myArchivedSketches: [],\n      sharedSketches: [],\n      loading: true,\n      isFullPage: true,\n      loadingComponent: null,\n      searchQuery: '',\n      newSearchQuery: '',\n    }\n  },\n  computed: {\n    filteredList() {\n      return this.allSketches.filter(sketch => {\n        return sketch.name.toLowerCase().includes(this.search.toLowerCase())\n      })\n    },\n  },\n  methods: {\n    loadingOpen: function() {\n      this.loading = true\n      this.loadingComponent = this.$buefy.loading.open({\n        container: this.isFullPage ? null : this.$refs.element.$el,\n      })\n    },\n    loadingClose: function() {\n      this.loading = false\n      this.loadingComponent.close()\n    },\n    search: function() {\n      this.newSearchQuery = this.searchQuery\n    },\n  },\n  created: function() {\n    this.$store.dispatch('resetState')\n    document.title = 'Timesketch'\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=355649f5&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.sketch.status)?_c('router-view'):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <router-view v-if=\"sketch.status\"></router-view>\n</template>\n\n<script>\nexport default {\n  props: ['sketchId'],\n  created: function() {\n    this.$store.dispatch('updateSketch', this.sketchId)\n    this.$store.dispatch('updateSearchHistory', this.sketchId)\n    this.$store.dispatch('updateSigmaList', this.sketchId)\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n  watch: {\n    sketch: function(newVal) {\n      if (newVal.status[0].status === 'archived') {\n        this.$router.push({ name: 'Overview', params: { sketchId: this.sketch.id } })\n      }\n      document.title = this.sketch.name\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sketch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sketch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sketch.vue?vue&type=template&id=38817e6c&\"\nimport script from \"./Sketch.vue?vue&type=script&lang=js&\"\nexport * from \"./Sketch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.sketch.status)?_c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}],null,false,4238446144)}),(_vm.isArchived)?_c('div',{staticClass:\"task-container columns is-multiline\",staticStyle:{\"margin-top\":\"50px\"}},[_c('div',{staticClass:\"card column is-half is-offset-one-quarter has-text-centered\",staticStyle:{\"min-height\":\"300px\",\"padding-top\":\"90px\"}},[_c('h4',{staticClass:\"title is-4\"},[_vm._v(_vm._s(_vm.sketch.name))]),_c('p',[_vm._v(\"This sketch has been archived\")]),_c('div',{staticClass:\"buttons is-centered\",staticStyle:{\"margin-top\":\"30px\"}},[_c('button',{staticClass:\"button is-success is-outlined\",on:{\"click\":function($event){return _vm.unArchiveSketch()}}},[_vm._v(\"Unarchive\")]),_c('button',{staticClass:\"button is-link is-outlined\",on:{\"click\":function($event){return _vm.exportSketch()}}},[_vm._v(\"Export\")])])])]):_vm._e(),(!_vm.isArchived)?_c('div',[_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"overview\"}},[_vm._l((_vm.meta.sketch_labels),function(label){return _c('span',{key:label,staticStyle:{\"margin-right\":\"10px\",\"color\":\"var(--default-font-color)\",\"font-size\":\"0.7em\"}},[_vm._v(_vm._s(label))])}),(_vm.meta.collaborators)?_c('b-tooltip',{attrs:{\"label\":_vm.shareTooltip,\"position\":\"is-bottom\",\"type\":\"is-white\"}},[(_vm.meta.permissions.write)?_c('a',{staticClass:\"button is-info is-small\",staticStyle:{\"margin-right\":\"10px\",\"border-radius\":\"4px\"},on:{\"click\":function($event){_vm.showShareModal = !_vm.showShareModal}}},[_c('span',{staticClass:\"icon is-small\"},[(_vm.meta.permissions.public)?_c('i',{staticClass:\"fas fa-globe\"}):(_vm.meta.collaborators.users.length || _vm.meta.collaborators.groups.length)?_c('i',{staticClass:\"fas fa-users\"}):(!_vm.meta.permissions.public)?_c('i',{staticClass:\"fas fa-lock\"}):_vm._e()]),_c('span',[_vm._v(\"Share\")])]):_vm._e()]):_vm._e(),(_vm.meta.permissions.write)?_c('ts-dropdown',{attrs:{\"position\":\"is-bottom-left\"},scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('a',{staticClass:\"button ts-dropdown-button is-small\",staticStyle:{\"background\":\"transparent\",\"border\":\"none\",\"margin-right\":\"-18px\"}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-angle-down\"})]),_c('span',[_vm._v(\"More\")])])]},proxy:true}],null,false,4256829278)},[(_vm.meta.permissions.delete)?_c('div',{staticClass:\"ts-dropdown-item\",attrs:{\"aria-role\":\"listitem\"}},[_c('span',{on:{\"click\":function($event){_vm.showDeleteSketchModal = !_vm.showDeleteSketchModal}}},[_c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('span',[_vm._v(\"Delete\")])])]):_vm._e(),(_vm.meta.permissions.delete)?_c('div',{staticClass:\"ts-dropdown-item\",attrs:{\"aria-role\":\"listitem\"}},[_c('a',{on:{\"click\":function($event){return _vm.archiveSketch()}}},[_c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{staticClass:\"fas fa-archive\"})]),_c('span',[_vm._v(\"Archive\")])])]):_vm._e(),(_vm.meta.permissions.read)?_c('div',{staticClass:\"ts-dropdown-item\",attrs:{\"aria-role\":\"listitem\"}},[_c('a',{on:{\"click\":function($event){return _vm.exportSketch()}}},[_c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{staticClass:\"fas fa-file-export\"})]),_c('span',[_vm._v(\"Export\")])])]):_vm._e()]):_vm._e()],2),_c('b-modal',{attrs:{\"active\":_vm.showShareModal,\"width\":640,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showShareModal=$event}}},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Share sketch\")])]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('ts-share-form',{on:{\"closeShareModal\":_vm.closeShareModal}})],1)])])]),_c('b-modal',{attrs:{\"active\":_vm.showUploadTimelineModal,\"width\":640,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showUploadTimelineModal=$event}}},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Upload new timeline\")])]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('p',[_vm._v(\"\\n              Supported formats are Plaso storage file, JSON(L), or a CSV file. If you are uploading a CSV or JSON(L)\\n              file make sure to read the\\n              \"),_c('a',{attrs:{\"href\":\"https://github.com/google/timesketch/blob/master/docs/guides/user/import-from-json-csv.md\",\"rel\":\"noreferrer\",\"target\":\"_blank\"}},[_vm._v(\"documentation\")]),_vm._v(\"\\n              to learn what columns are needed.\\n            \")]),_c('ts-upload-timeline-form',{on:{\"toggleModal\":function($event){_vm.showUploadTimelineModal = !_vm.showUploadTimelineModal}}})],1)])])]),_c('b-modal',{attrs:{\"active\":_vm.showDeleteSketchModal,\"width\":640,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showDeleteSketchModal=$event}}},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Delete sketch\")])]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('p',[_vm._v(\"Are you sure you want to delete this sketch?\")]),_c('div',{staticClass:\"field is-grouped\"},[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-danger\",on:{\"click\":_vm.deleteSketch}},[_c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('span',[_vm._v(\"Delete\")])])]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.showDeleteSketchModal = !_vm.showDeleteSketchModal}}},[_c('span',[_vm._v(\"I changed my mind, keep the sketch!\")])])])])])])])]),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"tile is-ancestor\"},[_c('div',{staticClass:\"tile is-8 is-parent\"},[_c('div',{staticClass:\"tile is-child tile-box\"},[_c('div',{staticClass:\"card-content\"},[_c('ts-sketch-summary',{attrs:{\"sketch\":_vm.sketch}})],1)])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child tile-box\"},[_vm._m(0),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"block-condensed\"},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Creator:\")]),_vm._v(\" \"+_vm._s(_vm.sketch.user.username)+\"\\n                \")]),(_vm.sortedUserList().length)?_c('div',{staticClass:\"block-condensed\"},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Shared with user:\")]),_vm._l((_vm.sortedUserList()),function(user){return _c('span',{key:user.name},[_vm._v(\"\\n                    \"+_vm._s(user)+\"\\n                  \")])})],2):_vm._e(),(_vm.sortedGroupList().length)?_c('div',{staticClass:\"block-condensed\"},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Shared with group:\")]),_vm._l((_vm.sortedGroupList()),function(group){return _c('span',{key:group.name},[_vm._v(\"\\n                    \"+_vm._s(group)+\"\\n                  \")])})],2):_vm._e()]),(_vm.sketch.active_timelines.length)?_c('div',{staticClass:\"card-header\"}):_vm._e(),(_vm.sketch.active_timelines.length)?_c('div',{staticClass:\"card-content\"},[_c('ts-sketch-metrics',{attrs:{\"timelines\":_vm.sketch.active_timelines,\"views\":_vm.meta.views,\"stories\":_vm.meta.stories,\"count\":_vm.count}})],1):_vm._e()])])])])]),(_vm.sketch.timelines && _vm.sketch.timelines.length ? _vm.sketch.timelines.length : false)?_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"tile is-ancestor\"},[_c('div',{staticClass:\"tile is-vertical is-12\"},[_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-parent is-vertical\"},[(_vm.sketch.timelines && _vm.sketch.timelines.length ? _vm.sketch.timelines.length : false)?_c('div',{staticClass:\"tile is-child tile-box\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Timelines\")]),_c('div',{staticClass:\"field is-grouped is-pulled-right\",staticStyle:{\"padding\":\"0.75rem\"}},[(_vm.meta.permissions.write)?_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"button is-success is-rounded is-small\",on:{\"click\":function($event){_vm.showUploadTimelineModal = !_vm.showUploadTimelineModal}}},[_vm._m(1),_c('span',[_vm._v(\"Upload timeline\")])])]):_vm._e()])]),_c('div',{staticStyle:{\"padding\":\"1.25em\"}},[_c('ts-timeline-list',{attrs:{\"timelines\":_vm.sketch.timelines,\"controls\":false,\"is-compact\":true}})],1)]):_vm._e(),(_vm.meta.stories.length)?_c('div',{staticClass:\"tile is-child tile-box\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Stories\")]),_c('div',{staticClass:\"field is-grouped is-pulled-right\",staticStyle:{\"padding\":\"0.75rem\"}},[_c('p',{staticClass:\"control\"},[_c('router-link',{staticClass:\"button is-rounded is-small is-success\",attrs:{\"to\":{ name: 'StoryOverview' }}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-plus-circle\"})]),_c('span',[_vm._v(\"Create story\")])])],1)])]),_c('div',{staticStyle:{\"padding\":\"1.25em\"}},[(!_vm.meta.stories.length)?_c('span',[_vm._v(\"No stories\")]):_vm._e(),_c('ts-sketch-story-list',{attrs:{\"controls\":false}})],1)]):_vm._e()]),_c('div',{staticClass:\"tile is-parent is-vertical\"},[(!_vm.meta.views.length && !_vm.sketch.graphs.length)?_c('div',{staticClass:\"tile is-child tile-box\"},[_vm._m(2),_c('div',{staticStyle:{\"padding\":\"1.25em\"}},[_c('p',[_vm._v(\"\\n                      Welcome to your new investigation. You get started by navigating to the\\n                      \"),_c('router-link',{staticStyle:{\"text-decoration\":\"underline\"},attrs:{\"to\":{ name: 'Explore' }}},[_vm._v(\"explore page\")]),_vm._v(\"\\n                      where you can navigate your timelines, use search queries, apply filters, view timeline data and\\n                      save your search discoveries as new saved searches.\\n                    \")],1),_c('br'),_c('router-link',{staticClass:\"button is-success\",attrs:{\"to\":{ name: 'Explore' }}},[_c('span',[_vm._v(\"Begin to explore your data\")]),_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-chevron-circle-right\"})])])],1)]):_vm._e(),(_vm.meta.views.length)?_c('div',{staticClass:\"tile is-child tile-box\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Saved searches\")]),_c('div',{staticClass:\"field is-grouped is-pulled-right\",staticStyle:{\"padding\":\"0.75rem\"}},[(_vm.meta.views.length)?_c('p',{staticClass:\"control\"},[_c('router-link',{staticClass:\"button is-rounded is-small\",attrs:{\"to\":{ name: 'SavedSearches' }}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-cog\"})]),_c('span',[_vm._v(\"Manage\")])])],1):_vm._e()])]),_c('div',{staticStyle:{\"padding\":\"1.25em\"}},[(!_vm.meta.views.length)?_c('span',[_vm._v(\"No saved searches\")]):_vm._e(),_c('ts-saved-view-list',{attrs:{\"views\":_vm.meta.views}})],1)]):_vm._e(),(_vm.sketch.graphs.length)?_c('div',{staticClass:\"tile is-child tile-box\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Saved graphs\")]),_c('div',{staticClass:\"field is-grouped is-pulled-right\",staticStyle:{\"padding\":\"0.75rem\"}},[_c('p',{staticClass:\"control\"},[_c('router-link',{staticClass:\"button is-rounded is-small is-success\",attrs:{\"to\":{ name: 'GraphOverview' }}},[_c('span',[_vm._v(\"Explore all graphs\")]),_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-chevron-circle-right\"})])])],1)])]),_c('div',{staticStyle:{\"padding\":\"1.25em\"}},[_c('ts-graph-list')],1)]):_vm._e()])])])])])]):_vm._e(),(!_vm.sketch.timelines.length)?_c('ts-sketch-timelines-manage',{attrs:{\"hide-navigation\":true}}):_vm._e()],1):_vm._e()],1):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Metadata\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-upload\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Get started!\")]),_c('div',{staticClass:\"field is-grouped is-pulled-right\",staticStyle:{\"padding\":\"0.75rem\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"font-size\":\"var(--font-size-title)\",\"margin-bottom\":\"10px\"},attrs:{\"contenteditable\":_vm.meta.permissions.write},domProps:{\"textContent\":_vm._s(_vm.sketch.name)},on:{\"blur\":_vm.onEditTitle,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.onEditTitle.apply(null, arguments)}}}),_c('p',{staticStyle:{\"max-width\":\"75ch\"},attrs:{\"contenteditable\":_vm.meta.permissions.write},domProps:{\"textContent\":_vm._s(_vm.sketch.description)},on:{\"blur\":_vm.onEditDescription,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.onEditDescription.apply(null, arguments)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <div\n      style=\"font-size: var(--font-size-title); margin-bottom:10px;\"\n      :contenteditable=\"meta.permissions.write\"\n      v-text=\"sketch.name\"\n      @blur=\"onEditTitle\"\n      @keydown.enter.prevent=\"onEditTitle\"\n    ></div>\n    <p\n      style=\"max-width:75ch;\"\n      :contenteditable=\"meta.permissions.write\"\n      v-text=\"sketch.description\"\n      @blur=\"onEditDescription\"\n      @keydown.enter.prevent=\"onEditDescription\"\n    ></p>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n  methods: {\n    onEditTitle(e) {\n      this.sketch.name = e.target.innerText\n      this.saveSketchSummary()\n    },\n    onEditDescription(e) {\n      this.sketch.description = e.target.innerText\n      this.saveSketchSummary()\n    },\n    saveSketchSummary() {\n      ApiClient.saveSketchSummary(this.sketch.id, this.sketch.name, this.sketch.description)\n        .then(response => {})\n        .catch(e => {\n          console.error(e)\n        })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SketchSummary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SketchSummary.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SketchSummary.vue?vue&type=template&id=3652e4d6&\"\nimport script from \"./SketchSummary.vue?vue&type=script&lang=js&\"\nexport * from \"./SketchSummary.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(\"Timelines\")]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.timelines && _vm.timelines.length ? _vm.timelines.length : 0))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(\"Views\")]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.views && _vm.views.length ? _vm.views.length : 0))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(\"Stories\")]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.views && _vm.stories.length ? _vm.stories.length : 0))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(\"Events\")]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm._f(\"compactNumber\")(_vm.count)))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <nav class=\"level\">\n    <div class=\"level-item has-text-centered\">\n      <div>\n        <p class=\"heading\">Timelines</p>\n        <p class=\"title\">{{ timelines && timelines.length ? timelines.length : 0 }}</p>\n      </div>\n    </div>\n    <div class=\"level-item has-text-centered\">\n      <div>\n        <p class=\"heading\">Views</p>\n        <p class=\"title\">{{ views && views.length ? views.length : 0 }}</p>\n      </div>\n    </div>\n    <div class=\"level-item has-text-centered\">\n      <div>\n        <p class=\"heading\">Stories</p>\n        <p class=\"title\">{{ views && stories.length ? stories.length : 0 }}</p>\n      </div>\n    </div>\n    <div class=\"level-item has-text-centered\">\n      <div>\n        <p class=\"heading\">Events</p>\n        <p class=\"title\">{{ count | compactNumber }}</p>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['timelines', 'views', 'stories', 'count'],\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SketchMetrics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SketchMetrics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SketchMetrics.vue?vue&type=template&id=c4ad250c&\"\nimport script from \"./SketchMetrics.vue?vue&type=script&lang=js&\"\nexport * from \"./SketchMetrics.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"content-list\"},[_vm._l((_vm.timelineList),function(timeline){return _c('li',{key:timeline.id,staticStyle:{\"padding\":\"10px\"}},[_c('ts-timeline-list-item',{attrs:{\"timeline\":timeline,\"controls\":_vm.controls,\"is-compact\":_vm.isCompact},on:{\"remove\":function($event){return _vm.remove(timeline)},\"save\":_vm.save}})],1)}),(_vm.timelines.length > 9)?_c('li',{staticStyle:{\"padding\":\"10px\",\"cursor\":\"pointer\"}},[(!_vm.showAllTimelines)?_c('span',{on:{\"click\":function($event){_vm.showAllTimelines = true}}},[_vm._v(\"Show more (\"+_vm._s(_vm.sketch.timelines.length - 10)+\")\")]):_vm._e(),(_vm.showAllTimelines)?_c('span',{on:{\"click\":function($event){_vm.showAllTimelines = false}}},[_vm._v(\"Show less\")]):_vm._e()]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-modal',{staticStyle:{\"z-index\":\"999\"},attrs:{\"active\":_vm.showInfoModal,\"width\":1024,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showInfoModal=$event}}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Detailed information for \"+_vm._s(_vm.timeline.name))])]),_c('div',{staticClass:\"card-content\"},[_c('ul',[_c('li',[_vm._v(\"Elasticsearch index: \"+_vm._s(_vm.timeline.searchindex.index_name))]),(_vm.meta.stats_per_timeline[_vm.timeline.id])?_c('li',[_vm._v(\"\\n              Number of events: \"+_vm._s(_vm._f(\"compactNumber\")(_vm.meta.stats_per_timeline[_vm.timeline.id]['count']))+\" (\"+_vm._s(_vm.meta.stats_per_timeline[_vm.timeline.id]['count'])+\")\\n            \")]):_vm._e(),_c('li',[_vm._v(\"Created by: \"+_vm._s(_vm.timeline.user.username))]),_c('li',[_vm._v(\"Created at: \"+_vm._s(_vm._f(\"moment\")(_vm.timeline.created_at,'YYYY-MM-DD HH:mm')))])]),_c('br'),_vm._l((_vm.timeline.datasources),function(datasource){return _c('b-message',{key:datasource.id,attrs:{\"type\":datasource.error_message ? 'is-danger' : 'is-success',\"title\":datasource.created_at,\"closable\":false}},[_c('ul',[_c('li',[_c('strong',[_vm._v(\"Provider:\")]),_vm._v(\" \"+_vm._s(datasource.provider))]),_c('li',[_c('strong',[_vm._v(\"Context:\")]),_vm._v(\" \"+_vm._s(datasource.context))]),_c('li',[_c('strong',[_vm._v(\"User:\")]),_vm._v(\" \"+_vm._s(datasource.user.username))]),_c('li',[_c('strong',[_vm._v(\"File on disk:\")]),_vm._v(\" \"+_vm._s(datasource.file_on_disk))]),_c('li',[_c('strong',[_vm._v(\"File size:\")]),_vm._v(\" \"+_vm._s(_vm._f(\"compactBytes\")(datasource.file_size)))]),_c('li',[_c('strong',[_vm._v(\"Original filename:\")]),_vm._v(\" \"+_vm._s(datasource.original_filename))]),_c('li',[_c('strong',[_vm._v(\"Data label:\")]),_vm._v(\" \"+_vm._s(datasource.data_label))])]),_c('br'),(datasource.error_message)?_c('div',[_c('strong',{staticStyle:{\"font-size\":\"1.2rem\",\"margin-bottom\":\"10px\"}},[_vm._v(\"Error detail\")]),_c('pre',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(_vm._s(datasource.error_message))])]):_vm._e()])})],2)])]),_c('button',{staticClass:\"modal-close is-large\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){_vm.showInfoModal = !_vm.showInfoModal}}})]),_c('b-modal',{staticStyle:{\"z-index\":\"999\"},attrs:{\"active\":_vm.showEditModal,\"width\":640,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showEditModal=$event}}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Rename timeline\")])]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTimelineName),expression:\"newTimelineName\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.newTimelineName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newTimelineName=$event.target.value}}})])]),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{staticClass:\"button is-success\",attrs:{\"type\":\"submit\",\"value\":\"Save\"},on:{\"click\":_vm.saveTimeline}})])])])])])])]),_c('button',{staticClass:\"modal-close is-large\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){_vm.showEditModal = !_vm.showEditModal}}})]),_c('b-modal',{staticStyle:{\"z-index\":\"999\"},attrs:{\"active\":_vm.showAnalyzerModal,\"width\":1024,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showAnalyzerModal=$event}}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Analyzer logs for \"+_vm._s(_vm.timeline.name))])]),(_vm.showAnalyzerModal)?_c('div',{staticClass:\"card-content\"},[_c('ts-analyzer-history',{attrs:{\"timeline\":_vm.timeline,\"isModal\":\"true\"},on:{\"closeHistory\":function($event){_vm.showAnalyzerModal = false}}})],1):_vm._e()])]),_c('button',{staticClass:\"modal-close is-large\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){_vm.showAnalyzerModal = !_vm.showAnalyzerModal}}})]),(_vm.timelineStatus === 'processing')?_c('div',{staticClass:\"ts-timeline-color-box is-pulled-left blink\",staticStyle:{\"background-color\":\"#f5f5f5\"}}):(_vm.timelineStatus === 'fail')?_c('div',{staticClass:\"ts-timeline-color-box is-pulled-left\",staticStyle:{\"background-color\":\"#f5f5f5\"},on:{\"click\":function($event){_vm.showInfoModal = !_vm.showInfoModal}}}):(_vm.timelineStatus === 'ready' && _vm.controls)?_c('div',{staticClass:\"dropdown is-pulled-left\",class:{ 'is-active': _vm.colorPickerActive }},[_c('div',{staticClass:\"dropdown-trigger\"},[_c('div',{staticClass:\"ts-timeline-color-box\",style:(_vm.timelineColorStyle),on:{\"click\":function($event){_vm.colorPickerActive = !_vm.colorPickerActive}}})]),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"id\":\"dropdown-menu\",\"role\":\"menu\"}},[_c('div',{staticClass:\"dropdown-content\",staticStyle:{\"padding\":\"0\"}},[_c('div',{staticClass:\"dropdown-item\",staticStyle:{\"padding\":\"0\"}},[_c('color-picker',{on:{\"input\":_vm.updateColor},model:{value:(_vm.initialColor),callback:function ($$v) {_vm.initialColor=$$v},expression:\"initialColor\"}})],1)])])]):(_vm.timelineStatus === 'ready')?_c('div',{staticClass:\"ts-timeline-color-box is-pulled-left\",style:(_vm.timelineColorStyle),on:{\"click\":function($event){_vm.colorPickerActive = !_vm.colorPickerActive}}}):_c('div',{staticClass:\"ts-timeline-color-box is-pulled-left\",staticStyle:{\"background-color\":\"#f5f5f5\"}}),_c('div',{staticClass:\"field is-grouped is-pulled-right\",staticStyle:{\"margin-top\":\"7px\"}},[(_vm.meta.permissions.write)?_c('span',{on:{\"click\":function($event){$event.stopPropagation();}}},[_c('ts-dropdown',{attrs:{\"width\":\"270px\"},scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('a',{attrs:{\"role\":\"button\"}},[_c('i',{staticClass:\"fas fa-ellipsis-v\",staticStyle:{\"padding-left\":\"14px\"}})])]},proxy:true}],null,false,4034084509)},[_c('div',{staticClass:\"ts-dropdown-item\",on:{\"click\":function($event){_vm.showInfoModal = !_vm.showInfoModal}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-info-circle\"})]),_c('span',[_vm._v(\"Info\")])]),(_vm.timelineStatus === 'ready')?_c('div',{staticClass:\"ts-dropdown-item\",on:{\"click\":function($event){_vm.showEditModal = !_vm.showEditModal}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('span',[_vm._v(\"Rename\")])]):_vm._e(),(_vm.timelineStatus === 'ready')?_c('div',{staticClass:\"ts-dropdown-item\",on:{\"click\":function($event){_vm.showAnalyzerModal = !_vm.showAnalyzerModal}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-history\"})]),_c('span',[_vm._v(\"Analyzer logs\")])]):_vm._e(),_c('div',{staticClass:\"ts-dropdown-item\",on:{\"click\":function($event){return _vm.remove()}}},[_c('span',{staticClass:\"icon is-small is-danger\"},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('span',[_vm._v(\"Delete\")])]),_c('hr'),(_vm.timelineStatus === 'ready')?_c('div',[_c('color-picker',{staticStyle:{\"box-shadow\":\"none\",\"background-color\":\"transparent\",\"padding\":\"0\"},attrs:{\"palette\":_vm.colorPickerPalette},on:{\"input\":_vm.updateColor},model:{value:(_vm.initialColor),callback:function ($$v) {_vm.initialColor=$$v},expression:\"initialColor\"}})],1):_vm._e()])],1):_vm._e()]),(!_vm.controls)?_c('div',{staticClass:\"field is-grouped is-pulled-right\",staticStyle:{\"margin-top\":\"10px\"}},[_c('span',{staticClass:\"is-size-7\"},[_vm._v(_vm._s(_vm._f(\"moment\")(_vm.timeline.updated_at,'YYYY-MM-DD HH:mm')))])]):_vm._e(),(_vm.controls)?_c('div',{staticClass:\"field is-grouped is-pulled-right\",staticStyle:{\"margin-top\":\"10px\"}},[(!_vm.isCompact)?_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-rounded is-small is-outlined\",on:{\"click\":function($event){_vm.showInfoModal = !_vm.showInfoModal}}},[_vm._m(0),_c('span',[_vm._v(\"Info\")])])]):_vm._e(),(_vm.meta.permissions.write && _vm.timelineStatus === 'ready' && _vm.controls)?_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-rounded is-small is-outlined\",on:{\"click\":function($event){_vm.showEditModal = !_vm.showEditModal}}},[_vm._m(1),_c('span',[_vm._v(\"Rename\")])])]):_vm._e(),(_vm.timelineStatus === 'ready' && _vm.controls)?_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small is-rounded is-outlined\",on:{\"click\":function($event){_vm.showAnalysisHistory = !_vm.showAnalysisHistory}}},[_vm._m(2),_c('span',[_vm._v(\"Analysis History\")])])]):_vm._e(),(_vm.meta.permissions.write && _vm.controls)?_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small is-rounded is-danger\",on:{\"click\":function($event){return _vm.remove(_vm.timeline)}}},[_vm._m(3),_c('span',[_vm._v(\"Remove\")])])]):_vm._e()]):_vm._e(),(_vm.timelineStatus === 'ready')?_c('router-link',{attrs:{\"to\":{ name: 'Explore', query: { timeline: _vm.timeline.id } }}},[_vm._v(_vm._s(_vm.timeline.name))]):_vm._e(),(_vm.timelineStatus !== 'ready')?_c('span',[_vm._v(_vm._s(_vm.timeline.name))]):_vm._e(),_c('br'),(_vm.timelineStatus === 'ready')?_c('span',{staticClass:\"is-size-7\"},[_c('span',{staticClass:\"is-small\",attrs:{\"title\":_vm.meta.stats_per_timeline[_vm.timeline.id]['count'] + ' events in index'}},[_vm._v(_vm._s(_vm._f(\"compactNumber\")(_vm.meta.stats_per_timeline[_vm.timeline.id]['count']))+\" events\")]),(_vm.timeline.datasources.length > 1)?_c('span',[_vm._v(\"\\n      (\"+_vm._s(_vm.timeline.datasources.length)+\" imports:\\n      \"),_c('span',{staticStyle:{\"cursor\":\"pointer\",\"text-decoration\":\"underline\"},on:{\"click\":function($event){_vm.showInfoModal = !_vm.showInfoModal}}},[_vm._v(\"details\")]),_vm._v(\")\")]):_vm._e(),(_vm.timeline.datasources.length === 1)?_c('span',[_vm._v(\" (imported with \"+_vm._s(_vm.timeline.datasources[0].provider)+\")\")]):_vm._e(),(_vm.datasourceErrors.length)?_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._m(4),_c('span',{staticStyle:{\"cursor\":\"pointer\",\"text-decoration\":\"underline\",\"margin-left\":\"5px\"},on:{\"click\":function($event){_vm.showInfoModal = !_vm.showInfoModal}}},[_vm._v(_vm._s(_vm.datasourceErrors.length)+\" failed imports\")])]):_vm._e()]):(_vm.timelineStatus === 'fail')?_c('span',{staticClass:\"is-size-7\"},[_vm._m(5),_vm._v(\"\\n    ERROR:\\n    \"),_c('span',{staticStyle:{\"cursor\":\"pointer\",\"text-decoration\":\"underline\"},on:{\"click\":function($event){_vm.showInfoModal = !_vm.showInfoModal}}},[_vm._v(\"Click here for details\")])]):(_vm.timelineStatus === 'processing')?_c('span',{staticClass:\"is-size-7\"},[_vm._v(\"\\n    Indexing in progress...\\n  \")]):_c('span',{staticClass:\"is-size-7\"},[_vm._v(\" Unknown status: \"+_vm._s(_vm.timelineStatus)+\" \")]),(_vm.showAnalysisHistory)?_c('div',[_c('ts-analyzer-history',{attrs:{\"timeline\":_vm.timeline},on:{\"closeHistory\":function($event){_vm.showAnalysisHistory = false}}})],1):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-info-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-edit\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-history\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-trash\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\",staticStyle:{\"color\":\"orange\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\",staticStyle:{\"color\":\"var(--font-color-red)\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card card-accent-background\",staticStyle:{\"margin-top\":\"15px\"}},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"\\n      Analysis history\\n    \")]),(_vm.isModal)?_c('span',{staticClass:\"card-header-icon\",attrs:{\"aria-label\":\"close\"}},[_c('span',{staticClass:\"delete\",on:{\"click\":function($event){return _vm.$emit('closeHistory')}}})]):_vm._e()]),_c('div',{staticClass:\"card-content\"},[(_vm.analyses.length)?_c('b-table',{attrs:{\"data\":_vm.analyses,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"paginated\":\"\",\"pagination-simple\":\"\",\"pagination-position\":\"bottom\",\"default-sort-direction\":\"desc\",\"sort-icon\":\"arrow-down\",\"sort-icon-size\":\"is-small\",\"icon-pack\":\"fas\",\"icon-prev\":\"chevron-left\",\"icon-next\":\"chevron-right\",\"default-sort\":\"created_at\"},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}},[_c('b-table-column',{attrs:{\"field\":\"created_at\",\"label\":\"Date\",\"width\":\"150\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\"\\n        \"+_vm._s(_vm._f(\"moment\")(new Date(props.row.created_at),'YYYY-MM-DD HH:mm:ss'))+\"\\n      \")]}}],null,false,66904155)}),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":\"Analyzer\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\"\\n        \"+_vm._s(props.row.analyzer_name)+\"\\n      \")]}}],null,false,2798663795)}),_c('b-table-column',{attrs:{\"field\":\"result\",\"label\":\"Result\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\"\\n        \"+_vm._s(props.row.result)+\"\\n      \")]}}],null,false,656249812)}),_c('b-table-column',{attrs:{\"field\":\"status\",\"label\":\"Status\",\"sortable\":\"\",\"width\":\"40\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\"\\n        \"+_vm._s(props.row.status[0].status)+\"\\n      \")]}}],null,false,3012980133)})],1):_vm._e(),(!(_vm.analyses && _vm.analyses.length))?_c('span',[_vm._v(\"No logs available. You need to run one of the analyzers first.\")]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div class=\"card card-accent-background\" style=\"margin-top:15px;\">\n    <header class=\"card-header\">\n      <p class=\"card-header-title\">\n        Analysis history\n      </p>\n      <span v-if=\"isModal\" class=\"card-header-icon\" aria-label=\"close\">\n        <span class=\"delete\" v-on:click=\"$emit('closeHistory')\"></span>\n      </span>\n    </header>\n    <div class=\"card-content\">\n      <b-table\n        v-if=\"analyses.length\"\n        :data=\"analyses\"\n        :current-page.sync=\"currentPage\"\n        :per-page=\"perPage\"\n        paginated\n        pagination-simple\n        pagination-position=\"bottom\"\n        default-sort-direction=\"desc\"\n        sort-icon=\"arrow-down\"\n        sort-icon-size=\"is-small\"\n        icon-pack=\"fas\"\n        icon-prev=\"chevron-left\"\n        icon-next=\"chevron-right\"\n        default-sort=\"created_at\"\n      >\n        <b-table-column field=\"created_at\" label=\"Date\" width=\"150\" sortable v-slot=\"props\">\n          {{ new Date(props.row.created_at) | moment('YYYY-MM-DD HH:mm:ss') }}\n        </b-table-column>\n\n        <b-table-column field=\"name\" label=\"Analyzer\" sortable v-slot=\"props\">\n          {{ props.row.analyzer_name }}\n        </b-table-column>\n\n        <b-table-column field=\"result\" label=\"Result\" sortable v-slot=\"props\">\n          {{ props.row.result }}\n        </b-table-column>\n\n        <b-table-column field=\"status\" label=\"Status\" sortable v-slot=\"props\" width=\"40\">\n          {{ props.row.status[0].status }}\n        </b-table-column>\n      </b-table>\n\n      <span v-if=\"!(analyses && analyses.length)\">No logs available. You need to run one of the analyzers first.</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  props: [\n    'timeline',\n    'isModal',\n  ],\n  data() {\n    return {\n      analyses: [],\n      currentPage: 1,\n      perPage: 5,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n  created() {\n    if (this.timeline) {\n      ApiClient.getSketchTimelineAnalysis(this.sketch.id, this.timeline.id)\n        .then(response => {\n          this.analyses = response.data.objects[0]\n        })\n        .catch(e => {})\n    }\n    // If no timeline was specified then loop over all of them\n    else {\n      this.sketch.timelines.forEach(timeline => {\n        ApiClient.getSketchTimelineAnalysis(this.sketch.id, timeline.id)\n        .then(response => {\n          this.analyses = this.analyses.concat(response.data.objects[0])\n        })\n        .catch(e => {})\n      })\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnalyzerHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnalyzerHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnalyzerHistory.vue?vue&type=template&id=3bcc9cf2&\"\nimport script from \"./AnalyzerHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./AnalyzerHistory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-dropdown',{attrs:{\"position\":_vm.position,\"append-to-body\":\"\",\"aria-role\":\"menu\"}},[_c('span',{attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_vm._t(\"dropdown-trigger-element\")],2),_c('div',{staticStyle:{\"border-radius\":\"6px\",\"background-color\":\"var(--dropdown-background-color)\",\"color\":\"var(--default-font-color)\",\"padding\":\"16px\",\"border\":\"1px solid var(--table-cell-border-color)\"},style:(_vm.dropdownWidth)},[_c('b-dropdown-item',{staticStyle:{\"color\":\"var(--default-font-color)\"},attrs:{\"paddingless\":\"\",\"custom\":\"\",\"focusable\":false}},[_vm._t(\"default\")],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <b-dropdown :position=\"position\" append-to-body aria-role=\"menu\">\n    <span slot=\"trigger\">\n      <slot name=\"dropdown-trigger-element\"></slot>\n    </span>\n    <div\n      style=\"border-radius:6px;background-color:var(--dropdown-background-color);color:var(--default-font-color);padding:16px;border: 1px solid var(--table-cell-border-color);\"\n      :style=\"dropdownWidth\"\n    >\n      <b-dropdown-item paddingless custom :focusable=\"false\" style=\"color:var(--default-font-color);\">\n        <slot></slot>\n      </b-dropdown-item>\n    </div>\n  </b-dropdown>\n</template>\n\n<script>\nexport default {\n  props: {\n    width: {\n      default: '300px',\n      type: String,\n    },\n    position: {\n      default: 'is-bottom-right',\n      type: String,\n    },\n  },\n  computed: {\n    dropdownWidth() {\n      let style = {\n        width: this.width,\n      }\n      return style\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dropdown.vue?vue&type=template&id=efe0a0bc&\"\nimport script from \"./Dropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./Dropdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nexport const colorPickerPalette = [\n  '#55efc4',\n  '#81ecec',\n  '#74b9ff',\n  '#a29bfe',\n  '#00b894',\n  '#00cec9',\n  '#0984e3',\n  '#6c5ce7',\n  '#ffeaa7',\n  '#fab1a0',\n  '#ff7675',\n  '#fd79a8',\n  '#fdcb6e',\n  '#e17055',\n  '#ff4d4d',\n  '#fffa65',\n  '#e84393',\n  '#f6e58d',\n  '#ffbe76',\n  '#ff7979',\n  '#badc58',\n  '#dff9fb',\n  '#f9ca24',\n  '#f0932b',\n  '#eb4d4b',\n  '#6ab04c',\n  '#c7ecee',\n  '#7ed6df',\n  '#e056fd',\n  '#686de0',\n  '#95afc0',\n  '#22a6b3',\n  '#4bcffa',\n  '#34e7e4',\n  '#0be881',\n  '#ffdd59',\n]\n","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <!-- Timeline info modal -->\n    <b-modal :active.sync=\"showInfoModal\" :width=\"1024\" scroll=\"keep\" style=\"z-index:999;\">\n      <div class=\"modal-background\"></div>\n      <div class=\"modal-content\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\">Detailed information for {{ timeline.name }}</p>\n          </header>\n          <div class=\"card-content\">\n            <ul>\n              <li>Elasticsearch index: {{ timeline.searchindex.index_name }}</li>\n              <li v-if=\"meta.stats_per_timeline[timeline.id]\">\n                Number of events: {{ meta.stats_per_timeline[timeline.id]['count'] | compactNumber }} ({{\n                  meta.stats_per_timeline[timeline.id]['count']\n                }})\n              </li>\n              <li>Created by: {{ timeline.user.username }}</li>\n              <li>Created at: {{ timeline.created_at | moment('YYYY-MM-DD HH:mm') }}</li>\n            </ul>\n            <br />\n\n            <b-message\n              v-for=\"datasource in timeline.datasources\"\n              :type=\"datasource.error_message ? 'is-danger' : 'is-success'\"\n              :title=\"datasource.created_at\"\n              :closable=\"false\"\n              :key=\"datasource.id\"\n            >\n              <ul>\n                <li><strong>Provider:</strong> {{ datasource.provider }}</li>\n                <li><strong>Context:</strong> {{ datasource.context }}</li>\n                <li><strong>User:</strong> {{ datasource.user.username }}</li>\n                <li><strong>File on disk:</strong> {{ datasource.file_on_disk }}</li>\n                <li><strong>File size:</strong> {{ datasource.file_size | compactBytes }}</li>\n                <li><strong>Original filename:</strong> {{ datasource.original_filename }}</li>\n                <li><strong>Data label:</strong> {{ datasource.data_label }}</li>\n              </ul>\n              <br />\n              <div v-if=\"datasource.error_message\">\n                <strong style=\"font-size:1.2rem; margin-bottom:10px;\">Error detail</strong>\n                <pre style=\"margin-top:10px;\">{{ datasource.error_message }}</pre>\n              </div>\n            </b-message>\n          </div>\n        </div>\n      </div>\n      <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"showInfoModal = !showInfoModal\"></button>\n    </b-modal>\n\n    <!-- Timeline edit modal -->\n    <b-modal :active.sync=\"showEditModal\" :width=\"640\" scroll=\"keep\" style=\"z-index:999;\">\n      <div class=\"modal-background\"></div>\n      <div class=\"modal-content\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\">Rename timeline</p>\n          </header>\n          <div class=\"card-content\">\n            <div class=\"content\">\n              <form @submit.prevent>\n                <!-- Without prevent(), the page will refresh -->\n                <div class=\"field\">\n                  <div class=\"control\">\n                    <input v-model=\"newTimelineName\" class=\"input\" type=\"text\" required autofocus />\n                  </div>\n                </div>\n                <div class=\"field\">\n                  <div class=\"control\">\n                    <input class=\"button is-success\" @click=\"saveTimeline\" type=\"submit\" value=\"Save\" />\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n      <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"showEditModal = !showEditModal\"></button>\n    </b-modal>\n\n    <!-- Analyzer logs modal -->\n    <b-modal :active.sync=\"showAnalyzerModal\" :width=\"1024\" scroll=\"keep\" style=\"z-index:999;\">\n      <div class=\"modal-background\"></div>\n      <div class=\"modal-content\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\">Analyzer logs for {{ timeline.name }}</p>\n          </header>\n          <div class=\"card-content\" v-if=\"showAnalyzerModal\">\n            <ts-analyzer-history :timeline=\"timeline\" isModal=\"true\" @closeHistory=\"showAnalyzerModal = false\"></ts-analyzer-history>\n          </div>\n        </div>\n      </div>\n      <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"showAnalyzerModal = !showAnalyzerModal\"></button>\n    </b-modal>\n\n    <div\n      v-if=\"timelineStatus === 'processing'\"\n      class=\"ts-timeline-color-box is-pulled-left blink\"\n      style=\"background-color: #f5f5f5;\"\n    ></div>\n    <div\n      v-else-if=\"timelineStatus === 'fail'\"\n      v-on:click=\"showInfoModal = !showInfoModal\"\n      class=\"ts-timeline-color-box is-pulled-left\"\n      style=\"background-color: #f5f5f5;\"\n    ></div>\n    <div\n      v-else-if=\"timelineStatus === 'ready' && controls\"\n      class=\"dropdown is-pulled-left\"\n      v-bind:class=\"{ 'is-active': colorPickerActive }\"\n    >\n      <div class=\"dropdown-trigger\">\n        <div\n          class=\"ts-timeline-color-box\"\n          v-bind:style=\"timelineColorStyle\"\n          v-on:click=\"colorPickerActive = !colorPickerActive\"\n        ></div>\n      </div>\n      <div class=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n        <div class=\"dropdown-content\" style=\"padding:0;\">\n          <div class=\"dropdown-item\" style=\"padding:0;\">\n            <color-picker v-model=\"initialColor\" @input=\"updateColor\"></color-picker>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      v-else-if=\"timelineStatus === 'ready'\"\n      class=\"ts-timeline-color-box is-pulled-left\"\n      v-bind:style=\"timelineColorStyle\"\n      v-on:click=\"colorPickerActive = !colorPickerActive\"\n    ></div>\n    <div v-else class=\"ts-timeline-color-box is-pulled-left\" style=\"background-color: #f5f5f5;\"></div>\n\n    <!-- 3-dots dropdown menu -->\n    <div class=\"field is-grouped is-pulled-right\" style=\"margin-top:7px;\">\n      <span v-if=\"meta.permissions.write\" @click.stop>\n        <ts-dropdown width=\"270px\">\n          <template v-slot:dropdown-trigger-element>\n            <a role=\"button\">\n              <i class=\"fas fa-ellipsis-v\" style=\"padding-left: 14px;\"></i>\n            </a>\n          </template>\n          <div class=\"ts-dropdown-item\" @click=\"showInfoModal = !showInfoModal\">\n            <span class=\"icon is-small\"><i class=\"fas fa-info-circle\"></i></span>\n            <span>Info</span>\n          </div>\n\n          <div class=\"ts-dropdown-item\" v-if=\"timelineStatus === 'ready'\" @click=\"showEditModal = !showEditModal\">\n            <span class=\"icon is-small\">\n              <i class=\"fas fa-edit\"></i>\n            </span>\n            <span>Rename</span>\n          </div>\n\n          <div\n            class=\"ts-dropdown-item\"\n            v-if=\"timelineStatus === 'ready'\"\n            @click=\"showAnalyzerModal = !showAnalyzerModal\"\n          >\n            <span class=\"icon is-small\"> <i class=\"fas fa-history\"></i> </span>\n            <span>Analyzer logs</span>\n          </div>\n\n          <div class=\"ts-dropdown-item\" @click=\"remove()\">\n            <span class=\"icon is-small is-danger\">\n              <i class=\"fas fa-trash\"></i>\n            </span>\n            <span>Delete</span>\n          </div>\n\n          <hr />\n\n          <div v-if=\"timelineStatus === 'ready'\">\n            <color-picker\n              v-model=\"initialColor\"\n              @input=\"updateColor\"\n              style=\"box-shadow: none; background-color: transparent; padding:0;\"\n              :palette=\"colorPickerPalette\"\n            ></color-picker>\n          </div>\n        </ts-dropdown>\n      </span>\n    </div>\n\n    <div v-if=\"!controls\" class=\"field is-grouped is-pulled-right\" style=\"margin-top:10px;\">\n      <span class=\"is-size-7\">{{ timeline.updated_at | moment('YYYY-MM-DD HH:mm') }}</span>\n    </div>\n\n    <div v-if=\"controls\" class=\"field is-grouped is-pulled-right\" style=\"margin-top:10px;\">\n      <p v-if=\"!isCompact\" class=\"control\">\n        <button class=\"button is-rounded is-small is-outlined\" v-on:click=\"showInfoModal = !showInfoModal\">\n          <span class=\"icon is-small\">\n            <i class=\"fas fa-info-circle\"></i>\n          </span>\n          <span>Info</span>\n        </button>\n      </p>\n      <p v-if=\"meta.permissions.write && timelineStatus === 'ready' && controls\" class=\"control\">\n        <button class=\"button is-rounded is-small is-outlined\" v-on:click=\"showEditModal = !showEditModal\">\n          <span class=\"icon is-small\">\n            <i class=\"fas fa-edit\"></i>\n          </span>\n          <span>Rename</span>\n        </button>\n      </p>\n\n      <p v-if=\"timelineStatus === 'ready' && controls\" class=\"control\">\n        <button class=\"button is-small is-rounded is-outlined\" @click=\"showAnalysisHistory = !showAnalysisHistory\">\n          <span class=\"icon is-small\">\n            <i class=\"fas fa-history\"></i>\n          </span>\n          <span>Analysis History</span>\n        </button>\n      </p>\n\n      <p v-if=\"meta.permissions.write && controls\" class=\"control\">\n        <button v-on:click=\"remove(timeline)\" class=\"button is-small is-rounded is-danger\">\n          <span class=\"icon is-small\">\n            <i class=\"fas fa-trash\"></i>\n          </span>\n          <span>Remove</span>\n        </button>\n      </p>\n    </div>\n\n    <router-link v-if=\"timelineStatus === 'ready'\" :to=\"{ name: 'Explore', query: { timeline: timeline.id } }\">{{\n      timeline.name\n    }}</router-link>\n    <span v-if=\"timelineStatus !== 'ready'\">{{ timeline.name }}</span>\n    <br />\n\n    <span v-if=\"timelineStatus === 'ready'\" class=\"is-size-7\">\n      <span class=\"is-small\" :title=\"meta.stats_per_timeline[timeline.id]['count'] + ' events in index'\"\n        >{{ meta.stats_per_timeline[timeline.id]['count'] | compactNumber }} events</span\n      >\n      <span v-if=\"timeline.datasources.length > 1\">\n        ({{ timeline.datasources.length }} imports:\n        <span v-on:click=\"showInfoModal = !showInfoModal\" style=\"cursor:pointer;text-decoration: underline;\"\n          >details</span\n        >)</span\n      >\n      <span v-if=\"timeline.datasources.length === 1\"> (imported with {{ timeline.datasources[0].provider }})</span>\n      <span v-if=\"datasourceErrors.length\" style=\"margin-left:10px;\">\n        <span class=\"icon is-small\" style=\"color:orange;\">\n          <i class=\"fas fa-exclamation-triangle\"></i>\n        </span>\n        <span\n          v-on:click=\"showInfoModal = !showInfoModal\"\n          style=\"cursor:pointer;text-decoration: underline; margin-left:5px;\"\n          >{{ datasourceErrors.length }} failed imports</span\n        >\n      </span>\n    </span>\n\n    <span v-else-if=\"timelineStatus === 'fail'\" class=\"is-size-7\">\n      <span class=\"icon is-small\" style=\"color:var(--font-color-red);\">\n        <i class=\"fas fa-exclamation-triangle\"></i>\n      </span>\n      ERROR:\n      <span v-on:click=\"showInfoModal = !showInfoModal\" style=\"cursor:pointer;text-decoration: underline\"\n        >Click here for details</span\n      >\n    </span>\n    <span v-else-if=\"timelineStatus === 'processing'\" class=\"is-size-7\">\n      Indexing in progress...\n    </span>\n    <span v-else class=\"is-size-7\"> Unknown status: {{ timelineStatus }} </span>\n\n    <div v-if=\"showAnalysisHistory\">\n      <ts-analyzer-history :timeline=\"timeline\" @closeHistory=\"showAnalysisHistory = false\"></ts-analyzer-history>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport { Compact } from 'vue-color'\nimport _ from 'lodash'\n\nimport ApiClient from '../../utils/RestApiClient'\n\nimport TsAnalyzerHistory from '../Analyze/AnalyzerHistory'\nimport TsDropdown from '../Common/Dropdown'\n\nimport { colorPickerPalette } from '../../definitions'\nimport EventBus from '../../main'\n\nexport default {\n  components: {\n    'color-picker': Compact,\n    TsAnalyzerHistory,\n    TsDropdown,\n  },\n  props: ['timeline', 'controls', 'isCompact'],\n  data() {\n    return {\n      checkedDataTypes: [],\n      initialColor: {},\n      newColor: '',\n      newTimelineName: '',\n      colorPickerActive: false,\n      showInfoModal: false,\n      showEditModal: false,\n      showAnalyzerModal: false,\n      analysisSessionId: false,\n      showAnalysisDetail: false,\n      showAnalysisHistory: false,\n      timelineStatus: null,\n      autoRefresh: false,\n      isOpen: false,\n      isDarkTheme: false,\n      colorPickerPalette: colorPickerPalette,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    timelineColorStyle() {\n      let backgroundColor = this.newColor || this.timeline.color\n      if (!backgroundColor.startsWith('#')) {\n        backgroundColor = '#' + backgroundColor\n      }\n      if (this.isDarkTheme) {\n        return {\n          'background-color': backgroundColor,\n          filter: 'grayscale(25%)',\n          color: '#333',\n        }\n      }\n      return {\n        'background-color': backgroundColor,\n      }\n    },\n    datasourceErrors() {\n      return this.timeline.datasources.filter(datasource => datasource.error_message)\n    },\n  },\n  methods: {\n    remove(timeline) {\n      if (confirm('Delete the timeline?')) {\n        this.$emit('remove', timeline)\n      }\n    },\n    // Set debounce to 300ms if full Chrome colorpicker is used.\n    updateColor: _.debounce(function(color) {\n      this.newColor = color.hex\n      if (this.newColor.startsWith('#')) {\n        this.newColor = this.newColor.substring(1)\n      }\n      Vue.set(this.timeline, 'color', this.newColor)\n      this.$emit('save', this.timeline)\n    }, 0),\n    saveTimeline() {\n      this.showEditModal = false\n      console.log(this.newTimelineName)\n      this.$emit('save', this.timeline, this.newTimelineName)\n    },\n    fetchData() {\n      ApiClient.getSketchTimeline(this.sketch.id, this.timeline.id)\n        .then(response => {\n          this.timelineStatus = response.data.objects[0].status[0].status\n          if (this.timelineStatus !== 'ready' && this.timelineStatus !== 'fail') {\n            this.autoRefresh = true\n          }else{\n            this.autoRefresh = false\n          }\n          this.$store.dispatch('updateSketch', this.$store.state.sketch.id)\n        })\n        .catch(e => {})\n    },\n    openFilteredTimeline: function(index, dataTypes) {\n      if (dataTypes.length === 0) {\n        return false\n      }\n      let searchQuery = ''\n      for (let i = 0; i < dataTypes.length; i++) {\n        const dt = dataTypes[i]\n        if (i !== 0) {\n          searchQuery += ' OR '\n        }\n        searchQuery += 'data_type:\"' + dt + '\"'\n      }\n      this.$router.push({ name: 'Explore', query: { index: index, q: searchQuery } })\n    },\n    toggleTheme: function() {\n      this.isDarkTheme = !this.isDarkTheme\n    },\n  },\n  mounted() {\n    // Hide color picket when clicked outside.\n    let self = this\n    window.addEventListener('click', function(e) {\n      if (!self.$el.contains(e.target)) {\n        self.colorPickerActive = false\n      }\n    })\n  },\n  created() {\n    this.isDarkTheme = localStorage.theme === 'dark'\n    EventBus.$on('isDarkTheme', this.toggleTheme)\n\n    this.initialColor = {\n      hex: this.timeline.color,\n    }\n    this.timelineStatus = this.timeline.status[0].status\n    if (this.timelineStatus !== 'ready' && this.timelineStatus !== 'fail') {\n      this.autoRefresh = true\n    }else{\n      this.autoRefresh = false\n    }\n  },\n  beforeDestroy() {\n    clearInterval(this.t)\n    this.t = false\n  },\n  watch: {\n    autoRefresh(val) {\n      if (val && !this.t) {\n        this.t = setInterval(\n          function() {\n            this.fetchData()\n            if (this.timelineStatus === 'ready' || this.timelineStatus === 'fail') {\n              this.autoRefresh = false\n            }\n          }.bind(this),\n          5000\n        )\n      } else {\n        clearInterval(this.t)\n        this.t = false\n      }\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\">\n.icon {\n  padding-right: 8px;\n}\n.list-item {\n  display: inline-block;\n  margin-right: 10px;\n}\n.list-enter-active,\n.list-leave-active {\n  transition: all 0.5s;\n}\n.list-enter,\n.list-leave-to {\n  opacity: 0;\n  transform: translateY(30px);\n}\n.vc-sketch {\n  box-shadow: none;\n}\n.blink {\n  animation: blinker 1s linear infinite;\n}\n.checkbox-margin {\n  margin-left: 10px;\n  margin-right: 6px;\n}\n.small-top-margin {\n  margin-top: 4px;\n}\n\n@keyframes blinker {\n  50% {\n    opacity: 40%;\n  }\n}\n\n.table th {\n  color: var(--default-font-color);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimelineListItem.vue?vue&type=template&id=4b58650c&scoped=true&\"\nimport script from \"./TimelineListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./TimelineListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimelineListItem.vue?vue&type=style&index=0&id=4b58650c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b58650c\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <ul class=\"content-list\">\n    <li style=\"padding:10px;\" v-for=\"timeline in timelineList\" :key=\"timeline.id\">\n      <ts-timeline-list-item\n        :timeline=\"timeline\"\n        :controls=\"controls\"\n        :is-compact=\"isCompact\"\n        @remove=\"remove(timeline)\"\n        @save=\"save\"\n      ></ts-timeline-list-item>\n    </li>\n    <li v-if=\"timelines.length > 9\" style=\"padding:10px; cursor:pointer;\">\n      <span v-if=\"!showAllTimelines\" v-on:click=\"showAllTimelines = true\"\n        >Show more ({{ sketch.timelines.length - 10 }})</span\n      >\n      <span v-if=\"showAllTimelines\" v-on:click=\"showAllTimelines = false\">Show less</span>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsTimelineListItem from './TimelineListItem'\n\nexport default {\n  components: { TsTimelineListItem },\n  props: ['timelines', 'controls', 'isCompact'],\n  data() {\n    return {\n      showAllTimelines: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    timelineList() {\n      let timelines = [...this.timelines]\n      if (this.showAllTimelines) {\n        return timelines.reverse()\n      }\n      if (this.isCompact && this.timelines.length > 9) {\n        return timelines.reverse().slice(0, 10)\n      } else {\n        return timelines.reverse()\n      }\n    },\n  },\n  methods: {\n    remove(timeline) {\n      ApiClient.deleteSketchTimeline(this.sketch.id, timeline.id)\n        .then(response => {\n          this.$store.dispatch('updateSketch', this.sketch.id)\n        })\n        .catch(e => {\n          console.error(e)\n        })\n    },\n    save(timeline, newTimelineName = false) {\n      ApiClient.saveSketchTimeline(\n        this.sketch.id,\n        timeline.id,\n        newTimelineName || timeline.name,\n        timeline.description,\n        timeline.color\n      )\n        .then(() => {\n          this.$store.dispatch('updateSketch', this.sketch.id).then(() => {})\n        })\n        .catch(e => {\n          console.error(e)\n        })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimelineList.vue?vue&type=template&id=04923966&\"\nimport script from \"./TimelineList.vue?vue&type=script&lang=js&\"\nexport * from \"./TimelineList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{staticClass:\"content-list\"},_vm._l((_vm.views),function(view,index){return _c('li',{key:view.id,staticStyle:{\"padding\":\"10px\",\"border-bottom\":\"none\"}},[_c('router-link',{attrs:{\"to\":{ name: 'Explore', query: { view: view.id } }}},[_vm._v(_vm._s(view.name))]),_c('br'),(!_vm.controls)?_c('span',{staticClass:\"is-size-7\"},[_vm._v(\"\\n        Created \"+_vm._s(_vm._f(\"moment\")(view.created_at,'YYYY-MM-DD HH:mm'))+\" \"),(view.user)?_c('span',[_vm._v(\" by \"+_vm._s(view.user))]):_vm._e(),(view.description)?_c('span',[_vm._v(\" (\"+_vm._s(view.description)+\")\")]):_vm._e()]):_vm._e(),(_vm.controls)?_c('span',{staticClass:\"is-size-7\"},[_c('b',[_vm._v(\"Query:\")]),_vm._v(\" \"+_vm._s(view.query)+\" \")]):_vm._e(),(_vm.controls)?_c('div',{staticClass:\"field is-grouped is-pulled-right\",staticStyle:{\"margin-top\":\"-15px\"}},[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small is-rounded is-danger\",on:{\"click\":function($event){return _vm.remove(view, index)}}},[_vm._m(0,true),_c('span',[_vm._v(\"Remove\")])])])]):_vm._e()],1)}),0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-trash\"})])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ul class=\"content-list\">\n      <li style=\"padding:10px;border-bottom:none;\" v-for=\"(view, index) in views\" :key=\"view.id\">\n        <router-link :to=\"{ name: 'Explore', query: { view: view.id } }\">{{ view.name }}</router-link>\n        <br />\n        <span v-if=\"!controls\" class=\"is-size-7\">\n          Created {{ view.created_at | moment('YYYY-MM-DD HH:mm') }} <span v-if=\"view.user\"> by {{ view.user }}</span>\n          <span v-if=\"view.description\"> ({{ view.description }})</span>\n        </span>\n        <span v-if=\"controls\" class=\"is-size-7\"> <b>Query:</b> {{ view.query }} </span>\n        <div v-if=\"controls\" class=\"field is-grouped is-pulled-right\" style=\"margin-top: -15px;\">\n          <p class=\"control\">\n            <button v-on:click=\"remove(view, index)\" class=\"button is-small is-rounded is-danger\">\n              <span class=\"icon is-small\">\n                <i class=\"fas fa-trash\"></i>\n              </span>\n              <span>Remove</span>\n            </button>\n          </p>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  props: ['views', 'controls'],\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n  methods: {\n    remove(view, index) {\n      Vue.delete(this.views, index)\n      ApiClient.deleteView(this.sketch.id, view.id)\n        .then(response => {})\n        .catch(e => {\n          console.error(e)\n        })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewList.vue?vue&type=template&id=7441c71a&\"\nimport script from \"./ViewList.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{staticClass:\"content-list\"},_vm._l((_vm.meta.stories),function(story){return _c('li',{key:story.id,staticStyle:{\"padding\":\"10px\",\"border-bottom\":\"none\"}},[_c('div',[_c('router-link',{attrs:{\"to\":{ name: 'StoryContent', params: { sketchId: _vm.sketch.id, storyId: story.id } }}},[_vm._v(_vm._s(story.title))]),_c('div',{staticClass:\"field is-grouped is-pulled-right\",staticStyle:{\"margin-top\":\"10px\"}},[_c('p',{staticClass:\"control\"},[(_vm.controls)?_c('button',{staticClass:\"button is-small is-rounded is-danger\",on:{\"click\":function($event){return _vm.remove(story)}}},[_vm._m(0,true),_c('span',[_vm._v(\"Remove\")])]):_vm._e()])]),_c('br'),_c('span',{staticClass:\"is-size-7\"},[_vm._v(\"Last activity \"+_vm._s(_vm._f(\"moment\")(story.updated_at,'YYYY-MM-DD HH:mm')))])],1)])}),0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-trash\"})])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ul class=\"content-list\">\n      <li style=\"padding:10px;border-bottom:none;\" v-for=\"story in meta.stories\" :key=\"story.id\">\n        <div>\n          <router-link :to=\"{ name: 'StoryContent', params: { sketchId: sketch.id, storyId: story.id } }\">{{\n            story.title\n          }}</router-link>\n          <div class=\"field is-grouped is-pulled-right\" style=\"margin-top:10px;\">\n            <p class=\"control\">\n              <button v-if=\"controls\" v-on:click=\"remove(story)\" class=\"button is-small is-rounded is-danger\">\n                <span class=\"icon is-small\">\n                  <i class=\"fas fa-trash\"></i>\n                </span>\n                <span>Remove</span>\n              </button>\n            </p>\n          </div>\n          <br />\n          <span class=\"is-size-7\">Last activity {{ story.updated_at | moment('YYYY-MM-DD HH:mm') }}</span>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  props: ['controls'],\n  data() {\n    return {\n      stories: [],\n    }\n  },\n  methods: {\n    remove(story) {\n      ApiClient.deleteStory(this.sketch.id, story.id)\n        .then(response => {\n          this.$store.dispatch('updateSketch', this.sketch.id)\n        })\n        .catch(e => {\n          console.error(e)\n        })\n    },\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoryList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoryList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StoryList.vue?vue&type=template&id=b1f94040&scoped=true&\"\nimport script from \"./StoryList.vue?vue&type=script&lang=js&\"\nexport * from \"./StoryList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1f94040\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm.apply(null, arguments)}}},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"file has-name\"},[_c('label',{staticClass:\"file-label\"},[_c('input',{staticClass:\"file-input\",attrs:{\"id\":\"datafile\",\"type\":\"file\",\"name\":\"resume\"},on:{\"change\":function($event){return _vm.setFile($event.target.files)}}}),_vm._m(0),(_vm.fileName)?_c('span',{staticClass:\"file-name\"},[(!_vm.fileName)?_c('span',[_vm._v(\"Please select a file\")]):_vm._e(),_vm._v(\"\\n            \"+_vm._s(_vm.fileName)+\"\\n          \")]):_vm._e()])])]),_c('div',{staticClass:\"field\"},[(['json', 'jsonl', 'csv'].includes(_vm.extension) && _vm.valuesString !== '')?_c('div',[_c('hr'),_c('button',{staticClass:\"button is-success\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.showHelper}},[_vm._v(\"\\n          \"+_vm._s(_vm.showHelperFlag ? \"Hide Helper\" : \"Show Helper\"))]),_vm._v(\" \\n        \"),_c('button',{staticClass:\"button is-success\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.showPreview}},[_vm._v(\"\\n          \"+_vm._s(_vm.showPreviewFlag ? \"Hide preview\" : \"Show preview\"))]),_vm._v(\" \\n        \"),(_vm.showPreviewFlag)?_c('button',{staticClass:\"button is-success\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.showAddColumn}},[_vm._v(\"\\n          \"+_vm._s(_vm.showAddColumnFlag ? \"Hide colums\" : \"Add Columns\"))]):_vm._e(),_c('br'),_c('br'),(_vm.showPreviewFlag)?_c('div',[_vm._m(1),(_vm.showAddColumnFlag)?_c('ul',{staticStyle:{\"list-style\":\"none\",\"height\":\"100px\",\"width\":\"100%\",\"overflow\":\"auto\"}},_vm._l((_vm.allHeaders),function(header){return _c('li',{key:header},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkedHeaders),expression:\"checkedHeaders\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"value\":header,\"checked\":Array.isArray(_vm.checkedHeaders)?_vm._i(_vm.checkedHeaders,header)>-1:(_vm.checkedHeaders)},on:{\"change\":function($event){var $$a=_vm.checkedHeaders,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=header,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.checkedHeaders=$$a.concat([$$v]))}else{$$i>-1&&(_vm.checkedHeaders=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.checkedHeaders=$$c}}}}),_vm._v(\"\\n              \"+_vm._s(header)+\"\\n            \")])}),0):_vm._e(),_c('br'),_c('table',{staticClass:\"table is-striped\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"example\"}},[_c('thead',[_c('tr',_vm._l((_vm.headersTable),function(mandatoryHeader){return _c('th',{key:mandatoryHeader.name,style:(mandatoryHeader.color)},[_vm._v(\"\\n                  \"+_vm._s(mandatoryHeader.name)+\"\\n                \")])}),0)]),_c('tbody',_vm._l((_vm.numberRows),function(i){return _c('tr',{key:i},_vm._l((_vm.headersTable),function(mandatoryHeader){return _c('td',{key:mandatoryHeader.name},[_vm._v(\"\\n                  \"+_vm._s(mandatoryHeader.values[i - 1])+\"\\n                \")])}),0)}),0)])]):_vm._e(),(_vm.showHelperFlag)?_c('div',[_vm._m(2),_c('section',{staticClass:\"modal-card-body\"},[_c('div',[_vm._v(\"\\n              The form below allows you to map the headers in your file to the\\n              mandatory ones:\\n              \"),_c('div',{staticClass:\"content\"},[_c('ul',_vm._l((_vm.missingHeaders),function(header){return _c('li',{key:header.name},[_vm._v(\"\\n                    \"+_vm._s(header.name)+\"\\n                  \")])}),0)]),_vm._v(\"\\n              You can map a missing header using a dropdown menu or a list of\\n              checkboxes.\\n              \"),_vm._m(3)])])]):_vm._e(),_c('hr',{staticStyle:{\"height\":\"2px\",\"border-width\":\"0\",\"color\":\"gray\",\"background-color\":\"#b5b5b5\"}}),_vm._l((_vm.missingHeaders),function(header){return _c('div',{key:header.name},[_c('span',{staticClass:\"tag is-info is-large is-light\"},[_c('label',[_vm._v(_vm._s(header.name))])]),_vm._v(\"\\n           \\n\\n          \"),(header.type === 'single')?_c('div',{staticClass:\"select is-link\"},[_c('select',{attrs:{\"name\":header.name,\"id\":header.name},on:{\"change\":function($event){return _vm.changeHeaderMapping(\n                  $event.target.options[$event.target.options.selectedIndex]\n                    .text,\n                  header.name\n                )}}},[_c('option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(\"-\")]),_c('option',[_vm._v(\"Create new header\")]),_vm._l((_vm.headers),function(h){return _c('option',{key:h,domProps:{\"value\":h}},[(\n                    !_vm.mandatoryHeaders.map(function (header) { return header.name; }).includes(h)\n                  )?_c('div',[_vm._v(\"\\n                  \"+_vm._s(h)+\"\\n                \")]):_vm._e()])})],2)]):_vm._e(),_vm._v(\"\\n           \\n          \"),(_vm.getDefaultValue(header.name))?_c('span',{staticClass:\"tag is-info is-large is-light\"},[_c('label',[_vm._v(\"Def. Value: \"+_vm._s(_vm.getDefaultValue(header.name)))])]):_vm._e(),(header.type === 'multiple')?_c('div',[_c('br'),_c('ul',{staticClass:\"city__list\",staticStyle:{\"list-style\":\"none\",\"height\":\"100px\",\"width\":\"100%\",\"overflow\":\"auto\"}},_vm._l((_vm.headers),function(h){return _c('li',{key:h},[_c('input',{attrs:{\"id\":\"chk\",\"type\":\"checkbox\",\"name\":header.name},domProps:{\"value\":h},on:{\"click\":function($event){return _vm.changeHeaderMapping(h, header.name)}}}),_vm._v(\"\\n                \"+_vm._s(h)+\"\\n              \")])}),0)]):_vm._e(),_c('hr')])}),(_vm.extension === 'csv')?_c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\"CSV Separator\")]),_vm._l((_vm.delimitersList),function(v,key){return _c('div',{key:key,staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.CSVDelimiter),expression:\"CSVDelimiter\"}],attrs:{\"type\":\"radio\",\"name\":\"CSVDelimiter\"},domProps:{\"value\":v,\"checked\":_vm._q(_vm.CSVDelimiter,v)},on:{\"change\":[function($event){_vm.CSVDelimiter=v},_vm.changeCSVDelimiter]}}),_vm._v(\"\\n            \"+_vm._s(key)+\" (\"+_vm._s(v)+\")\\n          \")])})],2):_vm._e()],2):_vm._e()]),(_vm.fileName)?_c('div',{staticClass:\"field\"},[_c('hr',{staticStyle:{\"height\":\"2px\",\"border-width\":\"0\",\"color\":\"gray\",\"background-color\":\"#b5b5b5\"}}),_c('label',{staticClass:\"label\"},[_vm._v(\"Name\")]),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.name),expression:\"form.name\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Name your timeline\"},domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value)}}})]),_c('hr')]):_vm._e(),(!_vm.error.length)?_c('div',{staticClass:\"error\"},[(_vm.fileName && _vm.percentCompleted === 0)?_c('div',{staticClass:\"field\"},[_vm._m(4)]):_vm._e()]):_c('div',_vm._l((_vm.error),function(errorMessage,index){return _c('span',{key:index},[_c('article',{staticClass:\"message is-danger mb-0\"},[_c('div',{staticClass:\"message-body\"},[_vm._v(\"\\n            \"+_vm._s(errorMessage)+\"\\n          \")])])])}),0)]),_c('br'),(_vm.percentCompleted !== 0)?_c('b-progress',{attrs:{\"value\":_vm.percentCompleted,\"show-value\":\"\",\"format\":\"percent\",\"type\":\"is-info\",\"size\":\"is-medium\"}},[(_vm.percentCompleted === 100)?_c('span',[_vm._v(\"Waiting for request to finish..\")]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"file-cta\"},[_c('span',{staticClass:\"file-icon\"},[_c('i',{staticClass:\"fas fa-upload\"})]),_c('span',{staticClass:\"file-label\"},[_vm._v(\" Choose a file… \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('article',{staticClass:\"message is-info mb-0\"},[_c('div',{staticClass:\"message-body\"},[_vm._v(\"\\n                The columns shown in the preview are only a representation of\\n                what will be uploaded on the server. Adding or removing\\n                columns using the \\\"Add columns\\\" button does not affect what\\n                will be uploaded on the server.\\n              \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(\"Header Mapping Helper\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('ul',[_c('li',[_vm._v(\"\\n                    Dropdown menu:\\n                    \"),_c('div',{staticClass:\"content\"},[_c('ul',[_c('li',[_vm._v(\"\\n                          Choose one existing header from your CSV. Timesketch\\n                          will rename that column with the name of the missing\\n                          header.\\n                        \")]),_c('li',[_vm._v(\"\\n                          Create a new column by selecting \\\"Create new\\n                          header\\\". Timesketch will add a new column with the\\n                          name of the missing header. Doing so, you need to\\n                          specify a default value that Timesketch will use to\\n                          fill the new column.\\n                        \")])])])]),_c('li',[_vm._v(\"\\n                    List of checkboxes:\\n                    \"),_c('div',{staticClass:\"content\"},[_c('ul',[_c('li',[_vm._v(\"\\n                          By choosing only one checkbox, Timesketch will\\n                          rename that column with the name of the missing\\n                          header.\\n                        \")]),_c('li',[_vm._v(\"\\n                          By choosing more than one checkbox, Timesketch will\\n                          create a new column that combines the different\\n                          values of the selected columns.\\n                        \")])])])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"control\"},[_c('input',{staticClass:\"button is-success\",attrs:{\"type\":\"submit\",\"value\":\"Upload\"}})])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <form v-on:submit.prevent=\"submitForm\">\n      <div class=\"field\">\n        <div class=\"file has-name\">\n          <label class=\"file-label\">\n            <input\n              id=\"datafile\"\n              class=\"file-input\"\n              type=\"file\"\n              name=\"resume\"\n              @change=\"setFile($event.target.files)\"\n            />\n            <span class=\"file-cta\">\n              <span class=\"file-icon\">\n                <i class=\"fas fa-upload\"></i>\n              </span>\n              <span class=\"file-label\"> Choose a file… </span>\n            </span>\n            <span class=\"file-name\" v-if=\"fileName\">\n              <span v-if=\"!fileName\">Please select a file</span>\n              {{ fileName }}\n            </span>\n          </label>\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <div v-if=\"['json', 'jsonl', 'csv'].includes(extension) && valuesString !== ''\">\n          <hr />\n\n          <!-- List of button: showHelper, showPreview, addColumnsToPreview -->\n          <button type=\"button\" class=\"button is-success\" @click=\"showHelper\">\n            {{ showHelperFlag ? \"Hide Helper\" : \"Show Helper\" }}</button\n          >&emsp;\n          <button type=\"button\" class=\"button is-success\" @click=\"showPreview\">\n            {{ showPreviewFlag ? \"Hide preview\" : \"Show preview\" }}</button\n          >&emsp;\n          <button\n            v-if=\"showPreviewFlag\"\n            type=\"button\"\n            class=\"button is-success\"\n            @click=\"showAddColumn\"\n          >\n            {{ showAddColumnFlag ? \"Hide colums\" : \"Add Columns\" }}</button\n          ><br /><br />\n\n          <!-- Dynamically generation of the preview of the CSV file -->\n          <div v-if=\"showPreviewFlag\">\n            <span>\n              <article class=\"message is-info mb-0\">\n                <div class=\"message-body\">\n                  The columns shown in the preview are only a representation of\n                  what will be uploaded on the server. Adding or removing\n                  columns using the \"Add columns\" button does not affect what\n                  will be uploaded on the server.\n                </div>\n              </article>\n            </span>\n            <ul\n              v-if=\"showAddColumnFlag\"\n              style=\"\n                list-style: none;\n                height: 100px;\n                width: 100%;\n                overflow: auto;\n              \"\n            >\n              <li v-for=\"header in allHeaders\" :key=\"header\">\n                <input\n                  type=\"checkbox\"\n                  :value=\"header\"\n                  v-model=\"checkedHeaders\"\n                />\n                {{ header }}\n              </li>\n            </ul>\n            <br />\n            <table id=\"example\" class=\"table is-striped\" style=\"width: 100%\">\n              <thead>\n                <tr>\n                  <th\n                    v-for=\"mandatoryHeader in headersTable\"\n                    :key=\"mandatoryHeader.name\"\n                    :style=\"mandatoryHeader.color\"\n                  >\n                    {{ mandatoryHeader.name }}\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"i in numberRows\" :key=\"i\">\n                  <td\n                    v-for=\"mandatoryHeader in headersTable\"\n                    :key=\"mandatoryHeader.name\"\n                  >\n                    {{ mandatoryHeader.values[i - 1] }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n\n          <!-- Helper menu -->\n          <div v-if=\"showHelperFlag\">\n            <header class=\"modal-card-head\">\n              <p class=\"modal-card-title\">Header Mapping Helper</p>\n            </header>\n            <section class=\"modal-card-body\">\n              <div>\n                The form below allows you to map the headers in your file to the\n                mandatory ones:\n                <div class=\"content\">\n                  <ul>\n                    <li v-for=\"header in missingHeaders\" :key=\"header.name\">\n                      {{ header.name }}\n                    </li>\n                  </ul>\n                </div>\n                You can map a missing header using a dropdown menu or a list of\n                checkboxes.\n                <div class=\"content\">\n                  <ul>\n                    <li>\n                      Dropdown menu:\n                      <div class=\"content\">\n                        <ul>\n                          <li>\n                            Choose one existing header from your CSV. Timesketch\n                            will rename that column with the name of the missing\n                            header.\n                          </li>\n                          <li>\n                            Create a new column by selecting \"Create new\n                            header\". Timesketch will add a new column with the\n                            name of the missing header. Doing so, you need to\n                            specify a default value that Timesketch will use to\n                            fill the new column.\n                          </li>\n                        </ul>\n                      </div>\n                    </li>\n                    <li>\n                      List of checkboxes:\n                      <div class=\"content\">\n                        <ul>\n                          <li>\n                            By choosing only one checkbox, Timesketch will\n                            rename that column with the name of the missing\n                            header.\n                          </li>\n                          <li>\n                            By choosing more than one checkbox, Timesketch will\n                            create a new column that combines the different\n                            values of the selected columns.\n                          </li>\n                        </ul>\n                      </div>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </section>\n          </div>\n          <hr\n            style=\"\n              height: 2px;\n              border-width: 0;\n              color: gray;\n              background-color: #b5b5b5;\n            \"\n          />\n\n          <!-- \n          Next lines of code represent the headers mapping selections.\n            It is dynamically generated according to the missing headers.\n            The user may have 3 possibilities to map the mandatory header:\n            1) Map it with one found in the CSV (1:1 mapping)\n            2) Map it with multiple headers found in the CSV (1:N mapping)\n            3) Create a new column and do not do any mapping\n          -->\n          <div v-for=\"header in missingHeaders\" :key=\"header.name\">\n            <span class=\"tag is-info is-large is-light\"\n              ><label>{{ header.name }}</label></span\n            >\n            &emsp;\n\n            <!-- Dropdown menu: 1:1 mapping OR create new header -->\n            <div v-if=\"header.type === 'single'\" class=\"select is-link\">\n              <select\n                :name=\"header.name\"\n                :id=\"header.name\"\n                @change=\"\n                  changeHeaderMapping(\n                    $event.target.options[$event.target.options.selectedIndex]\n                      .text,\n                    header.name\n                  )\n                \"\n              >\n                <option selected disabled>-</option>\n                <option>Create new header</option>\n                <option v-for=\"h in headers\" :value=\"h\" :key=\"h\">\n                  <div\n                    v-if=\"\n                      !mandatoryHeaders.map((header) => header.name).includes(h)\n                    \"\n                  >\n                    {{ h }}\n                  </div>\n                </option>\n              </select>\n            </div>\n            &emsp;\n            <span\n              v-if=\"getDefaultValue(header.name)\"\n              class=\"tag is-info is-large is-light\"\n            >\n              <label>Def. Value: {{ getDefaultValue(header.name) }}</label>\n            </span>\n\n            <!-- List of checkboxes: 1:N mapping -->\n            <div v-if=\"header.type === 'multiple'\">\n              <br />\n              <ul\n                class=\"city__list\"\n                style=\"\n                  list-style: none;\n                  height: 100px;\n                  width: 100%;\n                  overflow: auto;\n                \"\n              >\n                <li v-for=\"h in headers\" :key=\"h\">\n                  <input\n                    id=\"chk\"\n                    type=\"checkbox\"\n                    :value=\"h\"\n                    :name=\"header.name\"\n                    @click=\"changeHeaderMapping(h, header.name)\"\n                  />\n                  {{ h }}\n                </li>\n              </ul>\n            </div>\n            <hr />\n          </div>\n\n          <!--\n            CSV delimiter selection: the program will parse \n            the file according to this choice\n          -->\n          <div v-if=\"extension === 'csv'\">\n            <label class=\"label\">CSV Separator</label>\n            <div class=\"control\" v-for=\"(v, key) in delimitersList\" :key=\"key\">\n              <input\n                type=\"radio\"\n                name=\"CSVDelimiter\"\n                :value=\"v\"\n                v-model=\"CSVDelimiter\"\n                @change=\"changeCSVDelimiter\"\n              />\n              {{ key }} ({{ v }})\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"field\" v-if=\"fileName\">\n        <hr\n          style=\"\n            height: 2px;\n            border-width: 0;\n            color: gray;\n            background-color: #b5b5b5;\n          \"\n        />\n        <label class=\"label\">Name</label>\n        <div class=\"control\">\n          <input\n            v-model=\"form.name\"\n            class=\"input\"\n            type=\"text\"\n            required\n            placeholder=\"Name your timeline\"\n          />\n        </div>\n        <hr />\n      </div>\n\n      <div class=\"error\" v-if=\"!error.length\">\n        <div class=\"field\" v-if=\"fileName && percentCompleted === 0\">\n          <div class=\"control\">\n            <input class=\"button is-success\" type=\"submit\" value=\"Upload\" />\n          </div>\n        </div>\n      </div>\n      <!-- Error lists -->\n      <div v-else>\n        <span v-for=\"(errorMessage, index) in error\" :key=\"index\">\n          <article class=\"message is-danger mb-0\">\n            <div class=\"message-body\">\n              {{ errorMessage }}\n            </div>\n          </article>\n        </span>\n      </div>\n    </form>\n    <br />\n    <b-progress\n      v-if=\"percentCompleted !== 0\"\n      :value=\"percentCompleted\"\n      show-value\n      format=\"percent\"\n      type=\"is-info\"\n      size=\"is-medium\"\n    >\n      <span v-if=\"percentCompleted === 100\"\n        >Waiting for request to finish..</span\n      >\n    </b-progress>\n  </div>\n</template>\n<script>\nimport ApiClient from \"../../utils/RestApiClient\";\n\nexport default {\n  data() {\n    return {\n      headersString: \"\", // headers string not formatted (used when changing CSV separator)\n      valuesString: [],\n      /**\n       *  headersMapping: list of object containing the:\n       * (i) target header to be modified [key=target],\n       * (ii) the source header to be substituted [key=source] and\n       * (iii) the default value in case we add a new columns [key=default_value].\n       */\n      headersMapping: [],\n      mandatoryHeaders: [\n        { name: \"datetime\", type: \"single\" },\n        { name: \"message\", type: \"multiple\" },\n        { name: \"timestamp_desc\", type: \"single\" },\n      ],\n      form: {\n        name: \"\",\n        file: \"\",\n      },\n      fileName: \"\",\n      error: [],\n      percentCompleted: 0,\n\n      CSVDelimiter: \",\",\n      infoMessage: \"\",\n      delimitersList: { Comma: \",\", Semicolon: \";\", Pipe: \"|\" },\n      showHelperFlag: false,\n      showPreviewFlag: false,\n      showAddColumnFlag: false,\n      checkedHeaders: [],\n      staticNumberRows: 3,\n      colors: [\n        { name: \"red\", value: \"background-color: #FEECF0; color:#CC0F35\" },\n        { name: \"blue\", value: \"background-color: #EEF6FC; color:#1D72AA\" },\n        { name: \"green\", value: \"background-color: #EFFAF3; color:#257942\" },\n      ],\n    };\n  },\n  computed: {\n    headers() {\n      let headers = [];\n      if (this.extension === \"csv\") {\n        headers = this.headersString.split(this.CSVDelimiter);\n      } else if ([\"json\", \"jsonl\"].includes(this.extension)) {\n        headers = Object.keys(this.headersString);\n      }\n      return headers;\n    },\n    missingHeaders() {\n      return this.mandatoryHeaders.filter(\n        (header) => this.headers.indexOf(header.name) < 0\n      );\n    },\n    extension() {\n      let extension = this.fileName.split(\".\")[1];\n      if (extension) return extension.toLowerCase();\n      else return null;\n    },\n    numberRows() {\n      if (this.extension === \"csv\") {\n        let n = this.valuesString.indexOf(\"\");\n        return n < 0 ? this.staticNumberRows : n;\n      } else if ([\"json\", \"jsonl\"].includes(this.extension)) {\n        return this.valuesString.length;\n      } else {\n        return 0;\n      }\n    },\n    allHeaders() {\n      let setHeaders = new Set(\n        this.mandatoryHeaders.map((x) => x.name).concat(this.headers)\n      );\n      let headers = [...setHeaders];\n      return headers;\n    },\n    headersTable() {\n      /**\n       * headersTable = [\n       *                    {name : \"datetime\", values : [\"v1\", \"v2\", \"v3\"]},\n       *                    {name : \"message\", values : [\"v1\", \"v2\", \"v3\"]},\n       *                    {name : \"timestamp_desc\", values : [\"v1\", \"v2\", \"v3\"]},\n       *                 ]\n       */\n\n      /**\n       * valuesAndHeaders = dictionary where\n       *  - the key is the header, e.g., \"datetime\", \"file_name\"\n       *  - the value is an array containing the values of that column\n       */\n      let valuesAndHeaders = {};\n      if (this.extension === \"csv\") {\n        let values = this.valuesString.map((x) => x.split(this.CSVDelimiter));\n        /**\n         * values is an array of array (matrix)\n         * For example, for a CSV with 3 headers such as datetime, timestamp description and permission\n         * E.g., values = | [2022-11-10, file_delete, high] |\n         *                | [2022-11-09, file_create, high] |\n         *                | [2022-11-09, file_update, low]  |\n         */\n        for (let i = 0; i < this.headers.length; i++) {\n          let listValues = [];\n          for (let j = 0; j < values.length; j++) {\n            listValues.push(values[j][i]); // list values aggregate the information on the columns\n          }\n          valuesAndHeaders[this.headers[i]] = listValues;\n        }\n      } else if ([\"json\", \"jsonl\"].includes(this.extension)) {\n        for (let i = 0; i < this.valuesString.length; i++) {\n          for (let header in this.valuesString[i]) {\n            if (header in valuesAndHeaders) {\n              valuesAndHeaders[header].push(this.valuesString[i][header]);\n            } else {\n              valuesAndHeaders[header] = [this.valuesString[i][header]];\n            }\n          }\n        }\n      }\n      let checkedHeaders = this.checkedHeaders;\n      return checkedHeaders.sort().map((header) => {\n        let color = \"\"; // CSS property for the displayed column\n        let values = []; // values that we will display for the checked header\n\n        if (this.headers.includes(header)) {\n          // case 0: the mandatory header is in the CSV (no mapping required)\n          values = valuesAndHeaders[header];\n          color = this.colors.find((x) => x.name === \"blue\").value;\n        } else {\n          // header is missing, need to check to headers mapping\n          // case 1: we map the header with only one column -> rename column\n          // case 2: we map the header with multiple fields -> combine columns\n          // case 3: we want to create a new column with a default value -> create a new column\n          // case 4: we haven't mapped the header yet\n\n          // extract from the headersMapping the user's choice (it may be null if the user has not mapped the header yet)\n          let extractedMapping = this.headersMapping.find(\n            (x) => x.target === header\n          );\n          if (extractedMapping) {\n            if (extractedMapping.source) {\n              if (extractedMapping.source.length === 1) {\n                // case 1\n                values = valuesAndHeaders[extractedMapping.source[0]];\n              } else {\n                // case 2\n                let listSources = extractedMapping.source;\n                for (let i = 0; i < this.numberRows; i++) {\n                  let concatValue = \"\";\n                  listSources.forEach((source) => {\n                    concatValue += source + \": \";\n                    concatValue +=\n                      JSON.stringify(valuesAndHeaders[source][i]) + \" | \";\n                  });\n                  values.push(concatValue);\n                }\n              }\n            } else {\n              // case 3\n              values = Array(this.numberRows).fill(\n                extractedMapping.default_value\n              );\n            }\n            color = this.colors.find((x) => x.name === \"green\").value;\n          } else {\n            // case 4\n            values = Array(this.numberRows).fill(\"Header not mapped\");\n            color = this.colors.find((x) => x.name === \"red\").value;\n          }\n        }\n        return { name: header, values: values, color: color };\n      });\n    },\n  },\n  methods: {\n    showHelper() {\n      // first hide the other menus\n      this.showPreviewFlag = false;\n      this.showAddColumnFlag = false;\n\n      this.showHelperFlag = !this.showHelperFlag;\n    },\n    showPreview() {\n      this.showHelperFlag = false;\n      this.showPreviewFlag = !this.showPreviewFlag;\n      if (!this.showPreviewFlag) this.showAddColumnFlag = false;\n    },\n    showAddColumn() {\n      this.showAddColumnFlag = !this.showAddColumnFlag;\n    },\n    getDefaultValue: function (target) {\n      let obj = this.headersMapping.find((x) => x[\"target\"] === target);\n      if (obj) {\n        return obj[\"default_value\"];\n      } else {\n        return null;\n      }\n    },\n    changeCSVDelimiter: function () {\n      this.headersMapping = [];\n      this.checkedHeaders = this.mandatoryHeaders.map((x) => x.name);\n      this.validateFile();\n    },\n    changeHeaderMapping: function (source, target) {\n      /**\n       * Method to map the missing headers.\n       * First, it checks some conditions, in particular, the user needs to:\n       * 1. map the missing header with any existing one in the CSV,\n       * 2. avoid to map 2 or more missing headers with the same exsiting one,\n       * 3. specify a default value in case he chooses to create a new column\n       */\n      if (!source) return;\n\n      let defaultValue = null;\n      let type = this.mandatoryHeaders.filter((h) => h.name === target)[0].type;\n      let listSelectedHeaders = []; // -> list of checkbox selected\n\n      if (type === \"single\") {\n        if (source === \"Create new header\") {\n          // ask to the user the default row's value\n          source = null;\n          do {\n            defaultValue = prompt(\"Insert the default value for this header\");\n            if (defaultValue.includes(this.CSVDelimiter)) {\n              alert(\n                `New header value cannot contain CSV separator (found ${this.CSVDelimiter})`\n              );\n              defaultValue = null;\n            }\n          } while (!defaultValue);\n        }\n        listSelectedHeaders = source ? [source] : null;\n        this.headersMapping = this.headersMapping.filter(\n          (mapping) => mapping[\"target\"] !== target\n        );\n        this.headersMapping.push({\n          target: target,\n          source: listSelectedHeaders,\n          default_value: defaultValue, // leave snake case for python server code\n        });\n      } else if (type === \"multiple\") {\n        // extract all ticked checkbox\n        let tmp = this.headersMapping.find(\n          (mapping) => mapping[\"target\"] === target\n        );\n        listSelectedHeaders = tmp ? tmp[\"source\"] : [];\n        if (listSelectedHeaders.includes(source)) {\n          listSelectedHeaders = listSelectedHeaders.filter((x) => x !== source);\n        } else {\n          listSelectedHeaders.push(source);\n        }\n        this.headersMapping = this.headersMapping.filter(\n          (mapping) => mapping[\"target\"] !== target\n        );\n        if (listSelectedHeaders.length > 0)\n          this.headersMapping.push({\n            target: target,\n            source: listSelectedHeaders,\n            default_value: defaultValue,\n          });\n      } else {\n        return;\n      }\n      this.validateFile();\n    },\n    clearFormData: function () {\n      this.form.name = \"\";\n      this.form.file = \"\";\n      this.fileName = \"\";\n      this.headersMapping = [];\n      this.infoMessage = \"\";\n      this.headersString = \"\";\n      this.valuesString = [];\n    },\n    submitForm: function () {\n      if (!this.validateFile()) {\n        return;\n      }\n\n      let formData = new FormData();\n      formData.append(\"file\", this.form.file);\n      formData.append(\"name\", this.form.name);\n      formData.append(\"provider\", \"WebUpload\");\n      formData.append(\"context\", this.fileName);\n      formData.append(\"total_file_size\", this.form.file.size);\n      formData.append(\"sketch_id\", this.$store.state.sketch.id);\n      if ([\"csv\", \"jsonl\", \"json\"].includes(this.extension)) {\n        let hMapping = JSON.stringify(this.headersMapping);\n        formData.append(\"headersMapping\", hMapping);\n        formData.append(\"delimiter\", this.CSVDelimiter);\n      }\n      let config = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n        onUploadProgress: function (progressEvent) {\n          this.percentCompleted = Math.round(\n            (progressEvent.loaded * 100) / progressEvent.total\n          );\n        }.bind(this),\n      };\n      ApiClient.uploadTimeline(formData, config)\n        .then((response) => {\n          this.$store.dispatch(\"updateSketch\", this.$store.state.sketch.id);\n          this.$emit(\"toggleModal\");\n          this.clearFormData();\n          this.percentCompleted = 0;\n        })\n        .catch((e) => {});\n    },\n    validateFile: function () {\n      this.error = [];\n      if (this.form.file.size <= 0) {\n        this.error.push(\"Please select a non empty file\");\n      }\n      let allowedExtensions = [\"csv\", \"json\", \"jsonl\", \"plaso\"];\n      if (!allowedExtensions.includes(this.extension)) {\n        this.error.push(\n          \"Please select a file with a valid extension: \" +\n            allowedExtensions.toString()\n        );\n      }\n      if ([\"csv\", \"jsonl\", \"json\"].includes(this.extension)) {\n        // 1. check if mapping is completed, i.e., if the user set all the mandatory headers\n        if (this.headersMapping.length !== this.missingHeaders.length) {\n          this.error.push(\n            \"Missing headers: \" +\n              this.missingHeaders.map((h) => h.name).toString()\n          );\n        }\n        // 2. check for duplicate headers (except from the new header and multiple headers)\n        let duplicates = this.headersMapping\n          .filter((mapping) => mapping[\"source\"])\n          .map((e) => e.source);\n        duplicates = duplicates.filter((x) => x.length === 1).map((x) => x[0]); // only mapping 1:1. They will be renamed on the database thus we do not want duplicates\n        if (duplicates.length > new Set(duplicates).size) {\n          this.error.push(\n            `New headers mapping contains duplicates (${duplicates})`\n          );\n        }\n      }\n      return this.error.length === 0;\n    },\n    setFile: function (fileList) {\n      /* 1. Initilize the variables */\n\n      if (!fileList[0]) {\n        return;\n      }\n      let fileName = fileList[0].name;\n      this.headersMapping = [];\n      this.headersString = \"\";\n      this.valuesString = [];\n      this.form.file = fileList[0];\n      this.form.name = fileName.split(\".\").slice(0, -1).join(\".\");\n      this.fileName = fileName;\n      /* 3. Manage CSV missing headers */\n      if (this.extension === \"csv\") {\n        this.extractCSVHeader();\n      } else if ([\"json\", \"jsonl\"].includes(this.extension)) {\n        this.extractJSONLHeader();\n      } else {\n        this.validateFile();\n      }\n      this.checkedHeaders = this.mandatoryHeaders.map((x) => x.name);\n    },\n    extractCSVHeader: function () {\n      let reader = new FileReader();\n      let file = document.getElementById(\"datafile\").files[0];\n\n      // read only 1000 B --> it is reasonable that the header of the CSV file ends before the 1000^ byte.\n      // Done to prevent JS reading a large CSV file (GBs)\n      let vueJS = this;\n      reader.readAsText(file.slice(0, 10000));\n      reader.onloadend = function (e) {\n        if (e.target.readyState === FileReader.DONE) {\n          /* 3a. Extract the headers from the CSV */\n          let data = e.target.result;\n          vueJS.headersString = data.split(\"\\n\")[0].replaceAll('\"', \"\");\n          vueJS.valuesString = data\n            .split(\"\\n\")\n            .slice(1, vueJS.staticNumberRows + 1);\n          vueJS.validateFile();\n        }\n      };\n    },\n    extractJSONLHeader: function () {\n      let reader = new FileReader();\n      let file = document.getElementById(\"datafile\").files[0];\n      let vueJS = this;\n      reader.readAsText(file.slice(0, 10000));\n      reader.onloadend = function (e) {\n        if (e.target.readyState === FileReader.DONE) {\n          /* 3a. Extract the headers from the JSONL */\n          let data = e.target.result;\n          let rows = data.split(\"\\n\");\n          let i = Math.min(vueJS.staticNumberRows, rows.length);\n          try {\n            vueJS.headersString = JSON.parse(rows[0]);\n            vueJS.valuesString = rows.slice(0, i).map((x) => JSON.parse(x));\n            vueJS.validateFile();\n          } catch (objError) {\n            vueJS.headersString = \"\"\n            vueJS.valuesString = \"\"\n            let error = objError.message;\n            error += \". Your first lines of JSON: \";\n            error += rows[0];\n            vueJS.error.push(error);\n            vueJS.error.push(\"Submit a valid JSONL/Plaso/CSV file\")\n          }\n        }\n      };\n    },\n  },\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadForm.vue?vue&type=template&id=47bcc140&\"\nimport script from \"./UploadForm.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.hideNavigation)?_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}],null,false,4238446144)}):_vm._e(),(!_vm.hideNavigation)?_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"timelines\"}}):_vm._e(),(_vm.meta.permissions.write)?_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\",staticStyle:{\"min-height\":\"160px\"}},[_vm._m(0),_c('div',{staticClass:\"card-content\"},[_c('b-message',[_c('p',[_vm._v(\"\\n              Upload a new timeline or choose an existing one from the list below. You can upload either a Plaso\\n              storage file, JSONL, or a CSV file.\\n              \"),_c('br'),_vm._v(\"\\n              If you are uploading a CSV or JSONL file make sure to read the\\n              \"),_c('a',{attrs:{\"href\":\"https://timesketch.org/guides/user/import-from-json-csv/\",\"rel\":\"noreferrer\",\"target\":\"_blank\"}},[_vm._v(\"documentation\")]),_vm._v(\"\\n              to learn what columns are needed.\\n            \")]),_c('br'),_c('ts-upload-timeline-form')],1)],1)])])]):_vm._e(),(_vm.sketch.timelines.length)?_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\",staticStyle:{\"min-height\":\"160px\"}},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Active Timelines\")]),_c('p',{staticClass:\"is-pulled-right\",staticStyle:{\"padding\":\"0.75rem\",\"font-weight\":\"bold\",\"color\":\"#777777\"}},[_vm._v(\"\\n            \"+_vm._s(_vm._f(\"compactNumber\")(_vm.count))+\" events\\n          \")])]),_c('div',{staticClass:\"card-content\"},[_c('ts-timeline-list',{attrs:{\"timelines\":_vm.sketch.timelines,\"controls\":true}})],1)])])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Upload timeline\")])])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main v-if=\"!hideNavigation\">\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary\n      v-if=\"!hideNavigation\"\n      currentAppContext=\"sketch\"\n      currentPage=\"timelines\"\n    ></ts-navbar-secondary>\n\n    <!-- Timelines to add -->\n    <section v-if=\"meta.permissions.write\" class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\" style=\"min-height:160px;\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\">Upload timeline</p>\n          </header>\n          <div class=\"card-content\">\n            <b-message>\n              <p>\n                Upload a new timeline or choose an existing one from the list below. You can upload either a Plaso\n                storage file, JSONL, or a CSV file.\n                <br />\n                If you are uploading a CSV or JSONL file make sure to read the\n                <a\n                  href=\"https://timesketch.org/guides/user/import-from-json-csv/\"\n                  rel=\"noreferrer\"\n                  target=\"_blank\"\n                  >documentation</a\n                >\n                to learn what columns are needed.\n              </p>\n              <br />\n              <ts-upload-timeline-form></ts-upload-timeline-form>\n            </b-message>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- Active Timelines -->\n    <section class=\"section\" v-if=\"sketch.timelines.length\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\" style=\"min-height:160px;\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\">Active Timelines</p>\n            <p class=\"is-pulled-right\" style=\"padding: 0.75rem;font-weight: bold;color: #777777;\">\n              {{ count | compactNumber }} events\n            </p>\n          </header>\n          <div class=\"card-content\">\n            <ts-timeline-list :timelines=\"sketch.timelines\" :controls=\"true\"></ts-timeline-list>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport TsTimelineList from '../components/Timelines/TimelineList'\nimport TsUploadTimelineForm from '../components/Common/UploadForm'\n\nexport default {\n  components: {\n    TsTimelineList,\n    TsUploadTimelineForm,\n  },\n  props: ['hideNavigation'],\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    count() {\n      return this.$store.state.count\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\"></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timelines.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timelines.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Timelines.vue?vue&type=template&id=c2d7a3fa&\"\nimport script from \"./Timelines.vue?vue&type=script&lang=js&\"\nexport * from \"./Timelines.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('b-radio',{attrs:{\"type\":\"is-info\",\"name\":\"name\",\"native-value\":\"false\"},model:{value:(_vm.isPublic),callback:function ($$v) {_vm.isPublic=$$v},expression:\"isPublic\"}},[_c('i',{staticClass:\"fa fa-lock\",staticStyle:{\"margin-left\":\"10px\",\"margin-right\":\"5px\"}}),_vm._v(\"\\n        Private - Only you and selected users/groups can access this sketch\\n      \")]),_c('br'),_c('b-radio',{attrs:{\"type\":\"is-info\",\"name\":\"name\",\"native-value\":\"true\"},model:{value:(_vm.isPublic),callback:function ($$v) {_vm.isPublic=$$v},expression:\"isPublic\"}},[_c('i',{staticClass:\"fa fa-globe\",staticStyle:{\"margin-left\":\"10px\",\"margin-right\":\"5px\"}}),_vm._v(\"\\n        Public - All users of the system can access this sketch\\n      \")]),_c('hr'),(_vm.currentUsers.length || _vm.currentGroups.length)?_c('div',[_vm._v(\"\\n        Who has access\\n        \"),_c('br'),_c('br'),_c('table',{staticClass:\"table is-hoverable\"},[_vm._l((_vm.currentUsers),function(user,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(user))]),_c('td',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"width\":\"10px\"},on:{\"click\":function($event){return _vm.removeUser(user, index)}}},[_c('i',{staticClass:\"fa fa-trash\"})])])}),_vm._l((_vm.currentGroups),function(group,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(group))]),_c('td',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"width\":\"10px\"},on:{\"click\":function($event){return _vm.removeGroup(group, index)}}},[_c('i',{staticClass:\"fa fa-trash\"})])])})],2),_c('br'),_c('br')]):_vm._e(),(_vm.usersToRemove.length || _vm.groupsToRemove.length)?_c('b-notification',{attrs:{\"type\":\"is-warning\",\"role\":\"alert\",\"closable\":false}},[_vm._v(\"\\n        You have made changes that you need to save\\n      \")]):_vm._e(),_c('b-field',{attrs:{\"label\":\"Share with user\"}},[_c('b-autocomplete',{attrs:{\"clear-on-select\":\"\",\"data\":_vm.filteredUserArray,\"placeholder\":\"Username ..\",\"icon\":\"magnify\"},on:{\"select\":_vm.addUser},model:{value:(_vm.userNameInput),callback:function ($$v) {_vm.userNameInput=$$v},expression:\"userNameInput\"}},[_c('template',{slot:\"empty\"},[_vm._v(\"No user found\")])],2)],1)],1)]),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('b-field',{attrs:{\"label\":\"Share with group\"}},[_c('b-autocomplete',{attrs:{\"clear-on-select\":\"\",\"open-on-focus\":\"\",\"data\":_vm.filteredGroupArray,\"placeholder\":\"Group name ..\",\"icon\":\"magnify\"},on:{\"select\":_vm.addGroup},model:{value:(_vm.groupNameInput),callback:function ($$v) {_vm.groupNameInput=$$v},expression:\"groupNameInput\"}},[_c('template',{slot:\"empty\"},[_vm._v(\"No group found\")])],2)],1)],1)]),(_vm.usersToAdd.length || _vm.groupsToAdd.length)?_c('div',[_c('br'),_c('strong',[_vm._v(\"Users/Groups to add\")]),_c('br'),_c('br'),_c('b-field',{attrs:{\"grouped\":\"\",\"group-multiline\":\"\"}},[_vm._l((_vm.usersToAdd),function(user,index){return _c('div',{key:user.name,staticClass:\"control\"},[_c('b-tag',{attrs:{\"attached\":\"\",\"closable\":\"\",\"aria-close-label\":\"Close tag\",\"size\":\"is-medium\"},on:{\"close\":function($event){return _vm.usersToAdd.splice(index, 1)}}},[_vm._v(_vm._s(user))])],1)}),_vm._l((_vm.groupsToAdd),function(group,index){return _c('div',{key:group.name,staticClass:\"control\"},[_c('b-tag',{attrs:{\"attached\":\"\",\"closable\":\"\",\"aria-close-label\":\"Close tag\",\"size\":\"is-medium\"},on:{\"close\":function($event){return _vm.groupsToAdd.splice(index, 1)}}},[_vm._v(_vm._s(group))])],1)})],2)],1):_vm._e(),_c('br'),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-info\",on:{\"click\":_vm.submitForm}},[_vm._v(\"Save changes\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <form v-on:submit.prevent=\"\">\n    <div class=\"field\">\n      <div class=\"control\">\n        <b-radio v-model=\"isPublic\" type=\"is-info\" name=\"name\" native-value=\"false\">\n          <i class=\"fa fa-lock\" style=\"margin-left: 10px;margin-right: 5px;\"></i>\n          Private - Only you and selected users/groups can access this sketch\n        </b-radio>\n        <br />\n        <b-radio v-model=\"isPublic\" type=\"is-info\" name=\"name\" native-value=\"true\">\n          <i class=\"fa fa-globe\" style=\"margin-left: 10px;margin-right: 5px;\"></i>\n          Public - All users of the system can access this sketch\n        </b-radio>\n\n        <hr />\n\n        <div v-if=\"currentUsers.length || currentGroups.length\">\n          Who has access\n          <br /><br />\n          <table class=\"table is-hoverable\">\n            <tr v-for=\"(user, index) in currentUsers\" :key=\"index\">\n              <td>{{ user }}</td>\n              <td width=\"10px\" style=\"cursor: pointer;\" v-on:click=\"removeUser(user, index)\">\n                <i class=\"fa fa-trash\"></i>\n              </td>\n            </tr>\n            <tr v-for=\"(group, index) in currentGroups\" :key=\"index\">\n              <td>{{ group }}</td>\n              <td width=\"10px\" style=\"cursor: pointer;\" v-on:click=\"removeGroup(group, index)\">\n                <i class=\"fa fa-trash\"></i>\n              </td>\n            </tr>\n          </table>\n\n          <br /><br />\n        </div>\n\n        <b-notification\n          v-if=\"usersToRemove.length || groupsToRemove.length\"\n          type=\"is-warning\"\n          role=\"alert\"\n          :closable=\"false\"\n        >\n          You have made changes that you need to save\n        </b-notification>\n\n        <b-field label=\"Share with user\">\n          <b-autocomplete\n            clear-on-select\n            v-model=\"userNameInput\"\n            :data=\"filteredUserArray\"\n            placeholder=\"Username ..\"\n            icon=\"magnify\"\n            @select=\"addUser\"\n          >\n            <template slot=\"empty\">No user found</template>\n          </b-autocomplete>\n        </b-field>\n      </div>\n    </div>\n\n    <div class=\"field\">\n      <div class=\"control\">\n        <b-field label=\"Share with group\">\n          <b-autocomplete\n            clear-on-select\n            open-on-focus\n            v-model=\"groupNameInput\"\n            :data=\"filteredGroupArray\"\n            placeholder=\"Group name ..\"\n            icon=\"magnify\"\n            @select=\"addGroup\"\n          >\n            <template slot=\"empty\">No group found</template>\n          </b-autocomplete>\n        </b-field>\n      </div>\n    </div>\n\n    <div v-if=\"usersToAdd.length || groupsToAdd.length\">\n      <br />\n      <strong>Users/Groups to add</strong>\n      <br /><br />\n      <b-field grouped group-multiline>\n        <div class=\"control\" v-for=\"(user, index) in usersToAdd\" :key=\"user.name\">\n          <b-tag attached closable aria-close-label=\"Close tag\" size=\"is-medium\" @close=\"usersToAdd.splice(index, 1)\">{{\n            user\n          }}</b-tag>\n        </div>\n        <div class=\"control\" v-for=\"(group, index) in groupsToAdd\" :key=\"group.name\">\n          <b-tag\n            attached\n            closable\n            aria-close-label=\"Close tag\"\n            size=\"is-medium\"\n            @close=\"groupsToAdd.splice(index, 1)\"\n            >{{ group }}</b-tag\n          >\n        </div>\n      </b-field>\n    </div>\n\n    <br />\n\n    <div class=\"field\">\n      <div class=\"control\">\n        <button class=\"button is-info\" v-on:click=\"submitForm\">Save changes</button>\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  data() {\n    return {\n      isPublic: false,\n      systemUsers: [],\n      systemGroups: [],\n      usersToAdd: [],\n      groupsToAdd: [],\n      usersToRemove: [],\n      groupsToRemove: [],\n      userNameInput: '',\n      groupNameInput: '',\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    currentUsers() {\n      return this.meta.collaborators.users.filter(f => !this.usersToRemove.includes(f))\n    },\n    currentGroups() {\n      return this.meta.collaborators.groups.filter(f => !this.groupsToRemove.includes(f))\n    },\n    filteredUserArray() {\n      return this.systemUsers.filter(option => {\n        return (\n          option\n            .toString()\n            .toLowerCase()\n            .indexOf(this.userNameInput.toLowerCase()) >= 0\n        )\n      })\n    },\n    filteredGroupArray() {\n      return this.systemGroups.filter(option => {\n        return (\n          option\n            .toString()\n            .toLowerCase()\n            .indexOf(this.groupNameInput.toLowerCase()) >= 0\n        )\n      })\n    },\n  },\n  methods: {\n    addUser: function(userName) {\n      if (userName) {\n        if (!this.usersToAdd.includes(userName)) {\n          this.usersToAdd.push(userName)\n        }\n      }\n    },\n    addGroup: function(groupName) {\n      if (!this.groupsToAdd.includes(groupName)) {\n        this.groupsToAdd.push(groupName)\n      }\n    },\n    removeUser: function(userName, index) {\n      this.usersToRemove.push(userName)\n    },\n    removeGroup: function(groupName, index) {\n      this.groupsToRemove.push(groupName)\n    },\n    submitForm: function() {\n      ApiClient.editCollaborators(\n        this.sketch.id,\n        this.isPublic,\n        this.usersToAdd,\n        this.groupsToAdd,\n        this.usersToRemove,\n        this.groupsToRemove\n      )\n        .then(response => {})\n        .catch(e => {})\n      this.$emit('closeShareModal')\n    },\n  },\n  mounted() {\n    if (this.meta.permissions.public) {\n      this.isPublic = true\n    }\n    ApiClient.getUsers()\n      .then(response => {\n        response.data.objects[0].forEach(user => {\n          this.systemUsers.push(user.username)\n        })\n      })\n      .catch(e => {})\n    ApiClient.getGroups()\n      .then(response => {\n        response.data.objects[0].forEach(group => {\n          this.systemGroups.push(group.name)\n        })\n      })\n      .catch(e => {})\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShareForm.vue?vue&type=template&id=da6e9e3c&\"\nimport script from \"./ShareForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ShareForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.graphs),function(graph){return _c('router-link',{key:graph.id,attrs:{\"to\":{ name: 'GraphExplore', query: { graph: graph.id } }}},[_c('ul',{staticClass:\"content-list\"},[_c('li',{staticStyle:{\"padding\":\"10px\",\"border-bottom\":\"none\",\"cursor\":\"pointer\"}},[_c('strong',{staticStyle:{\"color\":\"var(--default-font-color)\"}},[_vm._v(_vm._s(graph.name))]),_c('br'),_c('span',[_vm._v(\"Created: \"+_vm._s(_vm._f(\"moment\")(graph.created_at,'YYYY-MM-DD HH:mm')))])])])])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <router-link :to=\"{ name: 'GraphExplore', query: { graph: graph.id } }\" v-for=\"graph in graphs\" :key=\"graph.id\">\n      <ul class=\"content-list\">\n        <li style=\"padding:10px;border-bottom:none;cursor:pointer;\">\n          <strong style=\"color: var(--default-font-color)\">{{ graph.name }}</strong>\n          <br />\n          <span>Created: {{ graph.created_at | moment('YYYY-MM-DD HH:mm') }}</span>\n        </li>\n      </ul>\n    </router-link>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  data() {\n    return {\n      graphs: [],\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n  created() {\n    ApiClient.getSavedGraphList(this.sketch.id)\n      .then(response => {\n        let graphs = response.data['objects'][0]\n        if (graphs !== undefined) {\n          this.graphs = response.data['objects'][0]\n        }\n      })\n      .catch(e => {\n        console.error(e)\n      })\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GraphList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GraphList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GraphList.vue?vue&type=template&id=c0d55220&scoped=true&\"\nimport script from \"./GraphList.vue?vue&type=script&lang=js&\"\nexport * from \"./GraphList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c0d55220\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div v-if=\"sketch.status\">\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <div v-if=\"isArchived\" class=\"task-container columns is-multiline\" style=\"margin-top:50px;\">\n      <div\n        class=\"card column is-half is-offset-one-quarter has-text-centered\"\n        style=\"min-height: 300px; padding-top: 90px;\"\n      >\n        <h4 class=\"title is-4\">{{ sketch.name }}</h4>\n        <p>This sketch has been archived</p>\n        <div class=\"buttons is-centered\" style=\"margin-top:30px\">\n          <button v-on:click=\"unArchiveSketch()\" class=\"button is-success is-outlined\">Unarchive</button>\n          <button v-on:click=\"exportSketch()\" class=\"button is-link is-outlined\">Export</button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"!isArchived\">\n      <ts-navbar-secondary currentAppContext=\"sketch\" currentPage=\"overview\">\n        <span\n          v-for=\"label in meta.sketch_labels\"\n          :key=\"label\"\n          style=\"margin-right:10px; color: var(--default-font-color);font-size: 0.7em\"\n          >{{ label }}</span\n        >\n\n        <b-tooltip v-if=\"meta.collaborators\" :label=\"shareTooltip\" position=\"is-bottom\" type=\"is-white\">\n          <a\n            v-if=\"meta.permissions.write\"\n            class=\"button is-info is-small\"\n            style=\"margin-right:10px;border-radius:4px;\"\n            v-on:click=\"showShareModal = !showShareModal\"\n          >\n            <span class=\"icon is-small\">\n              <i v-if=\"meta.permissions.public\" class=\"fas fa-globe\"></i>\n              <i\n                v-else-if=\"meta.collaborators.users.length || meta.collaborators.groups.length\"\n                class=\"fas fa-users\"\n              ></i>\n              <i v-else-if=\"!meta.permissions.public\" class=\"fas fa-lock\"></i>\n            </span>\n            <span>Share</span>\n          </a>\n        </b-tooltip>\n\n        <ts-dropdown v-if=\"meta.permissions.write\" position=\"is-bottom-left\">\n          <template v-slot:dropdown-trigger-element>\n            <a\n              class=\"button ts-dropdown-button is-small\"\n              style=\"background:transparent;border:none;margin-right:-18px;\"\n            >\n              <span class=\"icon is-small\">\n                <i class=\"fas fa-angle-down\"></i>\n              </span>\n              <span>More</span>\n            </a>\n          </template>\n          <div class=\"ts-dropdown-item\" v-if=\"meta.permissions.delete\" aria-role=\"listitem\">\n            <span v-on:click=\"showDeleteSketchModal = !showDeleteSketchModal\">\n              <span class=\"icon is-small\" style=\"margin-right:5px;\"><i class=\"fas fa-trash\"></i></span>\n              <span>Delete</span>\n            </span>\n          </div>\n          <div class=\"ts-dropdown-item\" v-if=\"meta.permissions.delete\" aria-role=\"listitem\">\n            <a v-on:click=\"archiveSketch()\">\n              <span class=\"icon is-small\" style=\"margin-right:5px;\"><i class=\"fas fa-archive\"></i></span>\n              <span>Archive</span>\n            </a>\n          </div>\n          <div class=\"ts-dropdown-item\" v-if=\"meta.permissions.read\" aria-role=\"listitem\">\n            <a v-on:click=\"exportSketch()\">\n              <span class=\"icon is-small\" style=\"margin-right:5px;\"><i class=\"fas fa-file-export\"></i></span>\n              <span>Export</span>\n            </a>\n          </div>\n        </ts-dropdown>\n      </ts-navbar-secondary>\n\n      <b-modal :active.sync=\"showShareModal\" :width=\"640\" scroll=\"keep\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\">Share sketch</p>\n          </header>\n          <div class=\"card-content\">\n            <div class=\"content\">\n              <ts-share-form @closeShareModal=\"closeShareModal\"></ts-share-form>\n            </div>\n          </div>\n        </div>\n      </b-modal>\n\n      <b-modal :active.sync=\"showUploadTimelineModal\" :width=\"640\" scroll=\"keep\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\">Upload new timeline</p>\n          </header>\n          <div class=\"card-content\">\n            <div class=\"content\">\n              <p>\n                Supported formats are Plaso storage file, JSON(L), or a CSV file. If you are uploading a CSV or JSON(L)\n                file make sure to read the\n                <a\n                  href=\"https://github.com/google/timesketch/blob/master/docs/guides/user/import-from-json-csv.md\"\n                  rel=\"noreferrer\"\n                  target=\"_blank\"\n                  >documentation</a\n                >\n                to learn what columns are needed.\n              </p>\n              <ts-upload-timeline-form\n                @toggleModal=\"showUploadTimelineModal = !showUploadTimelineModal\"\n              ></ts-upload-timeline-form>\n            </div>\n          </div>\n        </div>\n      </b-modal>\n\n      <b-modal :active.sync=\"showDeleteSketchModal\" :width=\"640\" scroll=\"keep\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\">Delete sketch</p>\n          </header>\n          <div class=\"card-content\">\n            <div class=\"content\">\n              <p>Are you sure you want to delete this sketch?</p>\n              <div class=\"field is-grouped\">\n                <p class=\"control\">\n                  <button class=\"button is-danger\" v-on:click=\"deleteSketch\">\n                    <span class=\"icon is-small\" style=\"margin-right:5px;\"><i class=\"fas fa-trash\"></i></span>\n                    <span>Delete</span>\n                  </button>\n                </p>\n                <p class=\"control\">\n                  <button class=\"button\" v-on:click=\"showDeleteSketchModal = !showDeleteSketchModal\">\n                    <span>I changed my mind, keep the sketch!</span>\n                  </button>\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </b-modal>\n\n      <!-- Title and description -->\n      <section class=\"section\">\n        <div class=\"container is-fluid\">\n          <div class=\"tile is-ancestor\">\n            <div class=\"tile is-8 is-parent\">\n              <div class=\"tile is-child tile-box\">\n                <div class=\"card-content\">\n                  <ts-sketch-summary :sketch=\"sketch\"></ts-sketch-summary>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"tile is-parent\">\n              <div class=\"tile is-child tile-box\">\n                <header class=\"card-header\">\n                  <p class=\"card-header-title\">Metadata</p>\n                </header>\n                <div class=\"card-content\">\n                  <div class=\"block-condensed\">\n                    <span style=\"font-weight: bold;\">Creator:</span> {{ sketch.user.username }}\n                  </div>\n\n                  <div class=\"block-condensed\" v-if=\"sortedUserList().length\">\n                    <span style=\"font-weight: bold;\">Shared with user:</span>\n                    <span v-for=\"user in sortedUserList()\" :key=\"user.name\">\n                      {{ user }}\n                    </span>\n                  </div>\n\n                  <div class=\"block-condensed\" v-if=\"sortedGroupList().length\">\n                    <span style=\"font-weight: bold;\">Shared with group:</span>\n                    <span v-for=\"group in sortedGroupList()\" :key=\"group.name\">\n                      {{ group }}\n                    </span>\n                  </div>\n                </div>\n\n                <div v-if=\"sketch.active_timelines.length\" class=\"card-header\"></div>\n                <div class=\"card-content\" v-if=\"sketch.active_timelines.length\">\n                  <ts-sketch-metrics\n                    :timelines=\"sketch.active_timelines\"\n                    :views=\"meta.views\"\n                    :stories=\"meta.stories\"\n                    :count=\"count\"\n                  ></ts-sketch-metrics>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <!-- Timelines, Saved Views, Stories and Graphs lists-->\n      <section class=\"section\" v-if=\"sketch.timelines && sketch.timelines.length ? sketch.timelines.length : false\">\n        <div class=\"container is-fluid\">\n          <div class=\"tile is-ancestor\">\n            <div class=\"tile is-vertical is-12\">\n              <div class=\"tile\">\n                <div class=\"tile is-parent is-vertical\">\n                  <div\n                    class=\"tile is-child tile-box\"\n                    v-if=\"sketch.timelines && sketch.timelines.length ? sketch.timelines.length : false\"\n                  >\n                    <header class=\"card-header\">\n                      <p class=\"card-header-title\">Timelines</p>\n                      <div class=\"field is-grouped is-pulled-right\" style=\"padding: 0.75rem;\">\n                        <div v-if=\"meta.permissions.write\" class=\"control\">\n                          <div\n                            class=\"button is-success is-rounded is-small\"\n                            v-on:click=\"showUploadTimelineModal = !showUploadTimelineModal\"\n                          >\n                            <span class=\"icon is-small\">\n                              <i class=\"fas fa-upload\"></i>\n                            </span>\n                            <span>Upload timeline</span>\n                          </div>\n                        </div>\n                      </div>\n                    </header>\n                    <div style=\"padding:1.25em;\">\n                      <ts-timeline-list\n                        :timelines=\"sketch.timelines\"\n                        :controls=\"false\"\n                        :is-compact=\"true\"\n                      ></ts-timeline-list>\n                    </div>\n                  </div>\n\n                  <div class=\"tile is-child tile-box\" v-if=\"meta.stories.length\">\n                    <header class=\"card-header\">\n                      <p class=\"card-header-title\">Stories</p>\n                      <div class=\"field is-grouped is-pulled-right\" style=\"padding: 0.75rem;\">\n                        <p class=\"control\">\n                          <router-link class=\"button is-rounded is-small is-success\" :to=\"{ name: 'StoryOverview' }\">\n                            <span class=\"icon is-small\">\n                              <i class=\"fas fa-plus-circle\"></i>\n                            </span>\n                            <span>Create story</span>\n                          </router-link>\n                        </p>\n                      </div>\n                    </header>\n                    <div style=\"padding:1.25em;\">\n                      <span v-if=\"!meta.stories.length\">No stories</span>\n                      <ts-sketch-story-list :controls=\"false\"></ts-sketch-story-list>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"tile is-parent is-vertical\">\n                  <div class=\"tile is-child tile-box\" v-if=\"!meta.views.length && !sketch.graphs.length\">\n                    <header class=\"card-header\">\n                      <p class=\"card-header-title\">Get started!</p>\n                      <div class=\"field is-grouped is-pulled-right\" style=\"padding: 0.75rem;\"></div>\n                    </header>\n                    <div style=\"padding:1.25em;\">\n                      <p>\n                        Welcome to your new investigation. You get started by navigating to the\n                        <router-link style=\"text-decoration: underline;\" :to=\"{ name: 'Explore' }\"\n                          >explore page</router-link\n                        >\n                        where you can navigate your timelines, use search queries, apply filters, view timeline data and\n                        save your search discoveries as new saved searches.\n                      </p>\n                      <br />\n                      <router-link class=\"button is-success\" :to=\"{ name: 'Explore' }\">\n                        <span>Begin to explore your data</span>\n                        <span class=\"icon is-small\">\n                          <i class=\"fas fa-chevron-circle-right\"></i>\n                        </span>\n                      </router-link>\n                    </div>\n                  </div>\n\n                  <div class=\"tile is-child tile-box\" v-if=\"meta.views.length\">\n                    <header class=\"card-header\">\n                      <p class=\"card-header-title\">Saved searches</p>\n                      <div class=\"field is-grouped is-pulled-right\" style=\"padding: 0.75rem;\">\n                        <p class=\"control\" v-if=\"meta.views.length\">\n                          <router-link class=\"button is-rounded is-small\" :to=\"{ name: 'SavedSearches' }\">\n                            <span class=\"icon is-small\">\n                              <i class=\"fas fa-cog\"></i>\n                            </span>\n                            <span>Manage</span>\n                          </router-link>\n                        </p>\n                      </div>\n                    </header>\n                    <div style=\"padding:1.25em;\">\n                      <span v-if=\"!meta.views.length\">No saved searches</span>\n                      <ts-saved-view-list :views=\"meta.views\"></ts-saved-view-list>\n                    </div>\n                  </div>\n\n                  <div class=\"tile is-child tile-box\" v-if=\"sketch.graphs.length\">\n                    <header class=\"card-header\">\n                      <p class=\"card-header-title\">Saved graphs</p>\n                      <div class=\"field is-grouped is-pulled-right\" style=\"padding: 0.75rem;\">\n                        <p class=\"control\">\n                          <router-link class=\"button is-rounded is-small is-success\" :to=\"{ name: 'GraphOverview' }\">\n                            <span>Explore all graphs</span>\n                            <span class=\"icon is-small\">\n                              <i class=\"fas fa-chevron-circle-right\"></i>\n                            </span>\n                          </router-link>\n                        </p>\n                      </div>\n                    </header>\n                    <div style=\"padding:1.25em;\">\n                      <ts-graph-list></ts-graph-list>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <ts-sketch-timelines-manage v-if=\"!sketch.timelines.length\" :hide-navigation=\"true\"></ts-sketch-timelines-manage>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\nimport TsSketchSummary from '../components/Overview/SketchSummary'\nimport TsSketchMetrics from '../components/Overview/SketchMetrics'\nimport TsTimelineList from '../components/Timelines/TimelineList'\nimport TsSavedViewList from '../components/Common/ViewList'\nimport TsSketchStoryList from '../components/Stories/StoryList'\nimport TsUploadTimelineForm from '../components/Common/UploadForm'\nimport TsSketchTimelinesManage from './Timelines'\nimport TsShareForm from '../components/Overview/ShareForm'\nimport TsGraphList from '../components/Graph/GraphList'\nimport TsDropdown from '../components/Common/Dropdown'\n\nexport default {\n  components: {\n    TsSketchMetrics,\n    TsSketchSummary,\n    TsTimelineList,\n    TsSavedViewList,\n    TsUploadTimelineForm,\n    TsSketchStoryList,\n    TsSketchTimelinesManage,\n    TsShareForm,\n    TsGraphList,\n    TsDropdown,\n  },\n  data() {\n    return {\n      showUploadTimelineModal: false,\n      showDeleteSketchModal: false,\n      showShareModal: false,\n      isFullPage: true,\n      loadingComponent: null,\n      isArchived: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    count() {\n      return this.$store.state.count\n    },\n    shareTooltip: function() {\n      let msg = ''\n      let baseMsg = 'Shared with '\n      if (this.meta.collaborators.users.length) {\n        msg = baseMsg + this.meta.collaborators.users.length + ' users'\n        if (this.meta.collaborators.groups.length) {\n          msg = msg + ' and ' + this.meta.collaborators.groups.length + ' groups'\n        }\n      }\n      if (!msg && this.meta.collaborators.groups.length) {\n        msg = baseMsg + this.meta.collaborators.groups.length + ' groups'\n      }\n      return msg\n    },\n  },\n  methods: {\n    deleteSketch: function() {\n      ApiClient.deleteSketch(this.sketch.id)\n        .then(response => {\n          this.$router.push({ name: 'Home' })\n        })\n        .catch(e => {\n          console.error(e)\n        })\n    },\n    archiveSketch: function() {\n      this.isArchived = true\n      ApiClient.archiveSketch(this.sketch.id)\n        .then(response => {\n          this.$store.dispatch('updateSketch', this.sketch.id)\n          this.$router.push({ name: 'Overview', params: { sketchId: this.sketch.id } })\n        })\n        .catch(e => {\n          console.error(e)\n        })\n    },\n    unArchiveSketch: function() {\n      this.isArchived = false\n      ApiClient.unArchiveSketch(this.sketch.id)\n        .then(response => {\n          this.$store.dispatch('updateSketch', this.sketch.id)\n          this.$router.push({ name: 'Overview', params: { sketchId: this.sketch.id } })\n        })\n        .catch(e => {\n          console.error(e)\n        })\n    },\n    exportSketch: function() {\n      this.loadingOpen()\n      ApiClient.exportSketch(this.sketch.id)\n        .then(response => {\n          let fileURL = window.URL.createObjectURL(new Blob([response.data]))\n          let fileLink = document.createElement('a')\n          let fileName = 'sketch-' + this.sketch.id + '-export.zip'\n          fileLink.href = fileURL\n          fileLink.setAttribute('download', fileName)\n          document.body.appendChild(fileLink)\n          fileLink.click()\n          this.loadingClose()\n        })\n        .catch(e => {\n          console.error(e)\n          this.loadingClose()\n        })\n    },\n    sortedUserList: function() {\n      const userArrayCopy = [...this.$store.state.meta.collaborators.users]\n      return userArrayCopy.sort()\n    },\n    sortedGroupList: function() {\n      const groupArrayCopy = [...this.$store.state.meta.collaborators.groups]\n      return groupArrayCopy.sort()\n    },\n    closeShareModal: function() {\n      this.showShareModal = false\n      this.$buefy.snackbar.open({\n        duration: 3500,\n        message: 'Sharing settings have been saved',\n        type: 'is-white',\n        position: 'is-top',\n        queue: false,\n      })\n      this.$store.dispatch('updateSketch', this.sketch.id)\n    },\n    loadingOpen: function() {\n      this.loadingComponent = this.$buefy.loading.open({\n        container: this.isFullPage ? null : this.$refs.element.$el,\n      })\n    },\n    loadingClose: function() {\n      this.loadingComponent.close()\n    },\n  },\n  created: function() {\n    if (this.sketch.status[0].status === 'archived') {\n      this.isArchived = true\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.has-min-height {\n  min-height: 300px;\n}\n.center-container {\n  display: flex;\n  height: 100%;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n}\n.archive-card.is-wide {\n  width: 520px;\n  height: 350px;\n  padding-top: 30px;\n}\n.archive-card.has-text-centered,\n.archive-card-content {\n  justify-content: center;\n  align-items: center;\n}\n\n.tile-box {\n  border-radius: 6px;\n  background-color: var(--card-background-color);\n  color: var(--default-font-color);\n}\n\n.block-condensed:not(:last-child) {\n  margin-bottom: 0.5rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Overview.vue?vue&type=template&id=690018de&\"\nimport script from \"./Overview.vue?vue&type=script&lang=js&\"\nexport * from \"./Overview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Overview.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}])}),_c('ts-navbar-secondary',{ref:\"navigation\",attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"explore\"}}),_c('b-modal',{staticStyle:{\"z-index\":\"999\"},attrs:{\"active\":_vm.showSaveSearchModal,\"width\":640,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showSaveSearchModal=$event}}},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Save search\")])]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('ts-create-view-form',{attrs:{\"sketchId\":_vm.sketchId,\"currentQueryString\":_vm.currentQueryString,\"currentQueryFilter\":_vm.currentQueryFilter},on:{\"setActiveView\":_vm.searchView}})],1)])])]),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[(_vm.showSearch)?_c('div',{staticClass:\"card-content\"},[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"ts-search-box\",staticStyle:{\"z-index\":\"998\",\"position\":\"absolute\",\"width\":\"100%\"}},[_c('ts-search-history-buttons',{staticStyle:{\"position\":\"absolute\",\"top\":\"7px\",\"margin-left\":\"10px\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentQueryString),expression:\"currentQueryString\"}],ref:\"searchInput\",staticClass:\"ts-search-input\",staticStyle:{\"padding-left\":\"90px\"},attrs:{\"type\":\"text\",\"placeholder\":\"Search\",\"autofocus\":\"\",\"required\":\"\"},domProps:{\"value\":(_vm.currentQueryString)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search.apply(null, arguments)},\"click\":function($event){_vm.showSearchDropdown = true},\"input\":function($event){if($event.target.composing){ return; }_vm.currentQueryString=$event.target.value}}}),(_vm.showSearchDropdown)?_c('div',[_c('ts-search-dropdown',{attrs:{\"selected-labels\":_vm.selectedLabels,\"query-string\":_vm.currentQueryString},on:{\"setActiveView\":_vm.searchView,\"addChip\":_vm.addChip,\"updateLabelChips\":function($event){return _vm.updateLabelChips()},\"close\":_vm.closeSearchDropdown,\"close-on-click\":function($event){_vm.showSearchDropdown = false},\"node-click\":_vm.jumpInHistory,\"setQueryAndFilter\":_vm.setQueryAndFilter}})],1):_vm._e()],1)]),_c('div',{staticClass:\"field is-grouped\",staticStyle:{\"margin-top\":\"60px\"}},[_c('p',{staticClass:\"control\"},[_c('ts-dropdown',{attrs:{\"width\":\"500px\"},scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('a',{staticClass:\"button is-text\",staticStyle:{\"text-decoration\":\"none\"},attrs:{\"slot\":\"trigger\",\"role\":\"button\"},slot:\"trigger\"},[_c('span',[_vm._v(\"+ Time filter\")])])]},proxy:true}],null,false,2669727996)},[_c('strong',[_vm._v(\"Create time filter\")]),_c('br'),_c('br'),_c('ts-explore-filter-time',{on:{\"addChip\":_vm.addChip,\"hideDropdown\":_vm.hideDropdown}})],1)],1),_c('p',{staticClass:\"control\"},[_c('ts-dropdown',{scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('a',{staticClass:\"button is-text\",staticStyle:{\"text-decoration\":\"none\"},attrs:{\"role\":\"button\"}},[_c('span',[_vm._v(\"+ Add label filter\")])])]},proxy:true}],null,false,983329550)},[_c('div',{staticClass:\"field\"},[_c('b-checkbox',{attrs:{\"type\":\"is-info\",\"native-value\":\"__ts_star\"},model:{value:(_vm.selectedLabels),callback:function ($$v) {_vm.selectedLabels=$$v},expression:\"selectedLabels\"}},[_c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{staticClass:\"fas fa-star\",staticStyle:{\"color\":\"#ffe300\",\"-webkit-text-stroke-width\":\"1px\",\"-webkit-text-stroke-color\":\"silver\"}})]),_vm._v(\"Show starred events\\n                  \")])],1),_c('div',{staticClass:\"field\"},[_c('b-checkbox',{attrs:{\"type\":\"is-info\",\"native-value\":\"__ts_comment\"},model:{value:(_vm.selectedLabels),callback:function ($$v) {_vm.selectedLabels=$$v},expression:\"selectedLabels\"}},[_c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{staticClass:\"fas fa-comment\"})]),_vm._v(\"Show\\n                    events with comments\\n                  \")])],1),_vm._l((_vm.filteredLabels),function(label){return _c('div',{key:label.label,staticClass:\"level\",staticStyle:{\"margin-bottom\":\"5px\"}},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"field\"},[_c('b-checkbox',{attrs:{\"type\":\"is-info\",\"native-value\":label.label},model:{value:(_vm.selectedLabels),callback:function ($$v) {_vm.selectedLabels=$$v},expression:\"selectedLabels\"}},[_vm._v(\"\\n                        \"+_vm._s(label.label)+\"\\n                      \")])],1)])])}),_c('br'),_c('button',{staticClass:\"button is-info\",on:{\"click\":function($event){return _vm.updateLabelChips()}}},[_vm._v(\"Add filter\")])],2)],1)]),_c('p',{staticClass:\"control\",staticStyle:{\"top\":\"-40px\",\"float\":\"right\"}},[_c('b-switch',{staticStyle:{\"top\":\"2px\",\"margin-right\":\"15px\"},attrs:{\"size\":\"is-small\",\"type\":\"is-info\"},model:{value:(_vm.showHistogram),callback:function ($$v) {_vm.showHistogram=$$v},expression:\"showHistogram\"}},[_vm._v(\"Chart\")]),_c('b-switch',{staticStyle:{\"top\":\"2px\"},attrs:{\"size\":\"is-small\",\"type\":\"is-info\"},on:{\"input\":_vm.triggerScrollTo},model:{value:(_vm.showSearchHistory),callback:function ($$v) {_vm.showSearchHistory=$$v},expression:\"showSearchHistory\"}},[_vm._v(\"Show history\")])],1),_c('div',{staticClass:\"tags\",staticStyle:{\"margin-bottom\":\"-5px\"}},_vm._l((_vm.timeFilterChips),function(chip,index){return _c('span',{key:index + chip.value},[_c('ts-dropdown',{ref:\"TimeFilters\",refInFor:true,attrs:{\"width\":\"500px\"},scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('span',{staticClass:\"is-small is-outlined\",attrs:{\"role\":\"button\"}},[_c('div',{staticClass:\"tags\",staticStyle:{\"margin-bottom\":\"5px\",\"margin-right\":\"7px\"}},[_c('span',{staticClass:\"tag is-medium\",class:{ 'chip-disabled': chip.active === false },staticStyle:{\"cursor\":\"pointer\"}},[_c('span',{on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleChip(chip)}}},[(index > 0)?_c('span',{staticClass:\"chip-operator-label\"},[_vm._v(\"OR\")]):_vm._e(),_c('span',{staticClass:\"icon\",staticStyle:{\"margin-right\":\"7px\"}},[_c('i',{staticClass:\"fas fa-clock\"})]),_c('span',[_vm._v(_vm._s(chip.value.split(',')[0]))]),(\n                              chip.type === 'datetime_range' && chip.value.split(',')[0] !== chip.value.split(',')[1]\n                            )?_c('span',[_vm._v(\"\\n                            → \"+_vm._s(chip.value.split(',')[1]))]):_vm._e()]),_c('span',{staticClass:\"fa-stack fa-lg is-small\",staticStyle:{\"margin-left\":\"5px\",\"width\":\"20px\"}},[_c('i',{staticClass:\"fas fa-edit fa-stack-1x\",staticStyle:{\"transform\":\"scale(0.7)\",\"color\":\"#777\"}})]),_c('button',{staticClass:\"delete is-small\",staticStyle:{\"margin-left\":\"5px\"},on:{\"click\":function($event){return _vm.removeChip(chip)}}})])])])]},proxy:true}],null,true)},[_c('strong',[_vm._v(\"Update time filter\")]),_c('br'),_c('br'),_c('ts-explore-filter-time',{attrs:{\"selectedChip\":chip},on:{\"updateChip\":function($event){return _vm.updateChip($event, chip)},\"hideDropdown\":_vm.hideDropdown}})],1)],1)}),0),_c('div',{staticClass:\"tags\"},_vm._l((_vm.filterChips),function(chip,index){return _c('span',{key:index + chip.value},[(chip.type === 'label')?_c('span',{staticClass:\"tag is-medium\",class:{ 'chip-disabled': chip.active === false },staticStyle:{\"margin-right\":\"7px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.toggleChip(chip, index)}}},[(index > 0 || _vm.timeFilterChips.length)?_c('span',{staticClass:\"chip-operator-label\"},[_vm._v(\"AND\")]):_vm._e(),(chip.value === '__ts_star')?_c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"7px\"}},[_c('i',{staticClass:\"fas fa-star\",staticStyle:{\"color\":\"#ffe300\",\"-webkit-text-stroke-width\":\"1px\",\"-webkit-text-stroke-color\":\"silver\"}})]):(chip.value === '__ts_comment')?_c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"7px\"}},[_c('i',{staticClass:\"fas fa-comment\"})]):(chip.type === 'label')?_c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"7px\"}},[_c('i',{staticClass:\"fas fa-tag\"})]):_vm._e(),_c('span',{staticStyle:{\"margin-right\":\"7px\"}},[_vm._v(_vm._s(_vm._f(\"filterChip\")(chip)))]),_c('button',{staticClass:\"delete is-small\",staticStyle:{\"margin-left\":\"7px\"},on:{\"click\":function($event){return _vm.removeChip(chip)}}})]):_vm._e(),(chip.type === 'term')?_c('span',{staticClass:\"tag is-medium\",class:{ 'chip-disabled': chip.active === false, 'is-danger': chip.operator === 'must_not' },staticStyle:{\"margin-right\":\"7px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.toggleChip(chip, index)}}},[(index > 0 || _vm.timeFilterChips.length)?_c('span',{staticClass:\"chip-operator-label\"},[_vm._v(\"AND\")]):_vm._e(),(chip.operator === 'must_not')?_c('span',{staticClass:\"chip-operator-label\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"NOT\")]):_vm._e(),_c('span',{staticStyle:{\"margin-right\":\"7px\"}},[_vm._v(_vm._s(_vm._f(\"filterChip\")(chip)))]),_c('button',{staticClass:\"delete is-small\",staticStyle:{\"margin-left\":\"7px\"},on:{\"click\":function($event){return _vm.removeChip(chip)}}})]):_vm._e()])}),0),(_vm.sketch.active_timelines)?_c('ts-explore-timeline-picker',{attrs:{\"current-query-filter\":_vm.currentQueryFilter,\"count-per-index\":_vm.eventList.meta.count_per_index,\"count-per-timeline\":_vm.eventList.meta.count_per_timeline},on:{\"updateSelectedTimelines\":function($event){return _vm.updateSelectedTimelines($event)}}}):_vm._e()],1):_vm._e()])])]),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSearchHistory),expression:\"showSearchHistory\"}],staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"\\n            My searches\\n          \")]),_c('div',{staticClass:\"card-header-icon\",staticStyle:{\"width\":\"20%\"}},[_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(\"Zoom\")]),_c('b-slider',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"format\":\"percent\",\"min\":0.1,\"max\":1,\"step\":0.01},on:{\"dragend\":_vm.triggerScrollTo},model:{value:(_vm.zoomLevel),callback:function ($$v) {_vm.zoomLevel=$$v},expression:\"zoomLevel\"}})],1)]),_c('div',{directives:[{name:\"dragscroll\",rawName:\"v-dragscroll\"}],staticClass:\"card-content no-scrollbars\",staticStyle:{\"overflow\":\"scroll\",\"white-space\":\"nowrap\",\"max-height\":\"700px\",\"min-height\":\"500px\"}},[_c('ts-search-history-tree',{staticStyle:{\"transform-origin\":\"top left\"},style:({ transform: 'scale(' + _vm.zoomLevel + ')' }),attrs:{\"show-history\":_vm.showSearchHistory},on:{\"node-click\":_vm.jumpInHistory}})],1)])])]),(_vm.showHistogram)?_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-content\"},[_c('ts-bar-chart',{attrs:{\"chart-data\":_vm.eventList.meta.count_over_time},on:{\"addChip\":function($event){return _vm.addChipFromHistogram($event)}}})],1)])])]):_vm._e(),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.contextEvent),expression:\"contextEvent\"}],staticClass:\"section\",attrs:{\"id\":\"context\"}},[_c('div',{staticClass:\"container is-fluid\"},[_c('b-message',{attrs:{\"type\":\"is-warning\",\"aria-close-label\":\"Close message\"}},[_c('strong',[_vm._v(\"Context query\")]),_c('br'),_c('br'),_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.removeContext}},[_vm._v(\"← Go back to original query\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.scrollToContextEvent}},[_vm._v(\"Help me find my event\")])])])],1)]),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-content\"},[_c('nav',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[(_vm.toEvent && !_vm.searchInProgress)?_c('span',[_vm._v(_vm._s(_vm.fromEvent)+\"-\"+_vm._s(_vm.toEvent)+\" of \"+_vm._s(_vm.totalHits)+\" events (\"+_vm._s(_vm.totalTime)+\"s)\")]):_vm._e()]),_c('div',{staticClass:\"level-item\"},[(!_vm.toEvent && !_vm.searchInProgress)?_c('span',[_vm._v(_vm._s(_vm.totalHits)+\" events (\"+_vm._s(_vm.totalTime)+\"s)\")]):_vm._e(),(_vm.searchInProgress)?_c('div',[_vm._m(0),_vm._v(\" Searching..\\n                \")]):_vm._e()]),_c('div',{staticClass:\"level-item\"},[(_vm.totalHits > 0)?_c('button',{staticClass:\"button is-small is-outlined is-rounded\",on:{\"click\":function($event){_vm.showSaveSearchModal = !_vm.showSavedSearchModal}}},[_vm._m(1),_c('span',[_vm._v(\"Save this search\")])]):_vm._e()]),(_vm.numSelectedEvents)?_c('div',{staticClass:\"level-item\",staticStyle:{\"margin-right\":\"50px\"}},[_c('button',{staticClass:\"button is-small is-outlined\",staticStyle:{\"border-radius\":\"4px\"},on:{\"click\":_vm.toggleStar}},[_vm._m(2),_c('span',[_vm._v(\"Star events (\"+_vm._s(_vm.numSelectedEvents)+\")\")])])]):_vm._e()]),_c('div',{staticClass:\"level-right\"},[_c('div',{staticClass:\"level-item\"},[_c('b-pagination',{attrs:{\"total\":_vm.totalHitsForPagination,\"per-page\":_vm.currentQueryFilter.size,\"current\":_vm.currentPage,\"simple\":true,\"size\":\"is-small\",\"icon-pack\":\"fas\",\"icon-prev\":\"chevron-left\",\"icon-next\":\"chevron-right\"},on:{\"change\":function($event){return _vm.paginate($event)},\"update:current\":function($event){_vm.currentPage=$event}}})],1),_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"select is-small\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentQueryFilter.size),expression:\"currentQueryFilter.size\"}],staticStyle:{\"border\":\"1px solid var(--table-cell-border-color)\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.currentQueryFilter, \"size\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.search(true, true, true)}]}},[_c('option',{domProps:{\"value\":_vm.currentQueryFilter.size}},[_vm._v(_vm._s(_vm.currentQueryFilter.size))]),_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(\"10\")]),_c('option',{attrs:{\"value\":\"20\"}},[_vm._v(\"20\")]),_c('option',{attrs:{\"value\":\"40\"}},[_vm._v(\"40\")]),_c('option',{attrs:{\"value\":\"80\"}},[_vm._v(\"80\")]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(\"100\")]),_c('option',{attrs:{\"value\":\"200\"}},[_vm._v(\"200\")]),_c('option',{attrs:{\"value\":\"500\"}},[_vm._v(\"500\")])])])]),_c('div',{staticClass:\"level-item\"},[_c('button',{staticClass:\"button is-small\",staticStyle:{\"border-radius\":\"4px\"},on:{\"click\":_vm.changeSortOrder}},[_vm._v(\"\\n                  \"+_vm._s(_vm.currentQueryFilter.order)+\"\\n                \")])]),_c('div',{staticClass:\"level-item\"},[_c('ts-dropdown',{attrs:{\"position\":\"is-bottom-left\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('button',{staticClass:\"button is-small\",staticStyle:{\"border-radius\":\"4px\"}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-table\"})]),_c('span',[_vm._v(\"Customize columns\")])])]},proxy:true}])},[(_vm.meta.mappings)?_c('multiselect',{staticStyle:{\"display\":\"block\"},attrs:{\"options\":_vm.meta.mappings,\"value\":_vm.selectedFieldsProxy,\"multiple\":true,\"searchable\":true,\"close-on-select\":true,\"label\":\"field\",\"track-by\":\"field\",\"placeholder\":\"Add columns ...\"},on:{\"open\":function($event){_vm.expandFieldDropdown = true},\"close\":function($event){_vm.expandFieldDropdown = false},\"input\":_vm.updateSelectedFields}}):_vm._e(),(_vm.selectedFields.length)?_c('span',[_c('br'),_c('strong',[_vm._v(\"Selected columns\")]),_c('br'),_c('br')]):_vm._e(),_c('div',{staticClass:\"tags\"},_vm._l((_vm.selectedFields),function(field,index){return _c('span',{key:index},[_c('span',{staticClass:\"tag is-light is-rounded\",staticStyle:{\"margin-right\":\"7px\"}},[_c('span',{staticStyle:{\"margin-right\":\"7px\"}},[_vm._v(_vm._s(field.field))]),_c('button',{staticClass:\"delete is-small\",staticStyle:{\"margin-left\":\"7px\"},on:{\"click\":function($event){return _vm.removeField(index)}}})])])}),0),_c('br'),_c('b-switch',{staticStyle:{\"margin-bottom\":\"7px\"},attrs:{\"type\":\"is-info\"},model:{value:(_vm.displayOptions.showTags),callback:function ($$v) {_vm.$set(_vm.displayOptions, \"showTags\", $$v)},expression:\"displayOptions.showTags\"}},[_c('span',[_vm._v(\"Show tags\")])]),_c('br'),_c('b-switch',{staticStyle:{\"margin-bottom\":\"7px\"},attrs:{\"type\":\"is-info\"},model:{value:(_vm.displayOptions.showEmojis),callback:function ($$v) {_vm.$set(_vm.displayOptions, \"showEmojis\", $$v)},expression:\"displayOptions.showEmojis\"}},[_c('span',[_vm._v(\"Show emojis\")])]),_c('br'),_c('b-switch',{attrs:{\"type\":\"is-info\"},model:{value:(_vm.displayOptions.showMillis),callback:function ($$v) {_vm.$set(_vm.displayOptions, \"showMillis\", $$v)},expression:\"displayOptions.showMillis\"}},[_c('span',[_vm._v(\"Show microseconds\")])])],1)],1),_c('div',{staticClass:\"level-item\"},[(_vm.eventList.objects.length)?_c('button',{staticClass:\"button is-small\",staticStyle:{\"border-radius\":\"4px\"},on:{\"click\":_vm.exportSearchResult}},[_vm._m(3),_c('span',[_vm._v(\"Export to CSV\")])]):_vm._e()])])]),(_vm.totalHits > 0)?_c('div',{staticStyle:{\"margin-top\":\"20px\"}}):_vm._e(),(_vm.eventList.objects.length)?_c('ts-sketch-explore-event-list',{attrs:{\"event-list\":_vm.eventList.objects,\"order\":_vm.currentQueryFilter.order,\"selected-fields\":_vm.selectedFields,\"display-options\":_vm.displayOptions},on:{\"addChip\":function($event){return _vm.addChip($event)},\"addLabel\":function($event){return _vm.updateLabelList($event)},\"searchContext\":function($event){return _vm.searchContext($event)}}}):_vm._e(),(_vm.eventList.objects.length)?_c('div',{staticStyle:{\"float\":\"right\"}},[_c('b-pagination',{attrs:{\"total\":_vm.totalHitsForPagination,\"per-page\":_vm.currentQueryFilter.size,\"current\":_vm.currentPage,\"simple\":true,\"size\":\"is-small\",\"icon-pack\":\"fas\",\"icon-prev\":\"chevron-left\",\"icon-next\":\"chevron-right\"},on:{\"change\":function($event){return _vm.paginate($event)},\"update:current\":function($event){_vm.currentPage=$event}}})],1):_vm._e(),_c('br')],1)]),_c('br')])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-circle-notch fa-pulse\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-save\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-star\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{staticClass:\"fas fa-file-export\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"table is-fullwidth\",staticStyle:{\"border-radius\":\"4px\"}},[_c('thead',[_c('th',{attrs:{\"width\":_vm.datetimeWidth}},[_vm._v(\"Datetime (UTC)\")]),_c('th',{attrs:{\"width\":\"1\"}},[_c('span',{staticClass:\"control\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":_vm.toggleSelectAll}})])]),_vm._l((_vm.selectedFields),function(field,index){return _c('th',{key:index},[_vm._v(_vm._s(field.field))])}),_c('th',{attrs:{\"width\":\"150\"}},[_vm._v(\"Timeline name\")])],2),_vm._l((_vm.eventList),function(event,index){return _c('ts-sketch-explore-event-list-row',{key:index,attrs:{\"event\":event,\"prevEvent\":_vm.eventList[index - 1],\"order\":_vm.order,\"selected-fields\":_vm.selectedFields,\"display-options\":_vm.displayOptions,\"display-controls\":true,\"search-node\":_vm.searchNode,\"id\":event._id},on:{\"addChip\":function($event){return _vm.$emit('addChip', $event)},\"addLabel\":function($event){return _vm.$emit('addLabel', $event)},\"searchContext\":function($event){return _vm.$emit('searchContext', $event)}}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tbody',[(_vm.deltaDays > 0)?_c('tr',[_c('td',{staticStyle:{\"padding\":\"0\"},attrs:{\"colspan\":\"5\"}},[_c('div',{staticClass:\"ts-time-bubble-vertical-line ts-time-bubble-vertical-line-color\"}),_c('div',{staticClass:\"ts-time-bubble ts-time-bubble-color\"},[_c('h5',[_c('b',[_vm._v(_vm._s(_vm._f(\"compactNumber\")(_vm.deltaDays)))]),_c('br'),_vm._v(\"days\\n        \")])]),_c('div',{staticClass:\"ts-time-bubble-vertical-line ts-time-bubble-vertical-line-color\"})])]):_vm._e(),_c('tr',[_c('td',{style:(_vm.timelineColor)},[_vm._v(\"\\n      \"+_vm._s(_vm._f(\"moment\")(_vm._f(\"formatTimestamp\")(_vm.event._source.timestamp),'utc', _vm.datetimeFormat))+\"\\n    \")]),_c('td',[_c('div',{staticClass:\"field is-grouped\"},[(_vm.displayControls)?_c('span',{staticClass:\"control\"},[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.isSelected},on:{\"click\":_vm.toggleSelect}})]):_vm._e(),_c('span',{staticClass:\"icon control\",staticStyle:{\"margin-right\":\"3px\",\"cursor\":\"pointer\"},on:{\"click\":_vm.toggleStar}},[(_vm.isStarred)?_c('i',{staticClass:\"fas fa-star\",staticStyle:{\"color\":\"#ffe300\",\"-webkit-text-stroke-width\":\"1px\",\"-webkit-text-stroke-color\":\"#d1d1d1\"},attrs:{\"title\":\"Unstar the event\"}}):_vm._e(),(!_vm.isStarred)?_c('i',{staticClass:\"fas fa-star\",staticStyle:{\"color\":\"#d3d3d3\"},attrs:{\"title\":\"Star the event\"}}):_vm._e()]),(_vm.displayControls)?_c('span',{staticClass:\"icon control\",staticStyle:{\"margin-right\":\"3px\",\"cursor\":\"pointer\"},on:{\"click\":_vm.searchContext}},[_c('i',{staticClass:\"fas fa-search\",staticStyle:{\"color\":\"#d3d3d3\"},attrs:{\"title\":\"Search +/- 5min\"}})]):_vm._e(),_c('span',{staticClass:\"icon control\"},[_c('ts-dropdown',{scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('i',{staticClass:\"fas fa-tag\",staticStyle:{\"color\":\"#d3d3d3\"},attrs:{\"slot\":\"trigger\",\"title\":\"Labels\"},slot:\"trigger\"})]},proxy:true}])},[(_vm.filteredLabelsToAdd.length)?_c('span',[_c('b',[_vm._v(\"Add label\")]),_c('br'),_c('br'),_vm._l((_vm.filteredLabelsToAdd),function(label){return _c('div',{key:label.label,staticClass:\"level\",staticStyle:{\"margin-bottom\":\"5px\"}},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"field\"},[_c('b-checkbox',{attrs:{\"type\":\"is-info\",\"native-value\":label.label},model:{value:(_vm.selectedLabels),callback:function ($$v) {_vm.selectedLabels=$$v},expression:\"selectedLabels\"}},[_vm._v(\"\\n                      \"+_vm._s(label.label)+\"\\n                    \")])],1)])])})],2):_vm._e(),(_vm.event._source.label.length)?_c('span',[_c('i',{staticClass:\"fas fa-trash\",staticStyle:{\"margin-right\":\"7px\"}}),_c('b',[_vm._v(\"Remove label\")]),_c('br'),_c('br'),_vm._l((_vm.event._source.label),function(label){return _c('div',{key:label,staticClass:\"level\",staticStyle:{\"margin-bottom\":\"5px\"}},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"field\"},[_c('b-checkbox',{attrs:{\"type\":\"is-danger\",\"native-value\":label},model:{value:(_vm.labelsToRemove),callback:function ($$v) {_vm.labelsToRemove=$$v},expression:\"labelsToRemove\"}},[_vm._v(\"\\n                      \"+_vm._s(label)+\"\\n                    \")])],1)])])})],2):_vm._e(),_c('br'),_c('b',[_vm._v(\"Create and add a new label\")]),_c('div',{staticClass:\"field is-grouped\",staticStyle:{\"padding-top\":\"10px\"}},[_c('p',{staticClass:\"control is-expanded\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.labelToAdd),expression:\"labelToAdd\"}],staticClass:\"input\",attrs:{\"placeholder\":\"New label\"},domProps:{\"value\":(_vm.labelToAdd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.labelToAdd=$event.target.value}}})]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.addLabels(_vm.labelToAdd)}}},[_vm._v(\"Save\")])])]),(_vm.selectedLabels.length || _vm.labelsToRemove.length)?_c('button',{staticClass:\"button is-info\",attrs:{\"disabled\":_vm.labelToAdd !== null && _vm.labelToAdd !== ''},on:{\"click\":function($event){return _vm.addLabels()}}},[_vm._v(\"\\n              Apply\\n            \")]):_vm._e()])],1)])]),_vm._l((_vm.selectedFields),function(field,index){return _c('td',{key:index,staticClass:\"ts-event-list-row-background-color\",staticStyle:{\"cursor\":\"pointer\",\"max-width\":\"50ch\"},style:(_vm.fieldColumnColor),on:{\"click\":function($event){_vm.showDetail = !_vm.showDetail}}},[_c('span',{class:{ 'ts-event-field-container': _vm.selectedFields.length === 1 }},[_c('span',{class:{ 'ts-event-field-ellipsis': _vm.selectedFields.length === 1 }},[(index === 0)?_c('span',[_vm._l((_vm.event._source.__ts_emojis),function(emoji){return (_vm.displayOptions.showEmojis)?_c('span',{key:emoji,attrs:{\"title\":_vm.meta.emojis[emoji]},domProps:{\"innerHTML\":_vm._s(emoji)}},[_vm._v(_vm._s(emoji))]):_vm._e()}),_c('span',{staticStyle:{\"margin-left\":\"10px\"}}),_vm._l((_vm.event._source.tag),function(tag){return (_vm.displayOptions.showTags)?_c('span',{key:tag,staticClass:\"tag is-small\",staticStyle:{\"margin-right\":\"5px\",\"background-color\":\"var(--tag-background-color)\",\"color\":\"var(--tag-font-color)\"}},[_vm._v(_vm._s(tag))]):_vm._e()}),_vm._l((_vm.filteredLabels),function(label){return (_vm.displayOptions.showTags)?_c('span',{key:label,staticClass:\"tag is-small\",staticStyle:{\"margin-right\":\"5px\",\"background-color\":\"var(--tag-background-color)\",\"color\":\"var(--tag-font-color)\"}},[_vm._v(_vm._s(label))]):_vm._e()})],2):_vm._e(),_c('span',{staticStyle:{\"word-break\":\"break-word\"},attrs:{\"title\":_vm.event._source[field.field]}},[_vm._v(\"\\n            \"+_vm._s(_vm.event._source[field.field])+\"\\n          \")])])])])}),_c('td',{staticClass:\"ts-timeline-name-column ts-timeline-name-column-color\"},[_c('span',{attrs:{\"title\":_vm.timelineName}},[_vm._v(\"\\n        \"+_vm._s(_vm.timelineName)+\"\\n      \")])])],2),(_vm.comments.length)?_c('tr',[_c('td',{staticStyle:{\"padding\":\"0\"},attrs:{\"colspan\":\"5\"}},[_c('div',{staticStyle:{\"max-width\":\"100%\",\"border\":\"1px solid #f5f5f5\",\"border-radius\":\"4px\",\"padding\":\"10px\",\"margin-bottom\":\"20px\"}},_vm._l((_vm.comments),function(comment,index){return _c('article',{key:comment.id,staticClass:\"field\"},[_c('small',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(comment.updated_at,'utc', 'YYYY-MM-DD HH:mm:ss')))]),_c('small',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(_vm._s(comment.user.username))]),_c('br'),(comment && comment.editable)?_c('div',{staticClass:\"media-content\"},[_c('div',{staticClass:\"field\",staticStyle:{\"max-width\":\"50%\"}},[_c('p',{staticClass:\"control\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comments[index].comment),expression:\"comments[index].comment\"}],staticClass:\"textarea\",attrs:{\"required\":\"\",\"autofocus\":\"\",\"rows\":\"1\"},domProps:{\"value\":(_vm.comments[index].comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.comments[index], \"comment\", $event.target.value)}}})])]),_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small is-rounded\",staticStyle:{\"margin-right\":\"0.75rem\"},on:{\"click\":function($event){return _vm.updateComment(comment, index)}}},[_vm._v(\"\\n                  Save\\n                \")]),_c('button',{staticClass:\"button is-small is-rounded\",staticStyle:{\"margin-right\":\"0.75rem\"},on:{\"click\":function($event){return _vm.toggleEditComment(index, false)}}},[_vm._v(\"\\n                  Cancel\\n                \")])])])]):_vm._e(),(comment && !comment.editable)?_c('div',{staticClass:\"media-content\"},[_c('div',{staticClass:\"level content\"},[_c('div',{staticClass:\"level-left\"},[_vm._v(\"\\n                \"+_vm._s(comment.comment)+\"\\n              \")]),(_vm.meta.permissions.write && _vm.getCurrentUser() == comment.user.username)?_c('div',{staticClass:\"level-right field\"},[_c('button',{staticClass:\"button is-small is-rounded\",staticStyle:{\"margin-right\":\"0.75rem\"},on:{\"click\":function($event){return _vm.toggleEditComment(index, true)}}},[_vm._v(\"\\n                  Edit\\n                \")]),_c('button',{staticClass:\"button is-small is-rounded is-danger\",staticStyle:{\"margin-right\":\"0.75rem\"},on:{\"click\":function($event){return _vm.deleteComment(comment.id, index)}}},[_vm._v(\"\\n                  Remove\\n                \")])]):_vm._e()])]):_vm._e()])}),0)])]):_vm._e(),_c('tr',[_c('td',{staticStyle:{\"padding\":\"0\"},attrs:{\"colspan\":\"5\"}},[(_vm.showDetail)?_c('div',{staticStyle:{\"padding-top\":\"20px\",\"padding-bottom\":\"20px\",\"padding-left\":\"10px\"}},[_c('div',{staticClass:\"field\",staticStyle:{\"max-width\":\"50%\"}},[_c('p',{staticClass:\"control\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],staticClass:\"textarea\",attrs:{\"required\":\"\",\"autofocus\":\"\",\"rows\":\"1\",\"placeholder\":\"Add a comment ...\"},domProps:{\"value\":(_vm.comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.comment=$event.target.value}}})])]),_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small is-rounded\",on:{\"click\":function($event){return _vm.postComment(_vm.comment)}}},[_vm._v(\"Post comment\")])])]),_c('ts-sketch-explore-event-list-row-detail',{attrs:{\"event\":_vm.event},on:{\"addChip\":function($event){return _vm.$emit('addChip', $event)}}})],1):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"table is-bordered\",staticStyle:{\"width\":\"100%\",\"table-layout\":\"fixed\"},on:{\"mouseup\":_vm.handleSelectionChange}},[_c('tbody',_vm._l((_vm.fullEventFiltered),function(item,key){return _c('tr',{key:key,on:{\"mouseover\":function($event){_vm.c_key = key},\"mouseleave\":function($event){_vm.c_key = -1}}},[_c('td',{staticStyle:{\"width\":\"40px\"}},[_c('span',{staticClass:\"icon is-small\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"title\":\"Apply 'Include' filter\"},on:{\"click\":function($event){return _vm.addFilter(key, item, 'must')}}},[_c('i',{staticClass:\"fas fa-search-plus\"})])]),_c('td',{staticStyle:{\"width\":\"40px\"}},[_c('span',{staticClass:\"icon is-small\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"title\":\"Apply 'Exclude' filter\"},on:{\"click\":function($event){return _vm.addFilter(key, item, 'must_not')}}},[_c('i',{staticClass:\"fas fa-search-minus\"})])]),_c('td',{staticStyle:{\"word-wrap\":\"break-word\",\"width\":\"150px\"}},[_vm._v(\"\\n        \"+_vm._s(key)+\"\\n        \"),(key == _vm.c_key)?_c('span',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(key),expression:\"key\",arg:\"copy\"},{name:\"clipboard\",rawName:\"v-clipboard:success\",value:(_vm.handleCopyStatus),expression:\"handleCopyStatus\",arg:\"success\"}],staticClass:\"icon is-small\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"title\":\"Copy key\"}},[_c('i',{staticClass:\"fas fa-copy\"})]):_vm._e()]),_c('td',[(key == _vm.c_key)?_c('span',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(item),expression:\"item\",arg:\"copy\"},{name:\"clipboard\",rawName:\"v-clipboard:success\",value:(_vm.handleCopyStatus),expression:\"handleCopyStatus\",arg:\"success\"}],staticClass:\"icon is-small\",staticStyle:{\"cursor\":\"pointer\",\"margin-left\":\"3px\",\"float\":\"right\"},attrs:{\"title\":\"Copy value\"}},[_c('i',{staticClass:\"fas fa-copy\"})]):_vm._e(),(_vm.getRegexes(key).length > 0)?_c('text-highlight',{attrs:{\"highlightComponent\":_vm.TsIOCMenu,\"queries\":_vm.getRegexes(key),\"attributeKey\":key},on:{\"addChip\":function($event){return _vm.$emit('addChip', $event)}}},[_vm._v(_vm._s(item))]):_c('span',[_vm._v(_vm._s(item))])],1)])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"inline\"}},[_c('span',{ref:\"contextMenuParent\",staticClass:\"ioc-match\",on:{\"click\":function (event) { return this$1.$refs.contextMenu.open(event, _vm.getIOC(_vm.$attrs.text), _vm.$refs.contextMenuParent); }}},[_vm._t(\"default\")],2),_c('TsContextMenu',{ref:\"contextMenu\",scopedSlots:_vm._u([{key:\"default\",fn:function(params){return [(params.data)?_c('section',{staticClass:\"box ioc-context-menu\"},[_c('div',{staticClass:\"ioc-display\"},[_c('span',{staticClass:\"icon is-small\",attrs:{\"title\":\"Apply 'Include' filter\"},on:{\"click\":function($event){return _vm.addFilter(_vm.attributeKey, params.data.ioc, 'must')}}},[_c('i',{staticClass:\"fas fa-search-plus\"})]),_c('pre',[_vm._v(_vm._s(params.data.ioc))])]),(!_vm.isInIntelligence(params.data))?_c('div',[_c('b-field',{attrs:{\"grouped\":\"\",\"message\":\"Add to Intelligence\"}},[_c('b-select',{attrs:{\"size\":\"is-small\",\"placeholder\":\"IOC type\"},model:{value:(params.data.type),callback:function ($$v) {_vm.$set(params.data, \"type\", $$v)},expression:\"params.data.type\"}},_vm._l((_vm.IOCTypes),function(option){return _c('option',{key:option.type,domProps:{\"value\":option.type}},[_vm._v(\"\\n                \"+_vm._s(option.type)+\"\\n              \")])}),0),_c('b-taginput',{attrs:{\"ellipsis\":\"\",\"icon\":\"label\",\"placeholder\":\"Add a tag\",\"aria-close-label\":\"Delete this tag\",\"size\":\"is-small\"},model:{value:(params.data.tags),callback:function ($$v) {_vm.$set(params.data, \"tags\", $$v)},expression:\"params.data.tags\"}}),_c('b-button',{attrs:{\"size\":\"is-small\",\"type\":\"is-primary\"},on:{\"click\":function($event){return _vm.saveThreatIntel(params.data)}}},[_vm._v(\"Add\")])],1)],1):_c('div',[_c('small',[_vm._v(\"Already added to \"),_c('router-link',{attrs:{\"to\":{ name: 'Intelligence' }}},[_vm._v(\"Intelligence\")])],1)])]):_vm._e()]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpen),expression:\"isOpen\"}],ref:\"menuBox\",staticClass:\"context-menu\",style:(_vm.style)},[_vm._t(\"default\",null,{\"data\":_vm.data})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div class=\"context-menu\" v-show=\"isOpen\" ref=\"menuBox\" :style=\"style\">\n    <slot :data=\"data\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'TsContextMenu',\n  data() {\n    return {\n      isOpen: false,\n      posX: 0,\n      posY: 0,\n      data: null,\n      parentComponent: null,\n    }\n  },\n  methods: {\n    open(event, data, parentComponent) {\n      this.close()\n      if (event) {\n        this.posX = event.clientX\n        this.posY = event.clientY\n      }\n\n      this.data = data\n      this.isOpen = true\n      this.parentComponent = parentComponent\n      document.addEventListener('click', this.handleClick)\n    },\n\n    close() {\n      this.isOpen = false\n      document.removeEventListener('click', this.handleClick)\n    },\n\n    handleClick(e) {\n      // There's no context menu box or it's not open\n      if (!this.$refs.menuBox || !this.isOpen) {\n        return\n      }\n\n      // We want to make sure that clicks inside the menu box don't close it\n      const insideClick = this.$refs.menuBox.contains(e.target)\n      // We also want to make sure that clicks on the menu's parent component don't close it\n      const highlightClick = this.parentComponent.contains(e.target)\n\n      if (!(insideClick || highlightClick)) {\n        this.close()\n      }\n    },\n  },\n  computed: {\n    style() {\n      return {\n        left: `${this.posX}px`,\n        top: `${this.posY}px`,\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n.context-menu {\n  position: fixed;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsContextMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsContextMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TsContextMenu.vue?vue&type=template&id=7d63fbec&scoped=true&\"\nimport script from \"./TsContextMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./TsContextMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TsContextMenu.vue?vue&type=style&index=0&id=7d63fbec&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d63fbec\",\n  null\n  \n)\n\nexport default component.exports","const IOCTypes = [\n    { regex: /^(\\/[\\S]+)+$/i, type: 'fs_path' },\n    { regex: /^([-\\w]+\\.)+[a-z]{2,}$/i, type: 'hostname' },\n    {\n      regex: /^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,\n      type: 'ipv4',\n    },\n    { regex: /^[0-9a-f]{64}$/i, type: 'hash_sha256' },\n    { regex: /^[0-9a-f]{40}$/i, type: 'hash_sha1' },\n    { regex: /^[0-9a-f]{32}$/i, type: 'hash_md5' },\n    // Match any \"other\" selection\n    { regex: /./g, type: 'other' },\n]\n\nexport {IOCTypes}\n","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div style=\"display: inline\">\n    <span\n      class=\"ioc-match\"\n      ref=\"contextMenuParent\"\n      @click=\"(event) => this.$refs.contextMenu.open(event, getIOC($attrs.text), $refs.contextMenuParent)\"\n    >\n      <slot></slot>\n    </span>\n    <TsContextMenu ref=\"contextMenu\">\n      <template v-slot=\"params\">\n        <section v-if=\"params.data\" class=\"box ioc-context-menu\">\n          <div class=\"ioc-display\">\n            <span\n              class=\"icon is-small\"\n              title=\"Apply 'Include' filter\"\n              @click=\"addFilter(attributeKey, params.data.ioc, 'must')\"\n              ><i class=\"fas fa-search-plus\"></i\n            ></span>\n            <pre>{{ params.data.ioc }}</pre>\n          </div>\n          <div v-if=\"!isInIntelligence(params.data)\">\n            <b-field grouped message=\"Add to Intelligence\">\n              <b-select size=\"is-small\" placeholder=\"IOC type\" v-model=\"params.data.type\">\n                <option v-for=\"option in IOCTypes\" :value=\"option.type\" :key=\"option.type\">\n                  {{ option.type }}\n                </option>\n              </b-select>\n              <b-taginput\n                v-model=\"params.data.tags\"\n                ellipsis\n                icon=\"label\"\n                placeholder=\"Add a tag\"\n                aria-close-label=\"Delete this tag\"\n                size=\"is-small\"\n              >\n              </b-taginput>\n              <b-button size=\"is-small\" type=\"is-primary\" @click=\"saveThreatIntel(params.data)\">Add</b-button>\n            </b-field>\n          </div>\n          <div v-else>\n            <small>Already added to <router-link :to=\"{ name: 'Intelligence' }\">Intelligence</router-link></small>\n          </div>\n        </section>\n      </template>\n    </TsContextMenu>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsContextMenu from './TsContextMenu'\nimport { SnackbarProgrammatic as Snackbar } from 'buefy'\nimport { IOCTypes } from '../../utils/tagMetadata'\n\nexport default {\n  components: {\n    TsContextMenu,\n  },\n  props: ['attributeKey'],\n  name: 'TsIOCMenu',\n  data() {\n    return {\n      IOCTypes: IOCTypes,\n      iocColumns: [\n        { field: 'ioc', label: 'IOC' },\n        { field: 'type', label: 'Type' },\n      ],\n      selectedIOC: {},\n    }\n  },\n  methods: {\n    addFilter: function (field, value, operator) {\n      let chip = {\n        field: field,\n        value: value,\n        type: 'term',\n        operator: operator,\n        active: true,\n      }\n      this.$emit('addChip', chip)\n    },\n    getIOC: function (text) {\n      for (let iocType of this.IOCTypes) {\n        let matches = iocType.regex.exec(text)\n        if (matches) {\n          return { ioc: text, type: iocType.type, tags: this.tags }\n        }\n      }\n      return { ioc: this.$attrs.text, type: 'other' }\n    },\n    isInIntelligence(ioc) {\n      const attributes = this.$store.state.meta.attributes\n      if (!attributes.intelligence) {\n        return false\n      }\n      if (attributes.intelligence.value.data.map((ioc) => ioc.ioc).indexOf(ioc.ioc) >= 0) {\n        return true\n      }\n      return false\n    },\n    saveThreatIntel: function (ioc) {\n      ApiClient.getSketchAttributes(this.sketch.id).then((response) => {\n        let attributes = response.data\n        if (!attributes.intelligence) {\n          attributes.intelligence = { ontology: 'intelligence', value: { data: [] } }\n        }\n\n        if (attributes.intelligence.value.data.map((ioc) => ioc.ioc).indexOf(ioc.ioc) >= 0) {\n          return\n        }\n        attributes.intelligence.value.data.push(ioc)\n        ApiClient.addSketchAttribute(\n          this.sketch.id,\n          'intelligence',\n          attributes.intelligence.value,\n          'intelligence'\n        ).then(() => {\n          Snackbar.open({\n            message: 'Attribute added successfully',\n            type: 'is-white',\n            position: 'is-top',\n            actionText: 'View intelligence',\n            indefinite: false,\n            onAction: () => {\n              this.$router.push({ name: 'Intelligence' })\n            },\n          })\n          // refresh computed property based on attributes\n          this.$store.state.meta.attributes = attributes\n        })\n      })\n    },\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n  mounted() {},\n}\n</script>\n\n<style lang=\"scss\">\n.ioc-match {\n  background-color: var(--highlight-color);\n}\n\n.ioc-display .icon {\n  cursor: pointer;\n  margin-right: 0.5em;\n}\n.ioc-context-menu div.ioc-display {\n  margin-bottom: 1em;\n  margin-top: 0.4em;\n}\n\n.box.ioc-context-menu pre {\n  display: inline;\n  padding: 0.7em;\n}\n\n.box.ioc-context-menu {\n  padding: 0.7em;\n}\n\n.ioc-match:hover {\n  cursor: pointer;\n}\n\n.text__highlight {\n  background: none;\n  border-radius: 0%;\n}\n\n.ioc-context-menu a {\n  border-bottom: 1px dotted gray;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsIOCMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsIOCMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TsIOCMenu.vue?vue&type=template&id=4bdf8b2a&\"\nimport script from \"./TsIOCMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./TsIOCMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TsIOCMenu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <table class=\"table is-bordered\" style=\"width:100%;table-layout: fixed;\" @mouseup=\"handleSelectionChange\">\n    <tbody>\n      <tr v-for=\"(item, key) in fullEventFiltered\" :key=\"key\" @mouseover=\"c_key = key\" @mouseleave=\"c_key = -1\">\n        <td style=\"width:40px;\">\n          <span\n            class=\"icon is-small\"\n            style=\"cursor:pointer;\"\n            title=\"Apply 'Include' filter\"\n            v-on:click=\"addFilter(key, item, 'must')\"\n            ><i class=\"fas fa-search-plus\"></i\n          ></span>\n        </td>\n        <td style=\"width:40px;\">\n          <span\n            class=\"icon is-small\"\n            style=\"cursor:pointer;\"\n            title=\"Apply 'Exclude' filter\"\n            v-on:click=\"addFilter(key, item, 'must_not')\"\n            ><i class=\"fas fa-search-minus\"></i\n          ></span>\n        </td>\n\n        <td style=\"word-wrap: break-word; width: 150px;\">\n          {{ key }}\n          <span\n            v-if=\"key == c_key\"\n            class=\"icon is-small\"\n            style=\"cursor:pointer;\"\n            title=\"Copy key\"\n            v-clipboard:copy=\"key\"\n            v-clipboard:success=\"handleCopyStatus\"\n            ><i class=\"fas fa-copy\"></i\n          ></span>\n        </td>\n        <td>\n          <span\n            v-if=\"key == c_key\"\n            class=\"icon is-small\"\n            style=\"cursor:pointer; margin-left: 3px; float:right;\"\n            title=\"Copy value\"\n            v-clipboard:copy=\"item\"\n            v-clipboard:success=\"handleCopyStatus\"\n            ><i class=\"fas fa-copy\"></i\n          ></span>\n          <text-highlight\n            v-if=\"getRegexes(key).length > 0\"\n            @addChip=\"$emit('addChip', $event)\"\n            :highlightComponent=\"TsIOCMenu\"\n            :queries=\"getRegexes(key)\"\n            :attributeKey=\"key\"\n            >{{ item }}</text-highlight\n          >\n          <span v-else>{{ item }}</span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsIOCMenu from '../Common/TsIOCMenu'\nimport TextHighlight from 'vue-text-highlight'\n\nexport default {\n  components: { TextHighlight },\n  props: ['event'],\n  data() {\n    return {\n      TsIOCMenu,\n      regexSelection: '',\n      regexes: [\n        { type: 'fs_path', regex: /(\\/[\\S]+)+/i, match_field: 'message' },\n        { type: 'hostname', regex: /([-\\w]+\\.)+[a-z]{2,}/i, match_field: 'hostname' },\n        {\n          type: 'ipv4',\n          regex: /((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)/g,\n          match_field: 'message',\n        },\n        { type: 'hash_md5', regex: /[0-9a-f]{32}/i, match_field: 'message' },\n        { type: 'hash_sha1', regex: /[0-9a-f]{40}/i, match_field: 'message' },\n        { type: 'hash_sha256', regex: /[0-9a-f]{64}/i, match_field: 'message' },\n      ],\n      c_key: -1,\n      fullEvent: {},\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    fullEventFiltered() {\n      Object.getOwnPropertyNames(this.fullEvent).forEach(key => {\n        // Remove internal properties from the UI\n        if (key.startsWith('__ts')) {\n          delete this.fullEvent[key]\n        }\n      })\n      return this.fullEvent\n    },\n  },\n  methods: {\n    getEvent: function() {\n      let searchindexId = this.event._index\n      let eventId = this.event._id\n      ApiClient.getEvent(this.sketch.id, searchindexId, eventId)\n        .then(response => {\n          this.fullEvent = response.data.objects\n        })\n        .catch(e => {})\n    },\n    addFilter: function(field, value, operator) {\n      let chip = {\n        field: field,\n        value: value,\n        type: 'term',\n        operator: operator,\n        active: true,\n      }\n      this.$emit('addChip', chip)\n    },\n    handleCopyStatus: function() {\n      this.$buefy.notification.open('Copied!')\n    },\n    handleSelectionChange(event) {\n      if (event.target.closest('.ioc-match') || event.target.closest('.ioc-context-menu')) {\n        return\n      }\n      const text = window.getSelection().toString()\n      this.regexSelection = text\n    },\n    getRegexes(key) {\n      if (this.regexSelection !== '') {\n        return this.regexSelection\n      }\n      let regexes = Object.values(\n        this.regexes.filter(r => r.match_field === key || r.match_field === '*').map(r => r.regex)\n      )\n      if (this.regexSelection !== '') {\n        regexes.push(this.regexSelection)\n      }\n      return regexes\n    },\n  },\n  created: function() {\n    this.getEvent()\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventListRowDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventListRowDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventListRowDetail.vue?vue&type=template&id=17d8aba0&\"\nimport script from \"./EventListRowDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./EventListRowDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <tbody>\n    <!-- Time bubbles -->\n    <tr v-if=\"deltaDays > 0\">\n      <td colspan=\"5\" style=\"padding: 0\">\n        <div class=\"ts-time-bubble-vertical-line ts-time-bubble-vertical-line-color\"></div>\n        <div class=\"ts-time-bubble ts-time-bubble-color\">\n          <h5>\n            <b>{{ deltaDays | compactNumber }}</b\n            ><br />days\n          </h5>\n        </div>\n        <div class=\"ts-time-bubble-vertical-line ts-time-bubble-vertical-line-color\"></div>\n      </td>\n    </tr>\n\n    <!-- The event -->\n    <tr>\n      <!-- Timeline color (set the color for the timeline) -->\n      <td v-bind:style=\"timelineColor\">\n        {{ event._source.timestamp | formatTimestamp | moment('utc', datetimeFormat) }}\n      </td>\n\n      <!-- Action column -->\n      <td>\n        <div class=\"field is-grouped\">\n          <span v-if=\"displayControls\" class=\"control\">\n            <input type=\"checkbox\" :checked=\"isSelected\" v-on:click=\"toggleSelect\" />\n          </span>\n          <span class=\"icon control\" v-on:click=\"toggleStar\" style=\"margin-right: 3px; cursor: pointer\">\n            <i\n              class=\"fas fa-star\"\n              v-if=\"isStarred\"\n              title=\"Unstar the event\"\n              style=\"color: #ffe300; -webkit-text-stroke-width: 1px; -webkit-text-stroke-color: #d1d1d1\"\n            ></i>\n            <i class=\"fas fa-star\" v-if=\"!isStarred\" title=\"Star the event\" style=\"color: #d3d3d3\"></i>\n          </span>\n          <span\n            v-if=\"displayControls\"\n            class=\"icon control\"\n            style=\"margin-right: 3px; cursor: pointer\"\n            v-on:click=\"searchContext\"\n          >\n            <i class=\"fas fa-search\" title=\"Search +/- 5min\" style=\"color: #d3d3d3\"></i>\n          </span>\n          <span class=\"icon control\">\n            <ts-dropdown>\n              <template v-slot:dropdown-trigger-element>\n                <i class=\"fas fa-tag\" title=\"Labels\" style=\"color: #d3d3d3\" slot=\"trigger\"></i>\n              </template>\n\n              <span v-if=\"filteredLabelsToAdd.length\">\n                <b>Add label</b>\n                <br /><br />\n                <div class=\"level\" style=\"margin-bottom: 5px\" v-for=\"label in filteredLabelsToAdd\" :key=\"label.label\">\n                  <div class=\"level-left\">\n                    <div class=\"field\">\n                      <b-checkbox type=\"is-info\" v-model=\"selectedLabels\" :native-value=\"label.label\">\n                        {{ label.label }}\n                      </b-checkbox>\n                    </div>\n                  </div>\n                </div>\n              </span>\n\n              <span v-if=\"event._source.label.length\">\n                <i class=\"fas fa-trash\" style=\"margin-right: 7px\"></i>\n                <b>Remove label</b>\n                <br /><br />\n                <div class=\"level\" style=\"margin-bottom: 5px\" v-for=\"label in event._source.label\" :key=\"label\">\n                  <div class=\"level-left\">\n                    <div class=\"field\">\n                      <b-checkbox type=\"is-danger\" v-model=\"labelsToRemove\" :native-value=\"label\">\n                        {{ label }}\n                      </b-checkbox>\n                    </div>\n                  </div>\n                </div>\n              </span>\n\n              <br />\n              <b>Create and add a new label</b>\n              <div class=\"field is-grouped\" style=\"padding-top: 10px\">\n                <p class=\"control is-expanded\">\n                  <input class=\"input\" v-model=\"labelToAdd\" placeholder=\"New label\" />\n                </p>\n                <p class=\"control\">\n                  <button v-on:click=\"addLabels(labelToAdd)\" class=\"button\">Save</button>\n                </p>\n              </div>\n              <button\n                v-if=\"selectedLabels.length || labelsToRemove.length\"\n                class=\"button is-info\"\n                v-on:click=\"addLabels()\"\n                :disabled=\"labelToAdd !== null && labelToAdd !== ''\"\n              >\n                Apply\n              </button>\n            </ts-dropdown>\n          </span>\n        </div>\n      </td>\n\n      <!-- Dynamic columns based on selected fields -->\n      <td\n        v-bind:style=\"fieldColumnColor\"\n        v-on:click=\"showDetail = !showDetail\"\n        style=\"cursor: pointer; max-width: 50ch\"\n        class=\"ts-event-list-row-background-color\"\n        v-for=\"(field, index) in selectedFields\"\n        :key=\"index\"\n      >\n        <span v-bind:class=\"{ 'ts-event-field-container': selectedFields.length === 1 }\">\n          <span v-bind:class=\"{ 'ts-event-field-ellipsis': selectedFields.length === 1 }\">\n            <!-- eslint-disable vue/no-use-v-if-with-v-for -->\n            <span v-if=\"index === 0\">\n              <span\n                v-if=\"displayOptions.showEmojis\"\n                v-for=\"emoji in event._source.__ts_emojis\"\n                :key=\"emoji\"\n                v-html=\"emoji\"\n                :title=\"meta.emojis[emoji]\"\n                >{{ emoji }}</span\n              >\n              <span style=\"margin-left: 10px\"></span>\n              <span\n                v-if=\"displayOptions.showTags\"\n                v-for=\"tag in event._source.tag\"\n                :key=\"tag\"\n                class=\"tag is-small\"\n                style=\"margin-right: 5px; background-color: var(--tag-background-color); color: var(--tag-font-color)\"\n                >{{ tag }}</span\n              >\n              <span\n                v-if=\"displayOptions.showTags\"\n                v-for=\"label in filteredLabels\"\n                :key=\"label\"\n                class=\"tag is-small\"\n                style=\"margin-right: 5px; background-color: var(--tag-background-color); color: var(--tag-font-color)\"\n                >{{ label }}</span\n              >\n            </span>\n            <!--eslint-enable-->\n            <span style=\"word-break: break-word\" :title=\"event._source[field.field]\">\n              {{ event._source[field.field] }}\n            </span>\n          </span>\n        </span>\n      </td>\n\n      <!-- Timeline name -->\n      <td class=\"ts-timeline-name-column ts-timeline-name-column-color\">\n        <span :title=\"timelineName\">\n          {{ timelineName }}\n        </span>\n      </td>\n    </tr>\n\n    <!-- Comments row -->\n    <tr v-if=\"comments.length\">\n      <td colspan=\"5\" style=\"padding: 0\">\n        <div style=\"max-width: 100%; border: 1px solid #f5f5f5; border-radius: 4px; padding: 10px; margin-bottom: 20px\">\n          <article class=\"field\" v-for=\"(comment, index) in comments\" :key=\"comment.id\">\n            <small style=\"margin-right: 10px\">{{ comment.updated_at | moment('utc', 'YYYY-MM-DD HH:mm:ss') }}</small>\n            <small style=\"margin-right: 10px\">{{ comment.user.username }}</small>\n            <br />\n            <div v-if=\"comment && comment.editable\" class=\"media-content\">\n              <div class=\"field\" style=\"max-width: 50%\">\n                <p class=\"control\">\n                  <textarea v-model=\"comments[index].comment\" required autofocus class=\"textarea\" rows=\"1\"></textarea>\n                </p>\n              </div>\n              <div class=\"field\">\n                <p class=\"control\">\n                  <button\n                    class=\"button is-small is-rounded\"\n                    style=\"margin-right: 0.75rem\"\n                    v-on:click=\"updateComment(comment, index)\"\n                  >\n                    Save\n                  </button>\n\n                  <button\n                    class=\"button is-small is-rounded\"\n                    style=\"margin-right: 0.75rem\"\n                    v-on:click=\"toggleEditComment(index, false)\"\n                  >\n                    Cancel\n                  </button>\n                </p>\n              </div>\n            </div>\n            <div v-if=\"comment && !comment.editable\" class=\"media-content\">\n              <div class=\"level content\">\n                <div class=\"level-left\">\n                  {{ comment.comment }}\n                </div>\n                <div\n                  v-if=\"meta.permissions.write && getCurrentUser() == comment.user.username\"\n                  class=\"level-right field\"\n                >\n                  <button\n                    class=\"button is-small is-rounded\"\n                    style=\"margin-right: 0.75rem\"\n                    v-on:click=\"toggleEditComment(index, true)\"\n                  >\n                    Edit\n                  </button>\n                  <button\n                    class=\"button is-small is-rounded is-danger\"\n                    style=\"margin-right: 0.75rem\"\n                    v-on:click=\"deleteComment(comment.id, index)\"\n                  >\n                    Remove\n                  </button>\n                </div>\n              </div>\n            </div>\n          </article>\n        </div>\n      </td>\n    </tr>\n\n    <!-- Event details that gets activated when the event row is clicked -->\n    <tr>\n      <td colspan=\"5\" style=\"padding: 0\">\n        <div v-if=\"showDetail\" style=\"padding-top: 20px; padding-bottom: 20px; padding-left: 10px\">\n          <div class=\"field\" style=\"max-width: 50%\">\n            <p class=\"control\">\n              <textarea\n                v-model=\"comment\"\n                required\n                autofocus\n                class=\"textarea\"\n                rows=\"1\"\n                placeholder=\"Add a comment ...\"\n              ></textarea>\n            </p>\n          </div>\n          <div class=\"field\">\n            <p class=\"control\">\n              <button class=\"button is-small is-rounded\" v-on:click=\"postComment(comment)\">Post comment</button>\n            </p>\n          </div>\n          <ts-sketch-explore-event-list-row-detail\n            :event=\"event\"\n            @addChip=\"$emit('addChip', $event)\"\n          ></ts-sketch-explore-event-list-row-detail>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsSketchExploreEventListRowDetail from './EventListRowDetail'\nimport TsDropdown from '../Common/Dropdown'\nimport EventBus from '../../main'\nimport { ToastProgrammatic as Toast } from 'buefy'\n\nexport default {\n  components: {\n    TsSketchExploreEventListRowDetail,\n    TsDropdown,\n  },\n  props: [\n    'event',\n    'prevEvent',\n    'order',\n    'selectedFields',\n    'isRemoteSelected',\n    'displayOptions',\n    'displayControls',\n    'searchNode',\n  ],\n  data() {\n    return {\n      showDetail: false,\n      isStarred: false,\n      isSelected: false,\n      isDarkTheme: false,\n      comment: '',\n      comments: [],\n      labelToAdd: null,\n      selectedLabels: [],\n      labelsToRemove: [],\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    currentSearchNode() {\n      return this.searchNode || this.$store.state.currentSearchNode\n    },\n    timelineColor() {\n      let backgroundColor = this.timeline.color\n      if (!backgroundColor.startsWith('#')) {\n        backgroundColor = '#' + backgroundColor\n      }\n      if (this.isDarkTheme) {\n        return {\n          'background-color': backgroundColor,\n          filter: 'grayscale(25%)',\n          color: '#333',\n        }\n      }\n      return {\n        'background-color': backgroundColor,\n      }\n    },\n    fieldColumnColor() {\n      if (this.isSelected) {\n        return {\n          'background-color': '#c3ecff',\n          color: '#333',\n        }\n      }\n\n      if (this.isStarred) {\n        return {\n          'background-color': '#fff4b3',\n          color: '#333',\n        }\n      }\n      return {}\n    },\n    datetimeFormat() {\n      if (this.displayOptions.showMillis) {\n        return 'YYYY-MM-DDTHH:mm:ss.SSSSSS'\n      } else {\n        return 'YYYY-MM-DDTHH:mm:ss'\n      }\n    },\n    timeline() {\n      let isLegacy = this.meta.indices_metadata[this.event._index].is_legacy\n      let timeline\n      if (isLegacy) {\n        timeline = this.sketch.active_timelines.filter(\n          (timeline) => timeline.searchindex.index_name === this.event._index\n        )[0]\n      } else {\n        timeline = this.sketch.active_timelines.filter(\n          (timeline) => timeline.id === this.event._source.__ts_timeline_id\n        )[0]\n      }\n      return timeline\n    },\n    timelineName() {\n      return this.timeline.name\n    },\n    deltaDays() {\n      if (!this.prevEvent) {\n        return 0\n      }\n      let timestampMillis = this.$options.filters.formatTimestamp(this.event._source.timestamp)\n      let prevTimestampMillis = this.$options.filters.formatTimestamp(this.prevEvent._source.timestamp)\n      let timestamp = Math.floor(timestampMillis / 1000)\n      let prevTimestamp = Math.floor(prevTimestampMillis / 1000)\n      let delta = Math.floor(timestamp - prevTimestamp)\n      if (this.order === 'desc') {\n        delta = Math.floor(prevTimestamp - timestamp)\n      }\n      let deltaDays = delta / 60 / 60 / 24\n      return Math.floor(deltaDays)\n    },\n    eventDataSparse() {\n      let eventData = {}\n      eventData['_index'] = this.event._index\n      eventData['_id'] = this.event._id\n      eventData['_type'] = this.event._type\n      eventData['isSelected'] = this.isSelected\n      eventData['isStarred'] = this.isStarred\n      return eventData\n    },\n    filteredLabels() {\n      return this.event._source.label.filter((label) => !label.startsWith('__'))\n    },\n    filteredLabelsToAdd() {\n      return this.meta.filter_labels.filter((label) => this.event._source.label.indexOf(label.label) === -1)\n    },\n    filteredLabelsToRemove() {\n      return this.meta.filter_labels.filter((label) => this.event._source.label.indexOf(label.label) !== -1)\n    },\n  },\n  methods: {\n    toggleStar() {\n      if (!this.isStarred) {\n        // Update the Search History to indicate that an entry was starred\n        EventBus.$emit('eventAnnotated', { type: '__ts_star', event: this.event, searchNode: this.currentSearchNode })\n      }\n      this.isStarred = !this.isStarred\n      ApiClient.saveEventAnnotation(this.sketch.id, 'label', '__ts_star', this.event, this.currentSearchNode)\n        .then((response) => {})\n        .catch((e) => {\n          console.error(e)\n        })\n    },\n    toggleStarOnSelect(eventsToToggle) {\n      // The 'includes' check is there to avoid toggling all the selected events\n      if (this.isSelected && eventsToToggle.includes(this.event._id)) {\n        this.isStarred = !this.isStarred\n      }\n    },\n    postComment: function (comment) {\n      EventBus.$emit('eventAnnotated', { type: '__ts_comment', event: this.event, searchNode: this.currentSearchNode })\n      ApiClient.saveEventAnnotation(this.sketch.id, 'comment', comment, [this.event], this.currentSearchNode)\n        .then((response) => {\n          this.comments.push(response.data.objects[0][0])\n          this.comment = ''\n        })\n        .catch((e) => {})\n    },\n    updateComment: function (comment, commentIndex) {\n      ApiClient.updateEventAnnotation(this.sketch.id, 'comment', comment, [this.event], this.currentSearchNode)\n        .then((response) => {\n          this.$set(this.comments, commentIndex, response.data.objects[0][0])\n        })\n        .catch((e) => {\n          console.error(e)\n        })\n    },\n    deleteComment: function (commentId, commentIndex) {\n      if (confirm('Are you sure?')) {\n        ApiClient.deleteEventAnnotation(this.sketch.id, 'comment', commentId, this.event, this.currentSearchNode)\n          .then((response) => {\n            this.comments.splice(commentIndex, 1)\n          })\n          .catch((e) => {\n            console.error(e)\n          })\n      }\n    },\n    toggleEditComment(commentIndex, enable) {\n      if (enable) {\n        const changeComment = this.comments[commentIndex]\n        changeComment.editable = true\n        this.$set(this.comments, commentIndex, changeComment)\n      } else {\n        const changeComment = this.comments[commentIndex]\n        changeComment.editable = false\n        this.$set(this.comments, commentIndex, changeComment)\n      }\n    },\n    getCurrentUser() {\n      if (this.$store.state.currentUser) {\n        this.currentUser = this.$store.state.currentUser\n      } else if (!this.currentUser) {\n        ApiClient.getLoggedInUser().then((response) => {\n          this.currentUser = response.data.objects[0].username\n        })\n      }\n      return this.currentUser\n    },\n    addLabels: function (labels) {\n      if (labels === undefined) {\n        labels = this.selectedLabels\n      }\n      if (!Array.isArray(labels)) {\n        labels = [labels]\n      }\n\n      if (labels.length) {\n        EventBus.$emit('eventAnnotated', { type: '__ts_label', event: this.event, searchNode: this.currentSearchNode })\n      }\n\n      labels.forEach((label) => {\n        if (this.event._source.label.indexOf(label) === -1) {\n          this.event._source.label.push(label)\n          ApiClient.saveEventAnnotation(this.sketch.id, 'label', label, [this.event], this.currentSearchNode)\n            .then((response) => {\n              this.$emit('addLabel', label)\n            })\n            .catch((e) => {\n              Toast.open('Error adding label')\n              this.event._source.label = this.event._source.label.filter((e) => e !== label)\n            })\n        }\n      })\n\n      if (this.labelsToRemove.length) {\n        this.labelsToRemove.forEach((label) => {\n          ApiClient.saveEventAnnotation(this.sketch.id, 'label', label, [this.event], this.currentSearchNode, true)\n            .then((response) => {})\n            .catch((e) => {})\n          this.event._source.label = this.event._source.label.filter((e) => e !== label)\n        })\n        this.labelsToRemove = []\n      }\n\n      this.selectedLabels = []\n      this.labelToAdd = null\n      this.$refs.labelDropdown.toggle()\n    },\n    searchContext: function () {\n      this.$emit('searchContext', this.event)\n    },\n    selectEvent: function () {\n      this.isSelected = true\n      EventBus.$emit('eventSelected', this.eventDataSparse)\n    },\n    unSelectEvent: function () {\n      this.isSelected = false\n      EventBus.$emit('eventSelected', this.eventDataSparse)\n    },\n    toggleSelect: function () {\n      if (this.isSelected) {\n        this.unSelectEvent()\n      } else {\n        this.selectEvent()\n      }\n    },\n    toggleTheme: function () {\n      this.isDarkTheme = !this.isDarkTheme\n    },\n  },\n  beforeDestroy() {\n    EventBus.$off('selectEvent', this.selectEvent)\n    EventBus.$off('clearSelectedEvents', this.unSelectEvent)\n    EventBus.$off('toggleStar', this.toggleStarOnSelect)\n  },\n  created() {\n    EventBus.$on('selectEvent', this.selectEvent)\n    EventBus.$on('clearSelectedEvents', this.unSelectEvent)\n    EventBus.$on('toggleStar', this.toggleStarOnSelect)\n    EventBus.$on('isDarkTheme', this.toggleTheme)\n\n    /*\n    let isLegacy = this.meta.indices_metadata[this.event._index].is_legacy\n    if (isLegacy) {\n      this.timeline = this.sketch.active_timelines.filter(\n        timeline => timeline.searchindex.index_name === this.event._index\n      )[0]\n    } else {\n      this.timeline = this.sketch.active_timelines.filter(\n        timeline => timeline.id === this.event._source.__ts_timeline_id\n      )[0]\n    }\n    */\n\n    this.isDarkTheme = localStorage.theme === 'dark'\n\n    if (this.event._source.label.indexOf('__ts_star') > -1) {\n      this.isStarred = true\n    }\n    if (this.event._source.label.indexOf('__ts_comment') > -1) {\n      let searchindexId = this.event._index\n      let eventId = this.event._id\n      ApiClient.getEvent(this.sketch.id, searchindexId, eventId)\n        .then((response) => {\n          this.comments = response.data.meta.comments\n        })\n        .catch((e) => {})\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ts-event-field-container {\n  position: relative;\n  max-width: 100%;\n  padding: 0 !important;\n  display: -webkit-flex;\n  display: -moz-flex;\n  display: flex;\n  vertical-align: text-bottom !important;\n}\n\n.ts-event-field-container:after {\n  content: '-';\n  display: inline;\n  visibility: hidden;\n  width: 0;\n}\n\n.ts-event-field-ellipsis {\n  position: absolute;\n  white-space: nowrap;\n  overflow-y: visible;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  -ms-text-overflow: ellipsis;\n  -o-text-overflow: ellipsis;\n  max-width: 100%;\n  min-width: 0;\n  width: 100%;\n  top: 0;\n  left: 0;\n}\n\n.ts-timeline-name-column {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: right;\n  max-width: 150px;\n  word-wrap: break-word;\n}\n\n.ts-time-bubble {\n  width: 60px;\n  height: 60px;\n  border-radius: 30px;\n  position: relative;\n  margin: 0 0 0 45px;\n  text-align: center;\n  font-size: var(--font-size-small);\n}\n\n.ts-time-bubble h5 {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin: 0;\n}\n\n.ts-time-bubble-vertical-line {\n  width: 2px;\n  height: 20px;\n  margin: 0 0 0 75px;\n}\n\n.ts-shadow-on-hover:hover {\n  opacity: 0.999999;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 2px 6px rgba(0, 0, 0, 0.24);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventListRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventListRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventListRow.vue?vue&type=template&id=158bafc4&scoped=true&\"\nimport script from \"./EventListRow.vue?vue&type=script&lang=js&\"\nexport * from \"./EventListRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventListRow.vue?vue&type=style&index=0&id=158bafc4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"158bafc4\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <table class=\"table is-fullwidth\" style=\"border-radius: 4px\">\n    <thead>\n      <th :width=\"datetimeWidth\">Datetime (UTC)</th>\n      <th width=\"1\">\n        <span class=\"control\">\n          <input type=\"checkbox\" v-on:click=\"toggleSelectAll\" />\n        </span>\n      </th>\n      <th v-for=\"(field, index) in selectedFields\" :key=\"index\">{{ field.field }}</th>\n      <th width=\"150\">Timeline name</th>\n    </thead>\n    <ts-sketch-explore-event-list-row\n      v-for=\"(event, index) in eventList\"\n      :key=\"index\"\n      :event=\"event\"\n      :prevEvent=\"eventList[index - 1]\"\n      :order=\"order\"\n      :selected-fields=\"selectedFields\"\n      :display-options=\"displayOptions\"\n      :display-controls=\"true\"\n      :search-node=\"searchNode\"\n      v-bind:id=\"event._id\"\n      @addChip=\"$emit('addChip', $event)\"\n      @addLabel=\"$emit('addLabel', $event)\"\n      @searchContext=\"$emit('searchContext', $event)\"\n    >\n    </ts-sketch-explore-event-list-row>\n  </table>\n</template>\n\n<script>\nimport TsSketchExploreEventListRow from './EventListRow'\nimport EventBus from '../../main'\n\nexport default {\n  components: { TsSketchExploreEventListRow },\n  props: ['eventList', 'order', 'selectedFields', 'displayOptions', 'searchNode'],\n  data() {\n    return {\n      selectAll: false,\n    }\n  },\n  methods: {\n    toggleSelectAll: function () {\n      if (this.selectAll) {\n        EventBus.$emit('clearSelectedEvents')\n        this.selectAll = false\n      } else {\n        EventBus.$emit('selectEvent')\n        this.selectAll = true\n      }\n    },\n  },\n  computed: {\n    datetimeWidth() {\n      if (this.displayOptions.showMillis) {\n        return '220'\n      } else {\n        return '165'\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.table thead th {\n  border: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventList.vue?vue&type=template&id=3d4b2d6f&scoped=true&\"\nimport script from \"./EventList.vue?vue&type=script&lang=js&\"\nexport * from \"./EventList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventList.vue?vue&type=style&index=0&id=3d4b2d6f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d4b2d6f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"can-cancel\":false},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('div',{staticClass:\"lds-ripple\"},[_c('div'),_c('div')]),_c('div',{staticStyle:{\"position\":\"absolute\",\"margin-top\":\"120px\"}},[_c('b',[_vm._v(\"Reloading timelines\")])])]),_vm._l((_vm.activeTimelines),function(timeline){return _c('ts-timeline-chip',{key:timeline.id + timeline.name,attrs:{\"timeline\":timeline,\"is-selected\":_vm.isSelected(timeline),\"is-empty-state\":_vm.isEmptyState,\"events-count\":_vm.getCount(timeline)},on:{\"remove\":_vm.remove,\"save\":_vm.save,\"toggle\":_vm.toggleTimeline}})}),(_vm.activeTimelines.length > 3)?_c('div',{staticStyle:{\"margin-top\":\"7px\"}},[_c('span',{staticStyle:{\"text-decoration\":\"underline\",\"cursor\":\"pointer\",\"margin-right\":\"10px\"},on:{\"click\":_vm.enableAllTimelines}},[_vm._v(\"Enable all\\n    \")]),_c('span',{staticStyle:{\"text-decoration\":\"underline\",\"cursor\":\"pointer\"},on:{\"click\":_vm.disableAllTimelines}},[_vm._v(\"Disable all \")])]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(_vm.meta.permissions.write)?_c('span',[_c('b-modal',{staticStyle:{\"z-index\":\"999\"},attrs:{\"active\":_vm.showInfoModal,\"width\":1024,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showInfoModal=$event}}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Detailed information for \"+_vm._s(_vm.timeline.name))])]),_c('div',{staticClass:\"card-content\"},[_c('ul',[_c('li',[_vm._v(\"Elasticsearch index: \"+_vm._s(_vm.timeline.searchindex.index_name))]),(_vm.meta.stats_per_timeline[_vm.timeline.id])?_c('li',[_vm._v(\"\\n                Number of events: \"+_vm._s(_vm._f(\"compactNumber\")(_vm.meta.stats_per_timeline[_vm.timeline.id]['count']))+\" (\"+_vm._s(_vm.meta.stats_per_timeline[_vm.timeline.id]['count'])+\")\\n              \")]):_vm._e(),_c('li',[_vm._v(\"Created by: \"+_vm._s(_vm.timeline.user.username))]),_c('li',[_vm._v(\"Created at: \"+_vm._s(_vm._f(\"moment\")(_vm.timeline.created_at,'YYYY-MM-DD HH:mm')))])]),_c('br'),_vm._l((_vm.timeline.datasources),function(datasource){return _c('b-message',{key:datasource.id,attrs:{\"type\":datasource.error_message ? 'is-danger' : 'is-success',\"title\":datasource.created_at,\"closable\":false}},[_c('ul',[_c('li',[_c('strong',[_vm._v(\"Provider:\")]),_vm._v(\" \"+_vm._s(datasource.provider))]),_c('li',[_c('strong',[_vm._v(\"Context:\")]),_vm._v(\" \"+_vm._s(datasource.context))]),_c('li',[_c('strong',[_vm._v(\"User:\")]),_vm._v(\" \"+_vm._s(datasource.user.username))]),_c('li',[_c('strong',[_vm._v(\"File on disk:\")]),_vm._v(\" \"+_vm._s(datasource.file_on_disk))]),_c('li',[_c('strong',[_vm._v(\"File size:\")]),_vm._v(\" \"+_vm._s(_vm._f(\"compactBytes\")(datasource.file_size)))]),_c('li',[_c('strong',[_vm._v(\"Original filename:\")]),_vm._v(\" \"+_vm._s(datasource.original_filename))]),_c('li',[_c('strong',[_vm._v(\"Data label:\")]),_vm._v(\" \"+_vm._s(datasource.data_label))])]),_c('br'),(datasource.error_message)?_c('div',[_c('strong',{staticStyle:{\"font-size\":\"1.2rem\",\"margin-bottom\":\"10px\"}},[_vm._v(\"Error detail\")]),_c('pre',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(_vm._s(datasource.error_message))])]):_vm._e()])})],2)])]),_c('button',{staticClass:\"modal-close is-large\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){_vm.showInfoModal = !_vm.showInfoModal}}})]),_c('b-modal',{staticStyle:{\"z-index\":\"999\"},attrs:{\"active\":_vm.showEditModal,\"width\":640,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showEditModal=$event}}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Rename timeline\")])]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTimelineName),expression:\"newTimelineName\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.newTimelineName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newTimelineName=$event.target.value}}})])]),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{staticClass:\"button is-success\",attrs:{\"type\":\"submit\",\"value\":\"Save\"},on:{\"click\":function($event){return _vm.rename()}}})])])])])])])]),_c('button',{staticClass:\"modal-close is-large\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){_vm.showEditModal = !_vm.showEditModal}}})]),_c('b-modal',{staticStyle:{\"z-index\":\"999\"},attrs:{\"active\":_vm.showAnalyzerModal,\"width\":1024,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showAnalyzerModal=$event}}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Analyzer logs for \"+_vm._s(_vm.timeline.name))])]),(_vm.showAnalyzerModal)?_c('div',{staticClass:\"card-content\"},[_c('ts-analyzer-history',{attrs:{\"timeline\":_vm.timeline,\"isModal\":\"true\"},on:{\"closeHistory\":function($event){_vm.showAnalyzerModal = false}}})],1):_vm._e()])]),_c('button',{staticClass:\"modal-close is-large\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){_vm.showAnalyzerModal = !_vm.showAnalyzerModal}}})])],1):_vm._e(),_c('span',{staticClass:\"tag is-medium has-text-left timeline-chip\",style:(_vm.getTimelineStyle(_vm.timeline)),on:{\"click\":function($event){return _vm.toggleTimeline(_vm.timeline)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.timeline.name)+\"\\n    \"),(_vm.datasourceErrors.length)?_c('span',{staticClass:\"b-tooltips import-error\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('b-tooltip',{attrs:{\"label\":_vm.datasourceErrors.length + ' failed imports',\"type\":_vm.isDarkTheme ? 'is-dark' : 'is-light'}},[_c('span',{staticClass:\"icon is-small\",staticStyle:{\"color\":\"orange\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\",on:{\"click\":function($event){_vm.showInfoModal = !_vm.showInfoModal}}})])])],1):_vm._e(),_c('span',{staticClass:\"tag is-small timeline-count\",staticStyle:{\"color\":\"#333\"}},[(_vm.isSelected && !_vm.isEmptyState)?_c('span',[_vm._v(_vm._s(_vm._f(\"compactNumber\")(_vm.eventsCount))+\" \")]):_vm._e()]),(_vm.meta.permissions.write)?_c('span',{on:{\"click\":function($event){$event.stopPropagation();}}},[_c('ts-dropdown',{attrs:{\"width\":\"270px\"},scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('a',{staticStyle:{\"color\":\"#333\"},attrs:{\"role\":\"button\"}},[_c('i',{staticClass:\"fas fa-ellipsis-v\",staticStyle:{\"padding-left\":\"14px\",\"padding-right\":\"6px\"}})])]},proxy:true}],null,false,3000788609)},[_c('div',{staticClass:\"ts-dropdown-item\",on:{\"click\":function($event){_vm.showInfoModal = !_vm.showInfoModal}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-info-circle\"})]),_c('span',[_vm._v(\"Info\")])]),(_vm.timelineStatus === 'ready')?_c('div',{staticClass:\"ts-dropdown-item\",on:{\"click\":function($event){_vm.showEditModal = !_vm.showEditModal}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('span',[_vm._v(\"Rename\")])]):_vm._e(),(_vm.timelineStatus === 'ready')?_c('div',{staticClass:\"ts-dropdown-item\",on:{\"click\":function($event){_vm.showAnalyzerModal = !_vm.showAnalyzerModal}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-history\"})]),_c('span',[_vm._v(\"Analyzer logs\")])]):_vm._e(),_c('div',{staticClass:\"ts-dropdown-item\",on:{\"click\":function($event){return _vm.remove()}}},[_c('span',{staticClass:\"icon is-small is-danger\"},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('span',[_vm._v(\"Delete\")])]),_c('hr'),(_vm.timelineStatus === 'ready')?_c('div',[_c('color-picker',{staticStyle:{\"box-shadow\":\"none\",\"background-color\":\"transparent\",\"padding\":\"0\"},attrs:{\"palette\":_vm.colorPickerPalette},on:{\"input\":_vm.updateColor},model:{value:(_vm.initialColor),callback:function ($$v) {_vm.initialColor=$$v},expression:\"initialColor\"}})],1):_vm._e()])],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <span>\n    <span v-if=\"meta.permissions.write\">\n      <!-- Timeline info modal -->\n      <b-modal :active.sync=\"showInfoModal\" :width=\"1024\" scroll=\"keep\" style=\"z-index:999;\">\n        <div class=\"modal-background\"></div>\n        <div class=\"modal-content\">\n          <div class=\"card\">\n            <header class=\"card-header\">\n              <p class=\"card-header-title\">Detailed information for {{ timeline.name }}</p>\n            </header>\n            <div class=\"card-content\">\n              <ul>\n                <li>Elasticsearch index: {{ timeline.searchindex.index_name }}</li>\n                <li v-if=\"meta.stats_per_timeline[timeline.id]\">\n                  Number of events: {{ meta.stats_per_timeline[timeline.id]['count'] | compactNumber }} ({{\n                    meta.stats_per_timeline[timeline.id]['count']\n                  }})\n                </li>\n                <li>Created by: {{ timeline.user.username }}</li>\n                <li>Created at: {{ timeline.created_at | moment('YYYY-MM-DD HH:mm') }}</li>\n              </ul>\n              <br />\n\n              <b-message\n                v-for=\"datasource in timeline.datasources\"\n                :type=\"datasource.error_message ? 'is-danger' : 'is-success'\"\n                :title=\"datasource.created_at\"\n                :closable=\"false\"\n                :key=\"datasource.id\"\n              >\n                <ul>\n                  <li><strong>Provider:</strong> {{ datasource.provider }}</li>\n                  <li><strong>Context:</strong> {{ datasource.context }}</li>\n                  <li><strong>User:</strong> {{ datasource.user.username }}</li>\n                  <li><strong>File on disk:</strong> {{ datasource.file_on_disk }}</li>\n                  <li><strong>File size:</strong> {{ datasource.file_size | compactBytes }}</li>\n                  <li><strong>Original filename:</strong> {{ datasource.original_filename }}</li>\n                  <li><strong>Data label:</strong> {{ datasource.data_label }}</li>\n                </ul>\n                <br />\n                <div v-if=\"datasource.error_message\">\n                  <strong style=\"font-size:1.2rem; margin-bottom:10px;\">Error detail</strong>\n                  <pre style=\"margin-top:10px;\">{{ datasource.error_message }}</pre>\n                </div>\n              </b-message>\n            </div>\n          </div>\n        </div>\n        <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"showInfoModal = !showInfoModal\"></button>\n      </b-modal>\n\n      <!-- Timeline rename modal -->\n      <b-modal :active.sync=\"showEditModal\" :width=\"640\" scroll=\"keep\" style=\"z-index:999;\">\n        <div class=\"modal-background\"></div>\n        <div class=\"modal-content\">\n          <div class=\"card\">\n            <header class=\"card-header\">\n              <p class=\"card-header-title\">Rename timeline</p>\n            </header>\n            <div class=\"card-content\">\n              <div class=\"content\">\n                <form @submit.prevent>\n                  <!-- Without prevent(), the page will refresh -->\n                  <div class=\"field\">\n                    <div class=\"control\">\n                      <input v-model=\"newTimelineName\" class=\"input\" type=\"text\" required autofocus />\n                    </div>\n                  </div>\n                  <div class=\"field\">\n                    <div class=\"control\">\n                      <input class=\"button is-success\" @click=\"rename()\" type=\"submit\" value=\"Save\" />\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n        <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"showEditModal = !showEditModal\"></button>\n      </b-modal>\n\n      <!-- Analyzer logs modal -->\n      <b-modal :active.sync=\"showAnalyzerModal\" :width=\"1024\" scroll=\"keep\" style=\"z-index:999;\">\n        <div class=\"modal-background\"></div>\n        <div class=\"modal-content\">\n          <div class=\"card\">\n            <header class=\"card-header\">\n              <p class=\"card-header-title\">Analyzer logs for {{ timeline.name }}</p>\n            </header>\n            <div class=\"card-content\" v-if=\"showAnalyzerModal\">\n              <ts-analyzer-history :timeline=\"timeline\" isModal=\"true\" @closeHistory=\"showAnalyzerModal = false\"></ts-analyzer-history>\n            </div>\n          </div>\n        </div>\n        <button\n          class=\"modal-close is-large\"\n          aria-label=\"close\"\n          @click=\"showAnalyzerModal = !showAnalyzerModal\"\n        ></button>\n      </b-modal>\n    </span>\n\n    <span\n      class=\"tag is-medium has-text-left timeline-chip\"\n      :style=\"getTimelineStyle(timeline)\"\n      @click=\"toggleTimeline(timeline)\"\n    >\n      {{ timeline.name }}\n      <!-- Show a warning icon, if there were import errors. -->\n      <span v-if=\"datasourceErrors.length\" class=\"b-tooltips import-error\" @click.stop>\n        <b-tooltip :label=\"datasourceErrors.length + ' failed imports'\" :type=\"isDarkTheme ? 'is-dark' : 'is-light'\">\n          <span class=\"icon is-small\" style=\"color:orange;\">\n            <i class=\"fas fa-exclamation-triangle\" @click=\"showInfoModal = !showInfoModal\"></i>\n          </span>\n        </b-tooltip>\n      </span>\n      <span class=\"tag is-small timeline-count\" style=\"color:#333;\">\n        <span v-if=\"isSelected && !isEmptyState\">{{ eventsCount | compactNumber }} </span>\n      </span>\n\n      <!-- 3-dots dropdown menu -->\n      <span v-if=\"meta.permissions.write\" @click.stop>\n        <ts-dropdown width=\"270px\">\n          <template v-slot:dropdown-trigger-element>\n            <a role=\"button\" style=\"color:#333;\">\n              <i class=\"fas fa-ellipsis-v\" style=\"padding-left: 14px;padding-right: 6px;\"></i>\n            </a>\n          </template>\n          <div class=\"ts-dropdown-item\" @click=\"showInfoModal = !showInfoModal\">\n            <span class=\"icon is-small\"><i class=\"fas fa-info-circle\"></i></span>\n            <span>Info</span>\n          </div>\n\n          <div class=\"ts-dropdown-item\" v-if=\"timelineStatus === 'ready'\" @click=\"showEditModal = !showEditModal\">\n            <span class=\"icon is-small\">\n              <i class=\"fas fa-edit\"></i>\n            </span>\n            <span>Rename</span>\n          </div>\n\n          <div\n            class=\"ts-dropdown-item\"\n            v-if=\"timelineStatus === 'ready'\"\n            @click=\"showAnalyzerModal = !showAnalyzerModal\"\n          >\n            <span class=\"icon is-small\"> <i class=\"fas fa-history\"></i> </span>\n            <span>Analyzer logs</span>\n          </div>\n\n          <div class=\"ts-dropdown-item\" @click=\"remove()\">\n            <span class=\"icon is-small is-danger\">\n              <i class=\"fas fa-trash\"></i>\n            </span>\n            <span>Delete</span>\n          </div>\n\n          <hr />\n\n          <div v-if=\"timelineStatus === 'ready'\">\n            <color-picker\n              v-model=\"initialColor\"\n              @input=\"updateColor\"\n              style=\"box-shadow: none; background-color: transparent; padding:0;\"\n              :palette=\"colorPickerPalette\"\n            ></color-picker>\n          </div>\n        </ts-dropdown>\n      </span>\n    </span>\n  </span>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport { Compact } from 'vue-color'\nimport _ from 'lodash'\n\nimport TsAnalyzerHistory from '../Analyze/AnalyzerHistory'\nimport TsDropdown from '../Common/Dropdown'\n\nimport { colorPickerPalette } from '../../definitions'\nimport EventBus from '../../main'\n\nexport default {\n  components: {\n    'color-picker': Compact,\n    TsAnalyzerHistory,\n    TsDropdown,\n  },\n  props: ['timeline', 'eventsCount', 'isSelected', 'isEmptyState'],\n  data() {\n    return {\n      initialColor: {},\n      newColor: '',\n      newTimelineName: '',\n      timelineStatus: '',\n      colorPickerActive: false,\n      showInfoModal: false,\n      showEditModal: false,\n      showAnalyzerModal: false,\n      isDarkTheme: false,\n      colorPickerPalette: colorPickerPalette,\n    }\n  },\n  computed: {\n    meta() {\n      return this.$store.state.meta\n    },\n    datasourceErrors() {\n      return this.timeline.datasources.filter(datasource => datasource.error_message)\n    },\n  },\n  methods: {\n    showColorPicker() {\n      this.$refs.colorPicker.click()\n    },\n    rename() {\n      this.showEditModal = false\n      this.$emit('save', this.timeline, this.newTimelineName)\n    },\n    remove() {\n      if (confirm('Delete the timeline?')) {\n        this.$emit('remove', this.timeline)\n      }\n    },\n    // Set debounce to 300ms if full Chrome colorpicker is used.\n    updateColor: _.debounce(function(color) {\n      this.newColor = color.hex\n      if (this.newColor.startsWith('#')) {\n        this.newColor = this.newColor.substring(1)\n      }\n      Vue.set(this.timeline, 'color', this.newColor)\n      this.$emit('save', this.timeline)\n    }, 0),\n    toggleTheme: function() {\n      this.isDarkTheme = !this.isDarkTheme\n    },\n    getTimelineStyle(timeline) {\n      this.isDarkTheme = localStorage.theme === 'dark'\n      let backgroundColor = timeline.color\n      let textDecoration = 'none'\n      let opacity = '100%'\n      if (!backgroundColor.startsWith('#')) {\n        backgroundColor = '#' + backgroundColor\n      }\n      // Grey out the index if it is not selected.\n      if (!this.isSelected) {\n        backgroundColor = '#d2d2d2'\n        textDecoration = 'line-through'\n        opacity = '50%'\n      }\n\n      if (this.isDarkTheme) {\n        return {\n          'background-color': backgroundColor,\n          'text-decoration': textDecoration,\n          opacity: opacity,\n          filter: 'grayscale(25%)',\n          color: '#333333',\n        }\n      }\n      return {\n        'background-color': backgroundColor,\n        'text-decoration': textDecoration,\n        opacity: opacity,\n      }\n    },\n    toggleTimeline: function(timeline) {\n      this.$emit('toggle', timeline)\n    },\n  },\n  mounted() {\n    // Hide color picker when clicked outside.\n    let self = this // it might look redundant, but removing it breaks things\n    window.addEventListener('click', function(e) {\n      if (!self.$el.contains(e.target)) {\n        self.colorPickerActive = false\n      }\n    })\n  },\n  created() {\n    this.isDarkTheme = localStorage.theme === 'dark'\n    EventBus.$on('isDarkTheme', this.toggleTheme)\n\n    this.initialColor = {\n      hex: this.timeline.color,\n    }\n    this.timelineStatus = this.timeline.status[0].status\n    this.newTimelineName = this.timeline.name\n  },\n  beforeDestroy() {\n    clearInterval(this.t)\n    this.t = false\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\">\n.icon {\n  padding-right: 8px;\n}\n.timeline-chip {\n  cursor: pointer;\n  margin-right: 7px;\n  margin-bottom: 7px;\n  padding-right: 6px;\n}\n.timeline-count {\n  margin-left: 10px;\n  margin-right: -7px;\n  background-color: rgba(255, 255, 255, 0.5);\n  min-width: 50px;\n}\n.import-error {\n  padding-right: 6px;\n  padding-left: 12px;\n}\n</style>\n\n<!-- It was tricky to remove padding from the Color Picker's dropdown -->\n<style lang=\"scss\">\n.color-picker-dropdown .dropdown-content {\n  padding: 0px !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineChip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineChip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimelineChip.vue?vue&type=template&id=76a411a2&scoped=true&\"\nimport script from \"./TimelineChip.vue?vue&type=script&lang=js&\"\nexport * from \"./TimelineChip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimelineChip.vue?vue&type=style&index=0&id=76a411a2&scoped=true&lang=scss&\"\nimport style1 from \"./TimelineChip.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76a411a2\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <b-loading :is-full-page=\"false\" v-model=\"isLoading\" :can-cancel=\"false\">\n      <div class=\"lds-ripple\">\n        <div></div>\n        <div></div>\n      </div>\n      <div style=\"position: absolute; margin-top:120px;\">\n        <b>Reloading timelines</b>\n      </div>\n    </b-loading>\n    <ts-timeline-chip\n      v-for=\"timeline in activeTimelines\"\n      :key=\"timeline.id + timeline.name\"\n      :timeline=\"timeline\"\n      :is-selected=\"isSelected(timeline)\"\n      :is-empty-state=\"isEmptyState\"\n      :events-count=\"getCount(timeline)\"\n      @remove=\"remove\"\n      @save=\"save\"\n      @toggle=\"toggleTimeline\"\n    ></ts-timeline-chip>\n    <div v-if=\"activeTimelines.length > 3\" style=\"margin-top:7px;\">\n      <span style=\"text-decoration: underline; cursor: pointer; margin-right: 10px;\" v-on:click=\"enableAllTimelines\"\n        >Enable all\n      </span>\n      <span style=\"text-decoration: underline; cursor: pointer;\" v-on:click=\"disableAllTimelines\">Disable all </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport EventBus from '../../main'\nimport TsTimelineChip from './TimelineChip'\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  components: { TsTimelineChip },\n  props: ['currentQueryFilter', 'countPerIndex', 'countPerTimeline'],\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    activeTimelines() {\n      // Sort alphabetically based on timeline name.\n      let timelines = [...this.sketch.active_timelines]\n      return timelines.sort(function(a, b) {\n        return a.name.localeCompare(b.name)\n      })\n    },\n    isEmptyState() {\n      return this.countPerTimeline === undefined\n    },\n  },\n  data() {\n    return {\n      isDarkTheme: false,\n      isLoading: false,\n      selectedTimelines: [],\n    }\n  },\n  methods: {\n    isSelected(timeline) {\n      return this.selectedTimelines.includes(timeline)\n    },\n    getCount(timeline) {\n      let count = 0\n      if (this.countPerTimeline) {\n        count = this.countPerTimeline[timeline.id]\n        if (typeof count === 'number') {\n          return count\n        }\n      }\n      // Support for old style indices\n      if (!count && this.countPerIndex) {\n        count = this.countPerIndex[timeline.searchindex.index_name]\n      }\n      return count\n    },\n    remove(timeline) {\n      this.isLoading = true\n      ApiClient.deleteSketchTimeline(this.sketch.id, timeline.id)\n        .then(() => {\n          this.$store.dispatch('updateSketch', this.sketch.id).then(() => {\n            this.syncSelectedTimelines()\n            this.isLoading = false\n          })\n        })\n        .catch(e => {\n          console.error(e)\n          this.isLoading = false\n        })\n    },\n    save(timeline, newTimelineName = false) {\n      // Only show the progress bar if renaming the timeline\n      if (newTimelineName) {\n        this.isLoading = true\n      }\n      ApiClient.saveSketchTimeline(\n        this.sketch.id,\n        timeline.id,\n        newTimelineName || timeline.name,\n        timeline.description,\n        timeline.color\n      )\n        .then(() => {\n          this.$store.dispatch('updateSketch', this.sketch.id).then(() => {\n            this.syncSelectedTimelines()\n            this.isLoading = false\n          })\n        })\n        .catch(e => {\n          console.error(e)\n          this.isLoading = false\n        })\n    },\n    enableAllTimelines() {\n      this.selectedTimelines = this.activeTimelines\n      this.$emit('updateSelectedTimelines', this.selectedTimelines)\n    },\n    disableAllTimelines() {\n      this.selectedTimelines = []\n      this.$emit('updateSelectedTimelines', this.selectedTimelines)\n    },\n    toggleTimeline(timeline) {\n      let newArray = this.selectedTimelines.slice()\n      let timelineIdx = newArray.indexOf(timeline)\n      if (timelineIdx === -1) {\n        newArray.push(timeline)\n      } else {\n        newArray.splice(timelineIdx, 1)\n      }\n      this.selectedTimelines = newArray\n      this.$emit('updateSelectedTimelines', this.selectedTimelines)\n    },\n    toggleTheme() {\n      this.isDarkTheme = !this.isDarkTheme\n    },\n    syncSelectedTimelines() {\n      if (this.currentQueryFilter.indices.includes('_all')) {\n        this.selectedTimelines = this.activeTimelines\n        return\n      }\n      let newArray = []\n      this.currentQueryFilter.indices.forEach(index => {\n        if (typeof index === 'string') {\n          let timeline = this.activeTimelines.find(t => {\n            return t.searchindex.index_name === index\n          })\n          newArray.push(timeline)\n        } else if (typeof index === 'number') {\n          let timeline = this.activeTimelines.find(t => {\n            return t.id === index\n          })\n          newArray.push(timeline)\n        }\n      })\n      this.selectedTimelines = newArray\n    },\n  },\n  created() {\n    EventBus.$on('isDarkTheme', this.toggleTheme)\n    EventBus.$on('clearSearch', this.enableAllTimelines)\n\n    if (this.currentQueryFilter.indices.includes('_all')) {\n      this.selectedTimelines = this.activeTimelines\n    } else {\n      this.syncSelectedTimelines()\n    }\n  },\n  watch: {\n    'currentQueryFilter.indices'(val) {\n      this.syncSelectedTimelines()\n    },\n    deep: true,\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelinePicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelinePicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimelinePicker.vue?vue&type=template&id=83e6aa12&\"\nimport script from \"./TimelinePicker.vue?vue&type=script&lang=js&\"\nexport * from \"./TimelinePicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-body\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('b-radio',{attrs:{\"native-value\":\"interval\",\"type\":\"is-info\"},on:{\"input\":function($event){return _vm.formatDateTime()}},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}}),_c('div',{staticClass:\"field\",staticStyle:{\"margin-left\":\"5px\"}},[_c('p',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.offsetStart),expression:\"offsetStart\",modifiers:{\"trim\":true}}],ref:\"offsetStartInput\",staticClass:\"input\",attrs:{\"type\":\"text\",\"disabled\":!_vm.isSelected('interval'),\"placeholder\":_vm.getPlaceholder('interval')},domProps:{\"value\":(_vm.offsetStart)},on:{\"change\":function($event){_vm.offsetStart && _vm.formatDateTime()},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit()},\"input\":function($event){if($event.target.composing){ return; }_vm.offsetStart=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',[_vm._v(\"-\")]),_c('div',{staticClass:\"field\",staticStyle:{\"margin\":\"0px\"}},[_c('p',{staticClass:\"control\",staticStyle:{\"width\":\"40px\",\"margin-left\":\"2px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.offsetMinus),expression:\"offsetMinus\",modifiers:{\"trim\":true}}],ref:\"offsetMinusInput\",staticClass:\"input\",staticStyle:{\"width\":\"90%\"},attrs:{\"type\":\"text\",\"disabled\":!_vm.isSelected('interval')},domProps:{\"value\":(_vm.offsetMinus)},on:{\"change\":function($event){_vm.offsetMinus && _vm.formatDateTime()},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }_vm.offsetMinus++},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }_vm.offsetMinus--}],\"input\":function($event){if($event.target.composing){ return; }_vm.offsetMinus=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',[_vm._v(\"+\")]),_c('div',{staticClass:\"field\",staticStyle:{\"margin\":\"0px\"}},[_c('p',{staticClass:\"control\",staticStyle:{\"width\":\"40px\",\"margin-left\":\"2px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.offsetPlus),expression:\"offsetPlus\",modifiers:{\"trim\":true}}],ref:\"offsetPlusInput\",staticClass:\"input\",staticStyle:{\"width\":\"90%\"},attrs:{\"type\":\"text\",\"disabled\":!_vm.isSelected('interval')},domProps:{\"value\":(_vm.offsetPlus)},on:{\"change\":function($event){_vm.offsetPlus && _vm.formatDateTime()},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }_vm.offsetPlus++},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }_vm.offsetPlus--}],\"input\":function($event){if($event.target.composing){ return; }_vm.offsetPlus=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div'),_c('div',{staticClass:\"field\",staticStyle:{\"margin-right\":\"5px\"}},[_c('p',{staticClass:\"control\"},[_c('span',{staticClass:\"select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedInterval),expression:\"selectedInterval\"}],attrs:{\"disabled\":!_vm.isSelected('interval')},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedInterval=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){_vm.offsetStart && _vm.formatDateTime()}]}},_vm._l((_vm.intervals),function(option){return _c('option',{key:option.value,domProps:{\"value\":option.value}},[_vm._v(_vm._s(option.text))])}),0)])])])],1)]),_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-body\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('b-radio',{attrs:{\"native-value\":\"range\",\"type\":\"is-info\"},on:{\"input\":function($event){return _vm.formatDateTime()}},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}}),_c('div',{staticClass:\"field\",staticStyle:{\"margin\":\"5px\"}},[_c('p',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.startDateTime),expression:\"startDateTime\",modifiers:{\"trim\":true}}],ref:\"startInput\",staticClass:\"input\",attrs:{\"type\":\"text\",\"disabled\":!_vm.isSelected('range'),\"placeholder\":_vm.getPlaceholder('range')},domProps:{\"value\":(_vm.startDateTime)},on:{\"change\":function($event){_vm.startDateTime && _vm.formatDateTime()},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.endDateTime ? _vm.submit() : _vm.formatDateTime((_vm.skipCheck = true)) && _vm.jumpTo('endInput')},\"input\":function($event){if($event.target.composing){ return; }_vm.startDateTime=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',[_vm._v(\"→\")]),_c('div',{staticClass:\"field\",staticStyle:{\"margin\":\"5px\"}},[_c('p',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.endDateTime),expression:\"endDateTime\",modifiers:{\"trim\":true}}],ref:\"endInput\",staticClass:\"input\",attrs:{\"type\":\"text\",\"disabled\":!_vm.isSelected('range'),\"placeholder\":_vm.getPlaceholder('range')},domProps:{\"value\":(_vm.endDateTime)},on:{\"change\":function($event){_vm.endDateTime && _vm.formatDateTime()},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit()},\"input\":function($event){if($event.target.composing){ return; }_vm.endDateTime=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])])],1)]),_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field is-grouped\"},[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-info\",attrs:{\"disabled\":!_vm.ready},on:{\"click\":_vm.submit}},[_vm._v(\"\\n          \"+_vm._s(_vm.selectedChip ? 'Update' : 'Add filter')+\"\\n        \")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <!-- Time interval -->\n    <div class=\"field is-horizontal\">\n      <div class=\"field-body\" style=\"display:flex; align-items:center;\">\n        <b-radio v-model=\"radio\" native-value=\"interval\" @input=\"formatDateTime()\" type=\"is-info\"></b-radio>\n        <div class=\"field\" style=\"margin-left: 5px;\">\n          <p class=\"control\">\n            <input\n              class=\"input\"\n              ref=\"offsetStartInput\"\n              v-model.trim=\"offsetStart\"\n              type=\"text\"\n              :disabled=\"!isSelected('interval')\"\n              :placeholder=\"getPlaceholder('interval')\"\n              v-on:change=\"offsetStart && formatDateTime()\"\n              v-on:keyup.enter=\"submit()\"\n            />\n          </p>\n        </div>\n        <div>-</div>\n        <div class=\"field\" style=\"margin: 0px;\">\n          <p class=\"control\" style=\"width: 40px; margin-left: 2px;\">\n            <input\n              class=\"input\"\n              ref=\"offsetMinusInput\"\n              v-model.trim=\"offsetMinus\"\n              type=\"text\"\n              style=\"width:90%;\"\n              :disabled=\"!isSelected('interval')\"\n              v-on:change=\"offsetMinus && formatDateTime()\"\n              v-on:keyup.enter=\"submit()\"\n              v-on:keyup.up=\"offsetMinus++\"\n              v-on:keyup.down=\"offsetMinus--\"\n            />\n          </p>\n        </div>\n        <div>+</div>\n        <div class=\"field\" style=\"margin: 0px;\">\n          <p class=\"control\" style=\"width: 40px; margin-left: 2px;\">\n            <input\n              class=\"input\"\n              ref=\"offsetPlusInput\"\n              v-model.trim=\"offsetPlus\"\n              type=\"text\"\n              style=\"width:90%;\"\n              :disabled=\"!isSelected('interval')\"\n              v-on:change=\"offsetPlus && formatDateTime()\"\n              v-on:keyup.enter=\"submit()\"\n              v-on:keyup.up=\"offsetPlus++\"\n              v-on:keyup.down=\"offsetPlus--\"\n            />\n          </p>\n        </div>\n        <div></div>\n        <div class=\"field\" style=\"margin-right: 5px;\">\n          <p class=\"control\">\n            <span class=\"select\">\n              <select\n                v-model=\"selectedInterval\"\n                :disabled=\"!isSelected('interval')\"\n                v-on:change=\"offsetStart && formatDateTime()\"\n              >\n                <option v-for=\"option in intervals\" :value=\"option.value\" :key=\"option.value\">{{ option.text }}</option>\n              </select>\n            </span>\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Time range -->\n    <div class=\"field is-horizontal\">\n      <div class=\"field-body\" style=\"display:flex; align-items:center;\">\n        <b-radio v-model=\"radio\" native-value=\"range\" @input=\"formatDateTime()\" type=\"is-info\"></b-radio>\n        <div class=\"field\" style=\"margin:5px;\">\n          <p class=\"control\">\n            <input\n              class=\"input\"\n              ref=\"startInput\"\n              v-model.trim=\"startDateTime\"\n              type=\"text\"\n              :disabled=\"!isSelected('range')\"\n              :placeholder=\"getPlaceholder('range')\"\n              v-on:change=\"startDateTime && formatDateTime()\"\n              v-on:keyup.enter=\"endDateTime ? submit() : formatDateTime((skipCheck = true)) && jumpTo('endInput')\"\n            />\n          </p>\n        </div>\n\n        <div>&rarr;</div>\n\n        <div class=\"field\" style=\"margin:5px;\">\n          <p class=\"control\">\n            <input\n              class=\"input\"\n              ref=\"endInput\"\n              v-model.trim=\"endDateTime\"\n              type=\"text\"\n              :disabled=\"!isSelected('range')\"\n              :placeholder=\"getPlaceholder('range')\"\n              v-on:change=\"endDateTime && formatDateTime()\"\n              v-on:keyup.enter=\"submit()\"\n            />\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Submit button -->\n    <div class=\"field is-horizontal\">\n      <div class=\"field is-grouped\">\n        <p class=\"control\">\n          <button :disabled=\"!ready\" class=\"button is-info\" v-on:click=\"submit\">\n            {{ selectedChip ? 'Update' : 'Add filter' }}\n          </button>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['selectedChip'],\n  data() {\n    return {\n      startDateTime: '',\n      endDateTime: '',\n      chip: '',\n      radio: 'interval',\n      offsetStart: '',\n      offsetMinus: 5,\n      offsetPlus: 5,\n      intervals: [\n        { text: 'Second', value: 's' },\n        { text: 'Minute', value: 'm' },\n        { text: 'Hour', value: 'h' },\n        { text: 'Day', value: 'd' },\n      ],\n      selectedInterval: 'm',\n      ready: false,\n      now: this.$moment.utc().format('YYYY-MM-DD[T]hh:mm:ss'),\n    }\n  },\n  created: function() {\n    if (!this.selectedChip) {\n      return\n    }\n\n    // Clone the object to avoid mutating it\n    this.chip = { ...this.selectedChip }\n\n    // Restoring the component's state from the chip\n    if (this.chip.type === 'datetime_range') {\n      this.radio = 'range'\n      let range = this.chip.value.split(',')\n      this.startDateTime = range[0]\n      this.endDateTime = range[1]\n    } else {\n      this.radio = 'interval'\n      let offset = this.chip.value\n      // offsetStart regex accepts any allowed chars >=4 long, until it\n      // encounters a space followed by the minus sign\n      this.offsetStart = offset.match(/^\\s*([0-9/:T -]{4,})(:? -)/)[1]\n      this.offsetPlus = offset.match(/\\s[+]([0-9]+)/)[1]\n      this.offsetMinus = offset.match(/\\s[-]([0-9]+)/)[1]\n      this.selectedInterval = offset.match(/\\s\\+[0-9]+([a-zA-Z])/)[1] // interval type (day, minute, etc.)\n      this.formatDateTime()\n    }\n  },\n  methods: {\n    hasAllInputs: function() {\n      if (this.isSelected('interval')) {\n        if (this.offsetStart && this.offsetMinus && this.offsetPlus) {\n          return true\n        }\n      } else if (this.isSelected('range')) {\n        if (this.startDateTime && this.endDateTime) {\n          return true\n        }\n      }\n      return false\n    },\n    getPlaceholder: function(radioName) {\n      return this.radio === radioName ? this.now : ''\n    },\n    getOffsetDateTime: function() {\n      return `${this.offsetStart} -${this.offsetMinus}${this.selectedInterval} +${this.offsetPlus}${this.selectedInterval}`\n    },\n    formatDateTime: function(skipCheck = false) {\n      this.ready = false\n\n      // Exit early if user inputs are missing\n      if (!skipCheck && !this.hasAllInputs()) {\n        return false\n      }\n\n      const startDateTimeString = this.isSelected('interval') ? this.getOffsetDateTime() : this.startDateTime\n      let dateTimeTemplate = 'YYYY-MM-DDTHH:mm:ss'\n      let endDateTimeString = this.endDateTime\n\n      // Parse offset given by user. Eg. \"2020-02-02 01:01:01 +10m -5m\"\n      const offsetRegexp = /^(.+?)[ ]?(-|\\+|\\+-|-\\+)(\\d+)(y|d|h|m|s|M|Q|w|ms)[ ]*(?:(-|\\+|\\+-|-\\+)(\\d+)(y|d|h|m|s|M|Q|w|ms))?$/\n      let offsetRegexpMatch = offsetRegexp.exec(startDateTimeString)\n\n      if (offsetRegexpMatch != null) {\n        const startDateTimeMoment = this.$moment.utc(offsetRegexpMatch[1])\n        if (!startDateTimeMoment.isValid()) {\n          return false\n        }\n        this.startDateTime = startDateTimeMoment.format(dateTimeTemplate)\n        this.endDateTime = startDateTimeMoment.format(dateTimeTemplate)\n\n        offsetRegexpMatch = offsetRegexpMatch.slice(2) // To simplify the loop below we remove the first 2 entries (full match and the 1st match)\n        while (offsetRegexpMatch.length) {\n          let startDateTimeOffset = offsetRegexpMatch[0]\n          let startDateTimeOffsetCount = offsetRegexpMatch[1]\n          let startDateTimeOffsetInterval = offsetRegexpMatch[2] || 'm'\n          offsetRegexpMatch = offsetRegexpMatch.slice(3)\n\n          // Calculate time range\n          // Warning: add() and subtract() mutate the object, hence we clone it first\n          if (startDateTimeOffset === '-') {\n            this.startDateTime = startDateTimeMoment\n              .clone()\n              .subtract(startDateTimeOffsetCount, startDateTimeOffsetInterval)\n              .format(dateTimeTemplate)\n          } else if (startDateTimeOffset === '+') {\n            this.endDateTime = startDateTimeMoment\n              .clone()\n              .add(startDateTimeOffsetCount, startDateTimeOffsetInterval)\n              .format(dateTimeTemplate)\n          } else if (startDateTimeOffset === '-+' || startDateTimeOffset === '+-') {\n            this.startDateTime = startDateTimeMoment\n              .clone()\n              .subtract(startDateTimeOffsetCount, startDateTimeOffsetInterval)\n              .format(dateTimeTemplate)\n            this.endDateTime = startDateTimeMoment\n              .clone()\n              .add(startDateTimeOffsetCount, startDateTimeOffsetInterval)\n              .format(dateTimeTemplate)\n          }\n        }\n        this.ready = true\n        return true\n      }\n\n      // Fall back to user input\n      if (!endDateTimeString) {\n        endDateTimeString = startDateTimeString\n      }\n\n      let startDateTimeMoment = this.$moment.utc(startDateTimeString)\n      let endDateTimeMoment = this.$moment.utc(endDateTimeString)\n\n      if (\n        !(\n          startDateTimeMoment.hour() ||\n          startDateTimeMoment.minute() ||\n          startDateTimeMoment.second() ||\n          endDateTimeMoment.hour() ||\n          endDateTimeMoment.minute() ||\n          endDateTimeMoment.second()\n        )\n      ) {\n        dateTimeTemplate = 'YYYY-MM-DD'\n      }\n\n      // Only overwrite the timestamp if it's valid\n      if (startDateTimeMoment.isValid()) {\n        this.startDateTime = startDateTimeMoment.format(dateTimeTemplate)\n      }\n      if (endDateTimeMoment.isValid()) {\n        this.endDateTime = endDateTimeMoment.format(dateTimeTemplate)\n      }\n\n      // Terminate early if either of the timestamps is invalid\n      if (!startDateTimeMoment.isValid() || !endDateTimeMoment.isValid()) {\n        return false\n      }\n\n      this.ready = true\n      return true\n    },\n    submit: function() {\n      if (!(this.startDateTime && this.endDateTime && this.formatDateTime())) {\n        return\n      }\n\n      // The filter doesn't work if the start date is after the end date\n      if (this.startDateTime > this.endDateTime) {\n        ;[this.startDateTime, this.endDateTime] = [this.endDateTime, this.startDateTime]\n      }\n\n      let chipType = ''\n      let chipValue = ''\n\n      // Set the right chip type and value\n      if (this.radio === 'interval') {\n        chipType = 'datetime_interval'\n        chipValue = this.getOffsetDateTime()\n      } else {\n        chipType = 'datetime_range'\n        chipValue = this.startDateTime + ',' + this.endDateTime\n      }\n\n      // Update or creating a chip\n      if (this.chip) {\n        this.chip['type'] = chipType\n        this.chip['value'] = chipValue\n        this.$emit('updateChip', this.chip)\n      } else {\n        this.chip = {\n          field: '',\n          type: chipType,\n          value: chipValue,\n          operator: 'must',\n          active: true,\n        }\n        this.$emit('addChip', this.chip)\n\n        // Wipe out the values in the Create drop down\n        this.resetInterface()\n      }\n\n      // Close the menu\n      this.$emit('hideDropdown')\n    },\n    resetInterface: function() {\n      Object.assign(this.$data, this.$options.data.apply(this))\n    },\n    isSelected: function(radioName) {\n      return this.radio === radioName\n    },\n    jumpTo: function(name) {\n      // Move cursor to the specified form input\n      this.$refs[name].focus()\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeFilter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeFilter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeFilter.vue?vue&type=template&id=5cb4adb1&\"\nimport script from \"./TimeFilter.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeFilter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (Object.keys(_vm.treeData).length > 0)?_c('ul',{staticClass:\"tree\"},[_c('tree-node',{attrs:{\"node\":_vm.treeData,\"handle-click\":_vm.handleClick,\"selected-node\":_vm.selectedNode}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',{class:[{ active: _vm.isSelected }, { star: _vm.hasStar && !_vm.isSelected }, { dimmed: _vm.count === 0 && !_vm.isSelected }],staticStyle:{\"min-width\":\"205px\"},attrs:{\"id\":_vm.node.id},on:{\"click\":function($event){return _vm.handleClick(_vm.node)}}},[(_vm.hasStar)?_c('i',{staticClass:\"fas fa-star\",staticStyle:{\"float\":\"left\",\"color\":\"#FFD700\",\"-webkit-text-stroke-width\":\"1px\",\"-webkit-text-stroke-color\":\"#777777\",\"margin-right\":\"10px\",\"margin-top\":\"3px\"}}):_vm._e(),(_vm.hasComment)?_c('i',{staticClass:\"fas fa-comment\",staticStyle:{\"float\":\"left\",\"margin-right\":\"10px\",\"margin-top\":\"3px\"}}):_vm._e(),(_vm.hasLabel)?_c('i',{staticClass:\"fas fa-tag\",staticStyle:{\"float\":\"left\",\"margin-right\":\"10px\",\"margin-top\":\"3px\"}}):_vm._e(),_c('div',{staticClass:\"query-string\",class:[{ 'query-string-active': _vm.isSelected }],staticStyle:{\"float\":\"left\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.node.query_string)+\"\\n    \")]),_c('div',{staticClass:\"tag is-light\",staticStyle:{\"margin-left\":\"10px\",\"margin-right\":\"-5px\",\"float\":\"right\"}},[_vm._v(\"\\n      \"+_vm._s(_vm._f(\"compactNumber\")(_vm.count))+\"\\n    \")])]),(_vm.node.children && _vm.node.children.length)?_c('ul',_vm._l((_vm.node.children),function(child){return _c('node',{key:child.id,attrs:{\"node\":child,\"handle-click\":_vm.handleClick,\"selected-node\":_vm.selectedNode}})}),1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <li>\n    <span\n      @click=\"handleClick(node)\"\n      :class=\"[{ active: isSelected }, { star: hasStar && !isSelected }, { dimmed: count === 0 && !isSelected }]\"\n      :id=\"node.id\"\n      style=\"min-width:205px;\"\n    >\n      <i\n        v-if=\"hasStar\"\n        class=\"fas fa-star\"\n        style=\"float:left; color: #FFD700; -webkit-text-stroke-width: 1px; -webkit-text-stroke-color: #777777; margin-right:10px; margin-top:3px;\"\n      ></i>\n      <i v-if=\"hasComment\" class=\"fas fa-comment\" style=\"float:left; margin-right:10px; margin-top:3px;\"></i>\n      <i v-if=\"hasLabel\" class=\"fas fa-tag\" style=\"float:left; margin-right:10px; margin-top:3px;\"></i>\n      <div class=\"query-string\" :class=\"[{ 'query-string-active': isSelected }]\" style=\"float:left;\">\n        {{ node.query_string }}\n      </div>\n      <div class=\"tag is-light\" style=\"margin-left:10px; margin-right: -5px; float:right;\">\n        {{ count | compactNumber }}\n      </div>\n    </span>\n\n    <ul v-if=\"node.children && node.children.length\">\n      <node\n        v-for=\"child in node.children\"\n        :node=\"child\"\n        :key=\"child.id\"\n        :handle-click=\"handleClick\"\n        :selected-node=\"selectedNode\"\n      ></node>\n    </ul>\n  </li>\n</template>\n\n<script>\nexport default {\n  name: 'node',\n  props: {\n    node: Object,\n    handleClick: Function,\n    selectedNode: Object,\n  },\n  computed: {\n    hasStar() {\n      return this.node.labels.includes('__ts_star')\n    },\n    hasLabel() {\n      return this.node.labels.includes('__ts_label')\n    },\n    hasComment() {\n      return this.node.labels.includes('__ts_comment')\n    },\n    isSelected() {\n      return this.selectedNode.id === this.node.id\n    },\n    count() {\n      return this.node.query_result_count || 0\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.active {\n  background-color: rgb(66, 133, 244);\n  color: white;\n}\n.star {\n  background-color: #feefc3;\n  color: #333333;\n}\n.dimmed {\n  opacity: 0.5;\n}\n.query-string {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 150px;\n  word-wrap: break-word;\n  color: var(--font-color-dark);\n}\n.query-string-active {\n  color: var(--font-color-light);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryTreeNode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryTreeNode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchHistoryTreeNode.vue?vue&type=template&id=6be41fe6&scoped=true&\"\nimport script from \"./SearchHistoryTreeNode.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchHistoryTreeNode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchHistoryTreeNode.vue?vue&type=style&index=0&id=6be41fe6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6be41fe6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <ul class=\"tree\" v-if=\"Object.keys(treeData).length > 0\">\n    <tree-node :node=\"treeData\" :handle-click=\"handleClick\" :selected-node=\"selectedNode\"></tree-node>\n  </ul>\n</template>\n\n<script>\nimport TreeNode from './SearchHistoryTreeNode'\nimport ApiClient from '../../utils/RestApiClient'\nimport EventBus from '../../main'\n\n// Based on https://stackoverflow.com/a/54470906\nfunction findSearchNode(object, key, predicate) {\n  if (object.hasOwnProperty(key) && predicate(key, object[key]) === true) return object\n  for (let i = 0; i < Object.keys(object).length; i++) {\n    let value = object[Object.keys(object)[i]]\n    if (typeof value === 'object' && value != null) {\n      let searchNode = findSearchNode(value, key, predicate)\n      if (searchNode != null) return searchNode\n    }\n  }\n  return null\n}\n\nexport default {\n  components: { TreeNode },\n  data() {\n    return {\n      treeData: {},\n      selectedNode: null,\n      initialNode: null,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n  methods: {\n    handleClick(node) {\n      this.$emit('node-click', node)\n      this.selectedNode = node\n    },\n    handleClickFromDropdown(nodeFromDropdown) {\n      let nodeId\n      if (typeof nodeFromDropdown === 'number') {\n        nodeId = nodeFromDropdown\n      } else {\n        nodeId = nodeFromDropdown.id\n      }\n      let node = findSearchNode(this.treeData, 'id', (k, v) => v === nodeId)\n      this.$emit('node-click', node)\n      this.selectedNode = node\n    },\n    createBranch(newNode) {\n      if (this.selectedNode) {\n        if (this.selectedNode.id === newNode.id) {\n          return\n        }\n        this.selectedNode.children.push(newNode)\n        this.selectedNode = newNode\n        return\n      } else {\n        this.fetchHistory()\n      }\n\n      let parent = findSearchNode(this.treeData, 'id', (k, v) => v === newNode.parent)\n      if (parent) {\n        if (parent.children.some(node => node.id === newNode.id)) {\n          return\n        }\n        parent.children.push(newNode)\n        this.selectedNode = newNode\n        return\n      }\n\n      let node = findSearchNode(this.treeData, 'id', (k, v) => v === newNode.id)\n      if (node) {\n        this.selectedNode = node\n      }\n    },\n    annotateNode(annotation) {\n      if (!annotation.searchNode.labels.includes(annotation.type)) {\n        annotation.searchNode.labels.push(annotation.type)\n      }\n    },\n    scrollTo() {\n      this.$nextTick(function() {\n        document.getElementById(this.selectedNode.id.toString()).scrollIntoView({\n          behavior: 'smooth',\n          block: 'center',\n          inline: 'center',\n        })\n      })\n    },\n    fetchHistory() {\n      ApiClient.getSearchHistoryTree(this.sketch.id)\n        .then(response => {\n          this.treeData = response.data.objects[0]\n          if (!this.selectedNode) {\n            let lastNodeId = response.data.meta['last_node_id']\n            this.selectedNode = findSearchNode(this.treeData, 'id', (k, v) => v === lastNodeId)\n          }\n        })\n        .catch(e => {})\n    },\n  },\n  beforeDestroy() {\n    EventBus.$off('createBranch')\n    EventBus.$off('eventAnnotated')\n    EventBus.$off('triggerScrollTo')\n    EventBus.$off('selected-node-from-dropdown')\n  },\n  created: function() {\n    EventBus.$on('createBranch', this.createBranch)\n    EventBus.$on('eventAnnotated', this.annotateNode)\n    EventBus.$on('triggerScrollTo', this.scrollTo)\n    EventBus.$on('selected-node-from-dropdown', this.handleClickFromDropdown)\n    this.fetchHistory()\n  },\n  watch: {\n    selectedNode: function() {\n      this.$store.dispatch('updateSearchNode', this.selectedNode)\n      this.scrollTo()\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchHistoryTree.vue?vue&type=template&id=4fb2ef28&scoped=true&\"\nimport script from \"./SearchHistoryTree.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchHistoryTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4fb2ef28\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('button',{staticClass:\"button\",attrs:{\"title\":\"Click to go back\",\"disabled\":!_vm.hasParent},on:{\"click\":_vm.searchHistoryBack}},[_vm._m(0)]),_c('button',{staticClass:\"button\",staticStyle:{\"padding-left\":\"7px\"},attrs:{\"title\":\"Click to go forward\",\"disabled\":!_vm.hasChild},on:{\"click\":_vm.searchHistoryForward}},[_vm._m(1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-arrow-left\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-arrow-right\"})])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <span>\n    <button class=\"button\" title=\"Click to go back\" v-on:click=\"searchHistoryBack\" :disabled=\"!hasParent\">\n      <span class=\"icon is-small\">\n        <i class=\"fas fa-arrow-left\"></i>\n      </span>\n    </button>\n    <button\n      class=\"button\"\n      style=\"padding-left:7px;\"\n      title=\"Click to go forward\"\n      v-on:click=\"searchHistoryForward\"\n      :disabled=\"!hasChild\"\n    >\n      <span class=\"icon is-small\">\n        <i class=\"fas fa-arrow-right\"></i>\n      </span>\n    </button>\n  </span>\n</template>\n\n<script>\nimport EventBus from '../../main'\n\nexport default {\n  computed: {\n    currentSearchNode() {\n      return this.$store.state.currentSearchNode\n    },\n    hasParent() {\n      if (this.currentSearchNode) {\n        return typeof this.currentSearchNode.parent === 'number'\n      } else {\n        return false\n      }\n    },\n    hasChild() {\n      if (this.currentSearchNode) {\n        return this.currentSearchNode.children.length\n      } else {\n        return false\n      }\n    },\n  },\n  methods: {\n    searchHistoryBack: function() {\n      EventBus.$emit('selected-node-from-dropdown', this.currentSearchNode.parent)\n    },\n    searchHistoryForward: function() {\n      if (!this.currentSearchNode.children.length) {\n        return\n      }\n      let lastSearchNode = this.currentSearchNode.children.slice(-1).pop()\n      EventBus.$emit('selected-node-from-dropdown', lastSearchNode)\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.button {\n  border: none;\n  background: transparent;\n}\n\n.button[disabled] {\n  background: transparent;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryButtons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryButtons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchHistoryButtons.vue?vue&type=template&id=29dba5ca&scoped=true&\"\nimport script from \"./SearchHistoryButtons.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchHistoryButtons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchHistoryButtons.vue?vue&type=style&index=0&id=29dba5ca&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29dba5ca\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('apexchart',{attrs:{\"height\":\"250\",\"options\":_vm.options,\"series\":_vm.series}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <apexchart height=\"250\" :options=\"options\" :series=\"series\"></apexchart>\n  </div>\n</template>\n\n<script>\nimport Apexchart from 'vue-apexcharts'\nimport EventBus from '../../main'\n\nexport default {\n  props: ['chartData'],\n  components: { Apexchart },\n  data: function() {\n    return {\n      options: {\n        chart: {\n          type: 'bar',\n          zoom: {\n            enabled: true,\n            type: 'x',\n            autoScaleYaxis: true,\n          },\n          foreColor: '#fff',\n          animations: {\n            enabled: true,\n            easing: 'easeinout',\n            speed: 50,\n            animateGradually: {\n              enabled: true,\n              delay: 50,\n            },\n            dynamicAnimation: {\n              enabled: true,\n              speed: 50,\n            },\n          },\n          colors: ['#4285f'],\n          toolbar: {\n            show: true,\n            tools: {\n              download: false,\n              selection: true,\n              zoom: true,\n              zoomin: true,\n              zoomout: true,\n            },\n          },\n          events: {\n            dataPointSelection: (event, chartContext, config) => {\n              this.emitFilterRequest(config)\n            },\n          },\n        },\n        tooltip: {\n          enabled: true,\n          followCursor: false,\n          theme: 'dark',\n          x: {\n            formatter: timestamp => {\n              let timerange = this.getBucketDateTimeRange(timestamp)\n              let duration = this.$moment.duration(timerange.start.diff(timerange.end))\n              return `${timerange.start.format('YYYY-MM-DD HH:mm:ss')} + ${duration.humanize()}`\n            },\n          },\n        },\n        plotOptions: {\n          bar: {\n            columnWidth: '95%',\n            borderRadius: 4,\n          },\n        },\n        dataLabels: {\n          enabled: false,\n        },\n        grid: {\n          xaxis: {\n            lines: {\n              show: false,\n            },\n          },\n          yaxis: {\n            lines: {\n              show: false,\n            },\n          },\n        },\n        xaxis: {\n          type: 'datetime',\n          tickPlacement: 'on',\n        },\n      },\n    }\n  },\n  computed: {\n    series() {\n      let series = {\n        name: 'Events',\n        data: [],\n      }\n      if (this.chartData) {\n        series.data = Object.entries(this.chartData.data).map(e => [parseInt(e[0]), e[1]])\n        return [series]\n      }\n      return [series]\n    },\n  },\n  methods: {\n    getBucketDateTimeRange(timestamp) {\n      let startDatetime = this.$moment.utc(timestamp)\n\n      // Get bucket interval from Elasticsearch. Format: 3M, 1s etc\n      let intervalSplit = this.chartData.interval.split(/(\\d+)/)\n      let intervalCount = intervalSplit[1]\n      let intervalPeriod = intervalSplit[2]\n\n      // Calculate the end of bucket time range using the interval\n      let endDatetime = this.$moment.utc(timestamp).add(parseInt(intervalCount), intervalPeriod)\n      return { start: startDatetime, end: endDatetime }\n    },\n    emitFilterRequest(config) {\n      let dataPointIndex = config.selectedDataPoints[0][0]\n      let series = config.w.config.series[0]['data']\n\n      // Exit early if this is the last bucket.\n      if (series.length === 1) {\n        return\n      }\n\n      let timestamp = series[dataPointIndex][0]\n      let timerange = this.getBucketDateTimeRange(timestamp)\n\n      let chip = {\n        field: '',\n        type: 'datetime_range',\n        value: timerange.start.toISOString() + ',' + timerange.end.toISOString(),\n        operator: 'must',\n        active: true,\n      }\n      this.$emit('addChip', chip)\n    },\n    setTheme() {\n      if (localStorage.theme === 'dark') {\n        this.options = {\n          chart: {\n            foreColor: '#fff',\n          },\n          tooltip: {\n            theme: 'dark',\n          },\n        }\n      } else {\n        this.options = {\n          chart: {\n            foreColor: '#333',\n          },\n          tooltip: {\n            theme: 'light',\n          },\n        }\n      }\n    },\n  },\n  created() {\n    // this.setTheme()\n    EventBus.$on('isDarkTheme', this.setTheme)\n  },\n  mounted() {\n    this.setTheme()\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BarChart.vue?vue&type=template&id=24179878&\"\nimport script from \"./BarChart.vue?vue&type=script&lang=js&\"\nexport * from \"./BarChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"max-height\":\"600px\",\"border-top\":\"1px solid var(--table-cell-border-color)\",\"overflow\":\"hidden\"}},[(Object.keys(_vm.matches).length)?_c('div',{staticClass:\"columns is-gapless\"},[(_vm.matches.fields.length)?_c('div',{staticClass:\"column\",staticStyle:{\"max-width\":\"50%\",\"overflow\":\"auto\",\"overflow-x\":\"hidden\",\"max-height\":\"600px\"}},[_c('div',{staticStyle:{\"padding\":\"20px\"}},[_vm._m(0),_vm._l((_vm.matches.fields),function(field){return _c('div',{key:field.field,staticClass:\"list-item\",staticStyle:{\"cursor\":\"pointer\",\"padding\":\"5px 0 5px 0\"},on:{\"click\":function($event){return _vm.searchForField(field.field)}}},[_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_vm._v(_vm._s(field.field))])])})],2)]):_vm._e(),(_vm.matches.dataTypes.length)?_c('div',{staticClass:\"column\",staticStyle:{\"border-left\":\"1px solid var(--table-cell-border-color)\",\"max-width\":\"50%\",\"overflow\":\"auto\",\"overflow-x\":\"hidden\",\"max-height\":\"600px\"}},[_c('div',{staticStyle:{\"padding\":\"20px\"}},[_vm._m(1),_vm._l((_vm.matches.dataTypes),function(dataType){return _c('div',{key:dataType.data_type,staticClass:\"list-item\",staticStyle:{\"cursor\":\"pointer\",\"padding\":\"5px 0 5px 0\"},on:{\"click\":function($event){return _vm.searchForDataType(dataType.data_type)}}},[_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_vm._v(_vm._s(dataType.data_type))]),_c('strong',{staticStyle:{\"opacity\":\"0.9\"}},[_vm._v(\"(\"+_vm._s(_vm._f(\"compactNumber\")(dataType.count))+\")\")])])})],2)]):_vm._e(),(_vm.matches.tags.length || _vm.matches.labels.length)?_c('div',{staticClass:\"column\",staticStyle:{\"border-left\":\"1px solid var(--table-cell-border-color)\",\"max-width\":\"50%\",\"overflow\":\"auto\",\"overflow-x\":\"hidden\",\"max-height\":\"600px\"}},[_c('div',{staticStyle:{\"padding\":\"20px\"}},[_vm._m(2),_vm._l((_vm.matches.labels),function(label){return _c('div',{key:label.label,staticClass:\"list-item\",staticStyle:{\"cursor\":\"pointer\",\"padding\":\"5px 0 5px 0\"},on:{\"click\":function($event){return _vm.searchForLabel(label.label)}}},[(label.label === '__ts_star')?_c('span',[_vm._m(3,true),_vm._v(\"\\n            Starred\\n          \")]):(label.label === '__ts_comment')?_c('span',[_vm._m(4,true),_vm._v(\"\\n            Commented\\n          \")]):_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_vm._v(_vm._s(label.label))]),_c('strong',{staticStyle:{\"opacity\":\"0.9\"}},[_vm._v(\"(\"+_vm._s(_vm._f(\"compactNumber\")(label.count))+\")\")])])}),_vm._l((_vm.matches.tags),function(tag){return _c('div',{key:tag.tag,staticClass:\"list-item\",staticStyle:{\"cursor\":\"pointer\",\"padding\":\"5px 0 5px 0\"},on:{\"click\":function($event){return _vm.searchForTag(tag.tag)}}},[_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_vm._v(_vm._s(tag.tag))]),_c('strong',{staticStyle:{\"opacity\":\"0.9\"}},[_vm._v(\"(\"+_vm._s(_vm._f(\"compactNumber\")(tag.count))+\")\")])])})],2)]):_vm._e(),(_vm.matches.savedSearches.length)?_c('div',{staticClass:\"column\",staticStyle:{\"border-left\":\"1px solid var(--table-cell-border-color)\",\"max-width\":\"50%\",\"overflow\":\"auto\",\"overflow-x\":\"hidden\",\"max-height\":\"600px\"}},[_c('div',{staticStyle:{\"padding\":\"20px\"}},[_vm._m(5),_c('ts-view-list-compact',{attrs:{\"views\":_vm.matches.savedSearches},on:{\"setActiveView\":function($event){return _vm.$emit('setActiveView', $event)}}})],1)]):_vm._e()]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding-bottom\":\"10px\"}},[_c('strong',[_vm._v(\"Fields\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding-bottom\":\"10px\"}},[_c('strong',[_vm._v(\"Data Types\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding-bottom\":\"10px\"}},[_c('strong',[_vm._v(\"Tags\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{staticClass:\"fas fa-star\",staticStyle:{\"color\":\"#ffe300\",\"-webkit-text-stroke-width\":\"1px\",\"-webkit-text-stroke-color\":\"silver\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{staticClass:\"fas fa-comment\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding-bottom\":\"10px\"}},[_c('strong',[_vm._v(\"Saved Searches\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.views),function(view){return _c('div',{key:view.id,staticClass:\"view-list-item\",on:{\"click\":function($event){return _vm.setActiveView(view)}}},[_vm._v(\"\\n    \"+_vm._s(view.name)+\"\\n  \")])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <div v-on:click=\"setActiveView(view)\" v-for=\"view in views\" :key=\"view.id\" class=\"view-list-item\">\n      {{ view.name }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['views'],\n  methods: {\n    setActiveView: function(view, doSearch = true) {\n      if (doSearch) {\n        this.$emit('setActiveView', view)\n      }\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\">\n.view-list-item {\n  cursor: pointer;\n  padding: 5px 0 5px 0;\n}\n.view-list-item:hover {\n  background-color: var(--table-row-hover-background-color);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewListCompact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewListCompact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewListCompact.vue?vue&type=template&id=a6ceb8f4&scoped=true&\"\nimport script from \"./ViewListCompact.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewListCompact.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewListCompact.vue?vue&type=style&index=0&id=a6ceb8f4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6ceb8f4\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div style=\"max-height:600px;border-top:1px solid var(--table-cell-border-color);overflow: hidden;\">\n    <div class=\"columns is-gapless\" v-if=\"Object.keys(matches).length\">\n      <div\n        class=\"column\"\n        style=\"max-width:50%;overflow:auto;overflow-x: hidden;max-height:600px;\"\n        v-if=\"matches.fields.length\"\n      >\n        <div style=\"padding:20px;\">\n          <div style=\"padding-bottom:10px;\"><strong>Fields</strong></div>\n          <div\n            v-for=\"field in matches.fields\"\n            :key=\"field.field\"\n            v-on:click=\"searchForField(field.field)\"\n            class=\"list-item\"\n            style=\"cursor:pointer;padding:5px 0 5px 0;\"\n          >\n            <span style=\"margin-right:5px;\">{{ field.field }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div\n        class=\"column\"\n        v-if=\"matches.dataTypes.length\"\n        style=\"border-left:1px solid var(--table-cell-border-color);max-width:50%;overflow:auto;overflow-x: hidden;max-height:600px;\"\n      >\n        <div style=\"padding:20px;\">\n          <div style=\"padding-bottom:10px;\"><strong>Data Types</strong></div>\n          <div\n            v-for=\"dataType in matches.dataTypes\"\n            :key=\"dataType.data_type\"\n            v-on:click=\"searchForDataType(dataType.data_type)\"\n            class=\"list-item\"\n            style=\"cursor:pointer;padding:5px 0 5px 0;\"\n          >\n            <span style=\"margin-right:5px;\">{{ dataType.data_type }}</span>\n            <strong style=\"opacity:0.9;\">({{ dataType.count | compactNumber }})</strong>\n          </div>\n        </div>\n      </div>\n\n      <div\n        v-if=\"matches.tags.length || matches.labels.length\"\n        class=\"column\"\n        style=\"border-left:1px solid var(--table-cell-border-color);max-width:50%;overflow:auto;overflow-x: hidden;max-height:600px;\"\n      >\n        <div style=\"padding:20px;\">\n          <div style=\"padding-bottom:10px;\"><strong>Tags</strong></div>\n          <div\n            v-for=\"label in matches.labels\"\n            :key=\"label.label\"\n            v-on:click=\"searchForLabel(label.label)\"\n            class=\"list-item\"\n            style=\"cursor:pointer;padding:5px 0 5px 0;\"\n          >\n            <span v-if=\"label.label === '__ts_star'\">\n              <span style=\"margin-right:5px;\" class=\"icon is-small\"\n                ><i\n                  class=\"fas fa-star\"\n                  style=\"color:#ffe300;-webkit-text-stroke-width: 1px;-webkit-text-stroke-color: silver;\"\n                ></i\n              ></span>\n              Starred\n            </span>\n            <span v-else-if=\"label.label === '__ts_comment'\">\n              <span style=\"margin-right:5px;\" class=\"icon is-small\"><i class=\"fas fa-comment\"></i></span>\n              Commented\n            </span>\n            <span v-else style=\"margin-right:5px;\">{{ label.label }}</span>\n            <strong style=\"opacity:0.9;\">({{ label.count | compactNumber }})</strong>\n          </div>\n          <div\n            v-for=\"tag in matches.tags\"\n            :key=\"tag.tag\"\n            v-on:click=\"searchForTag(tag.tag)\"\n            class=\"list-item\"\n            style=\"cursor:pointer;padding:5px 0 5px 0;\"\n          >\n            <span style=\"margin-right:5px;\">{{ tag.tag }}</span>\n            <strong style=\"opacity:0.9;\">({{ tag.count | compactNumber }})</strong>\n          </div>\n        </div>\n      </div>\n\n      <div\n        class=\"column\"\n        style=\"border-left:1px solid var(--table-cell-border-color);max-width:50%;overflow:auto;overflow-x: hidden;max-height:600px;\"\n        v-if=\"matches.savedSearches.length\"\n      >\n        <div style=\"padding:20px;\">\n          <div style=\"padding-bottom:10px;\"><strong>Saved Searches</strong></div>\n          <ts-view-list-compact\n            :views=\"matches.savedSearches\"\n            @setActiveView=\"$emit('setActiveView', $event)\"\n          ></ts-view-list-compact>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TsViewListCompact from '../Common/ViewListCompact'\n\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: '_all',\n    order: 'asc',\n    chips: [],\n  }\n}\n\nexport default {\n  components: {\n    TsViewListCompact,\n  },\n  props: ['selectedLabels', 'queryString'],\n  computed: {\n    meta() {\n      return this.$store.state.meta\n    },\n    searchHistory() {\n      return this.$store.state.searchHistory\n    },\n    tags() {\n      return this.$store.state.tags\n    },\n    dataTypes() {\n      return this.$store.state.dataTypes\n    },\n    all() {\n      return {\n        fields: this.meta.mappings,\n        tags: this.tags,\n        labels: this.meta.filter_labels,\n        dataTypes: this.dataTypes,\n        savedSearches: this.meta.views,\n      }\n    },\n    matches() {\n      let matches = {}\n\n      if (!this.queryString) {\n        return this.all\n      }\n\n      matches['fields'] = this.meta.mappings.filter(field =>\n        field.field.toLowerCase().includes(this.queryString.toLowerCase())\n      )\n      matches['tags'] = this.tags.filter(tag => tag.tag.toLowerCase().includes(this.queryString.toLowerCase()))\n      matches['labels'] = this.meta.filter_labels.filter(label =>\n        label.label.toLowerCase().includes(this.queryString.toLowerCase())\n      )\n      matches['dataTypes'] = this.dataTypes.filter(dataType =>\n        dataType.data_type.toLowerCase().includes(this.queryString.toLowerCase())\n      )\n      matches['savedSearches'] = this.meta.views.filter(savedSearch =>\n        savedSearch.name.toLowerCase().includes(this.queryString.toLowerCase())\n      )\n\n      if (!Object.values(matches).filter(arr => arr.length).length) {\n        return this.all\n      }\n\n      return matches\n    },\n  },\n  beforeDestroy: function() {\n    window.removeEventListener('click', this.close)\n  },\n  created: function() {\n    window.addEventListener('click', this.close)\n  },\n  methods: {\n    close(e) {\n      if (!this.$el.contains(e.target)) {\n        this.$emit('close', e.target)\n      }\n    },\n    searchForLabel(label) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = '*'\n      eventData.queryFilter = defaultQueryFilter()\n      let chip = {\n        field: '',\n        value: label,\n        type: 'label',\n        operator: 'must',\n        active: true,\n      }\n      eventData.queryFilter.chips.push(chip)\n      this.$emit('setQueryAndFilter', eventData)\n    },\n    searchForTag(tag) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = 'tag:' + tag\n      eventData.queryFilter = defaultQueryFilter()\n      this.$emit('setQueryAndFilter', eventData)\n    },\n    searchForDataType(dataType) {\n      let eventData = {}\n      eventData.doSearch = true\n      eventData.queryString = 'data_type:' + '\"' + dataType + '\"'\n      eventData.queryFilter = defaultQueryFilter()\n      this.$emit('setQueryAndFilter', eventData)\n    },\n    searchForField(field) {\n      let eventData = {}\n      let separator = ''\n      if (this.queryString !== '') {\n        separator = this.queryString + ' '\n      }\n      if (!this.queryString.includes(' ')) {\n        separator = ''\n      }\n      eventData.doSearch = false\n      eventData.queryString = separator + field + ':'\n      eventData.queryFilter = defaultQueryFilter()\n      this.$emit('setQueryAndFilter', eventData)\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\">\n.list-item:hover {\n  background-color: var(--table-row-hover-background-color);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchDropdown.vue?vue&type=template&id=cf019368&scoped=true&\"\nimport script from \"./SearchDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchDropdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchDropdown.vue?vue&type=style&index=0&id=cf019368&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cf019368\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm.apply(null, arguments)}}},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.viewName),expression:\"viewName\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Name your search\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.viewName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.viewName=$event.target.value}}})])]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{staticClass:\"button is-success\",attrs:{\"type\":\"submit\",\"value\":\"Save search\"}})])])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <form v-on:submit.prevent=\"submitForm\">\n    <div class=\"field\">\n      <div class=\"control\">\n        <input v-model=\"viewName\" class=\"input\" type=\"text\" required placeholder=\"Name your search\" autofocus />\n      </div>\n    </div>\n    <div class=\"field\">\n      <div class=\"control\">\n        <input class=\"button is-success\" type=\"submit\" value=\"Save search\" />\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  props: ['sketchId', 'currentQueryString', 'currentQueryFilter'],\n  data() {\n    return {\n      viewName: '',\n    }\n  },\n  methods: {\n    clearFormData: function() {\n      this.viewName = ''\n    },\n    submitForm: function() {\n      ApiClient.createView(this.sketchId, this.viewName, this.currentQueryString, this.currentQueryFilter)\n        .then(response => {\n          let newView = response.data.objects[0]\n          this.$emit('setActiveView', newView)\n          this.$store.state.meta.views.push(newView)\n          this.clearFormData()\n          this.$router.push({ name: 'Explore', query: { view: newView.id } })\n        })\n        .catch(e => {})\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateViewForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateViewForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateViewForm.vue?vue&type=template&id=351ee10c&\"\nimport script from \"./CreateViewForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateViewForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary ref=\"navigation\" currentAppContext=\"sketch\" currentPage=\"explore\"></ts-navbar-secondary>\n\n    <b-modal :active.sync=\"showSaveSearchModal\" :width=\"640\" scroll=\"keep\" style=\"z-index:999;\">\n      <div class=\"card\">\n        <header class=\"card-header\">\n          <p class=\"card-header-title\">Save search</p>\n        </header>\n        <div class=\"card-content\">\n          <div class=\"content\">\n            <ts-create-view-form\n              @setActiveView=\"searchView\"\n              :sketchId=\"sketchId\"\n              :currentQueryString=\"currentQueryString\"\n              :currentQueryFilter=\"currentQueryFilter\"\n            ></ts-create-view-form>\n          </div>\n        </div>\n      </div>\n    </b-modal>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <div class=\"card-content\" v-if=\"showSearch\">\n            <div style=\"position:relative;\">\n              <div class=\"ts-search-box\" style=\"z-index:998; position:absolute; width:100%;\">\n                <ts-search-history-buttons\n                  style=\"position:absolute;top:7px;margin-left:10px;\"\n                ></ts-search-history-buttons>\n                <input\n                  @keyup.enter=\"search\"\n                  v-model=\"currentQueryString\"\n                  v-on:click=\"showSearchDropdown = true\"\n                  class=\"ts-search-input\"\n                  type=\"text\"\n                  ref=\"searchInput\"\n                  placeholder=\"Search\"\n                  style=\"padding-left:90px;\"\n                  autofocus\n                  required\n                />\n                <div v-if=\"showSearchDropdown\">\n                  <ts-search-dropdown\n                    :selected-labels=\"selectedLabels\"\n                    :query-string=\"currentQueryString\"\n                    @setActiveView=\"searchView\"\n                    @addChip=\"addChip\"\n                    @updateLabelChips=\"updateLabelChips()\"\n                    @close=\"closeSearchDropdown\"\n                    @close-on-click=\"showSearchDropdown = false\"\n                    @node-click=\"jumpInHistory\"\n                    @setQueryAndFilter=\"setQueryAndFilter\"\n                  >\n                  </ts-search-dropdown>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"field is-grouped\" style=\"margin-top:60px;\">\n              <p class=\"control\">\n                <ts-dropdown width=\"500px\">\n                  <template v-slot:dropdown-trigger-element>\n                    <a class=\"button is-text\" style=\"text-decoration: none;\" slot=\"trigger\" role=\"button\">\n                      <span>+ Time filter</span>\n                    </a>\n                  </template>\n                  <strong>Create time filter</strong>\n                  <br />\n                  <br />\n                  <ts-explore-filter-time @addChip=\"addChip\" @hideDropdown=\"hideDropdown\"></ts-explore-filter-time>\n                </ts-dropdown>\n              </p>\n\n              <p class=\"control\">\n                <ts-dropdown>\n                  <template v-slot:dropdown-trigger-element>\n                    <a class=\"button is-text\" style=\"text-decoration: none;\" role=\"button\">\n                      <span>+ Add label filter</span>\n                    </a>\n                  </template>\n\n                  <div class=\"field\">\n                    <b-checkbox type=\"is-info\" v-model=\"selectedLabels\" native-value=\"__ts_star\">\n                      <span style=\"margin-right:5px;\" class=\"icon is-small\"\n                        ><i\n                          class=\"fas fa-star\"\n                          style=\"color:#ffe300;-webkit-text-stroke-width: 1px;-webkit-text-stroke-color: silver;\"\n                        ></i></span\n                      >Show starred events\n                    </b-checkbox>\n                  </div>\n                  <div class=\"field\">\n                    <b-checkbox type=\"is-info\" v-model=\"selectedLabels\" native-value=\"__ts_comment\">\n                      <span style=\"margin-right:5px;\" class=\"icon is-small\"><i class=\"fas fa-comment\"></i></span>Show\n                      events with comments\n                    </b-checkbox>\n                  </div>\n                  <div class=\"level\" style=\"margin-bottom: 5px;\" v-for=\"label in filteredLabels\" :key=\"label.label\">\n                    <div class=\"level-left\">\n                      <div class=\"field\">\n                        <b-checkbox type=\"is-info\" v-model=\"selectedLabels\" :native-value=\"label.label\">\n                          {{ label.label }}\n                        </b-checkbox>\n                      </div>\n                    </div>\n                  </div>\n                  <br />\n                  <button class=\"button is-info\" v-on:click=\"updateLabelChips()\">Add filter</button>\n                </ts-dropdown>\n              </p>\n            </div>\n\n            <p class=\"control\" style=\"top:-40px;float:right;\">\n              <b-switch v-model=\"showHistogram\" size=\"is-small\" type=\"is-info\" style=\"top:2px; margin-right:15px;\"\n                >Chart</b-switch\n              >\n              <b-switch\n                v-model=\"showSearchHistory\"\n                v-on:input=\"triggerScrollTo\"\n                size=\"is-small\"\n                type=\"is-info\"\n                style=\"top:2px;\"\n                >Show history</b-switch\n              >\n            </p>\n\n            <!-- Time filters -->\n            <div class=\"tags\" style=\"margin-bottom:-5px;\">\n              <span v-for=\"(chip, index) in timeFilterChips\" :key=\"index + chip.value\">\n                <ts-dropdown width=\"500px\" ref=\"TimeFilters\">\n                  <template v-slot:dropdown-trigger-element>\n                    <span role=\"button\" class=\"is-small is-outlined\">\n                      <div class=\"tags\" style=\"margin-bottom: 5px; margin-right:7px;\">\n                        <span\n                          class=\"tag is-medium\"\n                          style=\"cursor: pointer;\"\n                          v-bind:class=\"{ 'chip-disabled': chip.active === false }\"\n                        >\n                          <span @click.stop=\"toggleChip(chip)\">\n                            <span v-if=\"index > 0\" class=\"chip-operator-label\">OR</span>\n                            <span class=\"icon\" style=\"margin-right:7px;\"><i class=\"fas fa-clock\"></i></span>\n                            <span>{{ chip.value.split(',')[0] }}</span>\n                            <span\n                              v-if=\"\n                                chip.type === 'datetime_range' && chip.value.split(',')[0] !== chip.value.split(',')[1]\n                              \"\n                            >\n                              &rarr; {{ chip.value.split(',')[1] }}</span\n                            >\n                          </span>\n                          <span class=\"fa-stack fa-lg is-small\" style=\"margin-left:5px; width:20px;\">\n                            <i class=\"fas fa-edit fa-stack-1x\" style=\"transform:scale(0.7);color:#777;\"></i>\n                          </span>\n                          <button\n                            class=\"delete is-small\"\n                            style=\"margin-left:5px\"\n                            v-on:click=\"removeChip(chip)\"\n                          ></button>\n                        </span>\n                      </div>\n                    </span>\n                  </template>\n\n                  <strong>Update time filter</strong>\n                  <br />\n                  <br />\n                  <ts-explore-filter-time\n                    :selectedChip=\"chip\"\n                    @updateChip=\"updateChip($event, chip)\"\n                    @hideDropdown=\"hideDropdown\"\n                  ></ts-explore-filter-time>\n                </ts-dropdown>\n              </span>\n            </div>\n\n            <!-- Label and term filter chips -->\n            <div class=\"tags\">\n              <span v-for=\"(chip, index) in filterChips\" :key=\"index + chip.value\">\n                <span\n                  v-if=\"chip.type === 'label'\"\n                  class=\"tag is-medium\"\n                  style=\"margin-right:7px; cursor: pointer;\"\n                  v-bind:class=\"{ 'chip-disabled': chip.active === false }\"\n                  @click=\"toggleChip(chip, index)\"\n                >\n                  <span v-if=\"index > 0 || timeFilterChips.length\" class=\"chip-operator-label\">AND</span>\n                  <span v-if=\"chip.value === '__ts_star'\" style=\"margin-right:7px;\" class=\"icon is-small\"\n                    ><i\n                      class=\"fas fa-star\"\n                      style=\"color:#ffe300;-webkit-text-stroke-width: 1px;-webkit-text-stroke-color: silver;\"\n                    ></i\n                  ></span>\n                  <span v-else-if=\"chip.value === '__ts_comment'\" style=\"margin-right:7px;\" class=\"icon is-small\"\n                    ><i class=\"fas fa-comment\"></i\n                  ></span>\n                  <span v-else-if=\"chip.type === 'label'\" style=\"margin-right:7px;\" class=\"icon is-small\"\n                    ><i class=\"fas fa-tag\"></i\n                  ></span>\n                  <span style=\"margin-right:7px;\">{{ chip | filterChip }}</span>\n                  <button style=\"margin-left:7px\" class=\"delete is-small\" v-on:click=\"removeChip(chip)\"></button>\n                </span>\n                <span\n                  v-if=\"chip.type === 'term'\"\n                  class=\"tag is-medium\"\n                  style=\"margin-right:7px; cursor: pointer;\"\n                  v-bind:class=\"{ 'chip-disabled': chip.active === false, 'is-danger': chip.operator === 'must_not' }\"\n                  @click=\"toggleChip(chip, index)\"\n                >\n                  <span v-if=\"index > 0 || timeFilterChips.length\" class=\"chip-operator-label\">AND</span>\n                  <span v-if=\"chip.operator === 'must_not'\" class=\"chip-operator-label\" style=\"font-weight:bold;\"\n                    >NOT</span\n                  >\n                  <span style=\"margin-right:7px;\">{{ chip | filterChip }}</span>\n                  <button style=\"margin-left:7px\" class=\"delete is-small\" v-on:click=\"removeChip(chip)\"></button>\n                </span>\n              </span>\n            </div>\n\n            <ts-explore-timeline-picker\n              v-if=\"sketch.active_timelines\"\n              @updateSelectedTimelines=\"updateSelectedTimelines($event)\"\n              :current-query-filter=\"currentQueryFilter\"\n              :count-per-index=\"eventList.meta.count_per_index\"\n              :count-per-timeline=\"eventList.meta.count_per_timeline\"\n            ></ts-explore-timeline-picker>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- Search history -->\n    <section class=\"section\" v-show=\"showSearchHistory\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\">\n              My searches\n            </p>\n            <div class=\"card-header-icon\" style=\"width:20%;\">\n              <span style=\"margin-right:10px;\">Zoom</span>\n              <b-slider\n                style=\"margin-right:10px;\"\n                @dragend=\"triggerScrollTo\"\n                v-model=\"zoomLevel\"\n                format=\"percent\"\n                :min=\"0.1\"\n                :max=\"1\"\n                :step=\"0.01\"\n              ></b-slider>\n            </div>\n          </header>\n          <div\n            class=\"card-content no-scrollbars\"\n            v-dragscroll\n            style=\"overflow: scroll; white-space: nowrap; max-height:700px;min-height:500px\"\n          >\n            <ts-search-history-tree\n              @node-click=\"jumpInHistory\"\n              :show-history=\"showSearchHistory\"\n              v-bind:style=\"{ transform: 'scale(' + zoomLevel + ')' }\"\n              style=\"transform-origin: top left;\"\n            ></ts-search-history-tree>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- Histogram -->\n    <section class=\"section\" v-if=\"showHistogram\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <div class=\"card-content\">\n            <ts-bar-chart\n              :chart-data=\"eventList.meta.count_over_time\"\n              @addChip=\"addChipFromHistogram($event)\"\n            ></ts-bar-chart>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- Context search -->\n    <section class=\"section\" id=\"context\" v-show=\"contextEvent\">\n      <div class=\"container is-fluid\">\n        <b-message type=\"is-warning\" aria-close-label=\"Close message\">\n          <strong>Context query</strong>\n          <br /><br />\n          <div class=\"buttons\">\n            <button class=\"button\" v-on:click=\"removeContext\">&larr; Go back to original query</button>\n            <button class=\"button\" v-on:click=\"scrollToContextEvent\">Help me find my event</button>\n          </div>\n        </b-message>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <div class=\"card-content\">\n            <nav class=\"level\">\n              <!-- Left side -->\n              <div class=\"level-left\">\n                <div class=\"level-item\">\n                  <span v-if=\"toEvent && !searchInProgress\"\n                    >{{ fromEvent }}-{{ toEvent }} of {{ totalHits }} events ({{ totalTime }}s)</span\n                  >\n                </div>\n                <div class=\"level-item\">\n                  <span v-if=\"!toEvent && !searchInProgress\">{{ totalHits }} events ({{ totalTime }}s)</span>\n                  <div v-if=\"searchInProgress\">\n                    <span class=\"icon\"><i class=\"fas fa-circle-notch fa-pulse\"></i></span> Searching..\n                  </div>\n                </div>\n                <div class=\"level-item\">\n                  <button\n                    class=\"button is-small is-outlined is-rounded\"\n                    v-if=\"totalHits > 0\"\n                    v-on:click=\"showSaveSearchModal = !showSavedSearchModal\"\n                  >\n                    <span class=\"icon is-small\"><i class=\"fas fa-save\"></i></span>\n                    <span>Save this search</span>\n                  </button>\n                </div>\n                <div class=\"level-item\" v-if=\"numSelectedEvents\" style=\"margin-right:50px;\">\n                  <button class=\"button is-small is-outlined\" style=\"border-radius: 4px;\" v-on:click=\"toggleStar\">\n                    <span class=\"icon\">\n                      <i class=\"fas fa-star\"></i>\n                    </span>\n                    <span>Star events ({{ numSelectedEvents }})</span>\n                  </button>\n                </div>\n              </div>\n\n              <!-- Right side -->\n              <div class=\"level-right\">\n                <div class=\"level-item\">\n                  <b-pagination\n                    @change=\"paginate($event)\"\n                    :total=\"totalHitsForPagination\"\n                    :per-page=\"currentQueryFilter.size\"\n                    :current.sync=\"currentPage\"\n                    :simple=\"true\"\n                    size=\"is-small\"\n                    icon-pack=\"fas\"\n                    icon-prev=\"chevron-left\"\n                    icon-next=\"chevron-right\"\n                  >\n                  </b-pagination>\n                </div>\n                <div class=\"level-item\">\n                  <div class=\"select is-small\">\n                    <select\n                      v-model=\"currentQueryFilter.size\"\n                      @change=\"search(true, true, true)\"\n                      style=\"border:1px solid var(--table-cell-border-color);\"\n                    >\n                      <option v-bind:value=\"currentQueryFilter.size\">{{ currentQueryFilter.size }}</option>\n                      <option value=\"10\">10</option>\n                      <option value=\"20\">20</option>\n                      <option value=\"40\">40</option>\n                      <option value=\"80\">80</option>\n                      <option value=\"100\">100</option>\n                      <option value=\"200\">200</option>\n                      <option value=\"500\">500</option>\n                    </select>\n                  </div>\n                </div>\n                <div class=\"level-item\">\n                  <button class=\"button is-small\" style=\"border-radius: 4px;\" v-on:click=\"changeSortOrder\">\n                    {{ currentQueryFilter.order }}\n                  </button>\n                </div>\n                <div class=\"level-item\">\n                  <ts-dropdown position=\"is-bottom-left\" width=\"300px\">\n                    <template v-slot:dropdown-trigger-element>\n                      <button class=\"button is-small\" style=\"border-radius: 4px;\">\n                        <span class=\"icon is-small\">\n                          <i class=\"fas fa-table\"></i>\n                        </span>\n                        <span>Customize columns</span>\n                      </button>\n                    </template>\n\n                    <multiselect\n                      style=\"display: block;\"\n                      v-if=\"meta.mappings\"\n                      :options=\"meta.mappings\"\n                      :value=\"selectedFieldsProxy\"\n                      @open=\"expandFieldDropdown = true\"\n                      @close=\"expandFieldDropdown = false\"\n                      @input=\"updateSelectedFields\"\n                      :multiple=\"true\"\n                      :searchable=\"true\"\n                      :close-on-select=\"true\"\n                      label=\"field\"\n                      track-by=\"field\"\n                      placeholder=\"Add columns ...\"\n                    ></multiselect>\n\n                    <span v-if=\"selectedFields.length\">\n                      <br />\n                      <strong>Selected columns</strong>\n                      <br /><br />\n                    </span>\n                    <div class=\"tags\">\n                      <span v-for=\"(field, index) in selectedFields\" :key=\"index\">\n                        <span class=\"tag is-light is-rounded\" style=\"margin-right:7px;\">\n                          <span style=\"margin-right:7px;\">{{ field.field }}</span>\n                          <button\n                            style=\"margin-left:7px\"\n                            class=\"delete is-small\"\n                            v-on:click=\"removeField(index)\"\n                          ></button>\n                        </span>\n                      </span>\n                    </div>\n\n                    <br />\n                    <b-switch type=\"is-info\" v-model=\"displayOptions.showTags\" style=\"margin-bottom:7px;\">\n                      <span>Show tags</span>\n                    </b-switch>\n                    <br />\n                    <b-switch type=\"is-info\" v-model=\"displayOptions.showEmojis\" style=\"margin-bottom:7px;\">\n                      <span>Show emojis</span>\n                    </b-switch>\n                    <br />\n                    <b-switch type=\"is-info\" v-model=\"displayOptions.showMillis\">\n                      <span>Show microseconds</span>\n                    </b-switch>\n                  </ts-dropdown>\n                </div>\n\n                <div class=\"level-item\">\n                  <button\n                    v-if=\"eventList.objects.length\"\n                    class=\"button is-small\"\n                    style=\"border-radius: 4px;\"\n                    v-on:click=\"exportSearchResult\"\n                  >\n                    <span class=\"icon is-small\" style=\"margin-right:5px;\"><i class=\"fas fa-file-export\"></i></span>\n                    <span>Export to CSV</span>\n                  </button>\n                </div>\n              </div>\n            </nav>\n\n            <div v-if=\"totalHits > 0\" style=\"margin-top:20px;\"></div>\n\n            <ts-sketch-explore-event-list\n              v-if=\"eventList.objects.length\"\n              :event-list=\"eventList.objects\"\n              :order=\"currentQueryFilter.order\"\n              :selected-fields=\"selectedFields\"\n              :display-options=\"displayOptions\"\n              @addChip=\"addChip($event)\"\n              @addLabel=\"updateLabelList($event)\"\n              @searchContext=\"searchContext($event)\"\n            >\n            </ts-sketch-explore-event-list>\n\n            <div v-if=\"eventList.objects.length\" style=\"float:right;\">\n              <b-pagination\n                @change=\"paginate($event)\"\n                :total=\"totalHitsForPagination\"\n                :per-page=\"currentQueryFilter.size\"\n                :current.sync=\"currentPage\"\n                :simple=\"true\"\n                size=\"is-small\"\n                icon-pack=\"fas\"\n                icon-prev=\"chevron-left\"\n                icon-next=\"chevron-right\"\n              >\n              </b-pagination>\n            </div>\n            <br />\n          </div>\n        </div>\n        <br />\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\nimport TsSketchExploreEventList from '../components/Explore/EventList'\nimport TsExploreTimelinePicker from '../components/Explore/TimelinePicker'\nimport TsExploreFilterTime from '../components/Explore/TimeFilter'\nimport TsSearchHistoryTree from '../components/Explore/SearchHistoryTree'\nimport TsSearchHistoryButtons from '../components/Explore/SearchHistoryButtons'\nimport TsBarChart from '../components/Aggregation/BarChart'\nimport TsSearchDropdown from '../components/Explore/SearchDropdown'\nimport TsCreateViewForm from '../components/Common/CreateViewForm'\nimport TsDropdown from '../components/Common/Dropdown'\n\nimport EventBus from '../main'\nimport { None } from 'vega'\n\nimport { dragscroll } from 'vue-dragscroll'\n\nconst defaultQueryFilter = () => {\n  return {\n    from: 0,\n    terminate_after: 40,\n    size: 40,\n    indices: [],\n    order: 'asc',\n    chips: [],\n  }\n}\n\nconst emptyEventList = () => {\n  return {\n    meta: {\n      count_per_index: {},\n    },\n    objects: [],\n  }\n}\n\nexport default {\n  directives: {\n    dragscroll,\n  },\n  components: {\n    TsSketchExploreEventList,\n    TsExploreTimelinePicker,\n    TsExploreFilterTime,\n    TsSearchHistoryTree,\n    TsSearchHistoryButtons,\n    TsBarChart,\n    TsSearchDropdown,\n    TsCreateViewForm,\n    TsDropdown,\n  },\n  props: ['sketchId'],\n  data() {\n    return {\n      params: {},\n      showCreateViewModal: false,\n      showFilterCard: true,\n      showSearch: true,\n      searchInProgress: false,\n      currentPage: 1,\n      contextEvent: false,\n      originalContext: false,\n      isFullPage: true,\n      loadingComponent: null,\n      showSearchDropdown: true,\n      showSaveSearchModal: false,\n      eventList: {\n        meta: {},\n        objects: [],\n      },\n      currentQueryString: '',\n      currentQueryFilter: defaultQueryFilter(),\n      selectedFields: [{ field: 'message', type: 'text' }],\n      selectedFieldsProxy: [],\n      expandFieldDropdown: false,\n      selectedEvents: {},\n      displayOptions: {\n        showTags: true,\n        showEmojis: true,\n        showMillis: false,\n      },\n      selectedLabels: [],\n      showSearchHistory: false,\n      showHistogram: false,\n      branchParent: None,\n      zoomLevel: 1,\n      zoomOrigin: {\n        x: 0,\n        y: 0,\n      },\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    totalHits() {\n      return this.eventList.meta.es_total_count_complete || 0\n    },\n    totalHitsForPagination() {\n      let total = this.eventList.meta.es_total_count_complete || 0\n      // Elasticsearch only support pagination for the first 10k events.\n      if (total > 9999) {\n        total = 10000\n      }\n      return total\n    },\n    totalTime() {\n      return this.eventList.meta.es_time / 1000 || 0\n    },\n    fromEvent() {\n      return this.currentQueryFilter.from || 1\n    },\n    toEvent() {\n      if (this.totalHits < this.currentQueryFilter.size) {\n        return\n      }\n      return parseInt(this.currentQueryFilter.from) + parseInt(this.currentQueryFilter.size)\n    },\n    numSelectedEvents() {\n      return Object.keys(this.selectedEvents).length\n    },\n    filterChips: function() {\n      return this.currentQueryFilter.chips.filter(chip => chip.type === 'label' || chip.type === 'term')\n    },\n    timeFilterChips: function() {\n      return this.currentQueryFilter.chips.filter(chip => chip.type.startsWith('datetime'))\n    },\n    filteredLabels() {\n      return this.$store.state.meta.filter_labels.filter(label => !label.label.startsWith('__'))\n    },\n    currentSearchNode() {\n      return this.$store.state.currentSearchNode\n    },\n  },\n  methods: {\n    hideDropdown: function() {\n      this.$refs['NewTimeFilter'].isActive = false\n    },\n    search: function(emitEvent = true, resetPagination = true, incognito = false, parent = false) {\n      this.searchInProgress = true\n      if (!this.currentQueryString) {\n        return\n      }\n\n      if (this.contextEvent) {\n        // Scroll to the context box in the UI\n        this.$scrollTo('#context', 200, { offset: -300 })\n      }\n\n      // Reset selected events.\n      this.selectedEvents = {}\n\n      this.eventList = emptyEventList()\n\n      if (resetPagination) {\n        // TODO: Can we keep position of the pagination when changing page size?\n        // We need to calculate the new position in the page range and it is not\n        // trivial with the current pagination UI component we use.\n        this.currentQueryFilter.from = 0\n        this.currentPage = 1\n      }\n\n      // Update with selected fields\n      this.currentQueryFilter.fields = this.selectedFields\n\n      let formData = {\n        query: this.currentQueryString,\n        filter: this.currentQueryFilter,\n      }\n\n      // Search history\n      if (incognito) {\n        formData['incognito'] = true\n      }\n\n      if (parent) {\n        formData['parent'] = parent\n      }\n\n      if (parent && incognito) {\n        this.branchParent = parent\n      }\n\n      if (this.branchParent) {\n        formData['parent'] = this.branchParent\n      }\n\n      if (emitEvent) {\n        EventBus.$emit('newSearch')\n        this.showSearchDropdown = false\n      }\n\n      ApiClient.search(this.sketchId, formData)\n        .then(response => {\n          this.eventList.objects = response.data.objects\n          this.eventList.meta = response.data.meta\n          this.searchInProgress = false\n\n          if (!incognito) {\n            EventBus.$emit('createBranch', this.eventList.meta.search_node)\n            this.$store.dispatch('updateSearchHistory')\n            this.branchParent = this.eventList.meta.search_node.id\n          }\n        })\n        .catch(e => {})\n    },\n    setQueryAndFilter: function(searchEvent) {\n      this.currentQueryString = searchEvent.queryString\n      this.currentQueryFilter = searchEvent.queryFilter\n      this.$refs.searchInput.focus()\n      if (searchEvent.doSearch) {\n        this.search()\n      }\n    },\n    exportSearchResult: function() {\n      this.loadingOpen()\n      let formData = {\n        query: this.currentQueryString,\n        filter: this.currentQueryFilter,\n        file_name: 'export.zip',\n      }\n      ApiClient.exportSearchResult(this.sketchId, formData)\n        .then(response => {\n          let fileURL = window.URL.createObjectURL(new Blob([response.data]))\n          let fileLink = document.createElement('a')\n          let fileName = 'export.zip'\n          fileLink.href = fileURL\n          fileLink.setAttribute('download', fileName)\n          document.body.appendChild(fileLink)\n          fileLink.click()\n          this.loadingClose()\n        })\n        .catch(e => {\n          console.error(e)\n          this.loadingClose()\n        })\n    },\n    searchView: function(viewId) {\n      // Reset selected events.\n      this.selectedEvents = {}\n\n      this.showSearchDropdown = false\n      this.showSaveSearchModal = false\n\n      if (viewId !== parseInt(viewId, 10) && typeof viewId !== 'string') {\n        viewId = viewId.id\n        this.$router.push({ name: 'Explore', query: { view: viewId } })\n      }\n      ApiClient.getView(this.sketchId, viewId)\n        .then(response => {\n          let view = response.data.objects[0]\n          this.currentQueryString = view.query_string\n          this.currentQueryFilter = JSON.parse(view.query_filter)\n          if (!this.currentQueryFilter.fields || !this.currentQueryFilter.fields.length) {\n            this.currentQueryFilter.fields = [{ field: 'message', type: 'text' }]\n          }\n          this.selectedFields = this.currentQueryFilter.fields\n          if (this.currentQueryFilter.indices[0] === '_all' || this.currentQueryFilter.indices === '_all') {\n            let allIndices = []\n            this.sketch.active_timelines.forEach(timeline => {\n              let isLegacy = this.meta.indices_metadata[timeline.searchindex.index_name].is_legacy\n              if (isLegacy) {\n                allIndices.push(timeline.searchindex.index_name)\n              } else {\n                allIndices.push(timeline.id)\n              }\n            })\n            this.currentQueryFilter.indices = allIndices\n          }\n          let chips = this.currentQueryFilter.chips\n          if (chips) {\n            for (let i = 0; i < chips.length; i++) {\n              if (chips[i].type === 'label') {\n                this.selectedLabels.push(chips[i].value)\n              }\n            }\n          }\n          this.contextEvent = false\n          this.search(false)\n        })\n        .catch(e => {})\n    },\n    searchContext: function(event) {\n      // TODO: Make this selectable in the UI\n      const contextTime = 300\n      const numContextEvents = 500\n\n      this.contextEvent = event\n      if (!this.originalContext) {\n        let currentQueryStringCopy = JSON.parse(JSON.stringify(this.currentQueryString))\n        let currentQueryFilterCopy = JSON.parse(JSON.stringify(this.currentQueryFilter))\n        this.originalContext = { queryString: currentQueryStringCopy, queryFilter: currentQueryFilterCopy }\n      }\n\n      const dateTimeTemplate = 'YYYY-MM-DDTHH:mm:ss'\n      let startDateTimeMoment = this.$moment.utc(this.contextEvent._source.datetime)\n      let newStartDate = startDateTimeMoment\n        .clone()\n        .subtract(contextTime, 's')\n        .format(dateTimeTemplate)\n      let newEndDate = startDateTimeMoment\n        .clone()\n        .add(contextTime, 's')\n        .format(dateTimeTemplate)\n      let startChip = {\n        field: '',\n        value: newStartDate + ',' + startDateTimeMoment.format(dateTimeTemplate),\n        type: 'datetime_range',\n        operator: 'must',\n        active: true,\n      }\n      let endChip = {\n        field: '',\n        value: startDateTimeMoment.format(dateTimeTemplate) + ',' + newEndDate,\n        type: 'datetime_range',\n        operator: 'must',\n        active: true,\n      }\n      // TODO: Use chips instead\n      this.currentQueryString = '* OR ' + '_id:' + this.contextEvent._id\n\n      this.currentQueryFilter.chips = [startChip, endChip]\n\n      let isLegacy = this.meta.indices_metadata[this.contextEvent._index].is_legacy\n      if (isLegacy) {\n        this.currentQueryFilter.indices = [this.contextEvent._index]\n      } else {\n        this.currentQueryFilter.indices = [this.contextEvent._source.__ts_timeline_id]\n      }\n      this.currentQueryFilter.size = numContextEvents\n\n      this.search()\n    },\n    removeContext: function() {\n      this.contextEvent = false\n      this.currentQueryString = JSON.parse(JSON.stringify(this.originalContext.queryString))\n      this.currentQueryFilter = JSON.parse(JSON.stringify(this.originalContext.queryFilter))\n      this.search()\n    },\n    scrollToContextEvent: function() {\n      this.$scrollTo('#' + this.contextEvent._id, 200, { offset: -300 })\n    },\n    updateSelectedTimelines: function(timelines) {\n      let selected = []\n      timelines.forEach(timeline => {\n        let isLegacy = this.meta.indices_metadata[timeline.searchindex.index_name].is_legacy\n        if (isLegacy) {\n          selected.push(timeline.searchindex.index_name)\n        } else {\n          selected.push(timeline.id)\n        }\n      })\n      this.currentQueryFilter.indices = selected\n      this.search()\n    },\n    clearSearch: function() {\n      this.currentQueryString = ''\n      this.currentQueryFilter = defaultQueryFilter()\n      this.currentQueryFilter.indices = '_all'\n      this.eventList = emptyEventList()\n      this.$router.replace({ query: null })\n    },\n    toggleChip: function(chip) {\n      // Treat undefined as active to support old chip formats.\n      if (chip.active === undefined) {\n        chip.active = true\n      }\n      chip.active = !chip.active\n      this.search()\n    },\n    removeChip: function(chip, search = true) {\n      let chipIndex = this.currentQueryFilter.chips.findIndex(c => c.value === chip.value)\n      this.currentQueryFilter.chips.splice(chipIndex, 1)\n      if (chip.type === 'label') {\n        this.selectedLabels = this.selectedLabels.filter(label => label !== chip.value)\n      }\n      if (search) {\n        this.search()\n      }\n    },\n    updateChip: function(newChip, oldChip) {\n      // Replace the chip at the given index\n      let chipIndex = this.currentQueryFilter.chips.findIndex(c => c.value === oldChip.value && c.type === oldChip.type)\n      this.currentQueryFilter.chips.splice(chipIndex, 1, newChip)\n      this.search()\n    },\n    addChip: function(chip) {\n      // Legacy views don't support chips so we need to add an array in order\n      // to upgrade the view to the new filter system.\n      if (!this.currentQueryFilter.chips) {\n        this.currentQueryFilter.chips = []\n      }\n      this.currentQueryFilter.chips.push(chip)\n      this.search()\n    },\n    addChipFromHistogram: function(chip) {\n      if (!this.currentQueryFilter.chips) {\n        this.currentQueryFilter.chips = []\n      }\n      this.currentQueryFilter.chips.forEach(chip => {\n        if (chip.type === 'datetime_range') {\n          this.removeChip(chip, false)\n        }\n      })\n      this.addChip(chip)\n    },\n    toggleLabelChip: function(labelName) {\n      let chip = {\n        field: '',\n        value: labelName,\n        type: 'label',\n        operator: 'must',\n        active: true,\n      }\n      let chips = this.currentQueryFilter.chips\n      if (chips) {\n        for (let i = 0; i < chips.length; i++) {\n          if (chips[i].value === labelName) {\n            this.removeChip(i)\n            return\n          }\n        }\n      }\n      this.addChip(chip)\n    },\n    updateLabelChips: function() {\n      // Remove all current label chips\n      this.currentQueryFilter.chips = this.currentQueryFilter.chips.filter(chip => chip.type !== 'label')\n      this.selectedLabels.forEach(label => {\n        let chip = {\n          field: '',\n          value: label,\n          type: 'label',\n          operator: 'must',\n          active: true,\n        }\n        this.addChip(chip)\n        this.showSearchDropdown = false\n      })\n    },\n    updateLabelList: function(label) {\n      if (this.meta.filter_labels.indexOf(label) === -1) {\n        this.meta.filter_labels.push(label)\n      }\n    },\n    paginate: function(pageNum) {\n      this.currentQueryFilter.from = pageNum * this.currentQueryFilter.size - this.currentQueryFilter.size\n      this.search(true, false, true)\n    },\n    updateSelectedFields: function(value) {\n      // If we haven't fetched the field before, do an new search.\n      value.forEach(field => {\n        if (!this.selectedFields.filter(e => e.field === field.field).length > 0) {\n          this.search(true, true, true)\n        }\n      })\n      value.forEach(field => {\n        this.selectedFields.push(field)\n      })\n      // Prevents tags from being displayed\n      this.selectedFieldsProxy = []\n    },\n    removeField: function(index) {\n      this.selectedFields.splice(index, 1)\n    },\n    updateSelectedEvents: function(event) {\n      let key = event._index + ':' + event._id\n      if (event.isSelected) {\n        this.$set(this.selectedEvents, key, event)\n      } else {\n        this.$delete(this.selectedEvents, key)\n      }\n    },\n    toggleStar: function() {\n      // The function stars and unstars all selected events, instead of\n      // toggling them. This helps when some of the selected events (but not\n      // all) were already starred.\n      let eventsStarred = []\n      let eventsUnstarred = []\n      let eventsToToggle = []\n      Object.keys(this.selectedEvents).forEach((key, index) => {\n        if (this.selectedEvents[key].isStarred) {\n          eventsStarred.push(this.selectedEvents[key])\n        }\n        else {\n          eventsUnstarred.push(this.selectedEvents[key])\n        }\n      })\n\n      // Find out if there's a mix of starred and unstarred events\n      if (eventsStarred.length && eventsUnstarred.length) {\n        eventsToToggle = eventsUnstarred\n      }\n      else {\n        eventsToToggle = (eventsUnstarred.length) ? eventsUnstarred : eventsStarred\n      }\n\n      // Updating has 3 independent parts:\n      // 1) The backend via API\n      ApiClient.saveEventAnnotation(this.sketch.id, 'label', '__ts_star', eventsToToggle, this.currentSearchNode)\n        .then(response => {})\n        .catch(e => {})\n      // 2) The UI element representing each of the rows\n      let idOfEventsToToggle = eventsToToggle.map(e => e._id)\n      EventBus.$emit('toggleStar', idOfEventsToToggle)\n      // 3) The local copy of events\n      for (let event of eventsToToggle) {\n        event.isStarred = !event.isStarred\n      }\n    },\n    changeSortOrder: function() {\n      if (this.currentQueryFilter.order === 'asc') {\n        this.currentQueryFilter.order = 'desc'\n      } else {\n        this.currentQueryFilter.order = 'asc'\n      }\n      this.search(true, true, true)\n    },\n    loadingOpen: function() {\n      this.loadingComponent = this.$buefy.loading.open({\n        container: this.isFullPage ? null : this.$refs.element.$el,\n      })\n    },\n    loadingClose: function() {\n      this.loadingComponent.close()\n    },\n    jumpInHistory: function(node) {\n      this.currentQueryString = node.query_string\n      this.currentQueryFilter = JSON.parse(node.query_filter)\n      if (!this.currentQueryFilter.fields || !this.currentQueryFilter.fields.length) {\n        this.currentQueryFilter.fields = [{ field: 'message', type: 'text' }]\n      }\n      this.selectedFields = this.currentQueryFilter.fields\n      if (this.currentQueryFilter.indices[0] === '_all' || this.currentQueryFilter.indices === '_all') {\n        let allIndices = []\n        this.sketch.active_timelines.forEach(timeline => {\n          let isLegacy = this.meta.indices_metadata[timeline.searchindex.index_name].is_legacy\n          if (isLegacy) {\n            allIndices.push(timeline.searchindex.index_name)\n          } else {\n            allIndices.push(timeline.id)\n          }\n        })\n        this.currentQueryFilter.indices = allIndices\n      }\n      let chips = this.currentQueryFilter.chips\n      if (chips) {\n        for (let i = 0; i < chips.length; i++) {\n          if (chips[i].type === 'label') {\n            this.selectedLabels.push(chips[i].value)\n          }\n        }\n      }\n      this.contextEvent = false\n      this.search(false, true, true, node.id)\n    },\n    triggerScrollTo: function() {\n      EventBus.$emit('triggerScrollTo')\n    },\n    zoomWithMouse: function(event) {\n      // Add @wheel=\"zoomWithMouse\" on element to activate.\n      this.zoomOrigin.x = event.pageX\n      this.zoomOrigin.y = event.pageY\n      if (event.deltaY < 0) {\n        this.zoomLevel += 0.07\n      } else if (event.deltaY > 0) {\n        this.zoomLevel -= 0.07\n      }\n    },\n    closeSearchDropdown: function(targetElement) {\n      // Prevent dropdown to close when the search input field is clicked.\n      if (targetElement !== this.$refs.searchInput && targetElement.getAttribute('data-explore-element') === null) {\n        this.showSearchDropdown = false\n      }\n    },\n  },\n\n  watch: {\n    numEvents: function(newVal) {\n      this.currentQueryFilter.size = newVal\n      this.search(false, true, true)\n    },\n  },\n  mounted() {\n    this.$refs.searchInput.focus()\n    this.showSearchDropdown = true\n    EventBus.$on('eventSelected', eventData => {\n      this.updateSelectedEvents(eventData)\n    })\n    EventBus.$on('clearSelectedEvents', () => {\n      this.selectedEvents = {}\n    })\n  },\n  created: function() {\n    let doSearch = false\n\n    this.params = {\n      viewId: this.$route.query.view,\n      indexName: this.$route.query.timeline,\n      resultLimit: this.$route.query.limit,\n      queryString: this.$route.query.q,\n    }\n\n    if (this.params.viewId) {\n      this.searchView(this.params.viewId)\n      return\n    }\n\n    if (this.params.queryString) {\n      this.currentQueryString = this.params.queryString\n      doSearch = true\n    }\n\n    if (this.params.indexName) {\n      if (!this.params.queryString) {\n        this.currentQueryString = '*'\n      }\n\n      let timeline = this.sketch.active_timelines.find(timeline => {\n        return timeline.id === parseInt(this.params.indexName, 10)\n      })\n\n      let isLegacy = this.meta.indices_metadata[timeline.searchindex.index_name].is_legacy\n      if (isLegacy) {\n        this.currentQueryFilter.indices = [timeline.searchindex.index_name]\n      } else {\n        this.currentQueryFilter.indices = [timeline.id]\n      }\n      doSearch = true\n    }\n\n    if (!this.currentQueryString) {\n      this.currentQueryFilter.indices = ['_all']\n    }\n\n    if (doSearch) {\n      if (!this.currentQueryFilter.indices.length) {\n        this.currentQueryFilter.indices = ['_all']\n      }\n      this.search()\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.dropdown-menu {\n  box-shadow: 0 30px 30px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);\n}\n\n.multiselect,\n.multiselect__input,\n.multiselect__single {\n  font-size: inherit;\n}\n\n.multiselect__option--highlight {\n  background: #f5f5f5;\n  color: #333;\n}\n\n.multiselect__option--highlight:after {\n  background: #f5f5f5;\n  color: #333;\n}\n\n.tsdropdown {\n  min-height: 330px;\n}\n\n.chip-disabled {\n  text-decoration: line-through;\n  opacity: 0.5;\n}\n\n.chip-operator-label {\n  margin-right: 7px;\n  font-size: 0.7em;\n  cursor: default;\n}\n\n.can-change-background {\n  color: rgba(10, 10, 10, 0.2);\n}\n\n.can-change-background:hover {\n  color: rgba(10, 10, 10, 0.3);\n}\n\n.no-scrollbars::-webkit-scrollbar {\n  display: none;\n}\n\n.no-scrollbars {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explore.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explore.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Explore.vue?vue&type=template&id=10601cb0&\"\nimport script from \"./Explore.vue?vue&type=script&lang=js&\"\nexport * from \"./Explore.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Explore.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Graph.vue?vue&type=template&id=1a46e218&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}])}),_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"graph\"}}),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-content\"},[(_vm.sketch.graphs.length)?_c('div',[_c('span',{staticClass:\"title is-6 is-uppercase\"},[_vm._v(\"Saved graphs\")]),_c('ts-graph-list'),_c('br'),_c('br')],1):_vm._e(),_c('span',{staticClass:\"title is-6 is-uppercase\"},[_vm._v(\"Graph plugins\")]),_c('ts-graph-plugin-list')],1)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.graphs),function(graph){return _c('router-link',{key:graph.name,attrs:{\"to\":{ name: 'GraphExplore', query: { plugin: graph.name } }}},[_c('ul',{staticClass:\"content-list\"},[_c('li',{staticStyle:{\"padding\":\"10px\",\"border-bottom\":\"none\",\"cursor\":\"pointer\"}},[_c('strong',{staticStyle:{\"color\":\"var(--default-font-color)\"}},[_vm._v(_vm._s(graph.display_name))]),_c('br'),_c('span',[_vm._v(_vm._s(graph.description))])])])])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <router-link\n      :to=\"{ name: 'GraphExplore', query: { plugin: graph.name } }\"\n      v-for=\"graph in graphs\"\n      :key=\"graph.name\"\n    >\n      <ul class=\"content-list\">\n        <li style=\"padding:10px;border-bottom:none;cursor:pointer;\">\n          <strong style=\"color: var(--default-font-color)\">{{ graph.display_name }}</strong>\n          <br />\n          <span>{{ graph.description }}</span>\n        </li>\n      </ul>\n    </router-link>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  data() {\n    return {\n      graphs: [],\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n  created() {\n    ApiClient.getGraphPluginList()\n      .then(response => {\n        this.graphs = response.data\n      })\n      .catch(e => {\n        console.error(e)\n      })\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GraphPluginList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GraphPluginList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GraphPluginList.vue?vue&type=template&id=0cf3b22b&scoped=true&\"\nimport script from \"./GraphPluginList.vue?vue&type=script&lang=js&\"\nexport * from \"./GraphPluginList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cf3b22b\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary currentAppContext=\"sketch\" currentPage=\"graph\"></ts-navbar-secondary>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <div class=\"card-content\">\n            <div v-if=\"sketch.graphs.length\">\n              <span class=\"title is-6 is-uppercase\">Saved graphs</span>\n              <ts-graph-list></ts-graph-list>\n              <br /><br />\n            </div>\n            <span class=\"title is-6 is-uppercase\">Graph plugins</span>\n            <ts-graph-plugin-list></ts-graph-plugin-list>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport TsGraphList from '../components/Graph/GraphList'\nimport TsGraphPluginList from '../components/Graph/GraphPluginList'\n\nexport default {\n  props: ['sketchId'],\n  components: { TsGraphList, TsGraphPluginList },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GraphOverview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GraphOverview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GraphOverview.vue?vue&type=template&id=9d29e1ec&\"\nimport script from \"./GraphOverview.vue?vue&type=script&lang=js&\"\nexport * from \"./GraphOverview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}])}),_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"graph\"}}),_c('ts-graph')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"section\"},[_c('div',{ref:\"graphContainer\",staticClass:\"container is-fluid\",staticStyle:{\"height\":\"75vh\"}},[_c('div',{staticClass:\"card\",staticStyle:{\"height\":\"100%\"}},[_c('header',{staticClass:\"card-header\",staticStyle:{\"border-bottom\":\"0\"}},[(_vm.currentGraph)?_c('div',[_c('ts-dropdown',{scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('a',{staticClass:\"button ts-search-dropdown\",staticStyle:{\"background-color\":\"transparent\"}},[_c('span',{staticClass:\"icon is-small\",staticStyle:{\"margin-right\":\"10px\",\"margin-top\":\"2px\",\"font-size\":\"0.6em\"}},[_c('i',{staticClass:\"fas fa-project-diagram\"})]),(_vm.currentGraph)?_c('div',{staticStyle:{\"margin-right\":\"7px\"}},[_c('strong',[_vm._v(_vm._s(_vm.currentGraph))])]):_vm._e(),_c('b-icon',{staticStyle:{\"font-size\":\"0.6em\"},attrs:{\"icon\":\"chevron-down\"}})],1)]},proxy:true}],null,false,250318476)},[_vm._l((_vm.graphs),function(graphPlugin){return _c('div',{key:graphPlugin.name,staticClass:\"ts-dropdown-item\",on:{\"click\":function($event){return _vm.buildGraph(graphPlugin)}}},[_c('router-link',{attrs:{\"to\":{ name: 'GraphExplore', query: { plugin: graphPlugin.name } }}},[_vm._v(_vm._s(graphPlugin.display_name))])],1)}),_vm._l((_vm.savedGraphs),function(savedGraph){return _c('div',{key:savedGraph.id,staticClass:\"ts-dropdown-item\",on:{\"click\":function($event){return _vm.buildSavedGraph(savedGraph)}}},[_c('router-link',{attrs:{\"to\":{ name: 'GraphExplore', query: { graph: savedGraph.id } }}},[_vm._v(_vm._s(savedGraph.name))])],1)})],2)],1):_vm._e(),_c('ts-dropdown',{scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('a',{staticClass:\"button ts-search-dropdown\",staticStyle:{\"background-color\":\"transparent\"}},[(_vm.currentGraphCacheConfig.filter.timelineIds.length)?_c('span',[_vm._v(\"\\n                  \"+_vm._s(_vm.getTimelineFromId(_vm.currentGraphCacheConfig.filter.timelineIds[0])[0].name)+\"\\n                \")]):_c('strong',[_vm._v(\"Choose timeline\")]),_c('b-icon',{staticStyle:{\"font-size\":\"0.6em\"},attrs:{\"icon\":\"chevron-down\"}})],1)]},proxy:true}])},_vm._l((_vm.sketch.timelines),function(timeline){return _c('div',{key:timeline.id,staticClass:\"ts-dropdown-item\",on:{\"click\":function($event){return _vm.buildGraph(_vm.currentGraph)}}},[_c('router-link',{attrs:{\"to\":{ name: 'GraphExplore', query: { plugin: _vm.currentGraph, timeline: timeline.id } }}},[_vm._v(_vm._s(timeline.name))])],1)}),0),(_vm.currentGraph)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterString),expression:\"filterString\"}],staticClass:\"ts-search-input\",staticStyle:{\"border-radius\":\"0\",\"padding\":\"25px\"},attrs:{\"placeholder\":\"Filter nodes and edges\"},domProps:{\"value\":(_vm.filterString)},on:{\"keyup\":_vm.filterGraphByInput,\"input\":function($event){if($event.target.composing){ return; }_vm.filterString=$event.target.value}}}):_vm._e(),(_vm.currentGraph)?_c('span',{staticClass:\"card-header-icon\"},[_c('ts-dropdown',{attrs:{\"position\":\"is-bottom-left\",\"width\":\"500px\"},scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('button',{staticClass:\"button is-outlined is-rounded is-small\",attrs:{\"slot\":\"trigger\",\"disabled\":!_vm.currentGraph},slot:\"trigger\"},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-cog\"})]),_c('span',[_vm._v(\"Settings\")])])]},proxy:true}],null,false,1929958955)},[_c('div',[_c('div',{staticClass:\"ts-dropdown-item\"},[_c('b-field',{attrs:{\"label\":\"Transparency for unselected elements\"}},[_c('b-slider',{staticClass:\"is-rounded\",attrs:{\"type\":\"is-info\",\"custom-formatter\":function (val) { return val + '%'; }},on:{\"input\":_vm.changeOpacity},model:{value:(_vm.fadeOpacity),callback:function ($$v) {_vm.fadeOpacity=$$v},expression:\"fadeOpacity\"}})],1),_c('b-field',{attrs:{\"label\":\"Layout type\"}},_vm._l((_vm.layouts),function(layout){return _c('b-radio',{key:layout,attrs:{\"native-value\":layout,\"type\":\"is-info\",\"disabled\":!_vm.hasGraphCache},on:{\"input\":function($event){return _vm.buildGraph({ name: _vm.currentGraph })}},model:{value:(_vm.layoutName),callback:function ($$v) {_vm.layoutName=$$v},expression:\"layoutName\"}},[_c('span',[_vm._v(_vm._s(layout))])])}),1),_c('b-field',{attrs:{\"label\":\"Edge style\"}},_vm._l((_vm.edgeStyles),function(edge){return _c('b-radio',{key:edge,attrs:{\"native-value\":edge,\"type\":\"is-info\",\"disabled\":!_vm.hasGraphCache},on:{\"input\":function($event){return _vm.buildGraph({ name: _vm.currentGraph })}},model:{value:(_vm.edgeStyle),callback:function ($$v) {_vm.edgeStyle=$$v},expression:\"edgeStyle\"}},[_c('span',[_vm._v(_vm._s(edge))])])}),1)],1)])]),_c('ts-dropdown',{attrs:{\"position\":\"is-bottom-left\",\"width\":\"500px\"},scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('button',{staticClass:\"button is-outlined is-rounded is-small\"},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-save\"})]),_c('span',[_vm._v(\"Save selection\")])])]},proxy:true}],null,false,2016672635)},[_c('strong',[_vm._v(\"Save selected graph\")]),_c('br'),_c('br'),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.saveAsName),expression:\"saveAsName\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"Graph name\",\"required\":\"\"},domProps:{\"value\":(_vm.saveAsName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.saveAsName=$event.target.value}}})])]),_c('button',{staticClass:\"button is-small\",on:{\"click\":_vm.saveSelection}},[_vm._v(\"Save\")])]),_c('button',{staticClass:\"button is-outlined is-rounded is-small\",staticStyle:{\"margin-left\":\"7px\"},attrs:{\"disabled\":!_vm.hasGraphCache},on:{\"click\":function($event){return _vm.buildGraph({ name: _vm.currentGraph }, true)}}},[_vm._m(0),_c('span',[_vm._v(\"Refresh cache\")])]),_c('button',{staticClass:\"button is-outlined is-rounded is-small\",staticStyle:{\"margin-left\":\"7px\"},on:{\"click\":function($event){return _vm.cy.fit()}}},[_vm._m(1),_c('span',[_vm._v(\"Fit to canvas\")])])],1):_vm._e()],1),_c('div',{staticClass:\"card-content\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"can-cancel\":false},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('div',{staticClass:\"lds-ripple\"},[_c('div'),_c('div')]),_c('div',{staticStyle:{\"position\":\"absolute\",\"margin-top\":\"120px\"}},[_vm._v(\"\\n              Generating graph: \"),_c('b',[_vm._v(_vm._s(_vm.currentGraph))])])]),(!_vm.elements.length && _vm.showGraph && _vm.currentGraph)?_c('div',{staticClass:\"no-data\"},[_vm._v(\"Empty graph\")]):_vm._e(),(_vm.elements.length && _vm.showGraph)?_c('cytoscape',{ref:\"cyRef\",attrs:{\"config\":_vm.config,\"preConfig\":_vm.preConfig,\"afterCreated\":_vm.afterCreated},on:{\"select\":function($event){return _vm.filterGraphBySelection($event)},\"unselect\":function($event){return _vm.unSelectAllElements($event)},\"tap\":function($event){return _vm.unSelectAllElements($event)}}},_vm._l((_vm.elements),function(def){return _c('cy-element',{key:def.data.id,attrs:{\"definition\":def}})}),1):_vm._e(),(_vm.hasGraphCache)?_c('span',[_c('span',[_c('i',[_vm._v(\"Generated\\n                \"+_vm._s(_vm.$moment\n                    .utc(_vm.currentGraphCache.updated_at)\n                    .local()\n                    .fromNow()))])]),_c('a',{staticClass:\"is-small\",staticStyle:{\"text-decoration\":\"underline\",\"margin-left\":\"15px\"},on:{\"click\":function($event){return _vm.buildGraph({ name: _vm.currentGraph }, true)}}},[_c('span',[_vm._v(\"Refresh\")])])]):_vm._e(),_vm._l((_vm.currentGraphCacheConfig.filter.timelineIds),function(timelineId){return _c('span',{key:timelineId,staticStyle:{\"color\":\"red\",\"margin-left\":\"20px\"}},[_vm._v(\"\\n            Note: Graph generated for timeline: \"+_vm._s(_vm.getTimelineFromId(timelineId)[0].name)+\"\\n          \")])})],2)])])]),(_vm.edgeQuery)?_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_vm._m(2),_c('div',{staticClass:\"card-content\"},[(_vm.edgeQuery)?_c('ts-event-list-compact',{attrs:{\"query-dsl\":_vm.edgeQuery}}):_vm._e()],1)])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-sync-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-eye\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"card-header\"},[_c('span',{staticClass:\"card-header-title\"},[_vm._v(\"Events for selected edges\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"table is-fullwidth\"},[_c('thead',[_c('th',{attrs:{\"width\":\"220\"}}),_c('th',{attrs:{\"width\":\"1\"}}),_vm._l((_vm.selectedFields),function(field,index){return _c('th',{key:index},[_vm._v(_vm._s(field.field))])}),_c('th',{attrs:{\"width\":\"150\"}},[_vm._v(\"Timeline name\")])],2),_vm._l((_vm.eventList.objects),function(event,index){return _c('ts-sketch-explore-event-list-row',{key:index,attrs:{\"event\":event,\"prevEvent\":_vm.eventList.objects[index - 1],\"selected-fields\":_vm.selectedFields,\"display-options\":_vm.displayOptions,\"display-controls\":false}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <table class=\"table is-fullwidth\">\n    <thead>\n      <th width=\"220\"></th>\n      <th width=\"1\"></th>\n      <th v-for=\"(field, index) in selectedFields\" :key=\"index\">{{ field.field }}</th>\n      <th width=\"150\">Timeline name</th>\n    </thead>\n    <ts-sketch-explore-event-list-row\n      v-for=\"(event, index) in eventList.objects\"\n      :key=\"index\"\n      :event=\"event\"\n      :prevEvent=\"eventList.objects[index - 1]\"\n      :selected-fields=\"selectedFields\"\n      :display-options=\"displayOptions\"\n      :display-controls=\"false\"\n    >\n    </ts-sketch-explore-event-list-row>\n  </table>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsSketchExploreEventListRow from './EventListRow'\n\nexport default {\n  components: {\n    TsSketchExploreEventListRow,\n  },\n  props: ['view', 'queryString', 'queryDsl', 'queryFilter'],\n  data() {\n    return {\n      eventList: [],\n      selectedFields: [],\n      displayOptions: {\n        showTags: true,\n        showEmojis: true,\n      },\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n  methods: {\n    search: function(query, queryFilter = {}) {\n      if (!Object.keys(queryFilter).length) {\n        queryFilter = {}\n        this.selectedFields = [{ field: 'message', type: 'text' }]\n      }\n\n      let formData = { filter: queryFilter }\n      if (typeof query === 'object') {\n        formData['dsl'] = query\n      } else {\n        formData['query'] = query\n      }\n\n      ApiClient.search(this.sketch.id, formData)\n        .then(response => {\n          this.eventList = response.data\n        })\n        .catch(e => {})\n    },\n    searchView: function(viewId) {\n      ApiClient.getView(this.sketch.id, viewId)\n        .then(response => {\n          let view = response.data.objects[0]\n          let queryString = view.query_string\n          let queryFilter = JSON.parse(view.query_filter)\n          if (!queryFilter.fields || !queryFilter.fields.length) {\n            queryFilter.fields = [{ field: 'message', type: 'text' }]\n          }\n          this.selectedFields = queryFilter.fields\n          this.search(queryString, queryFilter)\n        })\n        .catch(e => {})\n    },\n  },\n  created: function() {\n    if (this.view) {\n      this.searchView(this.view.id)\n    }\n    if (this.queryDsl) {\n      this.search(this.queryDsl)\n    }\n    if (this.queryString) {\n      this.search(this.queryString)\n    }\n  },\n  watch: {\n    queryString: function(queryString) {\n      this.search(queryString)\n    },\n    queryDsl: function(queryDsl) {\n      this.search(queryDsl)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventListCompact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventListCompact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventListCompact.vue?vue&type=template&id=db259c60&\"\nimport script from \"./EventListCompact.vue?vue&type=script&lang=js&\"\nexport * from \"./EventListCompact.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <section class=\"section\">\n      <div class=\"container is-fluid\" style=\"height: 75vh;\" ref=\"graphContainer\">\n        <div class=\"card\" style=\"height: 100%;\">\n          <header class=\"card-header\" style=\"border-bottom: 0;\">\n            <div v-if=\"currentGraph\">\n              <ts-dropdown>\n                <template v-slot:dropdown-trigger-element>\n                  <a class=\"button ts-search-dropdown\" style=\"background-color: transparent;\">\n                    <span class=\"icon is-small\" style=\"margin-right: 10px; margin-top:2px; font-size: 0.6em;\">\n                      <i class=\"fas fa-project-diagram\"></i>\n                    </span>\n                    <div v-if=\"currentGraph\" style=\"margin-right: 7px;\">\n                      <strong>{{ currentGraph }}</strong>\n                    </div>\n                    <b-icon icon=\"chevron-down\" style=\"font-size: 0.6em;\"></b-icon>\n                  </a>\n                </template>\n\n                <div\n                  class=\"ts-dropdown-item\"\n                  v-for=\"graphPlugin in graphs\"\n                  :key=\"graphPlugin.name\"\n                  v-on:click=\"buildGraph(graphPlugin)\"\n                >\n                  <router-link :to=\"{ name: 'GraphExplore', query: { plugin: graphPlugin.name } }\">{{\n                    graphPlugin.display_name\n                  }}</router-link>\n                </div>\n                <div\n                  class=\"ts-dropdown-item\"\n                  v-for=\"savedGraph in savedGraphs\"\n                  :key=\"savedGraph.id\"\n                  v-on:click=\"buildSavedGraph(savedGraph)\"\n                >\n                  <router-link :to=\"{ name: 'GraphExplore', query: { graph: savedGraph.id } }\">{{\n                    savedGraph.name\n                  }}</router-link>\n                </div>\n              </ts-dropdown>\n            </div>\n\n            <ts-dropdown>\n              <template v-slot:dropdown-trigger-element>\n                <a class=\"button ts-search-dropdown\" style=\"background-color: transparent;\">\n                  <span v-if=\"currentGraphCacheConfig.filter.timelineIds.length\">\n                    {{ getTimelineFromId(currentGraphCacheConfig.filter.timelineIds[0])[0].name }}\n                  </span>\n                  <strong v-else>Choose timeline</strong>\n                  <b-icon icon=\"chevron-down\" style=\"font-size: 0.6em;\"></b-icon>\n                </a>\n              </template>\n\n              <div\n                class=\"ts-dropdown-item\"\n                v-for=\"timeline in sketch.timelines\"\n                :key=\"timeline.id\"\n                v-on:click=\"buildGraph(currentGraph)\"\n              >\n                <router-link :to=\"{ name: 'GraphExplore', query: { plugin: currentGraph, timeline: timeline.id } }\">{{\n                  timeline.name\n                }}</router-link>\n              </div>\n            </ts-dropdown>\n\n            <input\n              class=\"ts-search-input\"\n              v-if=\"currentGraph\"\n              v-model=\"filterString\"\n              v-on:keyup=\"filterGraphByInput\"\n              style=\"border-radius: 0; padding:25px;\"\n              placeholder=\"Filter nodes and edges\"\n            />\n\n            <span class=\"card-header-icon\" v-if=\"currentGraph\">\n              <ts-dropdown position=\"is-bottom-left\" width=\"500px\">\n                <template v-slot:dropdown-trigger-element>\n                  <button class=\"button is-outlined is-rounded is-small\" slot=\"trigger\" :disabled=\"!currentGraph\">\n                    <span class=\"icon is-small\">\n                      <i class=\"fas fa-cog\"></i>\n                    </span>\n                    <span>Settings</span>\n                  </button>\n                </template>\n                <div>\n                  <div class=\"ts-dropdown-item\">\n                    <b-field label=\"Transparency for unselected elements\">\n                      <b-slider\n                        class=\"is-rounded\"\n                        type=\"is-info\"\n                        :custom-formatter=\"val => val + '%'\"\n                        v-model=\"fadeOpacity\"\n                        v-on:input=\"changeOpacity\"\n                      ></b-slider>\n                    </b-field>\n\n                    <b-field label=\"Layout type\">\n                      <b-radio\n                        v-for=\"layout in layouts\"\n                        :key=\"layout\"\n                        v-model=\"layoutName\"\n                        :native-value=\"layout\"\n                        type=\"is-info\"\n                        v-on:input=\"buildGraph({ name: currentGraph })\"\n                        :disabled=\"!hasGraphCache\"\n                      >\n                        <span>{{ layout }}</span>\n                      </b-radio>\n                    </b-field>\n\n                    <b-field label=\"Edge style\">\n                      <b-radio\n                        v-for=\"edge in edgeStyles\"\n                        :key=\"edge\"\n                        v-model=\"edgeStyle\"\n                        :native-value=\"edge\"\n                        type=\"is-info\"\n                        v-on:input=\"buildGraph({ name: currentGraph })\"\n                        :disabled=\"!hasGraphCache\"\n                      >\n                        <span>{{ edge }}</span>\n                      </b-radio>\n                    </b-field>\n                  </div>\n                </div>\n              </ts-dropdown>\n\n              <ts-dropdown position=\"is-bottom-left\" width=\"500px\">\n                <template v-slot:dropdown-trigger-element :disabled=\"!edgeQuery\">\n                  <button class=\"button is-outlined is-rounded is-small\">\n                    <span class=\"icon is-small\">\n                      <i class=\"fas fa-save\"></i>\n                    </span>\n                    <span>Save selection</span>\n                  </button>\n                </template>\n\n                <strong>Save selected graph</strong>\n                <br /><br />\n                <div class=\"field\">\n                  <div class=\"control\">\n                    <input v-model=\"saveAsName\" class=\"input\" type=\"text\" placeholder=\"Graph name\" required />\n                  </div>\n                </div>\n                <button class=\"button is-small\" v-on:click=\"saveSelection\">Save</button>\n              </ts-dropdown>\n\n              <button\n                class=\"button is-outlined is-rounded is-small\"\n                style=\"margin-left:7px;\"\n                v-on:click=\"buildGraph({ name: currentGraph }, true)\"\n                :disabled=\"!hasGraphCache\"\n              >\n                <span class=\"icon is-small\">\n                  <i class=\"fas fa-sync-alt\"></i>\n                </span>\n                <span>Refresh cache</span>\n              </button>\n\n              <button class=\"button is-outlined is-rounded is-small\" style=\"margin-left:7px;\" v-on:click=\"cy.fit()\">\n                <span class=\"icon is-small\">\n                  <i class=\"fas fa-eye\"></i>\n                </span>\n                <span>Fit to canvas</span>\n              </button>\n            </span>\n          </header>\n          <div class=\"card-content\">\n            <b-loading :is-full-page=\"false\" v-model=\"isLoading\" :can-cancel=\"false\">\n              <div class=\"lds-ripple\">\n                <div></div>\n                <div></div>\n              </div>\n              <div style=\"position: absolute; margin-top:120px;\">\n                Generating graph: <b>{{ currentGraph }}</b>\n              </div>\n            </b-loading>\n            <div class=\"no-data\" v-if=\"!elements.length && showGraph && currentGraph\">Empty graph</div>\n            <cytoscape\n              ref=\"cyRef\"\n              v-if=\"elements.length && showGraph\"\n              v-on:select=\"filterGraphBySelection($event)\"\n              v-on:unselect=\"unSelectAllElements($event)\"\n              v-on:tap=\"unSelectAllElements($event)\"\n              :config=\"config\"\n              :preConfig=\"preConfig\"\n              :afterCreated=\"afterCreated\"\n            >\n              <cy-element v-for=\"def in elements\" :key=\"def.data.id\" :definition=\"def\"> </cy-element>\n            </cytoscape>\n            <span v-if=\"hasGraphCache\">\n              <span\n                ><i\n                  >Generated\n                  {{\n                    $moment\n                      .utc(currentGraphCache.updated_at)\n                      .local()\n                      .fromNow()\n                  }}</i\n                >\n              </span>\n              <a\n                class=\"is-small\"\n                style=\"text-decoration: underline; margin-left:15px;\"\n                v-on:click=\"buildGraph({ name: currentGraph }, true)\"\n              >\n                <span>Refresh</span>\n              </a>\n            </span>\n            <span\n              style=\"color:red; margin-left:20px;\"\n              v-for=\"timelineId in currentGraphCacheConfig.filter.timelineIds\"\n              :key=\"timelineId\"\n            >\n              Note: Graph generated for timeline: {{ getTimelineFromId(timelineId)[0].name }}\n            </span>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"section\" v-if=\"edgeQuery\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <span class=\"card-header-title\">Events for selected edges</span>\n          </header>\n          <div class=\"card-content\">\n            <ts-event-list-compact v-if=\"edgeQuery\" :query-dsl=\"edgeQuery\"></ts-event-list-compact>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport spread from 'cytoscape-spread'\nimport dagre from 'cytoscape-dagre'\nimport ApiClient from '../../utils/RestApiClient'\nimport TsEventListCompact from '../Explore/EventListCompact'\nimport TsDropdown from '../Common/Dropdown'\nimport EventBus from '../../main'\nimport _ from 'lodash'\n\nexport default {\n  components: { TsEventListCompact, TsDropdown },\n  data() {\n    return {\n      showGraph: true,\n      isLoading: false,\n      filterString: '',\n      graphs: {},\n      savedGraphs: [],\n      currentGraph: '',\n      currentGraphCache: {},\n      currentGraphCacheConfig: {},\n      selectedGraphs: [],\n      fadeOpacity: 7,\n      elements: [],\n      edgeQuery: '',\n      maxEvents: 500,\n      saveAsName: '',\n      layouts: ['spread', 'dagre', 'circle', 'concentric', 'breadthfirst'],\n      layoutName: 'spread',\n      edgeStyles: ['bezier', 'taxi'],\n      edgeStyle: 'bezier',\n      config: {\n        style: [\n          {\n            selector: 'node',\n            style: {\n              shape: 'roundrectangle',\n              width: 'label',\n              height: 'label',\n              'compound-sizing-wrt-labels': 'include',\n              'text-halign': 'center',\n              'text-valign': 'center',\n              color: '#FFFFFF',\n              'font-size': '10',\n              'font-weight': 'bold',\n              'text-outline-width': '0px',\n              padding: '7px',\n              'background-color': 'gray',\n              'text-outline-color': 'gray',\n              'text-wrap': 'wrap',\n              'text-max-width': '12em',\n              label: 'data(label)',\n            },\n          },\n          {\n            selector: 'node:selected',\n            style: {\n              'overlay-color': 'black',\n              'overlay-opacity': '0.3',\n              'overlay-padding': '7px',\n            },\n          },\n          {\n            selector: \"node[type = 'user']\",\n            style: {\n              'background-color': '#FF756E',\n              'text-outline-color': '#FF756E',\n            },\n          },\n          {\n            selector: \"node[type = 'computer']\",\n            style: {\n              'background-color': '#6992f3',\n              'text-outline-color': '#ffffff',\n            },\n          },\n          {\n            selector: \"node[type = 'file']\",\n            style: {\n              'background-color': '#82b578',\n              'text-outline-color': '#2b2b2b',\n            },\n          },\n          {\n            selector: \"node[type = 'winservice']\",\n            style: {\n              'background-color': '#9d8f35',\n              'text-outline-color': '#2b2b2b',\n            },\n          },\n          {\n            selector: 'edge',\n            style: {\n              width: 1,\n              'curve-style': 'bezier',\n              'control-point-step-size': 70,\n              'target-arrow-shape': 'triangle',\n              'font-size': 11,\n              'text-rotation': 'autorotate',\n              'text-outline-width': 3,\n              'text-outline-color': '#FFFFFF',\n              label: 'data(label)',\n            },\n          },\n          {\n            selector: 'edge:selected',\n            style: {\n              width: 2,\n              'line-color': '#333333',\n              'source-arrow-color': '#333333',\n              'target-arrow-color': '#333333',\n            },\n          },\n          {\n            selector: '.faded',\n            style: {\n              opacity: 0.07,\n              color: '#333333',\n            },\n          },\n        ],\n        layout: {\n          name: '',\n          animate: false,\n          prelayout: false,\n          spacingFactor: 2,\n        },\n\n        // interaction options:\n        minZoom: 0.1,\n        maxZoom: 1.5,\n        zoomingEnabled: true,\n        userZoomingEnabled: true,\n        panningEnabled: true,\n        userPanningEnabled: true,\n        boxSelectionEnabled: true,\n        selectionType: 'single',\n        touchTapThreshold: 8,\n        desktopTapThreshold: 4,\n        autolock: false,\n        autoungrabify: false,\n        autounselectify: false,\n\n        // rendering options:\n        headless: false,\n        styleEnabled: true,\n        hideEdgesOnViewport: false,\n        hideLabelsOnViewport: false,\n        textureOnViewport: false,\n        motionBlur: false,\n        motionBlurOpacity: 0.2,\n        pixelRatio: 'auto',\n      },\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    hasGraphCache() {\n      return Object.keys(this.currentGraphCache).length !== 0\n    },\n  },\n  methods: {\n    buildGraph: function(graphPlugin, refresh = false) {\n      this.config.layout.name = this.layoutName\n\n      let edgeStyle = this.config.style.filter(selector => selector.selector === 'edge')\n      edgeStyle[0].style['curve-style'] = this.edgeStyle\n\n      if (typeof graphPlugin === 'object') {\n        this.currentGraph = graphPlugin.name\n      } else {\n        this.currentGraph = graphPlugin\n      }\n\n      this.showGraph = false\n      this.elements = []\n      this.loadingTimeout = setTimeout(() => {\n        if (!this.elements.length) {\n          this.isLoading = true\n        }\n      }, 600)\n      this.edgeQuery = ''\n      let currentIndices = []\n      let timelineIds = []\n      if (this.$route.query.timeline) {\n        timelineIds.push(parseInt(this.$route.query.timeline))\n        refresh = true\n      } else {\n        this.sketch.timelines.forEach(timeline => {\n          currentIndices.push(timeline.searchindex.index_name)\n        })\n      }\n      ApiClient.generateGraphFromPlugin(this.sketch.id, this.currentGraph, currentIndices, timelineIds, refresh)\n        .then(response => {\n          let graphCache = response.data['objects'][0]\n          let elementsCache = JSON.parse(graphCache.graph_elements)\n          let configCache = JSON.parse(graphCache.graph_config)\n          let elements = []\n          let nodes\n          let edges\n\n          if ('elements' in elementsCache) {\n            nodes = elementsCache['elements']['nodes']\n            edges = elementsCache['elements']['edges']\n          } else {\n            nodes = elementsCache['nodes']\n            edges = elementsCache['edges']\n          }\n          nodes.forEach(node => {\n            elements.push({ data: node.data, group: 'nodes' })\n          })\n          edges.forEach(edge => {\n            elements.push({ data: edge.data, group: 'edges' })\n          })\n          delete graphCache.graph_elements\n          this.currentGraphCache = graphCache\n          this.currentGraphCacheConfig = configCache\n          this.elements = elements\n          clearTimeout(this.loadingTimeout)\n          this.showGraph = true\n          this.isLoading = false\n        })\n        .catch(e => {\n          console.error(e)\n        })\n    },\n    buildSavedGraph: function(savedGraph) {\n      this.config.layout.name = 'preset'\n      this.currentGraph = savedGraph.name\n      this.currentGraphCache = {}\n      this.showGraph = false\n      this.elements = []\n      this.loadingTimeout = setTimeout(() => {\n        if (!this.elements.length) {\n          this.isLoading = true\n        }\n      }, 600)\n      this.edgeQuery = ''\n\n      let graphId = ''\n      if (typeof savedGraph === 'object') {\n        graphId = savedGraph.id\n      } else {\n        graphId = savedGraph\n      }\n\n      ApiClient.getSavedGraph(this.sketch.id, graphId)\n        .then(response => {\n          this.currentGraph = response.data['objects'][0].name\n          let elements = JSON.parse(response.data['objects'][0].graph_elements)\n          let nodes = elements.filter(ele => ele.group === 'nodes')\n          let edges = elements.filter(ele => ele.group === 'edges')\n          let orderedElements = []\n          nodes.forEach(node => {\n            node.selected = false\n            orderedElements.push(node)\n          })\n          edges.forEach(edge => {\n            edge.selected = false\n            orderedElements.push(edge)\n          })\n          clearTimeout(this.loadingTimeout)\n          this.elements = orderedElements\n          this.showGraph = true\n          this.isLoading = false\n        })\n        .catch(e => {\n          console.error(e)\n        })\n    },\n    buildNeighborhood: function(selected) {\n      // Build a new collection to use as the neighborhood\n      let neighborhood = this.cy.collection()\n\n      // Build a neighborhood of nodes and edges.\n      neighborhood = neighborhood.add(selected.filter('node').neighborhood())\n      neighborhood = neighborhood.add(selected.filter('edge').connectedNodes())\n      neighborhood = neighborhood.add(selected)\n\n      return neighborhood\n    },\n    showNeighborhood: function(selected) {\n      let neighborhood = this.buildNeighborhood(selected)\n\n      if (selected.length === 0) {\n        this.cy.elements().removeClass('faded')\n        return\n      }\n\n      // Highlight the matched nodes/edges\n      this.cy.elements().addClass('faded')\n      neighborhood.removeClass('faded')\n\n      // Build Elasticsearch query DSL to fetch edge events.\n      let queryDsl = {\n        query: {\n          bool: {\n            should: [],\n          },\n        },\n        size: this.maxEvents,\n      }\n      neighborhood.forEach(element => {\n        if (element.group() === 'edges') {\n          Object.keys(element.data().events).forEach(index => {\n            let boolMustQuery = {\n              bool: {\n                must: [{ ids: { values: element.data().events[index] } }, { term: { _index: { value: index } } }],\n              },\n            }\n            queryDsl.query.bool.should.push(boolMustQuery)\n          })\n        }\n      })\n      this.edgeQuery = queryDsl\n    },\n    saveSelection: function() {\n      let selected = this.cy.filter(':selected')\n      let neighborhood = this.buildNeighborhood(selected)\n      let elements = neighborhood.jsons()\n      this.showGraph = false\n      this.elements = elements\n      this.currentGraph = this.saveAsName\n      this.showGraph = true\n      ApiClient.saveGraph(this.sketch.id, this.saveAsName, elements).then(response => {\n        let savedGraph = response.data['objects'][0]\n        this.savedGraphs.push(savedGraph)\n      })\n      this.saveAsName = ''\n    },\n    filterGraphBySelection: function(event) {\n      let selected = this.cy.filter(':selected')\n      this.showNeighborhood(selected)\n    },\n    filterGraphByInput: function() {\n      // Unselect all events to remove any potential left over\n      this.cy.elements().unselect()\n\n      // This is the collection of matched nodes/edges\n      let selected = this.cy.elements().filter(ele =>\n        ele\n          .data('label')\n          .toLowerCase()\n          .includes(this.filterString)\n      )\n\n      // Build the neighborhood\n      this.showNeighborhood(selected)\n    },\n    unSelectAllElements: function(event) {\n      this.cy.elements().removeClass('faded')\n      this.edgeQuery = null\n    },\n    changeOpacity: function() {\n      if (!this.cy) {\n        return\n      }\n      this.cy\n        .style()\n        .selector('.faded')\n        .style({\n          opacity: this.fadeOpacity / 100,\n        })\n        .update()\n    },\n    resizeCanvas: function() {\n      let canvasHeight = this.$refs.graphContainer.clientHeight - 100\n      let canvasWidth = this.$refs.graphContainer.clientWidth - 100\n      let canvas = document.getElementById('cytoscape-div')\n      canvas.style.minHeight = canvasHeight + 'px'\n      canvas.style.height = canvasHeight + 'px'\n      canvas.style.minWidth = canvasWidth + 'px'\n      canvas.style.width = canvasWidth + 'px'\n    },\n    // vue-cytoscape life-cycle hook, runs before graph is created.\n    preConfig(cytoscape) {\n      cytoscape.use(spread)\n      cytoscape.use(dagre)\n      this.resizeCanvas()\n    },\n    // vue-cytoscape life-cycle hook, runs after graph is created.\n    async afterCreated(cy = null) {\n      // Add Cytoscape \"cy\" objects to this component instance.\n      if (cy !== null) {\n        this.cy = cy\n      } else {\n        cy = this.cy\n      }\n      await cy\n      this.setTheme()\n\n      // Run the layout to render the graph elements.\n      cy.layout(this.config.layout).run()\n    },\n    setTheme: function() {\n      this.isDarkTheme = localStorage.theme === 'dark'\n      if (this.isDarkTheme) {\n        this.cy\n          .style()\n          .selector('edge')\n          .style({\n            color: '#f5f5f5',\n            'text-outline-color': '#25272c',\n          })\n          .update()\n      } else {\n        this.cy\n          .style()\n          .selector('edge')\n          .style({\n            color: '#333333',\n            'text-outline-color': '#FFFFFF',\n          })\n          .update()\n      }\n    },\n    getTimelineFromId(id) {\n      return this.sketch.timelines.filter(timeline => timeline.id === id)\n    },\n  },\n  created() {\n    window.addEventListener(\n      'resize',\n      _.debounce(() => {\n        this.resizeCanvas()\n      }, 250)\n    )\n    ApiClient.getGraphPluginList()\n      .then(response => {\n        this.graphs = response.data\n      })\n      .catch(e => {\n        console.error(e)\n      })\n    ApiClient.getSavedGraphList(this.sketch.id)\n      .then(response => {\n        let graphs = response.data['objects'][0]\n        if (graphs !== undefined) {\n          this.savedGraphs = response.data['objects'][0]\n        }\n      })\n      .catch(e => {\n        console.error(e)\n      })\n    EventBus.$on('isDarkTheme', this.setTheme)\n\n    this.params = {\n      graphId: this.$route.query.graph,\n      pluginName: this.$route.query.plugin,\n      timelineId: this.$route.query.timeline,\n    }\n\n    if (this.params.graphId) {\n      this.buildSavedGraph(this.params.graphId)\n    }\n\n    if (this.params.pluginName) {\n      this.buildGraph(this.params.pluginName)\n    }\n  },\n}\n</script>\n<style lang=\"scss\">\n.lds-ripple {\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n}\n.lds-ripple div {\n  position: absolute;\n  border: 4px solid var(--spinner-color);\n  opacity: 1;\n  border-radius: 50%;\n  animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n}\n.lds-ripple div:nth-child(2) {\n  animation-delay: -0.5s;\n}\n@keyframes lds-ripple {\n  0% {\n    top: 36px;\n    left: 36px;\n    width: 0;\n    height: 0;\n    opacity: 1;\n  }\n  100% {\n    top: 0px;\n    left: 0px;\n    width: 72px;\n    height: 72px;\n    opacity: 0;\n  }\n}\n\n.no-data {\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  display: flex;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Graph.vue?vue&type=template&id=422dd481&\"\nimport script from \"./Graph.vue?vue&type=script&lang=js&\"\nexport * from \"./Graph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Graph.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary currentAppContext=\"sketch\" currentPage=\"graph\"></ts-navbar-secondary>\n\n    <ts-graph></ts-graph>\n  </div>\n</template>\n\n<script>\nimport TsGraph from '../components/Graph/Graph'\n\nexport default {\n  components: { TsGraph },\n  props: ['sketchId'],\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GraphExplore.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GraphExplore.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GraphExplore.vue?vue&type=template&id=52615e46&\"\nimport script from \"./GraphExplore.vue?vue&type=script&lang=js&\"\nexport * from \"./GraphExplore.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}])}),_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"aggregate\"}}),_c('ts-sketch-explore-aggregation',{on:{\"newAggregation\":function($event){return _vm.addAggregation($event)}}}),_c('br'),_c('br'),(_vm.allAggregations.length)?_c('section',{staticClass:\"section\"},[_vm._m(0)]):_vm._e(),_vm._l((_vm.allAggregations),function(aggregation){return _c('section',{key:aggregation.id,staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('ts-aggregation-compact',{attrs:{\"aggregation\":aggregation,\"card-header\":true}})],1)])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container is-fluid\"},[_c('span',{staticClass:\"title is-5\"},[_vm._v(\"Saved aggregations\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-modal',{attrs:{\"active\":_vm.showSaveModal,\"width\":640,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showSaveModal=$event}}},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Save aggregation\")])]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"Name\")]),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.aggregationName),expression:\"aggregationName\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Name your aggregation\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.aggregationName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.aggregationName=$event.target.value}}})])]),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{staticClass:\"button is-success\",attrs:{\"type\":\"submit\",\"value\":\"Save\"}})])])])])])])]),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_vm._m(0),_c('div',{staticClass:\"card-content\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"Select timelines (optional)\")]),_c('ts-timeline-list-dropdown',{on:{\"selectedTimelines\":function($event){_vm.selectedTimelines = $event}}}),_c('br'),_c('ts-sketch-explore-aggregator-list-dropdown',{on:{\"setActiveAggregator\":_vm.updateAggregatorFormFields}}),_c('br'),_c('ts-dynamic-form',{key:_vm.selectedAggregator.name,ref:\"vegaChart\",attrs:{\"schema\":_vm.schema},on:{\"formSubmitted\":_vm.getVegaSpec},model:{value:(_vm.formData),callback:function ($$v) {_vm.formData=$$v},expression:\"formData\"}})],1)])])]),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showChart && Object.keys(_vm.vegaSpec).length !== 0),expression:\"showChart && Object.keys(vegaSpec).length !== 0\"}],staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('span',{staticClass:\"card-header-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.selectedAggregator.display_name)+\"\\n          \")]),_c('span',{staticClass:\"card-header-icon\"},[_c('a',{staticClass:\"button is-rounded is-small\",on:{\"click\":function($event){_vm.showSaveModal = !_vm.showSaveModal}}},[_vm._m(1),_c('span',[_vm._v(\"Save\")])])])]),_c('div',{staticClass:\"card-content\"},[_c('ts-table-chart',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chartType === 'table'),expression:\"chartType === 'table'\"}],attrs:{\"table-data\":_vm.chartData}}),_c('ts-vega-lite-chart',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chartType !== 'table'),expression:\"chartType !== 'table'\"}],attrs:{\"vegaSpec\":_vm.vegaSpec}})],1)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"card-header\"},[_c('span',{staticClass:\"card-header-title\"},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-chart-bar\"})]),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(\"New Aggregation\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-save\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.vegaId}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div :id=\"vegaId\"></div>\n</template>\n\n<script>\n// eslint-disable-next-line import/no-named-default\nimport { default as vegaEmbed } from 'vega-embed'\n\nexport default {\n  props: ['vegaSpec'],\n  data() {\n    return {\n      vegaId: 'vega-' + this._uid,\n    }\n  },\n  watch: {\n    vegaSpec: function(newVal, oldVal) {\n      vegaEmbed('#' + this.vegaId, JSON.parse(this.vegaSpec), { actions: false })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VegaLiteChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VegaLiteChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VegaLiteChart.vue?vue&type=template&id=7fdf7b88&\"\nimport script from \"./VegaLiteChart.vue?vue&type=script&lang=js&\"\nexport * from \"./VegaLiteChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.schema.length)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm.apply(null, arguments)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();}}},[_vm._l((_vm.schema),function(field,index){return _c(field.type,_vm._b({key:index,tag:\"component\",attrs:{\"value\":_vm.formData[field.name],\"display\":field.display},on:{\"input\":function($event){return _vm.updateForm(field.name, $event)}}},'component',field,false))}),_vm._m(0)],2):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"control\"},[_c('input',{staticClass:\"button is-info\",attrs:{\"type\":\"submit\",\"value\":\"Run\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.display)?_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.label))]),_c('input',{staticClass:\"input\",staticStyle:{\"max-width\":\"400px\"},attrs:{\"type\":\"text\",\"name\":_vm.name,\"placeholder\":_vm.placeholder},domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event.target.value)}}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div class=\"field\" v-if=\"display\">\n    <label class=\"label\">{{ label }}</label>\n    <input\n      class=\"input\"\n      style=\"max-width: 400px;\"\n      type=\"text\"\n      :name=\"name\"\n      :value=\"value\"\n      :placeholder=\"placeholder\"\n      @input=\"$emit('input', $event.target.value)\"\n    />\n  </div>\n</template>\n<script>\nexport default {\n  props: ['placeholder', 'label', 'name', 'value', 'display'],\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicFormTextInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicFormTextInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DynamicFormTextInput.vue?vue&type=template&id=f5e0583e&\"\nimport script from \"./DynamicFormTextInput.vue?vue&type=script&lang=js&\"\nexport * from \"./DynamicFormTextInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.display)?_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"select\"},[_c('select',{domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event.target.value)}}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"Please select one\")]),_vm._l((_vm.options),function(option){return _c('option',{key:option},[_vm._v(_vm._s(option))])})],2)])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div class=\"field\" v-if=\"display\">\n    <label class=\"label\">{{ label }}</label>\n    <div class=\"control\">\n      <div class=\"select\">\n        <select :value=\"value\" @input=\"$emit('input', $event.target.value)\">\n          <option disabled value=\"\">Please select one</option>\n          <option v-for=\"option in options\" :key=\"option\">{{ option }}</option>\n        </select>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['options', 'label', 'value', 'display'],\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicFormSelectInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicFormSelectInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DynamicFormSelectInput.vue?vue&type=template&id=54ba8889&\"\nimport script from \"./DynamicFormSelectInput.vue?vue&type=script&lang=js&\"\nexport * from \"./DynamicFormSelectInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.display)?_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.label))]),_c('b-datetimepicker',{attrs:{\"placeholder\":\"Optional: Select a date...\",\"datetime-formatter\":_vm.dateFormatter,\"editable\":\"\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div class=\"field\" v-if=\"display\">\n    <label class=\"label\">{{ label }}</label>\n    <b-datetimepicker\n      placeholder=\"Optional: Select a date...\"\n      :datetime-formatter=\"dateFormatter\"\n      editable\n    ></b-datetimepicker>\n  </div>\n</template>\n<script>\nexport default {\n  props: ['placeholder', 'label', 'name', 'value', 'display'],\n  methods: {\n    dateFormatter(dt) {\n      // Output whatever datetime string that the user chooses in the datetime picket widget.\n      // The calculations here are to match the users local timezone setting as that is what is used in the widget.\n      let dateString = new Date(dt.getTime() - dt.getTimezoneOffset() * 60000).toISOString().replace('.000Z', '')\n      this.$emit('input', dateString)\n      return dateString\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicFormDatetimeInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicFormDatetimeInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DynamicFormDatetimeInput.vue?vue&type=template&id=0b1f67e0&\"\nimport script from \"./DynamicFormDatetimeInput.vue?vue&type=script&lang=js&\"\nexport * from \"./DynamicFormDatetimeInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <form v-if=\"schema.length\" v-on:submit.prevent=\"submitForm\" v-on:keydown.enter.prevent=\"\">\n    <component\n      v-for=\"(field, index) in schema\"\n      :key=\"index\"\n      :is=\"field.type\"\n      :value=\"formData[field.name]\"\n      :display=\"field.display\"\n      @input=\"updateForm(field.name, $event)\"\n      v-bind=\"field\"\n    >\n    </component>\n    <div class=\"control\">\n      <input class=\"button is-info\" type=\"submit\" value=\"Run\" />\n    </div>\n  </form>\n</template>\n\n<script>\nimport TsDynamicFormTextInput from './DynamicFormTextInput'\nimport TsDynamicFormSelectInput from './DynamicFormSelectInput'\nimport TsDynamicFormDatetimeInput from './DynamicFormDatetimeInput'\n\nexport default {\n  components: {\n    TsDynamicFormTextInput,\n    TsDynamicFormSelectInput,\n    TsDynamicFormDatetimeInput,\n  },\n  props: ['schema', 'value'],\n  data() {\n    return {\n      formData: this.value || {},\n    }\n  },\n  methods: {\n    updateForm(fieldName, value) {\n      this.$set(this.formData, fieldName, value)\n      this.$emit('input', this.formData)\n    },\n    submitForm() {\n      this.$emit('formSubmitted')\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DynamicForm.vue?vue&type=template&id=84210b3e&\"\nimport script from \"./DynamicForm.vue?vue&type=script&lang=js&\"\nexport * from \"./DynamicForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"Choose an aggregator\")]),_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected),expression:\"selected\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selected=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.setActiveAggregator()}]}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"Please select one\")]),_vm._l((_vm.meta.aggregators),function(aggregator,name){return _c('option',{key:aggregator.id,domProps:{\"value\":name}},[_vm._v(\"\\n          \"+_vm._s(aggregator.display_name)+\"\\n        \")])})],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div class=\"field\">\n    <label class=\"label\">Choose an aggregator</label>\n    <div class=\"control\">\n      <div class=\"select\">\n        <select v-model=\"selected\" @change=\"setActiveAggregator()\">\n          <option disabled value=\"\">Please select one</option>\n          <option v-for=\"(aggregator, name) in meta.aggregators\" :key=\"aggregator.id\" :value=\"name\">\n            {{ aggregator.display_name }}\n          </option>\n        </select>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['isRounded', 'title'],\n  data() {\n    return {\n      selected: '',\n      selectedChart: '',\n    }\n  },\n  computed: {\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n  methods: {\n    setActiveAggregator: function() {\n      let aggregatorClone = JSON.parse(JSON.stringify(this.meta.aggregators[this.selected]))\n      aggregatorClone.name = this.selected\n      this.$emit('setActiveAggregator', aggregatorClone)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AggregatorListDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AggregatorListDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AggregatorListDropdown.vue?vue&type=template&id=55fa4eb8&\"\nimport script from \"./AggregatorListDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./AggregatorListDropdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.tableData.length)?_c('div',[_c('b-table',{attrs:{\"data\":_vm.tableData,\"columns\":_vm.getColumns(),\"paginated\":true,\"pagination-simple\":true,\"per-page\":10,\"hoverable\":true,\"icon-pack\":\"fas\",\"pagination-size\":\"is-small\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div v-if=\"tableData.length\">\n    <b-table\n      :data=\"tableData\"\n      :columns=\"getColumns()\"\n      :paginated=\"true\"\n      :pagination-simple=\"true\"\n      :per-page=\"10\"\n      :hoverable=\"true\"\n      icon-pack=\"fas\"\n      pagination-size=\"is-small\"\n    >\n    </b-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['tableData'],\n  methods: {\n    getColumns: function() {\n      let columns = []\n      let firstRow = this.tableData[0]\n      Object.keys(firstRow).forEach(function(key) {\n        columns.push({\n          field: key,\n          label: key,\n          sortable: true,\n        })\n      })\n      return columns\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableChart.vue?vue&type=template&id=6e44c24c&\"\nimport script from \"./TableChart.vue?vue&type=script&lang=js&\"\nexport * from \"./TableChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-dropdown',{attrs:{\"aria-role\":\"list\"},scopedSlots:_vm._u([{key:\"dropdown-trigger-element\",fn:function(){return [_c('b-button',{staticStyle:{\"width\":\"215.5px\"},attrs:{\"label\":_vm.label,\"icon-right\":_vm.active ? 'chevron-up' : 'chevron-down'}})]},proxy:true}])},[_c('b-table',{attrs:{\"data\":_vm.timelines,\"columns\":_vm.timelineColumns,\"checked-rows\":_vm.selected,\"checkable\":\"\"},on:{\"update:checkedRows\":function($event){_vm.selected=$event},\"update:checked-rows\":function($event){_vm.selected=$event}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-dropdown aria-role=\"list\">\n      <template v-slot:dropdown-trigger-element>\n        <b-button style=\"width:215.5px;\" :label=\"label\" :icon-right=\"active ? 'chevron-up' : 'chevron-down'\" />\n      </template>\n      <b-table :data=\"timelines\" :columns=\"timelineColumns\" :checked-rows.sync=\"selected\" checkable> </b-table>\n    </ts-dropdown>\n  </div>\n</template>\n\n<script>\nimport TsDropdown from '../Common/Dropdown'\n\nexport default {\n  props: [],\n  components: { TsDropdown },\n  data() {\n    return {\n      selected: [],\n      timelineColumns: [\n        {\n          field: 'name',\n        },\n      ],\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    timelines() {\n      let timelines = []\n      this.sketch.active_timelines.forEach(timeline => {\n        let timelineId = timeline.id\n        // Support for legacy timelines with 1:1 mapping to index_name\n        let isLegacy = this.meta.indices_metadata[timeline.searchindex.index_name].is_legacy\n        if (isLegacy) {\n          timelineId = timeline.searchindex.index_name\n        }\n        timelines.push({\n          id: timelineId,\n          name: timeline.name,\n        })\n      })\n      return timelines\n    },\n    label() {\n      let label = 'Select individual timelines'\n      if (this.selected.length) {\n        label = 'Selected timelines (' + this.selected.length + '/' + this.timelines.length + ')'\n      }\n      return label\n    },\n  },\n  watch: {\n    selected(val) {\n      this.$emit(\n        'selectedTimelines',\n        val.map(timeline => timeline.id)\n      )\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineListDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineListDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimelineListDropdown.vue?vue&type=template&id=cdaef62a&\"\nimport script from \"./TimelineListDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./TimelineListDropdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <b-modal :active.sync=\"showSaveModal\" :width=\"640\" scroll=\"keep\">\n      <div class=\"card\">\n        <header class=\"card-header\">\n          <p class=\"card-header-title\">Save aggregation</p>\n        </header>\n        <div class=\"card-content\">\n          <div class=\"content\">\n            <form v-on:submit.prevent=\"save()\">\n              <div class=\"field\">\n                <label class=\"label\">Name</label>\n                <div class=\"control\">\n                  <input\n                    v-model=\"aggregationName\"\n                    class=\"input\"\n                    type=\"text\"\n                    required\n                    placeholder=\"Name your aggregation\"\n                    autofocus\n                  />\n                </div>\n              </div>\n              <div class=\"field\">\n                <div class=\"control\">\n                  <input class=\"button is-success\" type=\"submit\" value=\"Save\" />\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </b-modal>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <span class=\"card-header-title\">\n              <span class=\"icon is-small\"><i class=\"fas fa-chart-bar\"></i></span>\n              <span style=\"margin-left:10px;\">New Aggregation</span>\n            </span>\n          </header>\n          <div class=\"card-content\">\n            <label class=\"label\">Select timelines (optional)</label>\n            <ts-timeline-list-dropdown @selectedTimelines=\"selectedTimelines = $event\"></ts-timeline-list-dropdown>\n            <br />\n            <ts-sketch-explore-aggregator-list-dropdown\n              @setActiveAggregator=\"updateAggregatorFormFields\"\n            ></ts-sketch-explore-aggregator-list-dropdown>\n            <br />\n            <ts-dynamic-form\n              :schema=\"schema\"\n              v-model=\"formData\"\n              @formSubmitted=\"getVegaSpec\"\n              :key=\"selectedAggregator.name\"\n              ref=\"vegaChart\"\n            ></ts-dynamic-form>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"section\" v-show=\"showChart && Object.keys(vegaSpec).length !== 0\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <header class=\"card-header\">\n            <span class=\"card-header-title\">\n              {{ selectedAggregator.display_name }}\n            </span>\n            <span class=\"card-header-icon\">\n              <a class=\"button is-rounded is-small\" v-on:click=\"showSaveModal = !showSaveModal\">\n                <span class=\"icon is-small\">\n                  <i class=\"fas fa-save\"></i>\n                </span>\n                <span>Save</span>\n              </a>\n            </span>\n          </header>\n          <div class=\"card-content\">\n            <ts-table-chart v-show=\"chartType === 'table'\" :table-data=\"chartData\"></ts-table-chart>\n            <ts-vega-lite-chart v-show=\"chartType !== 'table'\" :vegaSpec=\"vegaSpec\"></ts-vega-lite-chart>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsVegaLiteChart from './VegaLiteChart'\nimport TsDynamicForm from '../Common/DynamicForm'\nimport TsSketchExploreAggregatorListDropdown from './AggregatorListDropdown'\nimport TsTableChart from './TableChart'\nimport TsTimelineListDropdown from '../Timelines/TimelineListDropdown'\n\nexport default {\n  components: {\n    TsDynamicForm,\n    TsVegaLiteChart,\n    TsSketchExploreAggregatorListDropdown,\n    TsTableChart,\n    TsTimelineListDropdown,\n  },\n  data() {\n    return {\n      schema: {},\n      formData: {},\n      vegaSpec: {},\n      selectedAggregator: '',\n      showChart: false,\n      showSaveModal: false,\n      aggregationName: '',\n      chartType: '',\n      chartData: {},\n      selectedTimelines: [],\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n  methods: {\n    updateAggregatorFormFields: function(aggregator) {\n      this.showChart = false\n      let data = {}\n      this.schema = aggregator.form_fields\n      this.schema.forEach(function(field) {\n        data[field.name] = field.default_value\n      })\n      this.formData = data\n      this.selectedAggregator = aggregator\n    },\n    getVegaSpec: function() {\n      this.showChart = true\n      this.formData['index'] = this.selectedTimelines\n      let d = {\n        aggregator_name: this.selectedAggregator.name,\n        aggregator_parameters: this.formData,\n      }\n      ApiClient.runAggregator(this.sketch.id, d)\n        .then(response => {\n          let spec = response.data.meta.vega_spec\n          spec.config.view.width = this.$refs.vegaChart.$el.offsetWidth\n          spec.config.autosize = { type: 'fit', contains: 'padding' }\n          this.vegaSpec = JSON.stringify(spec)\n          this.chartType = response.data.meta.chart_type\n          // Get the first key of the object.\n          this.chartData = spec.datasets[Object.keys(spec.datasets)[0]]\n        })\n        .catch(e => {})\n    },\n    save: function() {\n      this.showSaveModal = false\n      ApiClient.saveAggregation(this.sketch.id, this.selectedAggregator, this.aggregationName, this.formData)\n        .then(response => {\n          let aggregation = response.data.objects[0]\n          this.$emit('newAggregation', aggregation)\n          this.aggregationName = ''\n        })\n        .catch(e => {})\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Aggregation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Aggregation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Aggregation.vue?vue&type=template&id=07e7faa7&\"\nimport script from \"./Aggregation.vue?vue&type=script&lang=js&\"\nexport * from \"./Aggregation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('span',{staticClass:\"card-header-title\"},[_vm._v(\"\\n      \"+_vm._s(_vm.aggregation.name)+\"\\n      \"),(_vm.aggParameters.start_time && _vm.aggParameters.end_time)?_c('span',{staticStyle:{\"margin-left\":\"15px\",\"font-weight\":\"normal\"}},[_vm._v(\"[\"+_vm._s(_vm.aggParameters.start_time)+\" → \"+_vm._s(_vm.aggParameters.end_time)+\"]\")]):_vm._e(),_vm._l((_vm.timelines),function(timeline){return _c('ts-timeline-chip',{key:timeline.id,staticStyle:{\"margin-left\":\"10px\"},attrs:{\"timeline\":timeline}})})],2)]),_c('div',{ref:\"vegaChart\",staticClass:\"card-content\"},[(_vm.chartType === 'table')?_c('ts-table-chart',{attrs:{\"table-data\":_vm.chartData}}):_vm._e(),(_vm.chartType !== 'table')?_c('ts-vega-lite-chart',{attrs:{\"vegaSpec\":_vm.vegaSpec}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div class=\"card\">\n    <header class=\"card-header\">\n      <span class=\"card-header-title\">\n        {{ aggregation.name }}\n        <span style=\"margin-left:15px; font-weight: normal;\" v-if=\"aggParameters.start_time && aggParameters.end_time\"\n          >[{{ aggParameters.start_time }} &rarr; {{ aggParameters.end_time }}]</span\n        >\n        <ts-timeline-chip\n          v-for=\"timeline in timelines\"\n          :key=\"timeline.id\"\n          :timeline=\"timeline\"\n          style=\"margin-left:10px;\"\n        ></ts-timeline-chip>\n      </span>\n    </header>\n    <div class=\"card-content\" ref=\"vegaChart\">\n      <ts-table-chart v-if=\"chartType === 'table'\" :table-data=\"chartData\"></ts-table-chart>\n      <ts-vega-lite-chart v-if=\"chartType !== 'table'\" :vegaSpec=\"vegaSpec\"></ts-vega-lite-chart>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsVegaLiteChart from './VegaLiteChart'\nimport TsTableChart from './TableChart'\nimport TsTimelineChip from '../Explore/TimelineChip'\n\nexport default {\n  props: ['aggregation', 'cardHeader'],\n  components: { TsVegaLiteChart, TsTableChart, TsTimelineChip },\n  data() {\n    return {\n      vegaSpec: {},\n      title: '',\n      chartType: '',\n      chartData: {},\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    aggParameters() {\n      return JSON.parse(this.aggregation.parameters)\n    },\n    timelines() {\n      let timelines = []\n      if (this.aggParameters.index && Array.isArray(this.aggParameters.index)) {\n        this.aggParameters.index.forEach(timelineId => {\n          let timeline = this.sketch.active_timelines.find(timeline => timeline.id === timelineId)\n          timelines.push(timeline)\n        })\n      }\n      return timelines\n    },\n  },\n  methods: {\n    getVegaSpec: function() {\n      let d = {\n        aggregator_name: this.aggregation.agg_type,\n        aggregator_parameters: this.aggregation.parameters,\n      }\n      ApiClient.runAggregator(this.sketch.id, d)\n        .then(response => {\n          let spec = response.data.meta.vega_spec\n          spec.config.view.width = this.$refs.vegaChart.offsetWidth - 50\n          spec.config.autosize = { type: 'fit', contains: 'padding' }\n          this.vegaSpec = JSON.stringify(spec)\n          this.title = response.data.meta.vega_chart_title\n          this.chartType = response.data.meta.chart_type\n          // Get the first key of the object.\n          this.chartData = spec.datasets[Object.keys(spec.datasets)[0]]\n        })\n        .catch(e => {})\n    },\n  },\n  mounted: function() {\n    this.getVegaSpec()\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AggregationCompact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AggregationCompact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AggregationCompact.vue?vue&type=template&id=eb03f426&\"\nimport script from \"./AggregationCompact.vue?vue&type=script&lang=js&\"\nexport * from \"./AggregationCompact.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary currentAppContext=\"sketch\" currentPage=\"aggregate\"></ts-navbar-secondary>\n\n    <ts-sketch-explore-aggregation @newAggregation=\"addAggregation($event)\"></ts-sketch-explore-aggregation>\n\n    <br /><br />\n\n    <section class=\"section\" v-if=\"allAggregations.length\">\n      <div class=\"container is-fluid\">\n        <span class=\"title is-5\">Saved aggregations</span>\n      </div>\n    </section>\n\n    <section class=\"section\" v-for=\"aggregation in allAggregations\" :key=\"aggregation.id\">\n      <div class=\"container is-fluid\">\n        <ts-aggregation-compact :aggregation=\"aggregation\" :card-header=\"true\"></ts-aggregation-compact>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport TsSketchExploreAggregation from '../components/Aggregation/Aggregation'\nimport ApiClient from '../utils/RestApiClient'\nimport TsAggregationCompact from '../components/Aggregation/AggregationCompact'\n\nexport default {\n  components: { TsSketchExploreAggregation, TsAggregationCompact },\n  data() {\n    return {\n      aggregations: [],\n      aggregationGroups: [],\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    allAggregations() {\n      const concat = (...arrays) => [].concat(...arrays.filter(Array.isArray))\n      return concat(this.aggregations, this.aggregationGroups)\n        .slice()\n        .reverse()\n    },\n  },\n  methods: {\n    addAggregation(aggregation) {\n      this.aggregations.push(aggregation)\n    },\n  },\n  created: function() {\n    ApiClient.getAggregations(this.sketch.id)\n      .then(response => {\n        this.aggregations = response.data.objects[0]\n      })\n      .catch(e => {\n        console.error(e)\n      })\n    ApiClient.getAggregationGroups(this.sketch.id)\n      .then(response => {\n        this.aggregationGroups = response.data.objects\n      })\n      .catch(e => {\n        console.error(e)\n      })\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Aggregate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Aggregate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Aggregate.vue?vue&type=template&id=465ff8b7&\"\nimport script from \"./Aggregate.vue?vue&type=script&lang=js&\"\nexport * from \"./Aggregate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}])}),_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"analyzers\"}}),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('ts-analyzer-history')],1)]),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-content\"},[_c('p',[_vm._v(\"Automatic analysis. Select timelines and analyzers in the lists below.\")]),_c('br'),_c('button',{staticClass:\"button is-success\",attrs:{\"disabled\":!_vm.analyzerCheckedRows.length || !_vm.timelineCheckedRows.length},on:{\"click\":_vm.runAnalyzers}},[_vm._v(\"\\n            Run \"+_vm._s(_vm.analyzerCheckedRows.length)+\" analyzers on \"+_vm._s(_vm.timelineCheckedRows.length)+\" timelines\\n          \")]),_c('br'),_c('br'),_vm._l((_vm.sessions),function(session){return _c('span',{key:session.id},[_c('ts-analysis-session-detail',{attrs:{\"session\":session},on:{\"closeDetail\":function($event){_vm.sessions.splice(_vm.sessions.indexOf(session), 1)}}})],1)})],2)])])]),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-content\",staticStyle:{\"max-height\":\"500px\",\"overflow-y\":\"auto\"}},[_c('span',{staticClass:\"title is-6 is-uppercase\"},[_vm._v(\"1. Select timelines to analyze\")]),_c('br'),_c('br'),_c('b-table',{attrs:{\"data\":_vm.timelines,\"columns\":_vm.timelineColumns,\"checked-rows\":_vm.timelineCheckedRows,\"checkable\":\"\"},on:{\"update:checkedRows\":function($event){_vm.timelineCheckedRows=$event},\"update:checked-rows\":function($event){_vm.timelineCheckedRows=$event}}})],1)])])]),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-content\"},[_c('span',{staticClass:\"title is-6 is-uppercase\"},[_vm._v(\"2. Select analyzers to run\")]),_c('br'),_c('br'),_c('b-table',{attrs:{\"data\":_vm.availableAnalyzers,\"columns\":_vm.analyzerColumns,\"checked-rows\":_vm.analyzerCheckedRows,\"default-sort\":\"display_name\",\"checkable\":\"\"},on:{\"update:checkedRows\":function($event){_vm.analyzerCheckedRows=$event},\"update:checked-rows\":function($event){_vm.analyzerCheckedRows=$event}}})],1)])])]),_c('br')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card card-accent-background\",staticStyle:{\"margin-top\":\"15px\"}},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"\\n      \"+_vm._s(_vm.messageTitle)+\" [\"),_vm._l((_vm.timelines),function(timeline){return _c('span',{key:timeline},[_vm._v(_vm._s(timeline))])}),_vm._v(\"]\\n    \")],2),_c('span',{staticClass:\"card-header-icon\",attrs:{\"aria-label\":\"close\"}},[_c('span',{staticClass:\"delete\",on:{\"click\":function($event){return _vm.$emit('closeDetail')}}})])]),_c('div',{staticClass:\"card-content\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_vm._m(0),_c('tbody',_vm._l((_vm.tableData),function(row,index){return _c('tr',{key:index},[_c('td',[_c('div',{class:{\n                pending: row.status === 'PENDING',\n                done: row.status === 'DONE',\n                started: row.status === 'STARTED',\n                error: row.status === 'ERROR',\n              },staticStyle:{\"width\":\"10px\",\"height\":\"10px\",\"border-radius\":\"100%\",\"margin-top\":\"6px\",\"margin-left\":\"3px\"}})]),_c('td',[_vm._v(_vm._s(row.analyzer))]),_c('td',[_vm._v(_vm._s(row.result))]),_c('td',[_vm._v(_vm._s(row.timeline.name))])])}),0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th'),_c('th',[_vm._v(\"Analyzer\")]),_c('th',[_vm._v(\"Result\")]),_c('th',[_vm._v(\"Timeline\")])])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div class=\"card card-accent-background\" style=\"margin-top:15px;\">\n    <header class=\"card-header\">\n      <p class=\"card-header-title\">\n        {{ messageTitle }} [<span v-for=\"timeline in timelines\" :key=\"timeline\">{{ timeline }}</span\n        >]\n      </p>\n      <span class=\"card-header-icon\" aria-label=\"close\">\n        <span class=\"delete\" v-on:click=\"$emit('closeDetail')\"></span>\n      </span>\n    </header>\n    <div class=\"card-content\">\n      <table class=\"table is-fullwidth\">\n        <thead>\n          <th></th>\n          <th>Analyzer</th>\n          <th>Result</th>\n          <th>Timeline</th>\n        </thead>\n        <tbody>\n          <tr v-for=\"(row, index) in tableData\" :key=\"index\">\n            <td>\n              <div\n                style=\"width:10px; height: 10px; border-radius: 100%; margin-top:6px; margin-left:3px;\"\n                v-bind:class=\"{\n                  pending: row.status === 'PENDING',\n                  done: row.status === 'DONE',\n                  started: row.status === 'STARTED',\n                  error: row.status === 'ERROR',\n                }\"\n              ></div>\n            </td>\n            <td>{{ row.analyzer }}</td>\n            <td>{{ row.result }}</td>\n            <td>{{ row.timeline.name }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  props: ['session'],\n  data() {\n    return {\n      analysisSession: {},\n      analyses: [],\n      autoRefresh: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    totalAnalyzers() {\n      return this.analyses.length\n    },\n    finishedAnalyzers() {\n      let count = 0\n      this.analyses.forEach(function(analyzer) {\n        if (analyzer.status[0].status === 'DONE' || analyzer.status[0].status === 'ERROR') {\n          count += 1\n        }\n      })\n      return count\n    },\n    timelines() {\n      let timelineSet = new Set()\n      this.analyses.forEach(function(analyzer) {\n        timelineSet.add(analyzer.timeline.name)\n      })\n      return timelineSet\n    },\n    tableData() {\n      let tableArray = []\n      this.analyses.forEach(function(analyzer) {\n        let row = {}\n        row.status = analyzer.status[0].status\n        row.analyzer = analyzer.analyzer_name\n        row.result = analyzer.result\n        row.timeline = analyzer.timeline\n        tableArray.push(row)\n      })\n      return tableArray\n    },\n    messageTitle() {\n      return this.finishedAnalyzers + '/' + this.totalAnalyzers + ' analyzers done'\n    },\n  },\n  methods: {\n    fetchData() {\n      ApiClient.getAnalyzerSession(this.sketch.id, this.session.id)\n        .then(response => {\n          this.analysisSession = response.data.objects[0]\n          this.analyses = response.data.objects[0].analyses\n          this.autoRefresh = true\n        })\n        .catch(e => {})\n    },\n  },\n  beforeDestroy() {\n    clearInterval(this.t)\n    this.t = false\n  },\n  created() {\n    this.analysisSession = this.session\n    this.analyses = this.session.analyses\n    this.autoRefresh = true\n  },\n  watch: {\n    autoRefresh(val) {\n      if (val && !this.t) {\n        this.t = setInterval(\n          function() {\n            this.fetchData()\n            if (this.finishedAnalyzers === this.totalAnalyzers) {\n              this.autoRefresh = false\n            }\n          }.bind(this),\n          5000\n        )\n      } else {\n        clearInterval(this.t)\n        this.t = false\n      }\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\">\n.pending {\n  background-color: orange;\n}\n.started {\n  background-color: green;\n  animation: blinker 1s linear infinite;\n}\n.done {\n  background-color: green;\n}\n.error {\n  background-color: red;\n}\n\n@keyframes blinker {\n  50% {\n    opacity: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnalyzerSessionDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnalyzerSessionDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnalyzerSessionDetail.vue?vue&type=template&id=2798acf1&scoped=true&\"\nimport script from \"./AnalyzerSessionDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./AnalyzerSessionDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnalyzerSessionDetail.vue?vue&type=style&index=0&id=2798acf1&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2798acf1\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary currentAppContext=\"sketch\" currentPage=\"analyzers\"></ts-navbar-secondary>\n\n    <!-- Analyzer logs -->\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <ts-analyzer-history></ts-analyzer-history>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <div class=\"card-content\">\n            <p>Automatic analysis. Select timelines and analyzers in the lists below.</p>\n            <br />\n            <button\n              :disabled=\"!analyzerCheckedRows.length || !timelineCheckedRows.length\"\n              class=\"button is-success\"\n              v-on:click=\"runAnalyzers\"\n            >\n              Run {{ analyzerCheckedRows.length }} analyzers on {{ timelineCheckedRows.length }} timelines\n            </button>\n            <br />\n            <br />\n            <span v-for=\"session in sessions\" :key=\"session.id\">\n              <ts-analysis-session-detail\n                :session=\"session\"\n                @closeDetail=\"sessions.splice(sessions.indexOf(session), 1)\"\n              ></ts-analysis-session-detail>\n            </span>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <div class=\"card-content\" style=\"max-height: 500px; overflow-y: auto;\">\n            <span class=\"title is-6 is-uppercase\">1. Select timelines to analyze</span>\n            <br />\n            <br />\n            <b-table :data=\"timelines\" :columns=\"timelineColumns\" :checked-rows.sync=\"timelineCheckedRows\" checkable>\n            </b-table>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <div class=\"card-content\">\n            <span class=\"title is-6 is-uppercase\">2. Select analyzers to run</span>\n            <br />\n            <br />\n            <b-table\n              :data=\"availableAnalyzers\"\n              :columns=\"analyzerColumns\"\n              :checked-rows.sync=\"analyzerCheckedRows\"\n              default-sort=\"display_name\"\n              checkable\n            >\n            </b-table>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <br />\n  </div>\n</template>\n\n<script>\nimport TsAnalyzerHistory from '../components/Analyze/AnalyzerHistory'\nimport TsAnalysisSessionDetail from '../components/Analyze/AnalyzerSessionDetail'\nimport ApiClient from '../utils/RestApiClient'\n\nexport default {\n  props: ['sketchId'],\n  components: {\n    TsAnalyzerHistory,\n    TsAnalysisSessionDetail,\n  },\n  data() {\n    return {\n      availableAnalyzers: [],\n      timelineCheckedRows: [],\n      analyzerCheckedRows: [],\n      sessions: [],\n      timelineColumns: [\n        {\n          field: 'name',\n          label: 'Timeline',\n        },\n      ],\n      analyzerColumns: [\n        {\n          field: 'display_name',\n          label: 'Analyzer',\n          sortable: true,\n        },\n        {\n          field: 'description',\n          label: 'Description',\n        },\n      ],\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    timelines() {\n      let t = []\n      this.sketch.timelines.forEach(timeline => {\n        t.push({\n          id: timeline.id,\n          name: timeline.name,\n        })\n      })\n      return t\n    },\n  },\n  methods: {\n    runAnalyzers: function() {\n      let timelineIds = this.timelineCheckedRows.map(timeline => timeline.id)\n      let analyzerNames = this.analyzerCheckedRows.map(analyzer => analyzer.name)\n      this.timelineCheckedRows = []\n      this.analyzerCheckedRows = []\n      ApiClient.runAnalyzers(this.sketch.id, timelineIds, analyzerNames)\n        .then(response => {\n          this.sessions = response.data.objects[0]\n        })\n        .catch(e => {})\n    },\n  },\n  created: function() {\n    ApiClient.getAnalyzers(this.sketch.id)\n      .then(response => {\n        this.availableAnalyzers = response.data\n      })\n      .catch(e => {\n        console.error(e)\n      })\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Analyze.vue?vue&type=template&id=6bdf23fa&\"\nimport script from \"./Analyze.vue?vue&type=script&lang=js&\"\nexport * from \"./Analyze.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Story.vue?vue&type=template&id=7a551485&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}])}),_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"stories\"}}),_c('b-modal',{attrs:{\"active\":_vm.showCreateStoryModal,\"width\":640,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showCreateStoryModal=$event}}},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Create a new story\")])]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('ts-story-create-form',{on:{\"toggleModal\":function($event){_vm.showCreateStoryModal = !_vm.showCreateStoryModal}}})],1)])])]),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('button',{staticClass:\"button is-success\",staticStyle:{\"margin-right\":\"7px\"},on:{\"click\":function($event){_vm.showCreateStoryModal = !_vm.showCreateStoryModal}}},[_vm._m(0),_c('span',[_vm._v(\"Create story\")])]),_c('div',{staticClass:\"card\",staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticClass:\"card-content\"},[(!_vm.meta.stories.length)?_c('div',[_vm._v(\"\\n            There are no stories in this sketch yet\\n          \")]):_vm._e(),_c('ts-story-list',{attrs:{\"controls\":true}})],1)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-plus-circle\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm.apply(null, arguments)}}},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"Title\")]),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Title of your story\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})])]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{staticClass:\"button is-success\",attrs:{\"type\":\"submit\",\"value\":\"Create\"}})])])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <form v-on:submit.prevent=\"submitForm\">\n    <div class=\"field\">\n      <label class=\"label\">Title</label>\n      <div class=\"control\">\n        <input v-model=\"title\" class=\"input\" type=\"text\" required placeholder=\"Title of your story\" autofocus />\n      </div>\n    </div>\n    <div class=\"field\">\n      <div class=\"control\">\n        <input class=\"button is-success\" type=\"submit\" value=\"Create\" />\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\n\nexport default {\n  data() {\n    return {\n      title: '',\n    }\n  },\n  methods: {\n    clearFormData: function() {\n      this.title = ''\n    },\n    submitForm: function() {\n      let content = ''\n      ApiClient.createStory(this.title, content, this.sketch.id)\n        .then(response => {\n          let newStoryId = response.data.objects[0].id\n          this.clearFormData()\n          this.$router.push({ name: 'StoryContent', params: { storyId: newStoryId } })\n          this.$store.dispatch('updateSketch', this.sketch.id)\n        })\n        .catch(e => {})\n    },\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateStoryForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateStoryForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateStoryForm.vue?vue&type=template&id=716e1b4b&\"\nimport script from \"./CreateStoryForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateStoryForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary currentAppContext=\"sketch\" currentPage=\"stories\"></ts-navbar-secondary>\n\n    <b-modal :active.sync=\"showCreateStoryModal\" :width=\"640\" scroll=\"keep\">\n      <div class=\"card\">\n        <header class=\"card-header\">\n          <p class=\"card-header-title\">Create a new story</p>\n        </header>\n        <div class=\"card-content\">\n          <div class=\"content\">\n            <ts-story-create-form @toggleModal=\"showCreateStoryModal = !showCreateStoryModal\"></ts-story-create-form>\n          </div>\n        </div>\n      </div>\n    </b-modal>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <button\n          class=\"button is-success\"\n          style=\"margin-right:7px;\"\n          v-on:click=\"showCreateStoryModal = !showCreateStoryModal\"\n        >\n          <span class=\"icon is-small\">\n            <i class=\"fas fa-plus-circle\"></i>\n          </span>\n          <span>Create story</span>\n        </button>\n\n        <div class=\"card\" style=\"margin-top: 20px;\">\n          <div class=\"card-content\">\n            <div v-if=\"!meta.stories.length\">\n              There are no stories in this sketch yet\n            </div>\n            <ts-story-list :controls=\"true\"></ts-story-list>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport TsStoryList from '../components/Stories/StoryList'\nimport TsStoryCreateForm from '../components/Stories/CreateStoryForm'\nimport TsNavbarMain from '../components/AppNavbarMain'\n\nexport default {\n  components: {\n    TsNavbarMain,\n    TsStoryList,\n    TsStoryCreateForm,\n  },\n  data() {\n    return {\n      showCreateStoryModal: false,\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoryOverview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoryOverview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StoryOverview.vue?vue&type=template&id=317919b8&\"\nimport script from \"./StoryOverview.vue?vue&type=script&lang=js&\"\nexport * from \"./StoryOverview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}])}),_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"stories\"}}),(_vm.blocks)?_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-content\",staticStyle:{\"padding\":\"50px\"}},[_c('div',{staticClass:\"markdown-body ts-markdown-body-color\",staticStyle:{\"margin-bottom\":\"20px\",\"padding-left\":\"10px\"}},[_c('h1',[_vm._v(_vm._s(_vm.title))])]),_vm._l((_vm.blocks),function(obj,index){return _c('div',{key:index},[(!obj.componentName)?_c('div',{staticClass:\"inactiveBlock\",class:{ activeBlock: obj.isActive },staticStyle:{\"padding-left\":\"10px\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},on:{\"mouseover\":function($event){obj.isActive = true},\"mouseleave\":function($event){obj.isActive = false}}},[(obj.isActive)?_c('span',{staticStyle:{\"float\":\"right\"}},[_c('button',{staticClass:\"delete\",on:{\"click\":function($event){return _vm.deleteBlock(index)}}})]):_vm._e(),(obj.edit)?_c('div',{staticClass:\"columns\",staticStyle:{\"margin-bottom\":\"0\"}},[_c('div',{staticClass:\"column\"},[_c('textarea',{staticClass:\"textarea\",staticStyle:{\"height\":\"100%\"},attrs:{\"placeholder\":\"Your story starts here..\"},domProps:{\"value\":obj.content},on:{\"input\":function($event){return _vm.update($event, obj)}}})]),_c('transition',{attrs:{\"name\":\"fade\"}},[(obj.content)?_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"markdown-body\",staticStyle:{\"max-height\":\"600px\",\"overflow\":\"auto\"},domProps:{\"innerHTML\":_vm._s(_vm.toHtml(obj.content))}})]):_vm._e()])],1):_vm._e(),(obj.edit)?_c('div',{staticClass:\"field is-grouped\"},[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-rounded is-success\",attrs:{\"disabled\":!obj.content},on:{\"click\":function($event){return _vm.saveAndHide(obj)}}},[_vm._m(0,true),_c('span',[_vm._v(\"Save\")])])])]):_vm._e(),(!obj.edit)?_c('div',{staticClass:\"markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.toHtml(obj.content))},on:{\"dblclick\":function($event){obj.edit = !obj.edit}}}):_vm._e()]):_vm._e(),(obj.componentName)?_c('div',{staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},on:{\"mouseover\":function($event){obj.isActive = true},\"mouseleave\":function($event){obj.isActive = false}}},[_c('article',{staticClass:\"message\"},[_c('div',{staticClass:\"message-header\"},[(obj.componentName === 'TsViewEventList')?_c('p',[_c('router-link',{attrs:{\"to\":{ name: 'Explore', query: { view: obj.componentProps.view.id } }}},[_c('strong',[_vm._v(_vm._s(obj.componentProps.view.name))])])],1):_vm._e(),(obj.componentName === 'TsAggregationCompact')?_c('p',[_vm._v(\"\\n                    \"+_vm._s(obj.componentProps.aggregation.name)+\"\\n                  \")]):_vm._e(),(obj.componentName === 'TsAggregationGroupCompact')?_c('p',[_vm._v(\"\\n                    \"+_vm._s(obj.componentProps.aggregation_group.name)+\"\\n                  \")]):_vm._e(),_c('button',{staticClass:\"delete\",attrs:{\"aria-label\":\"delete\"},on:{\"click\":function($event){return _vm.deleteBlock(index)}}})]),_c('div',{staticClass:\"message-body\"},[_c(obj.componentName,_vm._b({tag:\"component\"},'component',obj.componentProps,false))],1)])]):_vm._e(),_c('div',{staticStyle:{\"min-height\":\"40px\"},on:{\"mouseover\":function($event){obj.showPanel = true},\"mouseleave\":function($event){obj.showPanel = false}}},[(index === _vm.blocks.length - 1)?_c('div',{staticStyle:{\"padding-top\":\"20px\"}}):_vm._e(),(index === _vm.blocks.length - 1 || obj.showPanel || obj.isActive)?_c('div',{staticClass:\"field is-grouped\"},[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-rounded\",on:{\"click\":function($event){return _vm.addBlock(index)}}},[_vm._v(\"\\n                    + Text\\n                  \")])]),(_vm.meta.views.length)?_c('p',{staticClass:\"control\"},[_c('ts-view-list-dropdown',{attrs:{\"is-simple\":true,\"is-last\":index === _vm.blocks.length - 1,\"title\":'+ Saved search'},on:{\"setActiveView\":function($event){return _vm.addViewComponent($event, index)}}})],1):_vm._e(),(_vm.allAggregations)?_c('p',{staticClass:\"control\"},[_c('ts-aggregation-list-dropdown',{attrs:{\"is-rounded\":true,\"is-last\":index === _vm.blocks.length - 1,\"aggregations\":_vm.allAggregations},on:{\"addAggregation\":function($event){return _vm.addAggregationComponent($event, index)}}})],1):_vm._e()]):_vm._e()])])})],2)])])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-save\",attrs:{\"aria-hidden\":\"true\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-dropdown',{ref:\"dropdown\",attrs:{\"animation\":\"none\",\"aria-role\":\"menu\",\"position\":_vm.position}},[_c('a',{staticClass:\"button\",class:{ 'is-rounded': _vm.isRounded },attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('span',[_vm._v(\"+ Aggregation\")]),_c('b-icon',{staticStyle:{\"font-size\":\"0.6em\"},attrs:{\"icon\":_vm.active ? 'chevron-up' : 'chevron-down'}})],1),_c('div',{staticClass:\"modal-card\",staticStyle:{\"width\":\"500px\",\"color\":\"var(--font-color-dark)\"}},[_c('section',{staticClass:\"modal-card-body\"},[(_vm.aggregations && _vm.aggregations.length < 1)?_c('span',{staticClass:\"dropdown-item\"},[_vm._v(\"No saved aggregations\")]):_vm._e(),_vm._l((_vm.aggregations),function(agg){return _c('a',{key:agg.id,staticClass:\"dropdown-item\",on:{\"click\":function($event){return _vm.setActiveAggregation(agg)}}},[_c('span',[_vm._v(_vm._s(agg.name))])])})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <b-dropdown ref=\"dropdown\" animation=\"none\" aria-role=\"menu\" :position=\"position\">\n    <a class=\"button\" v-bind:class=\"{ 'is-rounded': isRounded }\" slot=\"trigger\">\n      <span>+ Aggregation</span>\n      <b-icon :icon=\"active ? 'chevron-up' : 'chevron-down'\" style=\"font-size: 0.6em;\"></b-icon>\n    </a>\n    <div class=\"modal-card\" style=\"width:500px;color: var(--font-color-dark);\">\n      <section class=\"modal-card-body\">\n        <span class=\"dropdown-item\" v-if=\"aggregations && aggregations.length < 1\">No saved aggregations</span>\n        <a class=\"dropdown-item\" v-on:click=\"setActiveAggregation(agg)\" v-for=\"agg in aggregations\" :key=\"agg.id\">\n          <span>{{ agg.name }}</span>\n        </a>\n      </section>\n    </div>\n  </b-dropdown>\n</template>\n\n<script>\nexport default {\n  props: ['isRounded', 'aggregations', 'isLast'],\n  data() {\n    return {\n      position: 'is-bottom-right',\n    }\n  },\n  methods: {\n    setActiveAggregation: function(aggregation) {\n      this.$emit('addAggregation', aggregation)\n    },\n  },\n  created: function() {\n    if (this.isLast) {\n      this.position = 'is-top-right'\n    }\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AggregationListDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AggregationListDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AggregationListDropdown.vue?vue&type=template&id=cbc8c600&scoped=true&\"\nimport script from \"./AggregationListDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./AggregationListDropdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cbc8c600\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{ref:\"vegaChart\",staticClass:\"card-content\"},[_c('ts-vega-lite-chart',{attrs:{\"vegaSpec\":_vm.vegaSpec}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div class=\"card\">\n    <div class=\"card-content\" ref=\"vegaChart\">\n      <ts-vega-lite-chart :vegaSpec=\"vegaSpec\"></ts-vega-lite-chart>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsVegaLiteChart from './VegaLiteChart'\n\nexport default {\n  props: ['aggregation_group'],\n  components: { TsVegaLiteChart },\n  data() {\n    return {\n      vegaSpec: {},\n      title: '',\n    }\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n  methods: {\n    getVegaSpec: function() {\n      ApiClient.runAggregatorGroup(this.sketch.id, this.aggregation_group.id)\n        .then(response => {\n          let spec = response.data.meta.vega_spec\n          spec.config.view.width = this.$refs.vegaChart.offsetWidth - 50\n          spec.config.autosize = { type: 'fit', contains: 'padding' }\n          this.vegaSpec = JSON.stringify(spec)\n          this.title = response.data.meta.vega_chart_title\n        })\n        .catch(e => {})\n    },\n  },\n  mounted: function() {\n    this.getVegaSpec()\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AggregationGroupCompact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AggregationGroupCompact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AggregationGroupCompact.vue?vue&type=template&id=9f8c7554&\"\nimport script from \"./AggregationGroupCompact.vue?vue&type=script&lang=js&\"\nexport * from \"./AggregationGroupCompact.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-modal',{attrs:{\"active\":_vm.showCreateViewModal,\"width\":640,\"scroll\":\"keep\"},on:{\"update:active\":function($event){_vm.showCreateViewModal=$event}}},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Save search\")])]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('ts-create-view-form',{attrs:{\"sketchId\":_vm.sketchId,\"currentQueryString\":_vm.currentQueryString,\"currentQueryFilter\":_vm.currentQueryFilter},on:{\"setActiveView\":function($event){return _vm.setActiveView($event)}}})],1)])])]),_c('b-dropdown',{ref:\"dropdown\",attrs:{\"animation\":\"none\",\"aria-role\":\"menu\",\"position\":_vm.position,\"append-to-body\":!_vm.isSimple},scopedSlots:_vm._u([{key:\"trigger\",fn:function(ref){\nvar active = ref.active;\nreturn _c('a',{staticClass:\"button\",class:{ 'is-rounded': _vm.isSimple, 'ts-search-dropdown': !_vm.isSimple }},[(!_vm.isSimple)?_c('b-icon',{staticStyle:{\"margin-right\":\"7px\",\"font-size\":\"0.6em\"},attrs:{\"icon\":\"save\"}}):_vm._e(),(_vm.activeView)?_c('span',{staticStyle:{\"margin-right\":\"7px\"}},[_vm._v(_vm._s(_vm.isSimple ? '+ Saved search' : _vm.activeView.name))]):_vm._e(),(_vm.isSimple)?_c('span',[_vm._v(\"+ Saved search\")]):_vm._e(),_c('b-icon',{staticStyle:{\"font-size\":\"0.6em\"},attrs:{\"icon\":active ? 'chevron-up' : 'chevron-down'}})],1)}}])},[_c('div',{staticClass:\"modal-card\",staticStyle:{\"width\":\"500px\",\"color\":\"var(--font-color-dark)\"}},[_c('section',{staticClass:\"modal-card-body\"},[(!_vm.isSimple)?_c('div',[_c('p',[_vm._v(\"\\n            Save search query and filters that you want to use again.\\n          \")]),_c('hr')]):_vm._e(),(_vm.meta.views.length)?_c('div',_vm._l((_vm.meta.views),function(view){return _c('b-dropdown-item',{key:view.id,on:{\"click\":function($event){return _vm.setActiveView(view)}}},[_c('span',[_vm._v(_vm._s(view.name))])])}),1):_vm._e()])]),(!_vm.isSimple)?_c('div',{staticClass:\"level footer\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[(_vm.activeView)?_c('button',{staticClass:\"button is-text\",staticStyle:{\"color\":\"var(--font-color-dark)\",\"text-decoration\":\"none\"},on:{\"click\":_vm.clearSearch}},[_vm._v(\"\\n            Clear\\n          \")]):_vm._e()])]),_c('div',{staticClass:\"level-right\"},[_c('div',{staticClass:\"level-item\"},[(_vm.activeView)?_c('button',{staticClass:\"button level-item\",staticStyle:{\"border-radius\":\"5px\"},attrs:{\"disabled\":!_vm.currentQueryString},on:{\"click\":_vm.updateView}},[_vm._v(\"\\n            Save changes\\n          \")]):_vm._e()]),_c('div',{staticClass:\"level-item\"},[_c('button',{staticClass:\"button is-info level-item\",staticStyle:{\"border-radius\":\"5px\"},attrs:{\"disabled\":!_vm.currentQueryString},on:{\"click\":_vm.saveView}},[_c('b-icon',{attrs:{\"icon\":\"save\",\"size\":\"is-small\"}}),_c('span',[_vm._v(_vm._s(_vm.activeView ? 'Save as new' : 'Save current search'))])],1)])])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <b-modal :active.sync=\"showCreateViewModal\" :width=\"640\" scroll=\"keep\">\n      <div class=\"card\">\n        <header class=\"card-header\">\n          <p class=\"card-header-title\">Save search</p>\n        </header>\n        <div class=\"card-content\">\n          <div class=\"content\">\n            <ts-create-view-form\n              @setActiveView=\"setActiveView($event)\"\n              :sketchId=\"sketchId\"\n              :currentQueryString=\"currentQueryString\"\n              :currentQueryFilter=\"currentQueryFilter\"\n            ></ts-create-view-form>\n          </div>\n        </div>\n      </div>\n    </b-modal>\n\n    <b-dropdown ref=\"dropdown\" animation=\"none\" aria-role=\"menu\" :position=\"position\" :append-to-body=\"!isSimple\">\n      <a\n        class=\"button\"\n        v-bind:class=\"{ 'is-rounded': isSimple, 'ts-search-dropdown': !isSimple }\"\n        slot=\"trigger\"\n        slot-scope=\"{ active }\"\n      >\n        <b-icon v-if=\"!isSimple\" icon=\"save\" style=\"margin-right: 7px; font-size: 0.6em;\"></b-icon>\n        <span v-if=\"activeView\" style=\"margin-right: 7px;\">{{ isSimple ? '+ Saved search' : activeView.name }}</span>\n        <span v-if=\"isSimple\">+ Saved search</span>\n        <b-icon :icon=\"active ? 'chevron-up' : 'chevron-down'\" style=\"font-size: 0.6em;\"></b-icon>\n      </a>\n\n      <div class=\"modal-card\" style=\"width:500px;color: var(--font-color-dark);\">\n        <section class=\"modal-card-body\">\n          <div v-if=\"!isSimple\">\n            <p>\n              Save search query and filters that you want to use again.\n            </p>\n            <hr />\n          </div>\n          <div v-if=\"meta.views.length\">\n            <b-dropdown-item v-on:click=\"setActiveView(view)\" v-for=\"view in meta.views\" :key=\"view.id\">\n              <span>{{ view.name }}</span>\n            </b-dropdown-item>\n          </div>\n        </section>\n      </div>\n\n      <div class=\"level footer\" v-if=\"!isSimple\">\n        <div class=\"level-left\">\n          <div class=\"level-item\">\n            <button\n              class=\"button is-text\"\n              style=\"color: var(--font-color-dark); text-decoration: none;\"\n              @click=\"clearSearch\"\n              v-if=\"activeView\"\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n        <div class=\"level-right\">\n          <div class=\"level-item\">\n            <button\n              class=\"button level-item\"\n              style=\"border-radius: 5px;\"\n              @click=\"updateView\"\n              v-if=\"activeView\"\n              :disabled=\"!currentQueryString\"\n            >\n              Save changes\n            </button>\n          </div>\n          <div class=\"level-item\">\n            <button\n              class=\"button is-info level-item\"\n              style=\"border-radius: 5px;\"\n              :disabled=\"!currentQueryString\"\n              @click=\"saveView\"\n            >\n              <b-icon icon=\"save\" size=\"is-small\"></b-icon>\n              <span>{{ activeView ? 'Save as new' : 'Save current search' }}</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </b-dropdown>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport TsCreateViewForm from './CreateViewForm'\n\nexport default {\n  components: {\n    TsCreateViewForm,\n  },\n  props: ['currentQueryString', 'currentQueryFilter', 'isSimple', 'isLast', 'sketchId'],\n  data() {\n    return {\n      activeView: null,\n      showCreateViewModal: false,\n      position: 'is-bottom-right',\n    }\n  },\n  methods: {\n    setActiveView: function(view, doSearch = true) {\n      this.showCreateViewModal = false\n      this.activeView = view\n      if (doSearch) {\n        this.$emit('setActiveView', view)\n      }\n    },\n    clearSearch: function() {\n      this.$emit('clearSearch')\n      this.activeView = null\n      this.$refs.dropdown.toggle()\n    },\n    saveView: function() {\n      this.showCreateViewModal = true\n      this.$refs.dropdown.toggle()\n    },\n    updateView: function() {\n      if (!this.activeView) {\n        return\n      }\n      this.$refs.dropdown.toggle()\n      this.activeView.query = this.currentQueryString\n      this.activeView.filter = JSON.stringify(this.currentQueryFilter)\n      ApiClient.updateView(this.sketchId, this.activeView.id, this.currentQueryString, this.currentQueryFilter)\n        .then(response => {\n          this.$buefy.toast.open('Saved search has been updated')\n        })\n        .catch(e => {})\n    },\n  },\n  computed: {\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n  created: function() {\n    if (this.isLast) {\n      this.position = 'is-top-right'\n    }\n    let queryViewId = this.$route.query.view\n    if (queryViewId) {\n      let view = this.meta.views.filter(function(view) {\n        return view.id === parseInt(queryViewId)\n      })\n      this.setActiveView(view[0], false)\n    }\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\">\n.button:focus,\n.button.is-focused {\n  border-color: transparent;\n}\n\n.footer {\n  background: #f5f5f5;\n  border-top: solid 1px #d1d1d1;\n  padding: 15px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewListDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewListDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewListDropdown.vue?vue&type=template&id=0cc60569&scoped=true&\"\nimport script from \"./ViewListDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewListDropdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewListDropdown.vue?vue&type=style&index=0&id=0cc60569&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cc60569\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary currentAppContext=\"sketch\" currentPage=\"stories\"></ts-navbar-secondary>\n\n    <section class=\"section\" v-if=\"blocks\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <div class=\"card-content\" style=\"padding:50px;\">\n            <div class=\"markdown-body ts-markdown-body-color\" style=\"margin-bottom:20px;padding-left:10px\">\n              <h1>{{ title }}</h1>\n            </div>\n\n            <div v-for=\"(obj, index) in blocks\" :key=\"index\">\n              <div\n                v-if=\"!obj.componentName\"\n                @mouseover=\"obj.isActive = true\"\n                @mouseleave=\"obj.isActive = false\"\n                v-bind:class=\"{ activeBlock: obj.isActive }\"\n                class=\"inactiveBlock\"\n                style=\"padding-left:10px;margin-top:10px;margin-bottom: 10px;\"\n              >\n                <span v-if=\"obj.isActive\" style=\"float:right;\">\n                  <button class=\"delete\" v-on:click=\"deleteBlock(index)\"></button>\n                </span>\n\n                <div class=\"columns\" v-if=\"obj.edit\" style=\"margin-bottom:0;\">\n                  <div class=\"column\">\n                    <textarea\n                      class=\"textarea\"\n                      style=\"height: 100%;\"\n                      :value=\"obj.content\"\n                      @input=\"update($event, obj)\"\n                      placeholder=\"Your story starts here..\"\n                    ></textarea>\n                  </div>\n                  <transition name=\"fade\">\n                    <div class=\"column\" v-if=\"obj.content\">\n                      <div\n                        v-html=\"toHtml(obj.content)\"\n                        class=\"markdown-body\"\n                        style=\"max-height: 600px;overflow: auto;\"\n                      ></div>\n                    </div>\n                  </transition>\n                </div>\n                <div v-if=\"obj.edit\" class=\"field is-grouped\">\n                  <p class=\"control\">\n                    <button :disabled=\"!obj.content\" class=\"button is-rounded is-success\" v-on:click=\"saveAndHide(obj)\">\n                      <span class=\"icon is-small\"><i class=\"fas fa-save\" aria-hidden=\"true\"></i></span>\n                      <span>Save</span>\n                    </button>\n                  </p>\n                </div>\n                <div\n                  v-on:dblclick=\"obj.edit = !obj.edit\"\n                  class=\"markdown-body\"\n                  v-if=\"!obj.edit\"\n                  v-html=\"toHtml(obj.content)\"\n                ></div>\n              </div>\n\n              <div\n                style=\"margin-top:10px;margin-bottom: 10px;\"\n                v-if=\"obj.componentName\"\n                @mouseover=\"obj.isActive = true\"\n                @mouseleave=\"obj.isActive = false\"\n              >\n                <article class=\"message\">\n                  <div class=\"message-header\">\n                    <p v-if=\"obj.componentName === 'TsViewEventList'\">\n                      <router-link :to=\"{ name: 'Explore', query: { view: obj.componentProps.view.id } }\"\n                        ><strong>{{ obj.componentProps.view.name }}</strong></router-link\n                      >\n                    </p>\n                    <p v-if=\"obj.componentName === 'TsAggregationCompact'\">\n                      {{ obj.componentProps.aggregation.name }}\n                    </p>\n                    <p v-if=\"obj.componentName === 'TsAggregationGroupCompact'\">\n                      {{ obj.componentProps.aggregation_group.name }}\n                    </p>\n                    <button class=\"delete\" aria-label=\"delete\" v-on:click=\"deleteBlock(index)\"></button>\n                  </div>\n                  <div class=\"message-body\">\n                    <component :is=\"obj.componentName\" v-bind=\"obj.componentProps\"></component>\n                  </div>\n                </article>\n              </div>\n\n              <div style=\"min-height:40px;\" @mouseover=\"obj.showPanel = true\" @mouseleave=\"obj.showPanel = false\">\n                <div v-if=\"index === blocks.length - 1\" style=\"padding-top:20px;\"></div>\n                <div v-if=\"index === blocks.length - 1 || obj.showPanel || obj.isActive\" class=\"field is-grouped\">\n                  <p class=\"control\">\n                    <button class=\"button is-rounded\" v-on:click=\"addBlock(index)\">\n                      + Text\n                    </button>\n                  </p>\n                  <p class=\"control\" v-if=\"meta.views.length\">\n                    <ts-view-list-dropdown\n                      @setActiveView=\"addViewComponent($event, index)\"\n                      :is-simple=\"true\"\n                      :is-last=\"index === blocks.length - 1\"\n                      :title=\"'+ Saved search'\"\n                    ></ts-view-list-dropdown>\n                  </p>\n                  <p class=\"control\" v-if=\"allAggregations\">\n                    <ts-aggregation-list-dropdown\n                      @addAggregation=\"addAggregationComponent($event, index)\"\n                      :is-rounded=\"true\"\n                      :is-last=\"index === blocks.length - 1\"\n                      :aggregations=\"allAggregations\"\n                    ></ts-aggregation-list-dropdown>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport ApiClient from '../utils/RestApiClient'\nimport { marked } from 'marked'\nimport _ from 'lodash'\nimport TsAggregationListDropdown from '../components/Aggregation/AggregationListDropdown'\nimport TsAggregationCompact from '../components/Aggregation/AggregationCompact'\nimport TsAggregationGroupCompact from '../components/Aggregation/AggregationGroupCompact'\nimport TsViewListDropdown from '../components/Common/ViewListDropdown'\nimport TsViewEventList from '../components/Explore/EventListCompact'\n\nconst defaultBlock = () => {\n  return {\n    componentName: '',\n    componentProps: {},\n    content: '',\n    edit: true,\n    showPanel: false,\n    isActive: false,\n  }\n}\n\nexport default {\n  components: {\n    TsAggregationListDropdown,\n    TsAggregationCompact,\n    TsAggregationGroupCompact,\n    TsViewListDropdown,\n    TsViewEventList,\n  },\n  props: ['sketchId', 'storyId'],\n  data() {\n    return {\n      blocks: [],\n      title: '',\n      aggregations: [],\n      aggregationGroups: [],\n    }\n  },\n  methods: {\n    update: _.debounce(function(e, obj) {\n      obj.content = e.target.value\n      this.save()\n    }, 300),\n    addBlock(index) {\n      let newIndex = index + 1\n      let newBlock = defaultBlock()\n      this.blocks.splice(newIndex, 0, newBlock)\n    },\n    deleteBlock(index) {\n      this.blocks.splice(index, 1)\n      if (!this.blocks.length) {\n        this.blocks = [defaultBlock()]\n      }\n      this.save()\n    },\n    addAggregationComponent(event, index) {\n      let newIndex = index + 1\n      let newBlock = defaultBlock()\n      // If object has an agg_ids key it is an aggregation group.\n      if ('agg_ids' in event) {\n        newBlock.componentName = 'TsAggregationGroupCompact'\n        newBlock.componentProps = { aggregation_group: event }\n      } else {\n        newBlock.componentName = 'TsAggregationCompact'\n        newBlock.componentProps = { aggregation: event }\n      }\n      this.blocks.splice(newIndex, 0, newBlock)\n      this.save()\n    },\n    addViewComponent(event, index) {\n      this.showPanel = false\n      let newIndex = index + 1\n      let newBlock = defaultBlock()\n      newBlock.componentName = 'TsViewEventList'\n      newBlock.componentProps = { view: event }\n      this.blocks.splice(newIndex, 0, newBlock)\n      this.save()\n    },\n    hideBlock(block) {\n      block.edit = !block.edit\n    },\n    saveAndHide(block) {\n      this.hideBlock(block)\n      this.save()\n    },\n    save() {\n      this.blocks.forEach(function(block) {\n        block.showPanel = false\n        block.isActive = false\n      })\n      let content = JSON.stringify(this.blocks)\n      ApiClient.updateStory(this.title, content, this.sketchId, this.storyId)\n        .then(response => {})\n        .catch(e => {})\n    },\n    toHtml(markdown) {\n      return marked(markdown, { sanitize: false })\n    },\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    allAggregations() {\n      const concat = (...arrays) => [].concat(...arrays.filter(Array.isArray))\n      return concat(this.aggregations, this.aggregationGroups)\n    },\n  },\n  created: function() {\n    ApiClient.getStory(this.sketchId, this.storyId)\n      .then(response => {\n        this.title = response.data.objects[0].title\n        let content = response.data.objects[0].content\n        if (content === '[]') {\n          this.blocks = [defaultBlock()]\n        } else {\n          this.blocks = JSON.parse(content)\n        }\n      })\n      .catch(e => {\n        console.error(e)\n      })\n    ApiClient.getAggregations(this.sketchId)\n      .then(response => {\n        this.aggregations = response.data.objects[0]\n      })\n      .catch(e => {\n        console.error(e)\n      })\n    ApiClient.getAggregationGroups(this.sketchId)\n      .then(response => {\n        this.aggregationGroups = response.data.objects\n      })\n      .catch(e => {\n        console.error(e)\n      })\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.inactiveBlock {\n  border-left: 1px solid transparent;\n}\n\n.activeBlock {\n  border-left: 1px solid lightgray;\n}\n\n// Transition animation\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n// Based on https://github.com/sindresorhus/github-markdown-css (MIT License)\n.markdown-body {\n  -ms-text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n  line-height: 1.5;\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji,\n    Segoe UI Emoji, Segoe UI Symbol;\n  font-size: 16px;\n  line-height: 1.5;\n  word-wrap: break-word;\n  max-width: 75ch;\n}\n\n.markdown-body details {\n  display: block;\n}\n\n.markdown-body summary {\n  display: list-item;\n}\n\n.markdown-body a {\n  background-color: transparent;\n}\n\n.markdown-body a:active,\n.markdown-body a:hover {\n  outline-width: 0;\n}\n\n.markdown-body strong {\n  font-weight: inherit;\n  font-weight: bolder;\n}\n\n.markdown-body h1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n.markdown-body img {\n  border-style: none;\n}\n\n.markdown-body code,\n.markdown-body kbd,\n.markdown-body pre {\n  font-family: monospace, monospace;\n  font-size: 1em;\n}\n\n.markdown-body hr {\n  box-sizing: content-box;\n  height: 0;\n  overflow: visible;\n}\n\n.markdown-body input {\n  font: inherit;\n  margin: 0;\n}\n\n.markdown-body input {\n  overflow: visible;\n}\n\n.markdown-body [type='checkbox'] {\n  box-sizing: border-box;\n  padding: 0;\n}\n\n.markdown-body * {\n  box-sizing: border-box;\n}\n\n.markdown-body input {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n}\n\n.markdown-body a {\n  color: #0366d6;\n  text-decoration: none;\n}\n\n.markdown-body a:hover {\n  text-decoration: underline;\n}\n\n.markdown-body strong {\n  font-weight: 600;\n}\n\n.markdown-body hr {\n  background: transparent;\n  border: 0;\n  border-bottom: 1px solid #dfe2e5;\n  height: 0;\n  margin: 15px 0;\n  overflow: hidden;\n}\n\n.markdown-body hr:before {\n  content: '';\n  display: table;\n}\n\n.markdown-body hr:after {\n  clear: both;\n  content: '';\n  display: table;\n}\n\n.markdown-body table {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\n.markdown-body td,\n.markdown-body th {\n  padding: 0;\n}\n\n.markdown-body details summary {\n  cursor: pointer;\n}\n\n.markdown-body h1,\n.markdown-body h2,\n.markdown-body h3,\n.markdown-body h4,\n.markdown-body h5,\n.markdown-body h6 {\n  margin-bottom: 0;\n  margin-top: 0;\n}\n\n.markdown-body h1 {\n  font-size: 32px;\n}\n\n.markdown-body h1,\n.markdown-body h2 {\n  font-weight: 600;\n}\n\n.markdown-body h2 {\n  font-size: 24px;\n}\n\n.markdown-body h3 {\n  font-size: 20px;\n}\n\n.markdown-body h3,\n.markdown-body h4 {\n  font-weight: 600;\n}\n\n.markdown-body h4 {\n  font-size: 16px;\n}\n\n.markdown-body h5 {\n  font-size: 14px;\n}\n\n.markdown-body h5,\n.markdown-body h6 {\n  font-weight: 600;\n}\n\n.markdown-body h6 {\n  font-size: 12px;\n}\n\n.markdown-body p {\n  margin-bottom: 10px;\n  margin-top: 0;\n}\n\n.markdown-body blockquote {\n  margin: 0;\n}\n\n.markdown-body ol,\n.markdown-body ul {\n  margin-bottom: 0;\n  margin-top: 0;\n  padding-left: 0;\n}\n\n.markdown-body ol ol,\n.markdown-body ul ol {\n  list-style-type: lower-roman;\n}\n\n.markdown-body ol ol ol,\n.markdown-body ol ul ol,\n.markdown-body ul ol ol,\n.markdown-body ul ul ol {\n  list-style-type: lower-alpha;\n}\n\n.markdown-body dd {\n  margin-left: 0;\n}\n\n.markdown-body code,\n.markdown-body pre {\n  font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;\n  font-size: 12px;\n}\n\n.markdown-body pre {\n  margin-bottom: 0;\n  margin-top: 0;\n}\n\n.markdown-body input::-webkit-inner-spin-button,\n.markdown-body input::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  appearance: none;\n  margin: 0;\n}\n\n.markdown-body:before {\n  content: '';\n  display: table;\n}\n\n.markdown-body:after {\n  clear: both;\n  content: '';\n  display: table;\n}\n\n.markdown-body > :first-child {\n  margin-top: 0 !important;\n}\n\n.markdown-body > :last-child {\n  margin-bottom: 0 !important;\n}\n\n.markdown-body a:not([href]) {\n  color: inherit;\n  text-decoration: none;\n}\n\n.markdown-body blockquote,\n.markdown-body dl,\n.markdown-body ol,\n.markdown-body p,\n.markdown-body pre,\n.markdown-body table,\n.markdown-body ul {\n  margin-bottom: 16px;\n  margin-top: 0;\n}\n\n.markdown-body hr {\n  background-color: #e1e4e8;\n  border: 0;\n  height: 0.25em;\n  margin: 24px 0;\n  padding: 0;\n}\n\n.markdown-body blockquote {\n  border-left: 0.25em solid #dfe2e5;\n  color: #6a737d;\n  padding: 0 1em;\n}\n\n.markdown-body blockquote > :first-child {\n  margin-top: 0;\n}\n\n.markdown-body blockquote > :last-child {\n  margin-bottom: 0;\n}\n\n.markdown-body kbd {\n  background-color: #fafbfc;\n  border: 1px solid #c6cbd1;\n  border-bottom-color: #959da5;\n  border-radius: 3px;\n  box-shadow: inset 0 -1px 0 #959da5;\n  color: #444d56;\n  display: inline-block;\n  font-size: 11px;\n  line-height: 10px;\n  padding: 3px 5px;\n  vertical-align: middle;\n}\n\n.markdown-body h1,\n.markdown-body h2,\n.markdown-body h3,\n.markdown-body h4,\n.markdown-body h5,\n.markdown-body h6 {\n  font-weight: 600;\n  line-height: 1.25;\n  margin-bottom: 16px;\n  margin-top: 24px;\n}\n\n.markdown-body h1 {\n  font-size: 2em;\n}\n\n.markdown-body h1,\n.markdown-body h2 {\n  padding-bottom: 0.3em;\n}\n\n.markdown-body h2 {\n  font-size: 1.5em;\n}\n\n.markdown-body h3 {\n  font-size: 1.25em;\n}\n\n.markdown-body h4 {\n  font-size: 1em;\n}\n\n.markdown-body h5 {\n  font-size: 0.875em;\n}\n\n.markdown-body h6 {\n  color: #6a737d;\n  font-size: 0.85em;\n}\n\n.markdown-body ol,\n.markdown-body ul {\n  padding-left: 2em;\n}\n\n.markdown-body ol ol,\n.markdown-body ol ul,\n.markdown-body ul ol,\n.markdown-body ul ul {\n  margin-bottom: 0;\n  margin-top: 0;\n}\n\n.markdown-body li {\n  word-wrap: break-all;\n}\n\n.markdown-body li > p {\n  margin-top: 16px;\n}\n\n.markdown-body li + li {\n  margin-top: 0.25em;\n}\n\n.markdown-body dl {\n  padding: 0;\n}\n\n.markdown-body dl dt {\n  font-size: 1em;\n  font-style: italic;\n  font-weight: 600;\n  margin-top: 16px;\n  padding: 0;\n}\n\n.markdown-body dl dd {\n  margin-bottom: 16px;\n  padding: 0 16px;\n}\n\n.markdown-body table {\n  display: block;\n  overflow: auto;\n  width: 100%;\n}\n\n.markdown-body table th {\n  font-weight: 600;\n}\n\n.markdown-body table td,\n.markdown-body table th {\n  border: 1px solid #dfe2e5;\n  padding: 6px 13px;\n}\n\n.markdown-body table tr {\n  background-color: #fff;\n  border-top: 1px solid #c6cbd1;\n}\n\n.markdown-body table tr:nth-child(2n) {\n  background-color: #f6f8fa;\n}\n\n.markdown-body img {\n  background-color: #fff;\n  box-sizing: content-box;\n  max-width: 100%;\n}\n\n.markdown-body img[align='right'] {\n  padding-left: 20px;\n}\n\n.markdown-body img[align='left'] {\n  padding-right: 20px;\n}\n\n.markdown-body code {\n  background-color: rgba(27, 31, 35, 0.05);\n  border-radius: 3px;\n  font-size: 85%;\n  margin: 0;\n  padding: 0.2em 0.4em;\n}\n\n.markdown-body pre {\n  word-wrap: normal;\n}\n\n.markdown-body pre > code {\n  background: transparent;\n  border: 0;\n  font-size: 100%;\n  margin: 0;\n  padding: 0;\n  white-space: pre;\n  word-break: normal;\n}\n\n.markdown-body pre {\n  background-color: #f6f8fa;\n  border-radius: 3px;\n  font-size: 85%;\n  line-height: 1.45;\n  overflow: auto;\n  padding: 16px;\n}\n\n.markdown-body pre code {\n  background-color: transparent;\n  border: 0;\n  display: inline;\n  line-height: inherit;\n  margin: 0;\n  max-width: auto;\n  overflow: visible;\n  padding: 0;\n  word-wrap: normal;\n}\n\n.markdown-body kbd {\n  background-color: #fafbfc;\n  border: 1px solid #d1d5da;\n  border-bottom-color: #c6cbd1;\n  border-radius: 3px;\n  box-shadow: inset 0 -1px 0 #c6cbd1;\n  color: #444d56;\n  display: inline-block;\n  font: 11px SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;\n  line-height: 10px;\n  padding: 3px 5px;\n  vertical-align: middle;\n}\n\n.markdown-body hr {\n  border-bottom-color: #eee;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoryContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoryContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StoryContent.vue?vue&type=template&id=b98bb13a&\"\nimport script from \"./StoryContent.vue?vue&type=script&lang=js&\"\nexport * from \"./StoryContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StoryContent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}])}),_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"attributes\"}}),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\",staticStyle:{\"min-height\":\"160px\"}},[_vm._m(0),_c('div',{staticClass:\"card-content\"},[_c('b-table',{attrs:{\"data\":_vm.sketchAttributes,\"default-sort\":\"name\"}},[_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":\"Attribute name\"},scopedSlots:_vm._u([{key:\"default\",fn:function(data){return [_vm._v(\"\\n              \"+_vm._s(data.row.name)+\"\\n            \")]}}])}),_c('b-table-column',{attrs:{\"field\":\"ontology\",\"label\":\"Ontology\"},scopedSlots:_vm._u([{key:\"default\",fn:function(data){return [_c('code',[_vm._v(_vm._s(data.row.ontology))])]}}])}),_c('b-table-column',{attrs:{\"field\":\"value\",\"label\":\"Value\"},scopedSlots:_vm._u([{key:\"default\",fn:function(data){return [(typeof data.row.value === 'object')?_c('pre',[_vm._v(_vm._s(data.row.value))]):_c('span',[_vm._v(_vm._s(data.row.value))])]}}])})],1)],1)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Attribute list\")])])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary currentAppContext=\"sketch\" currentPage=\"attributes\"></ts-navbar-secondary>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\" style=\"min-height:160px;\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\">Attribute list</p>\n          </header>\n          <div class=\"card-content\">\n            <b-table :data=\"sketchAttributes\" default-sort=\"name\">\n              <b-table-column field=\"name\" label=\"Attribute name\" v-slot=\"data\">\n                {{ data.row.name }}\n              </b-table-column>\n              <b-table-column field=\"ontology\" label=\"Ontology\" v-slot=\"data\">\n                <code>{{ data.row.ontology }}</code>\n              </b-table-column>\n              <b-table-column field=\"value\" label=\"Value\" v-slot=\"data\">\n                <pre v-if=\"typeof data.row.value === 'object'\">{{ data.row.value }}</pre>\n                <span v-else>{{ data.row.value }}</span>\n              </b-table-column>\n            </b-table>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nexport default {\n  components: {},\n  data() {\n    return {}\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    sketchAttributes() {\n      let attributes = []\n      for (let item in this.$store.state.meta.attributes) {\n        attributes.push({\n          name: item,\n          ontology: this.$store.state.meta.attributes[item].ontology,\n          value: this.$store.state.meta.attributes[item].value,\n        })\n      }\n      return attributes\n    },\n  },\n  mounted() {\n    this.$store.dispatch('updateSketch', this.$store.state.sketch.id)\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attributes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attributes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Attributes.vue?vue&type=template&id=969948ec&\"\nimport script from \"./Attributes.vue?vue&type=script&lang=js&\"\nexport * from \"./Attributes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}])}),_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"intelligence\"}}),(Object.keys(_vm.tagMetadata).length > 0)?_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"\\n                Indicators of compromise\\n                \"),_c('b-button',{staticClass:\"new-ioc\",attrs:{\"type\":\"is-success\",\"size\":\"is-small\"},on:{\"click\":function($event){_vm.startIOCEdit(_vm.getNewIoc(), -1)}}},[_c('i',{staticClass:\"fas fa-plus-circle\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n                  Add new\\n                \")])],1)]),_c('div',{staticClass:\"card-content\"},[(_vm.intelligenceData.length > 0)?_c('b-table',{attrs:{\"data\":_vm.intelligenceData}},[_c('b-table-column',{attrs:{\"field\":\"type\",\"label\":\"IOC Type\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('code',[_vm._v(_vm._s(props.row.type))])]}}],null,false,1591400447)}),_c('b-table-column',{attrs:{\"field\":\"externalURI\",\"label\":\"External ref.\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [(_vm.getValidUrl(props.row.externalURI))?_c('a',{attrs:{\"href\":_vm.getValidUrl(props.row.externalURI),\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-external-link-alt\"}),_vm._v(\" \"+_vm._s(_vm.getValidUrl(props.row.externalURI).host)+\"\\n                  \")]):_c('span',[_vm._v(_vm._s(props.row.externalURI))])]}}],null,false,3418687168)}),_c('b-table-column',{attrs:{\"field\":\"ioc\",\"label\":\"\",\"width\":\"10em\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('i',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(props.row.ioc),expression:\"props.row.ioc\",arg:\"copy\"},{name:\"clipboard\",rawName:\"v-clipboard:success\",value:(_vm.notifyClipboardSuccess),expression:\"notifyClipboardSuccess\",arg:\"success\"}],staticClass:\"fas fa-copy\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"title\":\"Copy IOC to clipboard.\"}}),_c('router-link',{staticClass:\"ml-4\",attrs:{\"to\":{ name: 'Explore', query: _vm.generateOpenSearchQuery(props.row.ioc) }}},[_c('i',{staticClass:\"fas fa-search\",attrs:{\"aria-hidden\":\"true\",\"title\":\"Search sketch for all events containing this IOC.\"}})]),_c('explore-preview',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"searchQuery\":_vm.generateOpenSearchQuery(props.row.ioc)['q']}})]}}],null,false,3904015794)}),_c('b-table-column',{attrs:{\"field\":\"ioc\",\"label\":\"Indicator data\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('code',[_vm._v(_vm._s(props.row.ioc))])]}}],null,false,2290414082)}),_c('b-table-column',{attrs:{\"field\":\"tags\",\"label\":\"Tags\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('b-taglist',_vm._l((_vm.getEnrichedTags(props.row.tags)),function(tag){return _c('b-tag',{key:tag.name,attrs:{\"type\":(\"is-\" + (tag.class) + \" is-light\")}},[_c('router-link',{attrs:{\"to\":{ name: 'Explore', query: _vm.generateOrOpenSearchQuery(_vm.tagInfo[tag.name].iocs) }}},[_c('i',{staticClass:\"fas fa-search\",attrs:{\"aria-hidden\":\"true\",\"title\":\"Search sketch for all IOCs with this tag.\"}})]),_vm._v(\"\\n                      \"+_vm._s(tag.name)+\"\\n                    \")],1)}),1)]}}],null,false,515723883)}),_c('b-table-column',{attrs:{\"field\":\"edit\",\"label\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('span',{staticClass:\"icon is-small\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"title\":\"Edit IOC\"},on:{\"click\":function($event){return _vm.startIOCEdit(props.row, props.index)}}},[_c('i',{staticClass:\"fas fa-edit\"})])]}}],null,false,662634871)}),_c('b-table-column',{attrs:{\"field\":\"delete\",\"label\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('span',{staticClass:\"icon is-small delete-ioc\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"title\":\"Delete IOC\"},on:{\"click\":function($event){return _vm.deleteIoc(props.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})])]}}],null,false,2208852308)})],1):_c('div',{staticClass:\"card-content\"},[_vm._v(\"\\n                Examine events in the \"),_c('router-link',{attrs:{\"to\":{ name: 'Explore' }}},[_vm._v(\"Explore view\")]),_vm._v(\" to add\\n                intelligence locally\\n              \")],1)],1)])])]),(Object.keys(_vm.tagMetadata).length > 0)?_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"card\"},[_vm._m(0),_c('div',{staticClass:\"card-content\"},[(Object.keys(_vm.tagInfo).length > 0)?_c('b-table',{attrs:{\"data\":Object.values(_vm.tagInfo),\"default-sort\":\"tag.weight\",\"default-sort-direction\":\"desc\"}},[_c('b-table-column',{attrs:{\"field\":\"search\",\"label\":\"\",\"width\":\"1em\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('router-link',{attrs:{\"to\":{ name: 'Explore', query: _vm.generateOrOpenSearchQuery(props.row.iocs) }}},[_c('i',{staticClass:\"fas fa-search\",attrs:{\"aria-hidden\":\"true\",\"title\":\"Search sketch for all IOCs with this tag.\"}})])]}}],null,false,3289868029)}),_c('b-table-column',{attrs:{\"field\":\"tag.name\",\"label\":\"Tag name\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('b-tag',{attrs:{\"type\":(\"is-\" + (props.row.tag.class) + \" is-light\")}},[_vm._v(_vm._s(props.row.tag.name)+\" \")])]}}],null,false,1622658425)}),_c('b-table-column',{attrs:{\"field\":\"count\",\"label\":\"IOCs tagged\",\"sortable\":\"\",\"numeric\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\"\\n                  \"+_vm._s(props.row.count)+\"\\n                \")]}}],null,false,3799711614)}),_c('b-table-column',{attrs:{\"field\":\"tag.weight\",\"label\":\"Weight\",\"width\":\"2em\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\"\\n                  \"+_vm._s(props.row.tag.weight)+\"\\n                \")]}}],null,false,4200456513)})],1):_c('span',[_vm._v(\"No IOCs have been tagged yet.\")])],1)])]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"card\"},[_vm._m(1),_c('div',{staticClass:\"card-content\"},[(_vm.sketchTags.length > 0)?_c('b-table',{attrs:{\"data\":_vm.sketchTags}},[_c('b-table-column',{attrs:{\"field\":\"search\",\"label\":\"\",\"width\":\"1em\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('router-link',{attrs:{\"to\":{ name: 'Explore', query: _vm.generateOpenSearchQuery(props.row.tag, 'tag') }}},[_c('i',{staticClass:\"fas fa-search\",attrs:{\"aria-hidden\":\"true\",\"title\":\"Search sketch for all events with this tag.\"}})])]}}],null,false,2709630419)}),_c('b-table-column',{attrs:{\"field\":\"tag\",\"label\":\"Tag\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('b-tag',{attrs:{\"type\":\"is-info is-light\"}},[_vm._v(_vm._s(props.row.tag)+\" \")])]}}],null,false,2294089514)}),_c('b-table-column',{attrs:{\"field\":\"count\",\"label\":\"Events tagged\",\"sortable\":\"\",\"numeric\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\"\\n                  \"+_vm._s(props.row.count)+\"\\n                \")]}}],null,false,3799711614)})],1):_c('span',[_vm._v(\"No events have been tagged yet.\")])],1)])])]):_vm._e()])]):_vm._e(),_vm._m(2)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"\\n                Tag list \"),_c('i',{staticClass:\"fas fa-question-circle\",attrs:{\"title\":\"Tags that have been associated with IOCs.\"}})]),_c('p',{staticClass:\"card-header-icon\"},[_c('span',{staticClass:\"icon\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"\\n                Event tags \"),_c('i',{staticClass:\"fas fa-question-circle\",attrs:{\"title\":\"Tags that have been applied to events.\"}})]),_c('p',{staticClass:\"card-header-icon\"},[_c('span',{staticClass:\"icon\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.previewData.length && !_vm.displayInline)?_c('span',{on:{\"mouseenter\":function($event){return _vm.delayDisplay(true, 0)},\"mouseleave\":function($event){return _vm.delayDisplay(false, 500)}}},[_c('b-tag',{attrs:{\"rounded\":\"\",\"type\":\"is-success is-light\"}},[_c('span',{staticClass:\"icon is-medium\"},[_c('i',{staticClass:\"fas fa-eye\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\"\\n    \"+_vm._s(_vm.previewData.length)+\"\\n  \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpen),expression:\"isOpen\"}],staticClass:\"preview-box-floating\"},[_c('div',{staticClass:\"preview-title\"},[_vm._v(\"\\n      Previewing results for \"),_c('code',[_vm._v(_vm._s(_vm.searchQuery))])]),_c('event-list',{attrs:{\"eventList\":_vm.previewData,\"order\":\"asc\",\"displayOptions\":{ showEmojis: false, showMillis: false, showTags: true },\"selectedFields\":[{ field: 'message', type: 'text' }],\"searchNode\":_vm.previewSearchNode}})],1)],1):(_vm.displayInline)?_c('span',[_vm._v(\"\\n  Live preview: \"+_vm._s(_vm.previewData.length || 'No')+\" matching events.\\n  \"),(_vm.previewData.length)?_c('event-list',{attrs:{\"eventList\":_vm.previewData,\"order\":\"asc\",\"displayOptions\":{ showEmojis: false, showMillis: false, showTags: true },\"selectedFields\":[{ field: 'message', type: 'text' }],\"searchNode\":_vm.previewSearchNode}}):_vm._e()],1):_c('b-tag',{staticStyle:{\"opacity\":\"0.5\"},attrs:{\"rounded\":\"\",\"type\":\"is-light\"}},[_c('span',{staticClass:\"icon is-medium\"},[_c('i',{staticClass:\"fas fa-eye-slash\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\"0\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <!-- Floating -->\n  <span\n    v-if=\"previewData.length && !displayInline\"\n    @mouseenter=\"delayDisplay(true, 0)\"\n    @mouseleave=\"delayDisplay(false, 500)\"\n  >\n    <b-tag rounded type=\"is-success is-light\">\n      <span class=\"icon is-medium\"><i class=\"fas fa-eye\" aria-hidden=\"true\"></i></span>\n      {{ previewData.length }}\n    </b-tag>\n    <div class=\"preview-box-floating\" v-show=\"isOpen\">\n      <div class=\"preview-title\">\n        Previewing results for <code>{{ searchQuery }}</code>\n      </div>\n      <event-list\n        :eventList=\"previewData\"\n        order=\"asc\"\n        :displayOptions=\"{ showEmojis: false, showMillis: false, showTags: true }\"\n        :selectedFields=\"[{ field: 'message', type: 'text' }]\"\n        :searchNode=\"previewSearchNode\"\n      ></event-list>\n    </div>\n  </span>\n\n  <!-- Inline -->\n  <span v-else-if=\"displayInline\">\n    Live preview: {{ previewData.length || 'No' }} matching events.\n    <event-list\n      v-if=\"previewData.length\"\n      :eventList=\"previewData\"\n      order=\"asc\"\n      :displayOptions=\"{ showEmojis: false, showMillis: false, showTags: true }\"\n      :selectedFields=\"[{ field: 'message', type: 'text' }]\"\n      :searchNode=\"previewSearchNode\"\n    ></event-list>\n  </span>\n\n  <!-- No results -->\n  <b-tag v-else rounded type=\"is-light\" style=\"opacity: 0.5\">\n    <span class=\"icon is-medium\"><i class=\"fas fa-eye-slash\" aria-hidden=\"true\"></i></span>0\n  </b-tag>\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport EventList from '../Explore/EventList'\nimport _ from 'lodash'\n\nexport default {\n  components: { EventList },\n  props: {\n    searchQuery: [String],\n    displayInline: { type: Boolean, default: false },\n  },\n  data() {\n    return {\n      previewData: [],\n      responseMeta: null,\n      previewSearchNode: null,\n      isOpen: false,\n      timer: null,\n    }\n  },\n  methods: {\n    refreshPreview: function () {\n      var formData = { query: this.searchQuery, parent: this.currentSearchNode.id }\n      ApiClient.search(this.sketch.id, formData).then((response) => {\n        this.previewData = response.data.objects\n        this.previewSearchNode = response.data.meta.search_node\n      })\n    },\n    delayDisplay: function (state, timeout) {\n      if (!this.previewData.length) {\n        return\n      }\n      clearTimeout(this.timer)\n      this.timer = setTimeout(() => {\n        this.isOpen = state\n      }, timeout)\n    },\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    currentSearchNode() {\n      return this.$store.state.currentSearchNode || { id: 0 }\n    },\n  },\n  mounted() {\n    this.refreshPreview()\n  },\n  watch: {\n    searchQuery: _.debounce(function (newQuery) {\n      this.refreshPreview(newQuery)\n    }, 300),\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.preview-box-floating {\n  z-index: 100;\n  position: absolute;\n  background: var(--background-color);\n  width: 60%;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  height: auto;\n  overflow: scroll;\n}\n\n.preview-title {\n  padding: 5px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorePreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorePreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExplorePreview.vue?vue&type=template&id=5fbb1a06&scoped=true&\"\nimport script from \"./ExplorePreview.vue?vue&type=script&lang=js&\"\nexport * from \"./ExplorePreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExplorePreview.vue?vue&type=style&index=0&id=5fbb1a06&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fbb1a06\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"box\"},[_c('h1',{staticClass:\"subtitle\"},[_vm._v(\"Compose IOC\")]),_c('b-field',{attrs:{\"label-position\":\"on-border\"}},[_c('b-input',{attrs:{\"custom-class\":\"ioc-input\",\"type\":\"textarea\"},model:{value:(_vm.composeIoc.ioc),callback:function ($$v) {_vm.$set(_vm.composeIoc, \"ioc\", $$v)},expression:\"composeIoc.ioc\"}})],1),_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-field',[_c('b-select',{attrs:{\"placeholder\":\"IOC type\",\"label\":\"IOC type\",\"label-position\":\"on-border\"},model:{value:(_vm.composeIoc.type),callback:function ($$v) {_vm.$set(_vm.composeIoc, \"type\", $$v)},expression:\"composeIoc.type\"}},_vm._l((_vm.IOCTypes),function(option){return _c('option',{key:option.type,domProps:{\"value\":option.type}},[_vm._v(\"\\n            \"+_vm._s(option.type)+\"\\n          \")])}),0)],1),_c('b-field',[_c('b-taginput',{attrs:{\"ellipsis\":\"\",\"icon\":\"label\",\"placeholder\":\"Add a tag\",\"aria-close-label\":\"Delete this tag\"},model:{value:(_vm.editableTags),callback:function ($$v) {_vm.editableTags=$$v},expression:\"editableTags\"}})],1),_c('b-field',{attrs:{\"message\":\"Readonly tags\"}},[_c('b-taginput',{attrs:{\"readonly\":\"\",\"ellipsis\":\"\",\"closable\":false,\"field\":\"name\"},model:{value:(_vm.readonlyTags),callback:function ($$v) {_vm.readonlyTags=$$v},expression:\"readonlyTags\"}})],1),_c('b-field',{attrs:{\"grouped\":\"\",\"expanded\":\"\",\"position\":\"is-right\"}},[_c('p',{staticClass:\"control\"},[_c('b-button',{attrs:{\"type\":\"is-primary\"},on:{\"click\":_vm.saveIoc}},[_vm._v(\"Save\")])],1),_c('p',{staticClass:\"control\"},[_c('b-button',{on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\"Cancel\")])],1)])],1),_c('b-field',{attrs:{\"label\":\"External reference (URI)\"}},[_c('b-input',{model:{value:(_vm.composeIoc.externalURI),callback:function ($$v) {_vm.$set(_vm.composeIoc, \"externalURI\", $$v)},expression:\"composeIoc.externalURI\"}})],1),_c('explore-preview',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"searchQuery\":_vm.generateOpenSearchQuery(_vm.composeIoc.ioc)['q'],\"display-inline\":true}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <section class=\"box\">\n      <h1 class=\"subtitle\">Compose IOC</h1>\n      <b-field label-position=\"on-border\">\n        <b-input custom-class=\"ioc-input\" type=\"textarea\" v-model=\"composeIoc.ioc\"></b-input>\n      </b-field>\n      <b-field grouped>\n        <b-field>\n          <b-select placeholder=\"IOC type\" v-model=\"composeIoc.type\" label=\"IOC type\" label-position=\"on-border\">\n            <option v-for=\"option in IOCTypes\" :value=\"option.type\" :key=\"option.type\">\n              {{ option.type }}\n            </option>\n          </b-select>\n        </b-field>\n        <b-field>\n          <b-taginput\n            v-model=\"editableTags\"\n            ellipsis\n            icon=\"label\"\n            placeholder=\"Add a tag\"\n            aria-close-label=\"Delete this tag\"\n          >\n          </b-taginput>\n        </b-field>\n        <b-field message=\"Readonly tags\">\n          <b-taginput readonly v-model=\"readonlyTags\" ellipsis :closable=\"false\" field=\"name\" />\n        </b-field>\n\n        <b-field grouped expanded position=\"is-right\">\n          <p class=\"control\">\n            <b-button type=\"is-primary\" @click=\"saveIoc\">Save</b-button>\n          </p>\n          <p class=\"control\">\n            <b-button @click=\"$parent.close()\">Cancel</b-button>\n          </p>\n        </b-field>\n      </b-field>\n      <b-field label=\"External reference (URI)\">\n        <b-input v-model=\"composeIoc.externalURI\"></b-input>\n      </b-field>\n      <explore-preview\n        style=\"margin-left: 10px\"\n        :searchQuery=\"generateOpenSearchQuery(composeIoc.ioc)['q']\"\n        :display-inline=\"true\"\n      ></explore-preview>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { IOCTypes } from '@/utils/tagMetadata'\nimport ExplorePreview from '@/components/Common/ExplorePreview'\n\nexport default {\n  components: { ExplorePreview },\n  props: ['value'],\n  data() {\n    let newobj = JSON.parse(JSON.stringify(this.value))\n    return {\n      composeIoc: newobj,\n      editableTags: newobj.tags.filter((tag) => typeof tag === 'string'),\n      readonlyTags: newobj.tags.filter((tag) => typeof tag === 'object'),\n      IOCTypes: IOCTypes,\n    }\n  },\n  methods: {\n    saveIoc() {\n      this.$parent.close()\n      this.composeIoc.tags = this.editableTags.concat(this.readonlyTags)\n      this.$emit('input', this.composeIoc)\n    },\n    generateOpenSearchQuery(value, field) {\n      if (value === undefined) {\n        return { q: '' }\n      }\n      let query = `\"${value}\"`\n      // Escape special OpenSearch characters: \\, [space]\n      query = query.replace(/[\\\\\\s]/g, '\\\\$&')\n      if (field !== undefined) {\n        query = `${field}:${query}`\n      }\n      return { q: query }\n    },\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.ioc-input {\n  font-family: monospace;\n}\n\n.delete-ioc {\n  cursor: pointer;\n  color: #da1039;\n}\n\n.fa-question-circle {\n  margin-left: 0.6em;\n  opacity: 0.5;\n}\n\n.new-ioc i {\n  margin-right: 0.5em;\n}\n.new-ioc {\n  margin-left: 0.5em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsIocCompose.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsIocCompose.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TsIocCompose.vue?vue&type=template&id=fad06f9e&\"\nimport script from \"./TsIocCompose.vue?vue&type=script&lang=js&\"\nexport * from \"./TsIocCompose.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TsIocCompose.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary currentAppContext=\"sketch\" currentPage=\"intelligence\"></ts-navbar-secondary>\n\n    <!-- IOC table -->\n    <section class=\"section\" v-if=\"Object.keys(tagMetadata).length > 0\">\n      <div class=\"container is-fluid\">\n        <div class=\"columns\">\n          <div class=\"column\">\n            <div class=\"card\">\n              <div class=\"card-header\">\n                <p class=\"card-header-title\">\n                  Indicators of compromise\n                  <b-button @click=\"startIOCEdit(getNewIoc(), -1)\" type=\"is-success\" size=\"is-small\" class=\"new-ioc\">\n                    <i class=\"fas fa-plus-circle\" aria-hidden=\"true\"></i>\n                    Add new\n                  </b-button>\n                </p>\n              </div>\n              <div class=\"card-content\">\n                <b-table v-if=\"intelligenceData.length > 0\" :data=\"intelligenceData\">\n                  <b-table-column field=\"type\" label=\"IOC Type\" v-slot=\"props\" sortable>\n                    <code>{{ props.row.type }}</code>\n                  </b-table-column>\n\n                  <b-table-column field=\"externalURI\" label=\"External ref.\" v-slot=\"props\" sortable>\n                    <a\n                      v-if=\"getValidUrl(props.row.externalURI)\"\n                      :href=\"getValidUrl(props.row.externalURI)\"\n                      target=\"_blank\"\n                    >\n                      <i class=\"fas fa-external-link-alt\"></i> {{ getValidUrl(props.row.externalURI).host }}\n                    </a>\n                    <span v-else>{{ props.row.externalURI }}</span>\n                  </b-table-column>\n\n                  <b-table-column field=\"ioc\" label=\"\" v-slot=\"props\" width=\"10em\">\n                    <i\n                      class=\"fas fa-copy\"\n                      style=\"cursor: pointer\"\n                      title=\"Copy IOC to clipboard.\"\n                      v-clipboard:copy=\"props.row.ioc\"\n                      v-clipboard:success=\"notifyClipboardSuccess\"\n                    ></i>\n                    <router-link :to=\"{ name: 'Explore', query: generateOpenSearchQuery(props.row.ioc) }\" class=\"ml-4\">\n                      <i\n                        class=\"fas fa-search\"\n                        aria-hidden=\"true\"\n                        title=\"Search sketch for all events containing this IOC.\"\n                      ></i>\n                    </router-link>\n                    <explore-preview\n                      style=\"margin-left: 10px\"\n                      :searchQuery=\"generateOpenSearchQuery(props.row.ioc)['q']\"\n                    ></explore-preview>\n                  </b-table-column>\n\n                  <b-table-column field=\"ioc\" label=\"Indicator data\" v-slot=\"props\" sortable>\n                    <code>{{ props.row.ioc }}</code>\n                  </b-table-column>\n\n                  <b-table-column field=\"tags\" label=\"Tags\" v-slot=\"props\">\n                    <b-taglist>\n                      <b-tag\n                        v-for=\"tag in getEnrichedTags(props.row.tags)\"\n                        v-bind:key=\"tag.name\"\n                        :type=\"`is-${tag.class} is-light`\"\n                      >\n                        <router-link\n                          :to=\"{ name: 'Explore', query: generateOrOpenSearchQuery(tagInfo[tag.name].iocs) }\"\n                        >\n                          <i\n                            class=\"fas fa-search\"\n                            aria-hidden=\"true\"\n                            title=\"Search sketch for all IOCs with this tag.\"\n                          ></i>\n                        </router-link>\n                        {{ tag.name }}\n                      </b-tag>\n                    </b-taglist>\n                  </b-table-column>\n\n                  <b-table-column field=\"edit\" label=\"\" v-slot=\"props\">\n                    <span\n                      class=\"icon is-small\"\n                      style=\"cursor: pointer\"\n                      title=\"Edit IOC\"\n                      @click=\"startIOCEdit(props.row, props.index)\"\n                      ><i class=\"fas fa-edit\"></i>\n                    </span>\n                  </b-table-column>\n\n                  <b-table-column field=\"delete\" label=\"\" v-slot=\"props\">\n                    <span\n                      class=\"icon is-small delete-ioc\"\n                      style=\"cursor: pointer\"\n                      title=\"Delete IOC\"\n                      @click=\"deleteIoc(props.row)\"\n                      ><i class=\"fas fa-trash\"></i>\n                    </span>\n                  </b-table-column>\n                </b-table>\n                <!-- End IOC table, empty palceholder follows -->\n                <div v-else class=\"card-content\">\n                  Examine events in the <router-link :to=\"{ name: 'Explore' }\">Explore view</router-link> to add\n                  intelligence locally\n                </div>\n              </div>\n            </div>\n          </div>\n          <!-- end column -->\n        </div>\n        <!-- end columns -->\n\n        <!-- Tag & label list columns -->\n        <div class=\"columns\" v-if=\"Object.keys(tagMetadata).length > 0\">\n          <!-- tag column -->\n          <div class=\"column\">\n            <div class=\"card\">\n              <div class=\"card-header\">\n                <p class=\"card-header-title\">\n                  Tag list <i class=\"fas fa-question-circle\" title=\"Tags that have been associated with IOCs.\"></i>\n                </p>\n                <p class=\"card-header-icon\">\n                  <span class=\"icon\"> </span>\n                </p>\n              </div>\n              <div class=\"card-content\">\n                <b-table\n                  v-if=\"Object.keys(tagInfo).length > 0\"\n                  :data=\"Object.values(tagInfo)\"\n                  default-sort=\"tag.weight\"\n                  default-sort-direction=\"desc\"\n                >\n                  <b-table-column field=\"search\" label=\"\" v-slot=\"props\" width=\"1em\">\n                    <router-link :to=\"{ name: 'Explore', query: generateOrOpenSearchQuery(props.row.iocs) }\">\n                      <i class=\"fas fa-search\" aria-hidden=\"true\" title=\"Search sketch for all IOCs with this tag.\"></i>\n                    </router-link>\n                  </b-table-column>\n                  <b-table-column field=\"tag.name\" label=\"Tag name\" v-slot=\"props\" sortable>\n                    <b-tag :type=\"`is-${props.row.tag.class} is-light`\">{{ props.row.tag.name }} </b-tag>\n                  </b-table-column>\n                  <b-table-column field=\"count\" label=\"IOCs tagged\" v-slot=\"props\" sortable numeric>\n                    {{ props.row.count }}\n                  </b-table-column>\n                  <b-table-column field=\"tag.weight\" label=\"Weight\" v-slot=\"props\" width=\"2em\" sortable>\n                    {{ props.row.tag.weight }}\n                  </b-table-column>\n                </b-table>\n                <span v-else>No IOCs have been tagged yet.</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- labels column -->\n          <div class=\"column\">\n            <div class=\"card\">\n              <div class=\"card-header\">\n                <p class=\"card-header-title\">\n                  Event tags <i class=\"fas fa-question-circle\" title=\"Tags that have been applied to events.\"></i>\n                </p>\n                <p class=\"card-header-icon\">\n                  <span class=\"icon\"> </span>\n                </p>\n              </div>\n\n              <div class=\"card-content\">\n                <b-table v-if=\"sketchTags.length > 0\" :data=\"sketchTags\">\n                  <b-table-column field=\"search\" label=\"\" v-slot=\"props\" width=\"1em\">\n                    <router-link :to=\"{ name: 'Explore', query: generateOpenSearchQuery(props.row.tag, 'tag') }\">\n                      <i\n                        class=\"fas fa-search\"\n                        aria-hidden=\"true\"\n                        title=\"Search sketch for all events with this tag.\"\n                      ></i>\n                    </router-link>\n                  </b-table-column>\n                  <b-table-column field=\"tag\" label=\"Tag\" v-slot=\"props\" sortable>\n                    <b-tag type=\"is-info is-light\">{{ props.row.tag }} </b-tag>\n                  </b-table-column>\n                  <b-table-column field=\"count\" label=\"Events tagged\" v-slot=\"props\" sortable numeric>\n                    {{ props.row.count }}\n                  </b-table-column>\n                </b-table>\n                <span v-else>No events have been tagged yet.</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\"></div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash'\nimport ApiClient from '../utils/RestApiClient'\nimport { SnackbarProgrammatic as Snackbar } from 'buefy'\nimport { IOCTypes } from '../utils/tagMetadata'\nimport ExplorePreview from '../components/Common/ExplorePreview'\nimport TsIocCompose from '../components/Common/TsIocCompose'\n\nexport default {\n  components: { ExplorePreview },\n  data() {\n    return {\n      sketchTags: [],\n      tagInfo: {},\n      tagMetadata: {},\n      editingIoc: {},\n      isNew: false,\n      showEditModal: false,\n      IOCTypes: IOCTypes,\n    }\n  },\n  methods: {\n    deleteIoc(ioc) {\n      if (confirm('Delete IOC?')) {\n        var data = this.intelligenceData.filter((i) => i.ioc !== ioc.ioc)\n        ApiClient.addSketchAttribute(this.sketch.id, 'intelligence', { data: data }, 'intelligence').then(() => {\n          this.loadSketchAttributes()\n        })\n      }\n    },\n    getNewIoc() {\n      return {\n        ioc: null,\n        type: 'other',\n        externalURI: null,\n        tags: [],\n      }\n    },\n    getValidUrl(urlString) {\n      if (urlString === undefined || urlString === null || urlString === '') {\n        return false\n      }\n      if (urlString.startsWith('http')) {\n        return new URL(urlString)\n      } else if (urlString.includes('/')) {\n        return new URL('http://' + urlString)\n      } else {\n        return false\n      }\n    },\n    loadSketchAttributes() {\n      this.$store.dispatch('updateSketch', this.$store.state.sketch.id)\n      // buildTagInfo depends on tagMetadata to be present.\n      ApiClient.getTagMetadata().then((response) => {\n        this.tagMetadata = response.data\n        this.buildTagInfo()\n      })\n    },\n    loadSketchTags() {\n      ApiClient.runAggregator(this.sketch.id, {\n        aggregator_name: 'field_bucket',\n        aggregator_parameters: { field: 'tag' },\n      }).then((response) => {\n        this.sketchTags = response.data.objects[0].field_bucket.buckets\n        // of the form [{count: 0, tag: 'foo'}]\n      })\n    },\n    notifyClipboardSuccess() {\n      this.$buefy.notification.open({ message: 'Succesfully copied data to clipboard!', type: 'is-success' })\n    },\n    buildTagInfo() {\n      // We need tagMetadata to be embedded in the list below as it is used\n      // for sorting in the table.\n      this.tagInfo = {}\n      for (var ioc of this.intelligenceData) {\n        for (var tag of ioc.tags) {\n          // deal with the case when tag is an object that is alread enriched.\n          var tagKey = null\n          if (typeof tag === 'object') {\n            tagKey = tag.name\n          } else {\n            tagKey = tag\n          }\n          if (!this.tagInfo[tagKey]) {\n            this.tagInfo[tagKey] = {\n              count: 0,\n              iocs: [],\n              tag: this.enrichTag(tag),\n            }\n          }\n          this.tagInfo[tagKey].count++\n          this.tagInfo[tagKey].iocs.push(ioc.ioc)\n        }\n      }\n    },\n    getEnrichedTags(tags) {\n      let enriched = tags.map((tag) => this.enrichTag(tag)).sort((a, b) => b.weight - a.weight)\n      console.log(enriched)\n      return enriched\n    },\n    enrichTag(tag) {\n      if (typeof tag === 'object') {\n        return tag\n      } else {\n        let tagInfo = { name: tag }\n        if (this.tagMetadata[tag]) {\n          return _.extend(tagInfo, this.tagMetadata[tag])\n        } else {\n          for (var regex in this.tagMetadata['regexes']) {\n            if (tag.match(regex)) {\n              return _.extend(tagInfo, this.tagMetadata['regexes'][regex])\n            }\n          }\n          return _.extend(tagInfo, this.tagMetadata.default)\n        }\n      }\n    },\n    // TODO: Use filter chips instead\n    generateOrOpenSearchQuery(iocs) {\n      let query = iocs.map((v) => `\"${v}\"`).reduce((a, b) => `${a} OR ${b}`)\n      return { q: query }\n    },\n    generateOpenSearchQuery(value, field) {\n      let query = `\"${value}\"`\n      // Escape special OpenSearch characters: \\, [space]\n      query = query.replace(/[\\\\\\s]/g, '\\\\$&')\n      if (field !== undefined) {\n        query = `${field}:${query}`\n      }\n      return { q: query }\n    },\n    startIOCEdit(ioc, index) {\n      this.$buefy.modal.open({\n        parent: this,\n        component: TsIocCompose,\n        props: { value: ioc },\n        events: {\n          input: (value) => {\n            if (index === -1) {\n              this.intelligenceAttribute.value.data.push(value)\n            } else {\n              // Assigning a value to the array doesn't seem to trigger data refresh, we have to use splice\n              this.intelligenceAttribute.value.data.splice(index, 1, value)\n            }\n            this.saveIntelligence()\n          },\n        },\n      })\n    },\n    saveIntelligence() {\n      // console.log(this.intelligenceAttribute.value)\n      ApiClient.addSketchAttribute(this.sketch.id, 'intelligence', this.intelligenceAttribute.value, 'intelligence')\n        .then(() => {\n          Snackbar.open({\n            message: 'Intelligence successfully updated!',\n            type: 'is-success',\n            position: 'is-top',\n            actionText: 'Dismiss',\n            indefinite: false,\n          })\n          this.showEditModal = false\n          this.buildTagInfo()\n        })\n        .catch((e) => {\n          Snackbar.open({\n            message: 'IOC update failed.',\n            type: 'is-danger',\n            position: 'is-top',\n            indefinite: false,\n          })\n        })\n    },\n  },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n    intelligenceAttribute() {\n      if (this.meta.attributes.intelligence === undefined) {\n        return { ontology: 'intelligence', value: { data: [] }, name: 'intelligence' }\n      }\n      return this.meta.attributes.intelligence\n    },\n    intelligenceData() {\n      return this.intelligenceAttribute.value.data\n    },\n  },\n  mounted() {\n    this.loadSketchAttributes()\n    this.loadSketchTags()\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.ioc-input {\n  font-family: monospace;\n}\n\n.delete-ioc {\n  cursor: pointer;\n  color: #da1039;\n}\n\n.fa-question-circle {\n  margin-left: 0.6em;\n  opacity: 0.5;\n}\n\n.new-ioc i {\n  margin-right: 0.5em;\n}\n.new-ioc {\n  margin-left: 0.5em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intelligence.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intelligence.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Intelligence.vue?vue&type=template&id=e658ffcc&\"\nimport script from \"./Intelligence.vue?vue&type=script&lang=js&\"\nexport * from \"./Intelligence.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Intelligence.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}])}),_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"\"}}),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\",staticStyle:{\"min-height\":\"160px\"}},[_vm._m(0),_c('div',{staticClass:\"card-content\"},[_c('ts-view-list',{attrs:{\"views\":_vm.meta.views,\"controls\":true}})],1)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\"Manage Saved Views\")])])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary currentAppContext=\"sketch\" currentPage=\"\"></ts-navbar-secondary>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\" style=\"min-height:160px;\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\">Manage Saved Views</p>\n          </header>\n          <div class=\"card-content\">\n            <ts-view-list :views=\"meta.views\" :controls=\"true\"></ts-view-list>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport TsViewList from '../components/Common/ViewList'\n\nexport default {\n  components: { TsViewList },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedSearches.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedSearches.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SavedSearches.vue?vue&type=template&id=7b828559&\"\nimport script from \"./SavedSearches.vue?vue&type=script&lang=js&\"\nexport * from \"./SavedSearches.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Sigma.vue?vue&type=template&id=488edacc&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ts-navbar-main',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.sketch.name)+\"\\n    \")]},proxy:true}])}),_c('ts-navbar-secondary',{attrs:{\"currentAppContext\":\"sketch\",\"currentPage\":\"sigma\"}}),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container is-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-content\"},[_c('ts-sigma-list')],1)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-modal',{attrs:{\"active\":_vm.showEditModal},on:{\"update:active\":function($event){_vm.showEditModal=$event}}},[_c('section',{staticClass:\"box\"},[_c('h1',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.save_button_text)+\" Sigma Rule\")]),_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('div',{staticStyle:{\"width\":\"50%\",\"height\":\"80px\",\"float\":\"left\"}},[_c('h2',[_vm._v(\"Templates\")]),_c('b-select',{attrs:{\"placeholder\":\"Templates\",\"label\":\"Templates\",\"label-position\":\"on-border\"},model:{value:(_vm.editingRule.rule_yaml),callback:function ($$v) {_vm.$set(_vm.editingRule, \"rule_yaml\", $$v)},expression:\"editingRule.rule_yaml\"}},_vm._l((_vm.SigmaTemplates),function(template){return _c('option',{key:template.os,domProps:{\"value\":template.text}},[_vm._v(\"\\n              \"+_vm._s(template.os)+\"\\n            \")])}),0)],1),_c('div',{staticStyle:{\"margin-left\":\"50%\",\"height\":\"80px\"}},[_c('div',[_vm._v(\"Parsed rule Search query:\\n            \"),_c('b',[_c('code',[_vm._v(_vm._s(_vm.parsed['search_query']))])]),_c('explore-preview',{attrs:{\"searchQuery\":_vm.parsed['search_query']}})],1),_c('div',[_vm._v(\"Parsing Status: \"+_vm._s(_vm.problemString))])])]),_c('b-field',{staticStyle:{\"margin-top\":\"25px\"},attrs:{\"label\":\"Edit Sigma Rule\",\"label-position\":\"on-border\"}},[_c('b-input',{attrs:{\"custom-class\":\"ioc-input\",\"type\":\"textarea\",\"rows\":\"25\"},on:{\"input\":function($event){return _vm.parseSigma(_vm.editingRule.rule_yaml)}},model:{value:(_vm.editingRule.rule_yaml),callback:function ($$v) {_vm.$set(_vm.editingRule, \"rule_yaml\", $$v)},expression:\"editingRule.rule_yaml\"}})],1),_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-field',{attrs:{\"grouped\":\"\",\"expanded\":\"\",\"position\":\"is-right\"}},[_c('p',{staticClass:\"control\"},[_c('b-button',{attrs:{\"disabled\":_vm.problemString.toLowerCase() !== 'ok',\"type\":\"is-primary\"},on:{\"click\":function($event){return _vm.addOrUpdateRule(_vm.editingRule)}}},[_vm._v(\"\\n              \"+_vm._s(_vm.save_button_text)+\"\\n            \")])],1),_c('p',{staticClass:\"control\"},[_c('b-button',{on:{\"click\":function($event){_vm.showEditModal = false}}},[_vm._v(\"Cancel\")])],1)])],1)],1)]),_c('span',{staticClass:\"icon is-small\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"title\":\"Add a rule Rule\"},on:{\"click\":function($event){return _vm.composeRule()}}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\"Add\\n  \")]),(_vm.sigmaRuleList)?_c('b-table',{key:\"props.row.id\",attrs:{\"data\":_vm.sigmaRuleList,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"paginated\":\"\",\"pagination-simple\":\"\",\"pagination-position\":\"bottom\",\"default-sort-direction\":\"desc\",\"sort-icon\":\"arrow-down\",\"sort-icon-size\":\"is-small\",\"icon-pack\":\"fas\",\"icon-prev\":\"chevron-left\",\"icon-next\":\"chevron-right\",\"default-sort\":\"title\"},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}},[_c('b-table-column',{attrs:{\"field\":\"title\",\"label\":\"Name\",\"sortable\":\"\",\"searchable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{attrs:{\"custom-class\":\"margintop-pointer\"},on:{\"click\":function($event){return _vm.startRuleEdit(props.row)}}},[_vm._v(\"\\n        \"+_vm._s(props.row.title)+\"\\n      \")])]}}],null,false,563373269)}),_c('b-table-column',{attrs:{\"field\":\"author\",\"label\":\"Author\",\"searchable\":\"\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{attrs:{\"custom-class\":\"margintop-pointer\"},on:{\"click\":function($event){return _vm.startRuleEdit(props.row)}}},[_vm._v(\"\\n        \"+_vm._s(props.row.author)+\"\\n      \")])]}}],null,false,1334194336)}),_c('b-table-column',{attrs:{\"field\":\"status\",\"label\":\"Status\",\"sortable\":\"\",\"searchable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{attrs:{\"custom-class\":\"margintop-pointer\"},on:{\"click\":function($event){return _vm.startRuleEdit(props.row)}}},[_vm._v(\"\\n        \"+_vm._s(props.row.status)+\" \"),_c('span',{staticClass:\"icon is-small\",attrs:{\"custom-class\":\"clickable\",\"title\":\"Only stable rules are used in the Sigma Analyzer\"}},[(props.row.status != 'stable')?_c('i',{staticClass:\"fas fa-info-circle\"}):_vm._e()])])]}}],null,false,1811379974)}),_c('b-table-column',{attrs:{\"field\":\"actions\",\"label\":\"Actions\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('router-link',{attrs:{\"to\":{ name: 'Explore', query: { q: props.row.search_query } }}},[_c('i',{staticClass:\"fas fa-search\",attrs:{\"aria-hidden\":\"true\",\"title\":\"Search sketch for all events with this tag.\"}})]),_c('explore-preview',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"searchQuery\":props.row.search_query}}),_c('span',{staticClass:\"icon is-small\",attrs:{\"custom-class\":\"clickable\",\"title\":\"Edit Rule\"},on:{\"click\":function($event){return _vm.startRuleEdit(props.row)}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('span',{staticClass:\"icon is-small\",attrs:{\"custom-class\":\"clickable\",\"title\":\"Delete Rule\"},on:{\"click\":function($event){return _vm.deleteRule(props.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})])]}}],null,false,529716047)})],1):_vm._e(),_c('div',{staticClass:\"container is-fluid\"},[(_vm.sketchTTP.length > 0)?_c('b-table',{attrs:{\"data\":_vm.sketchTTP}},[_c('b-table-column',{attrs:{\"field\":\"search\",\"label\":\"\",\"width\":\"1em\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('router-link',{attrs:{\"to\":{\n        name: 'Explore',\n        query: _vm.generateOpenSearchQuery(props.row.ts_ttp, 'ts_ttp') }}},[_c('i',{staticClass:\"fas fa-search\",attrs:{\"aria-hidden\":\"true\",\"title\":\"Search sketch for all events with this tag.\"}})])]}}],null,false,34645619)}),_c('b-table-column',{attrs:{\"field\":\"tag\",\"label\":\"TTP\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('b-tag',{attrs:{\"type\":\"is-info is-light\"}},[_vm._v(_vm._s(props.row.ts_ttp)+\" \")])]}}],null,false,3363046352)}),_c('b-table-column',{attrs:{\"field\":\"count\",\"label\":\"Events tagged\",\"sortable\":\"\",\"numeric\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('explore-preview',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"searchQuery\":props.row.ts_ttp}})]}}],null,false,1779333503)})],1):_c('span',[_vm._v(\"No events have been tagged yet.\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\nCopyright 2022 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n// General first part of every Sigma rule:\nconst SkeletonFirst = `title: Foobar\nid: ${crypto.randomUUID()}\ndescription: Detects suspicious FOOBAR\nreferences:\n  - https://\nauthor: \ndate: ${new Date(Date.now()).toLocaleString('en-ZA').split(',')[0]}\nmodified: ${new Date(Date.now()).toLocaleString('en-ZA').split(',')[0]}\ntags:\n    -`\n\n// General last part of every Sigma rule:\nconst SkeletonLast = `falsepositives:\n    - Unknown\nstatus: experimental\nlevel: medium\ndetection:\n    keywords:\n        - '*foobar*'\n    condition: keywords`\n\n// CLOUD:\nconst AwsText = `${SkeletonFirst}\nlogsource:\n    product: aws\n    service: cloudtrail\n${SkeletonLast}\n`\n\nconst AzureActivitylogsText = `${SkeletonFirst}\nlogsource:\n    product: azure\n    service: activitylogs\n${SkeletonLast}\n`\n\nconst AzureSigninlogsText = `${SkeletonFirst}\nlogsource:\n    product: azure\n    service: signinlogs\n${SkeletonLast}\n`\nconst GCPAuditlogsText = `${SkeletonFirst}\nlogsource:\n    product: gcp\n    service: gcp.audit\n${SkeletonLast}\n`\n\nconst GworkspaceText = `${SkeletonFirst}\nlogsource:\n    product: google_workspace\n    service: google_workspace.admin\n${SkeletonLast}\n`\n\nconst Microsoft365Text = `${SkeletonFirst}\nlogsource:\n    product: m365\n    service: threat_management\n${SkeletonLast}\n`\n\nconst OktaText = `${SkeletonFirst}\nlogsource:\n    product: okta\n    service: okta\n${SkeletonLast}\n`\n\n// LINUX:\nconst LinuxFileCreateText = `${SkeletonFirst}\nlogsource:\n    category: file_create\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxNetworkConnectionText = `${SkeletonFirst}\nlogsource:\n    category: network_connection\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxProcessCreationText = `${SkeletonFirst}\nlogsource:\n    category: process_creation\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxAnyLogsText = `${SkeletonFirst}\nlogsource:\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxAuditdText = `${SkeletonFirst}\nlogsource:\n    category: auditd\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxClamavText = `${SkeletonFirst}\nlogsource:\n    category: clamav\n    product: linux\n${SkeletonLast}\n`\nconst LinuxCronText = `${SkeletonFirst}\nlogsource:\n    category: cron\n    product: linux\n${SkeletonLast}\n`\nconst LinuxGuacamoleText = `${SkeletonFirst}\nlogsource:\n    category: guacamole\n    product: linux\n${SkeletonLast}\n`\nconst LinuxModsecurityText = `${SkeletonFirst}\nlogsource:\n    category: modsecurity\n    product: linux\n${SkeletonLast}\n`\nconst LinuxSudoText = `${SkeletonFirst}\nlogsource:\n    category: sudo\n    product: linux\n${SkeletonLast}\n`\nconst LinuxSshdText = `${SkeletonFirst}\nlogsource:\n    category: sshd\n    product: linux\n${SkeletonLast}\n`\nconst LinuxSyslogText = `${SkeletonFirst}\nlogsource:\n    category: syslog\n    product: linux\n${SkeletonLast}\n`\n\nconst LinuxVsftpdText = `${SkeletonFirst}\nlogsource:\n    category: vsftpd\n    product: linux\n${SkeletonLast}\n`\n\n// MAC OS\nconst MacosFileeventText = `${SkeletonFirst}\nlogsource:\n    category: file_event\n    product: macos\n${SkeletonLast}\n`\n\nconst MacosProcessCreationText = `${SkeletonFirst}\nlogsource:\n    category: process_creation\n    product: macos\n${SkeletonLast}\n`\n\nconst WindowsClipboardCaptureText = `${SkeletonFirst}\nlogsource:\n    category: clipboard_capture\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsCreateRemoteThreadText = `${SkeletonFirst}\nlogsource:\n    category: create_remote_thread\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsCreateStreamHashText = `${SkeletonFirst}\nlogsource:\n    category: create_stream_hash\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsDnsQueryText = `${SkeletonFirst}\nlogsource:\n    category: dns_query\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsDriverLoadText = `${SkeletonFirst}\nlogsource:\n    category: driver_load\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsFileChangeText = `${SkeletonFirst}\nlogsource:\n    category: file_change\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsFileDeleteText = `${SkeletonFirst}\nlogsource:\n    category: file_delete\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsFileEventText = `${SkeletonFirst}\nlogsource:\n    category: file_event\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsImageLoadText = `${SkeletonFirst}\nlogsource:\n    category: image_load\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsNetworkConnectionText = `${SkeletonFirst}\nlogsource:\n    category: network_connection\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPipeCreatedText = `${SkeletonFirst}\nlogsource:\n    category: pipe_created\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsProcessAccessText = `${SkeletonFirst}\nlogsource:\n    category: process_access\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsProcessCreationText = `${SkeletonFirst}\nlogsource:\n    category: process_creation\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsProcessTamperingText = `${SkeletonFirst}\nlogsource:\n    category: process_tampering\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsProcessTerminationText = `${SkeletonFirst}\nlogsource:\n    category: process_termination\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPsClassicProviderStartText = `${SkeletonFirst}\nlogsource:\n    category: ps_classic_provider_start\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPsClassicScriptText = `${SkeletonFirst}\nlogsource:\n    category: ps_classic_script\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPsClassicStartText = `${SkeletonFirst}\nlogsource:\n    category: ps_classic_start\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPsModuleText = `${SkeletonFirst}\nlogsource:\n    category: ps_module\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsPsScriptText = `${SkeletonFirst}\nlogsource:\n    category: ps_script\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRawAccessThreadText = `${SkeletonFirst}\nlogsource:\n    category: raw_access_thread\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRegistryAddText = `${SkeletonFirst}\nlogsource:\n    category: registry_add\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRegistryDeleteText = `${SkeletonFirst}\nlogsource:\n    category: registry_delete\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRegistryEventText = `${SkeletonFirst}\nlogsource:\n    category: registry_event\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRegistryRenameText = `${SkeletonFirst}\nlogsource:\n    category: registry_rename\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsRegistrySetText = `${SkeletonFirst}\nlogsource:\n    category: registry_set\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsSysmonErrorText = `${SkeletonFirst}\nlogsource:\n    category: sysmon_error\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsSysmonStatusText = `${SkeletonFirst}\nlogsource:\n    category: sysmon_status\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsWmiEventText = `${SkeletonFirst}\nlogsource:\n    category: wmi_event\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsApplicationText = `${SkeletonFirst}\nlogsource:\n    service: application\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsApplockerText = `${SkeletonFirst}\nlogsource:\n    service: applocker\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsBitsclientText = `${SkeletonFirst}\nlogsource:\n    service: bits-client\n    product: windows\n${SkeletonLast}\n`\n\nconst WindowsCodeintegrityoperationalText = `${SkeletonFirst}\nlogsource:\n    service: codeintegrity-operational\n    product: windows\n${SkeletonLast}\n`\nconst WindowsDhcpText = `${SkeletonFirst}\nlogsource:\n    service: dhcp\n    product: windows\n${SkeletonLast}\n`\nconst WindowsDnsserverText = `${SkeletonFirst}\nlogsource:\n    service:  dns-server\n    product: windows\n${SkeletonLast}\n`\nconst WindowsDriverframeworkText = `${SkeletonFirst}\nlogsource:\n    service: driver-framework\n    product: windows\n${SkeletonLast}\n`\nconst WindowsFirewallasText = `${SkeletonFirst}\nlogsource:\n    service: firewall-as\n    product: windows\n${SkeletonLast}\n`\nconst WindowsLdapDebugText = `${SkeletonFirst}\nlogsource:\n    service:  ldap_debug\n    product: windows\n${SkeletonLast}\n`\nconst WindowsMicrosoftservicebusclientText = `${SkeletonFirst}\nlogsource:\n    service: microsoft-servicebus-client\n    product: windows\n${SkeletonLast}\n`\nconst WindowsMsexchangemanagementText = `${SkeletonFirst}\nlogsource:\n    service: msexchange-management\n    product: windows\n${SkeletonLast}\n`\nconst WindowsNtlmText = `${SkeletonFirst}\nlogsource:\n    service: ntlm\n    product: windows\n${SkeletonLast}\n`\nconst WindowsPowershellText = `${SkeletonFirst}\nlogsource:\n    service: powershell\n    product: windows\n${SkeletonLast}\n`\nconst WindowsPowershellclassicText = `${SkeletonFirst}\nlogsource:\n    service: powershell-classic\n    product: windows\n${SkeletonLast}\n`\nconst WindowsPrintserviceadminText = `${SkeletonFirst}\nlogsource:\n    service: printservice-admin\n    product: windows\n${SkeletonLast}\n`\nconst WindowsPrintserviceoperationalText = `${SkeletonFirst}\nlogsource:\n    service: printservice-operational\n    product: windows\n${SkeletonLast}\n`\nconst WindowsSecurityText = `${SkeletonFirst}\nlogsource:\n    service: security\n    product: windows\n${SkeletonLast}\n`\nconst WindowsSecuritymitigationsText = `${SkeletonFirst}\nlogsource:\n    service: security-mitigations\n    product: windows\n${SkeletonLast}\n`\nconst WindowsSmbclientsecurityText = `${SkeletonFirst}\nlogsource:\n    service: smbclient-security\n    product: windows\n${SkeletonLast}\n`\nconst WindowsSysmonText = `${SkeletonFirst}\nlogsource:\n    service: sysmon\n    product: windows\n${SkeletonLast}\n`\nconst WindowsSystemText = `${SkeletonFirst}\nlogsource:\n    service: system\n    product: windows\n${SkeletonLast}\n`\nconst WindowsTaskschedulerText = `${SkeletonFirst}\nlogsource:\n    service: taskscheduler\n    product: windows\n${SkeletonLast}\n`\nconst WindowsTerminalservicesText = `${SkeletonFirst}\nlogsource:\n    service: terminalservices\n    product: windows\n${SkeletonLast}\n`\nconst WindowsWindefendText = `${SkeletonFirst}\nlogsource:\n    service: windefend\n    product: windows\n${SkeletonLast}\n`\nconst WindowsWmiText = `${SkeletonFirst}\nlogsource:\n    service: wmi\n    product: windows\n${SkeletonLast}\n`\n\nconst SigmaTemplates = [\n    { \"os\": \"Cloud: AWS\", \"text\": AwsText },\n    { \"os\": \"Cloud: Azure_activitylogs\", \"text\": AzureActivitylogsText },\n    { \"os\": \"Cloud: Azure_signinlogs\", \"text\": AzureSigninlogsText },\n    { \"os\": \"Cloud: GCP Audit logs\", \"text\": GCPAuditlogsText },\n    { \"os\": \"Cloud: GWorkspace\", \"text\": GworkspaceText },\n    { \"os\": \"Cloud: Microsoft 365\", \"text\": Microsoft365Text },\n    { \"os\": \"Cloud: Okta\", \"text\": OktaText },\n    { \"os\": \"Linux: File create\", \"text\": LinuxFileCreateText },\n    { \"os\": \"Linux: Network connection\", \"text\": LinuxNetworkConnectionText },\n    { \"os\": \"Linux: Process creation\", \"text\": LinuxProcessCreationText },\n    { \"os\": \"Linux: Any logs\", \"text\": LinuxAnyLogsText },\n    { \"os\": \"Linux: AuditD\", \"text\": LinuxAuditdText },\n    { \"os\": \"Linux: ClamAV\", \"text\": LinuxClamavText },\n    { \"os\": \"Linux: CRON\", \"text\": LinuxCronText },\n    { \"os\": \"Linux: Guacamole\", \"text\": LinuxGuacamoleText },\n    { \"os\": \"Linux: Modseurity\", \"text\": LinuxModsecurityText },\n    { \"os\": \"Linux: sudo\", \"text\": LinuxSudoText },\n    { \"os\": \"Linux: sshd\", \"text\": LinuxSshdText },\n    { \"os\": \"Linux: syslog\", \"text\": LinuxSyslogText },\n    { \"os\": \"Linux: VSFTPD\", \"text\": LinuxVsftpdText },\n    { \"os\": \"MacOS: file_event\", \"text\": MacosFileeventText },\n    { \"os\": \"MacOS: process_creation\", \"text\": MacosProcessCreationText },\n    { \"os\": \"Windows: clipboard_capture\", \"text\": WindowsClipboardCaptureText },\n    { \"os\": \"Windows: create_remote_thread\", \"text\": WindowsCreateRemoteThreadText }, // 54\n    { \"os\": \"Windows: create_stream_hash\", \"text\": WindowsCreateStreamHashText },\n    { \"os\": \"Windows: dns_query\", \"text\": WindowsDnsQueryText },\n    { \"os\": \"Windows: driver_load\", \"text\": WindowsDriverLoadText },\n    { \"os\": \"Windows: file_change\", \"text\": WindowsFileChangeText },\n    { \"os\": \"Windows: file_delete\", \"text\": WindowsFileDeleteText },\n    { \"os\": \"Windows: file_event\", \"text\": WindowsFileEventText },\n    { \"os\": \"Windows: image_load\", \"text\": WindowsImageLoadText },\n    { \"os\": \"Windows: network_connection\", \"text\": WindowsNetworkConnectionText },\n    { \"os\": \"Windows: pipe_created\", \"text\": WindowsPipeCreatedText },\n    { \"os\": \"Windows: process_access\", \"text\": WindowsProcessAccessText },\n    { \"os\": \"Windows: process_creation\", \"text\": WindowsProcessCreationText },\n    { \"os\": \"Windows: process_tampering\", \"text\": WindowsProcessTamperingText },\n    { \"os\": \"Windows: process_termination\", \"text\": WindowsProcessTerminationText },\n    { \"os\": \"Windows: ps_classic_provider_start\", \"text\": WindowsPsClassicProviderStartText },\n    { \"os\": \"Windows: ps_classic_script\", \"text\": WindowsPsClassicScriptText },\n    { \"os\": \"Windows: ps_classic_start\", \"text\": WindowsPsClassicStartText },\n    { \"os\": \"Windows: ps_module\", \"text\": WindowsPsModuleText },\n    { \"os\": \"Windows: ps_script\", \"text\": WindowsPsScriptText },\n    { \"os\": \"Windows: raw_access_thread\", \"text\": WindowsRawAccessThreadText },\n    { \"os\": \"Windows: registry_add\", \"text\": WindowsRegistryAddText },\n    { \"os\": \"Windows: registry_delete\", \"text\": WindowsRegistryDeleteText },\n    { \"os\": \"Windows: registry_event\", \"text\": WindowsRegistryEventText },\n    { \"os\": \"Windows: registry_rename\", \"text\": WindowsRegistryRenameText },\n    { \"os\": \"Windows: registry_set\", \"text\": WindowsRegistrySetText },\n    { \"os\": \"Windows: sysmon_error\", \"text\": WindowsSysmonErrorText },\n    { \"os\": \"Windows: sysmon_status\", \"text\": WindowsSysmonStatusText },\n    { \"os\": \"Windows: wmi_event\", \"text\": WindowsWmiEventText },\n    { \"os\": \"Windows: application\", \"text\": WindowsApplicationText },\n    { \"os\": \"Windows: applocker\", \"text\": WindowsApplockerText },\n    { \"os\": \"Windows: bits-client\", \"text\": WindowsBitsclientText },\n    { \"os\": \"Windows: codeintegrity-operational\", \"text\": WindowsCodeintegrityoperationalText },\n    { \"os\": \"Windows: dhcp\", \"text\": WindowsDhcpText },\n    { \"os\": \"Windows: dns-server\", \"text\": WindowsDnsserverText },\n    { \"os\": \"Windows: driver-framework\", \"text\": WindowsDriverframeworkText },\n    { \"os\": \"Windows: firewall-as\", \"text\": WindowsFirewallasText },\n    { \"os\": \"Windows: ldap_debug\", \"text\": WindowsLdapDebugText },\n    { \"os\": \"Windows: microsoft-servicebus-client\", \"text\": WindowsMicrosoftservicebusclientText },\n    { \"os\": \"Windows: msexchange-management\", \"text\": WindowsMsexchangemanagementText },\n    { \"os\": \"Windows: ntlm\", \"text\": WindowsNtlmText },\n    { \"os\": \"Windows: powershell\", \"text\": WindowsPowershellText },\n    { \"os\": \"Windows: powershell-classic\", \"text\": WindowsPowershellclassicText },\n    { \"os\": \"Windows: printservice-admin\", \"text\": WindowsPrintserviceadminText },\n    { \"os\": \"Windows: printservice-operational\", \"text\": WindowsPrintserviceoperationalText },\n    { \"os\": \"Windows: security\", \"text\": WindowsSecurityText },\n    { \"os\": \"Windows: security-mitigations\", \"text\": WindowsSecuritymitigationsText },\n    { \"os\": \"Windows: smbclient-security\", \"text\": WindowsSmbclientsecurityText },\n    { \"os\": \"Windows: sysmon\", \"text\": WindowsSysmonText },\n    { \"os\": \"Windows: system\", \"text\": WindowsSystemText },\n    { \"os\": \"Windows: taskscheduler\", \"text\": WindowsTaskschedulerText },\n    { \"os\": \"Windows: terminalservices\", \"text\": WindowsTerminalservicesText },\n    { \"os\": \"Windows: windefend\", \"text\": WindowsWindefendText },\n    { \"os\": \"Windows: wmi\", \"text\": WindowsWmiText },\n\n\n]\n\n\nexport { SigmaTemplates }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n\n    <b-modal :active.sync=\"showEditModal\">\n      <section class=\"box\">\n        <h1 class=\"subtitle\">{{save_button_text}} Sigma Rule</h1>\n        <div style=\"width: 100%;\">\n          <div style=\"width: 50%; height: 80px; float: left;\">\n            <h2>Templates</h2>\n            <b-select placeholder=\"Templates\" v-model=\"editingRule.rule_yaml\"\n              label=\"Templates\" label-position=\"on-border\">\n              <option v-for=\"template in SigmaTemplates\" :value=\"template.text\"\n                :key=\"template.os\">\n                {{ template.os }}\n              </option>\n            </b-select>\n          </div>\n          <div style=\"margin-left: 50%; height: 80px;\">\n            <div>Parsed rule Search query:\n              <b><code>{{ parsed['search_query'] }}</code></b>\n              <explore-preview :searchQuery=\"parsed['search_query']\">\n              </explore-preview>\n            </div>\n\n            <div>Parsing Status: {{problemString}}</div>\n          </div>\n        </div>\n        <b-field label=\"Edit Sigma Rule\" label-position=\"on-border\"\n          style=\"margin-top: 25px;\">\n          <b-input custom-class=\"ioc-input\" type=\"textarea\" rows=\"25\"\n            v-model=\"editingRule.rule_yaml\"\n            @input=\"parseSigma(editingRule.rule_yaml)\"></b-input>\n        </b-field>\n        <b-field grouped>\n          <b-field grouped expanded position=\"is-right\">\n            <p class=\"control\">\n              <b-button :disabled=\"problemString.toLowerCase() !== 'ok'\"\n                type=\"is-primary\" @click=\"addOrUpdateRule(editingRule)\">\n                {{save_button_text}}\n              </b-button>\n            </p>\n            <p class=\"control\">\n              <b-button @click=\"showEditModal = false\">Cancel</b-button>\n            </p>\n          </b-field>\n        </b-field>\n\n      </section>\n    </b-modal>\n    <!-- End modal -->\n\n    <span class=\"icon is-small\" style=\"cursor: pointer\" title=\"Add a rule Rule\"\n      @click=\"composeRule()\"><i class=\"fas fa-plus\"></i>Add\n    </span>\n\n    <b-table v-if=\"sigmaRuleList\" :data=\"sigmaRuleList\"\n      :current-page.sync=\"currentPage\" :per-page=\"perPage\" paginated\n      pagination-simple pagination-position=\"bottom\"\n      default-sort-direction=\"desc\" sort-icon=\"arrow-down\"\n      sort-icon-size=\"is-small\" icon-pack=\"fas\" icon-prev=\"chevron-left\"\n      icon-next=\"chevron-right\" default-sort=\"title\" key=\"props.row.id\">\n\n      <b-table-column field=\"title\" label=\"Name\" v-slot=\"props\" sortable\n        searchable>\n        <div @click=\"startRuleEdit(props.row)\" custom-class=\"margintop-pointer\">\n          {{ props.row.title }}\n        </div>\n      </b-table-column>\n\n      <b-table-column field=\"author\" label=\"Author\" v-slot=\"props\" searchable\n        sortable>\n        <div @click=\"startRuleEdit(props.row)\" custom-class=\"margintop-pointer\">\n          {{ props.row.author }}\n        </div>\n\n      </b-table-column>\n      <b-table-column field=\"status\" label=\"Status\" v-slot=\"props\" sortable\n        searchable>\n        <div @click=\"startRuleEdit(props.row)\" custom-class=\"margintop-pointer\">\n          {{ props.row.status }} <span class=\"icon is-small\"\n            custom-class=\"clickable\"\n            title=\"Only stable rules are used in the Sigma Analyzer\"><i\n              class=\"fas fa-info-circle\"\n              v-if=\"props.row.status != 'stable'\"></i>\n          </span>\n        </div>\n      </b-table-column>\n\n      <b-table-column field=\"actions\" label=\"Actions\" v-slot=\"props\">\n        <router-link\n          :to=\"{ name: 'Explore', query: { q: props.row.search_query } }\">\n          <i class=\"fas fa-search\" aria-hidden=\"true\"\n            title=\"Search sketch for all events with this tag.\"></i>\n        </router-link>\n\n        <explore-preview style=\"margin-left: 10px\"\n          :searchQuery=\"props.row.search_query\">\n        </explore-preview>\n\n        <span class=\"icon is-small\" custom-class=\"clickable\" title=\"Edit Rule\"\n          @click=\"startRuleEdit(props.row)\"><i class=\"fas fa-edit\"></i>\n        </span>\n        <span class=\"icon is-small\" custom-class=\"clickable\" title=\"Delete Rule\"\n          @click=\"deleteRule(props.row)\"><i class=\"fas fa-trash\"></i>\n        </span>\n      </b-table-column>\n    </b-table>\n    <div class=\"container is-fluid\">\n      <b-table v-if=\"sketchTTP.length > 0\" :data=\"sketchTTP\">\n        <b-table-column field=\"search\" label=\"\" v-slot=\"props\" width=\"1em\">\n          <router-link :to=\"{\n          name: 'Explore',\n          query: generateOpenSearchQuery(props.row.ts_ttp, 'ts_ttp') }\">\n            <i class=\"fas fa-search\" aria-hidden=\"true\"\n              title=\"Search sketch for all events with this tag.\"></i>\n          </router-link>\n        </b-table-column>\n\n        <b-table-column field=\"tag\" label=\"TTP\" v-slot=\"props\" sortable>\n          <b-tag type=\"is-info is-light\">{{ props.row.ts_ttp }} </b-tag>\n        </b-table-column>\n        <b-table-column field=\"count\" label=\"Events tagged\" v-slot=\"props\"\n          sortable numeric>\n          <explore-preview style=\"margin-left: 10px\"\n            :searchQuery=\"props.row.ts_ttp\">\n          </explore-preview>\n        </b-table-column>\n      </b-table>\n      <span v-else>No events have been tagged yet.</span>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport ApiClient from '../../utils/RestApiClient'\nimport ExplorePreview from '../../components/Common/ExplorePreview'\nimport { SnackbarProgrammatic as Snackbar } from 'buefy'\nimport { SigmaTemplates } from '@/utils/SigmaRuleTemplates'\nexport default {\n  components: { ExplorePreview },\n  data() {\n    return {\n      currentPage: 1,\n      ascending: false,\n      sortColumn: '',\n      perPage: 10,\n      editingRule: {},\n      showEditModal: false,\n      save_button_text: \"Update\", // false: update rule. true: create new in DB\n      sketchTags: [],\n      sketchTTP: [],\n      SigmaTemplates: SigmaTemplates,\n      text: '',\n      parsed: '',\n      problemString: 'Ok',\n    }\n  },\n  computed: {\n    sigmaRuleList() {\n      return this.$store.state.sigmaRuleList\n    },\n    sketch() {\n      return this.$store.state.sketch\n    },\n    meta() {\n      return this.$store.state.meta\n    },\n  },\n  mounted() {\n    this.loadSketchSigmaTags()\n    this.loadSketchTTP()\n  },\n  methods: {\n    // Set debounce to 300ms if parseSigma is used.\n    parseSigma: _.debounce(function (rule_yaml) { // eslint-disable-line\n      this.problemString = ''\n      ApiClient.getSigmaRuleByText(rule_yaml)\n        .then(response => {\n          this.parsed = response.data.objects[0]\n          this.problemString = 'OK'\n        })\n        .catch(e => {\n          this.problemString = e.response.data.message\n          // need to set search_query to something, to overwrite previous value\n          this.parsed['search_query'] = 'PLEASE ADJUST RULE'\n          Snackbar.open({\n            message: this.problemString,\n            type: 'is-danger',\n            position: 'is-top',\n            indefinite: false,\n          })\n        })\n    }, 300),\n    addOrUpdateRule: function (event) {\n      if (this.save_button_text === \"Create\") {\n        ApiClient.createSigmaRule(this.editingRule.rule_yaml).then(response => {\n          this.$buefy.notification.open({\n            message: 'Succesfully added Sigma rule!',\n            type: 'is-success'\n          })\n          this.showEditModal = false\n          this.sigmaRuleList.push(response.data.objects[0])\n        })\n          .catch(e => {\n            this.problemString = this.problemString = e.response.data.message\n            Snackbar.open({\n              message: this.problemString,\n              type: 'is-danger',\n              position: 'is-top',\n              indefinite: false,\n            })\n          })\n      }\n      if (this.save_button_text === \"Update\") {\n        ApiClient.updateSigmaRule(this.editingRule.id, this.editingRule.rule_yaml)\n          .then(response => {\n            this.$store.state.sigmaRuleList = this.sigmaRuleList.filter(obj => {\n              return obj.rule_uuid !== this.editingRule.rule_uuid\n            })\n            this.sigmaRuleList.push(response.data.objects[0])\n            // do not close the the edit view in case there is an error\n            this.$buefy.notification.open(\n              {\n                message: 'Succesfully modified Sigma rule!',\n                type: 'is-success'\n              })\n            this.showEditModal = false\n          })\n          .catch(e => {\n          })\n      }\n    },\n    composeRule() {\n      this.showEditModal = true\n      this.create_new_rule = true\n      this.save_button_text = \"Create\"\n      this.editingRule = { rule_yaml: this.text }\n    },\n    startRuleEdit(rule) {\n      if (rule === null)\n        console.log(\"No rule given, maybe you wanna add one?\")\n      this.save_button_text = \"Update\"\n      this.showEditModal = true\n      this.editingRule = rule\n    },\n    deleteRule(ioc) {\n      if (confirm('Delete Rule?')) {\n        ApiClient.deleteSigmaRule(ioc.rule_uuid)\n          .then(response => {\n            // remove element from Array\n            this.$store.state.sigmaRuleList = this.sigmaRuleList.filter(obj => {\n              return obj.rule_uuid !== ioc.rule_uuid\n            })\n          })\n          .catch(e => {\n            console.error(e)\n          })\n      }\n    },\n    generateOpenSearchQuery(value, field) {\n      let query = `\"${value}\"`\n      // Escape special OpenSearch characters: \\, [space]\n      query = query.replace(/[\\\\\\s]/g, '\\\\$&')\n      if (field !== undefined) {\n        query = `${field}: ${query}`\n      }\n\n      return { q: query }\n    },\n    loadSketchSigmaTags() {\n      ApiClient.runAggregator(this.sketch.id, {\n        aggregator_name: 'field_bucket',\n        aggregator_parameters: { field: 'ts_sigma_rule' },\n      }).then((response) => {\n        this.sketchTags = response.data.objects[0].field_bucket.buckets\n        // of the form [{count: 0, tag: 'foo'}]\n      })\n    },\n    loadSketchTTP() {\n      ApiClient.runAggregator(this.sketch.id, {\n        aggregator_name: 'field_bucket',\n        aggregator_parameters: { field: 'ts_ttp' },\n      }).then((response) => {\n        this.sketchTTP = response.data.objects[0].field_bucket.buckets\n        // of the form [{count: 0, tag: 'foo'}]\n      })\n    },\n    getColorFromStatus(status) {\n      if (status === 'false') return \"red\"\n      return \"green\";\n    },\n    getRuleByUUID(ruleUuid) {\n      if (Array.isArray(this.$store.state.sigmaRuleList)) {\n        var result = this.$store.state.sigmaRuleList.filter(obj => {\n          return obj.rule_uuid === ruleUuid\n        })\n        return { result }\n      } else {\n        return {\n          // If not found in the current installed rules\n          result: [{\n            \"rule_uuid\": ruleUuid,\n          }]\n        }\n      }\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\">\npre {\n  white-space: pre-wrap;\n  white-space: -moz-pre-wrap;\n  white-space: -pre-wrap;\n  white-space: -o-pre-wrap;\n  word-wrap: break-word;\n\n  .text-red {\n    color: red;\n  }\n\n  .text-green {\n    color: green;\n  }\n\n  .margintop-pointer {\n    margin-top: 5px;\n    cursor: pointer;\n  }\n\n  .clickable {\n    cursor: pointer\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SigmaList.vue?vue&type=template&id=fb1c29e0&scoped=true&\"\nimport script from \"./SigmaList.vue?vue&type=script&lang=js&\"\nexport * from \"./SigmaList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SigmaList.vue?vue&type=style&index=0&id=fb1c29e0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb1c29e0\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div>\n    <ts-navbar-main>\n      <template v-slot:left>\n        {{ sketch.name }}\n      </template>\n    </ts-navbar-main>\n\n    <ts-navbar-secondary currentAppContext=\"sketch\" currentPage=\"sigma\"></ts-navbar-secondary>\n\n    <section class=\"section\">\n      <div class=\"container is-fluid\">\n        <div class=\"card\">\n          <div class=\"card-content\">\n            <ts-sigma-list></ts-sigma-list>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport TsSigmaList from '../components/Sigma/SigmaList'\n\nexport default {\n  props: ['sketchId'],\n  components: { TsSigmaList },\n  computed: {\n    sketch() {\n      return this.$store.state.sketch\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaOverview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaOverview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SigmaOverview.vue?vue&type=template&id=1feb317e&\"\nimport script from \"./SigmaOverview.vue?vue&type=script&lang=js&\"\nexport * from \"./SigmaOverview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport Home from './views/Home'\nimport Sketch from './views/Sketch'\nimport Overview from './views/Overview'\nimport Explore from './views/Explore'\nimport Graph from './views/Graph'\nimport GraphOverview from './views/GraphOverview'\nimport GraphExplore from './views/GraphExplore'\nimport Aggregate from './views/Aggregate'\nimport Analyze from './views/Analyze'\nimport Story from './views/Story'\nimport StoryOverview from './views/StoryOverview'\nimport StoryContent from './views/StoryContent'\nimport Attributes from './views/Attributes'\nimport Intelligence from './views/Intelligence'\nimport SavedSearches from './views/SavedSearches'\nimport Sigma from './views/Sigma'\nimport SigmaOverview from './views/SigmaOverview'\n\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    name: 'Home',\n    path: '/',\n    component: Home,\n  },\n  {\n    // Sketch\n    path: '/sketch/:sketchId',\n    component: Sketch,\n    props: true,\n    children: [\n      {\n        path: '',\n        name: 'Overview',\n        component: Overview,\n      },\n      {\n        path: 'sigma',\n        component: Sigma,\n        props: true,\n        children: [\n          {\n            path: '',\n            name: 'SigmaOverview',\n            component: SigmaOverview,\n            props: true,\n          },\n        ],\n      },\n      {\n        path: 'explore',\n        name: 'Explore',\n        component: Explore,\n        props: true,\n      },\n      {\n        path: 'graph',\n        component: Graph,\n        props: true,\n        children: [\n          {\n            path: '',\n            name: 'GraphOverview',\n            component: GraphOverview,\n          },\n          {\n            path: 'explore',\n            name: 'GraphExplore',\n            component: GraphExplore,\n            props: true,\n          },\n        ],\n      },\n      {\n        path: 'aggregate',\n        name: 'Aggregate',\n        component: Aggregate,\n        props: true,\n      },\n      {\n        path: 'analyzers',\n        name: 'Analyze',\n        component: Analyze,\n        props: true,\n      },\n      {\n        path: 'story',\n        component: Story,\n        props: true,\n        children: [\n          {\n            path: '',\n            name: 'StoryOverview',\n            component: StoryOverview,\n          },\n          {\n            path: ':storyId',\n            name: 'StoryContent',\n            component: StoryContent,\n            props: true,\n          },\n        ],\n      },\n      {\n        path: 'attributes',\n        name: 'Attributes',\n        component: Attributes,\n        props: true,\n      },\n      {\n        path: 'intelligence',\n        name: 'Intelligence',\n        component: Intelligence,\n        props: true,\n      },\n      {\n        path: 'savedsearches',\n        name: 'SavedSearches',\n        component: SavedSearches,\n        props: true,\n      },\n    ],\n  },\n]\n\nexport default new VueRouter({\n  mode: 'history',\n  routes,\n})\n","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport ApiClient from './utils/RestApiClient'\n\nVue.use(Vuex)\n\nconst defaultState = currentUser => {\n  return {\n    sketch: {},\n    meta: {},\n    searchHistory: {},\n    tags: [],\n    dataTypes: [],\n    count: 0,\n    currentSearchNode: null,\n    currentUser: currentUser,\n  }\n}\n\n// Initial state\nconst state = defaultState()\n\nexport default new Vuex.Store({\n  state,\n  mutations: {\n    SET_SKETCH(state, payload) {\n      Vue.set(state, 'sketch', payload.objects[0])\n      Vue.set(state, 'meta', payload.meta)\n    },\n    SET_SEARCH_HISTORY(state, payload) {\n      Vue.set(state, 'searchHistory', payload.objects)\n    },\n    SET_TIMELINE_TAGS(state, payload) {\n      let buckets = payload.objects[0]['field_bucket']['buckets']\n      Vue.set(state, 'tags', buckets)\n    },\n    SET_DATA_TYPES(state, payload) {\n      let buckets = payload.objects[0]['field_bucket']['buckets']\n      Vue.set(state, 'dataTypes', buckets)\n    },\n    SET_COUNT(state, payload) {\n      Vue.set(state, 'count', payload)\n    },\n    SET_SEARCH_NODE(state, payload) {\n      Vue.set(state, 'currentSearchNode', payload)\n    },\n    SET_SIGMARULE_LIST(state, payload) {\n      Vue.set(state, 'sigmaRuleList', payload['objects'])\n      Vue.set(state, 'sigmaRuleList_count', payload['meta']['rules_count'])\n    },\n    RESET_STATE(state, payload) {\n      ApiClient.getLoggedInUser().then(response => {\n        let currentUser = response.data.objects[0].username\n        Object.assign(state, defaultState(currentUser))\n      })\n    },\n  },\n  actions: {\n    updateSketch(context, sketchId) {\n      return ApiClient.getSketch(sketchId)\n        .then(response => {\n          // console.log(response.data.objects[0].active_timelines[0].color)\n          context.commit('SET_SKETCH', response.data)\n          context.dispatch('updateTimelineTags', sketchId)\n          context.dispatch('updateDataTypes', sketchId)\n        })\n        .catch(e => { })\n    },\n    updateCount(context, sketchId) {\n      // Count events for all timelines in the sketch\n      return ApiClient.countSketchEvents(sketchId)\n        .then(response => {\n          context.commit('SET_COUNT', response.data.meta.count)\n        })\n        .catch(e => { })\n    },\n    resetState(context) {\n      context.commit('RESET_STATE')\n    },\n    updateSearchNode(context, nodeId) {\n      context.commit('SET_SEARCH_NODE', nodeId)\n    },\n    updateSearchHistory(context, sketchId) {\n      if (!sketchId) {\n        sketchId = context.state.sketch.id\n      }\n      return ApiClient.getSearchHistory(sketchId)\n        .then(response => {\n          context.commit('SET_SEARCH_HISTORY', response.data)\n        })\n        .catch(e => { })\n    },\n    updateTimelineTags(context, sketchId) {\n      if (!context.state.sketch.active_timelines.length) {\n        return\n      }\n      let formData = {\n        aggregator_name: 'field_bucket',\n        aggregator_parameters: {\n          field: 'tag',\n          limit: '1000',\n        },\n      }\n      return ApiClient.runAggregator(sketchId, formData)\n        .then(response => {\n          context.commit('SET_TIMELINE_TAGS', response.data)\n        })\n        .catch(e => { })\n    },\n    updateDataTypes(context, sketchId) {\n      if (!context.state.sketch.active_timelines.length) {\n        return\n      }\n      let formData = {\n        aggregator_name: 'field_bucket',\n        aggregator_parameters: {\n          field: 'data_type',\n          limit: '1000',\n        },\n      }\n      return ApiClient.runAggregator(sketchId, formData)\n        .then(response => {\n          context.commit('SET_DATA_TYPES', response.data)\n        })\n        .catch(e => { })\n    },\n    updateSigmaList(context) {\n      ApiClient.getSigmaRuleList()\n        .then(response => {\n          context.commit('SET_SIGMARULE_LIST', response.data)\n        }).catch(e => { })\n    },\n  },\n})\n","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue'\nimport App from './App.vue'\n\nimport router from './router'\nimport store from './store'\n\n// Third party\nimport Buefy from 'buefy'\nimport VueScrollTo from 'vue-scrollto'\nimport Multiselect from 'vue-multiselect'\nimport VueCytoscape from 'vue-cytoscape'\nimport VueClipboard from 'vue-clipboard2'\n\n// Icons\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faChevronUp,\n  faChevronDown,\n  faSave,\n  faUserEdit,\n  faAngleLeft,\n  faAngleRight,\n  faArrowUp,\n  faArrowDown,\n  faTag,\n} from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nlibrary.add(faChevronUp, faChevronDown, faSave, faUserEdit, faAngleLeft, faAngleRight, faArrowUp, faArrowDown, faTag)\n\nrequire('./assets/main.scss')\nrequire('./utils/RegisterAppComponents')\nrequire('./utils/RegisterAppFilters')\n\n// Create global EventBus to use in certain situations where performance is\n// important and props/events are not optimal. Use with caution to not add\n// unnecessary complexity.\nconst EventBus = new Vue()\nexport default EventBus\n\n// Third party\nVue.use(require('vue-moment'))\nVue.use(VueCytoscape)\nVue.use(VueClipboard);\nVue.use(Buefy, {\n  defaultIconComponent: 'font-awesome-icon',\n  defaultIconPack: 'fas',\n})\nVue.use(VueScrollTo)\nVue.component('multiselect', Multiselect)\nVue.component('font-awesome-icon', FontAwesomeIcon)\n\n// Disable warning during development\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App),\n}).$mount('#app')\n","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue'\n\nconst requireFilter = require.context(\n  // The relative path of the components folder\n  '../filters',\n  // Whether or not to look in subfolders\n  false,\n  // The regular expression used to match base component filenames\n  /[A-Z]\\w+\\.(js)$/\n)\n\nrequireFilter.keys().forEach(fileName => {\n  // Get component config\n  const filterModule = requireFilter(fileName)\n\n  // Register filter globally\n  Vue.filter(filterModule.default.name, filterModule.default.filter)\n})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDropdown.vue?vue&type=style&index=0&id=cf019368&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewListDropdown.vue?vue&type=style&index=0&id=0cc60569&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineChip.vue?vue&type=style&index=1&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsIocCompose.vue?vue&type=style&index=0&lang=scss&\"","var map = {\n\t\"./Capitalize.js\": \"76f9\",\n\t\"./CompactBytes.js\": \"3d1d\",\n\t\"./CompactNumber.js\": \"d3b7\",\n\t\"./FilterChip.js\": \"05a2\",\n\t\"./FormatTimestamp.js\": \"09ff\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"6dde\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryButtons.vue?vue&type=style&index=0&id=29dba5ca&scoped=true&lang=scss&\"","var map = {\n\t\"./AppNavbarMain.vue\": \"f7e3\",\n\t\"./AppNavbarSecondary.vue\": \"c5cc\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"75a6\";","/*\nCopyright 2020 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'capitalize',\n  filter: function(input) {\n    if (!input) return ''\n    input = input.toString()\n    return input.charAt(0).toUpperCase() + input.slice(1)\n  },\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewListCompact.vue?vue&type=style&index=0&id=a6ceb8f4&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsIOCMenu.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistoryTreeNode.vue?vue&type=style&index=0&id=6be41fe6&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnalyzerSessionDetail.vue?vue&type=style&index=0&id=2798acf1&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventList.vue?vue&type=style&index=0&id=3d4b2d6f&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventListRow.vue?vue&type=style&index=0&id=158bafc4&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SketchList.vue?vue&type=style&index=0&id=014f3ae4&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsContextMenu.vue?vue&type=style&index=0&id=7d63fbec&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overview.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section\",staticStyle:{\"background-color\":\"var(--navbar-background)\",\"padding\":\"0\",\"border-bottom\":\"1px solid var(--navbar-border-color)\"}},[_c('div',{staticClass:\"container is-fluid\",staticStyle:{\"padding-bottom\":\"0\"}},[_c('nav',{staticClass:\"navbar\",attrs:{\"role\":\"navigation\",\"aria-label\":\"main navigation\"}},[(_vm.currentAppContext === 'sketch')?_c('div',{staticClass:\"navbar-item\"},[(_vm.activeTimelines.length)?_c('div',{staticClass:\"tabs is-left\"},[_c('ul',[_c('li',{class:{ 'is-active': _vm.currentPage === 'overview' }},[_c('router-link',{attrs:{\"to\":{ name: 'Overview' }}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-cubes\",attrs:{\"aria-hidden\":\"true\"}})]),_c('span',[_vm._v(\"Overview\")])])],1),_c('li',{class:{ 'is-active': _vm.currentPage === 'explore' }},[_c('router-link',{attrs:{\"to\":{ name: 'Explore' },\"data-explore-element\":\"true\"}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-search\",attrs:{\"data-explore-element\":\"true\",\"aria-hidden\":\"true\"}})]),_c('span',{attrs:{\"data-explore-element\":\"true\"}},[_vm._v(\"Explore\")])])],1),_c('li',{class:{ 'is-active': _vm.currentPage === 'graph' }},[_c('router-link',{attrs:{\"to\":{ name: 'GraphOverview' }}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-project-diagram\",attrs:{\"aria-hidden\":\"true\"}})]),_c('span',[_vm._v(\"Graph\")])])],1),_c('li',{class:{ 'is-active': _vm.currentPage === 'aggregate' }},[_c('router-link',{attrs:{\"to\":{ name: 'Aggregate' }}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-chart-bar\",attrs:{\"aria-hidden\":\"true\"}})]),_c('span',[_vm._v(\"Aggregate\")])])],1),_c('li',{class:{ 'is-active': _vm.currentPage === 'analyzers' }},[_c('router-link',{attrs:{\"to\":{ name: 'Analyze' }}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-magic\",attrs:{\"aria-hidden\":\"true\"}})]),_c('span',[_vm._v(\"Analyze\")])])],1),_c('li',{class:{ 'is-active': _vm.currentPage === 'stories' }},[_c('router-link',{attrs:{\"to\":{ name: 'StoryOverview' }}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-book\",attrs:{\"aria-hidden\":\"true\"}})]),_c('span',[_vm._v(\"Stories\")])])],1),_c('li',{class:{ 'is-active': _vm.currentPage === 'sigma' }},[_c('router-link',{attrs:{\"to\":{ name: 'SigmaOverview' }}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-file-signature\",attrs:{\"aria-hidden\":\"true\"}})]),_c('span',[_vm._v(\"Sigma\")])])],1),(_vm.meta)?_c('li',{class:{ 'is-active': _vm.currentPage === 'attributes' }},[_c('router-link',{attrs:{\"to\":{ name: 'Attributes' }}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-table\",attrs:{\"aria-hidden\":\"true\"}})]),_c('span',[_vm._v(\"Attributes\\n                  \"),_c('span',{staticClass:\"tag is-small\",staticStyle:{\"background-color\":\"var(--tag-background-color)\",\"color\":\"var(--tag-font-color)\"}},[_vm._v(_vm._s(_vm.attributeCount))])])])],1):_vm._e(),_c('li',{class:{ 'is-active': _vm.currentPage === 'intelligence' }},[_c('router-link',{attrs:{\"to\":{ name: 'Intelligence' }}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-brain\",attrs:{\"aria-hidden\":\"true\"}})]),_c('span',[_vm._v(\"Intelligence\\n                  \"),_c('span',{staticClass:\"tag is-small\",staticStyle:{\"background-color\":\"var(--tag-background-color)\",\"color\":\"var(--tag-font-color)\"}},[_vm._v(_vm._s(_vm.intelligenceCount))])])])],1)])]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"navbar-end\"},[_c('div',{staticClass:\"navbar-item\"},[_vm._t(\"default\")],2)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright 2021 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <section\n    class=\"section\"\n    style=\"background-color: var(--navbar-background); padding: 0; border-bottom: 1px solid var(--navbar-border-color)\"\n  >\n    <div class=\"container is-fluid\" style=\"padding-bottom: 0\">\n      <nav class=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n        <div class=\"navbar-item\" v-if=\"currentAppContext === 'sketch'\">\n          <div class=\"tabs is-left\" v-if=\"activeTimelines.length\">\n            <ul>\n              <li v-bind:class=\"{ 'is-active': currentPage === 'overview' }\">\n                <router-link :to=\"{ name: 'Overview' }\">\n                  <span class=\"icon is-small\"><i class=\"fas fa-cubes\" aria-hidden=\"true\"></i></span>\n                  <span>Overview</span>\n                </router-link>\n              </li>\n              <li v-bind:class=\"{ 'is-active': currentPage === 'explore' }\">\n                <router-link :to=\"{ name: 'Explore' }\" data-explore-element=\"true\">\n                  <span class=\"icon is-small\"\n                    ><i class=\"fas fa-search\" data-explore-element=\"true\" aria-hidden=\"true\"></i\n                  ></span>\n                  <span data-explore-element=\"true\">Explore</span>\n                </router-link>\n              </li>\n              <li v-bind:class=\"{ 'is-active': currentPage === 'graph' }\">\n                <router-link :to=\"{ name: 'GraphOverview' }\">\n                  <span class=\"icon is-small\"><i class=\"fas fa-project-diagram\" aria-hidden=\"true\"></i></span>\n                  <span>Graph</span>\n                </router-link>\n              </li>\n              <li v-bind:class=\"{ 'is-active': currentPage === 'aggregate' }\">\n                <router-link :to=\"{ name: 'Aggregate' }\">\n                  <span class=\"icon is-small\"><i class=\"fas fa-chart-bar\" aria-hidden=\"true\"></i></span>\n                  <span>Aggregate</span>\n                </router-link>\n              </li>\n              <li v-bind:class=\"{ 'is-active': currentPage === 'analyzers' }\">\n                <router-link :to=\"{ name: 'Analyze' }\">\n                  <span class=\"icon is-small\"><i class=\"fas fa-magic\" aria-hidden=\"true\"></i></span>\n                  <span>Analyze</span>\n                </router-link>\n              </li>\n              <li v-bind:class=\"{ 'is-active': currentPage === 'stories' }\">\n                <router-link :to=\"{ name: 'StoryOverview' }\">\n                  <span class=\"icon is-small\"><i class=\"fas fa-book\" aria-hidden=\"true\"></i></span>\n                  <span>Stories</span>\n                </router-link>\n              </li>\n              <li v-bind:class=\"{ 'is-active': currentPage === 'sigma' }\">\n                <router-link :to=\"{ name: 'SigmaOverview' }\">\n                  <span class=\"icon is-small\"><i class=\"fas fa-file-signature\" aria-hidden=\"true\"></i></span>\n                  <span>Sigma</span>\n                </router-link>\n              </li>\n              <li v-if=\"meta\" v-bind:class=\"{ 'is-active': currentPage === 'attributes' }\">\n                <router-link :to=\"{ name: 'Attributes' }\">\n                  <span class=\"icon is-small\"><i class=\"fas fa-table\" aria-hidden=\"true\"></i></span>\n                  <span\n                    >Attributes\n                    <span\n                      class=\"tag is-small\"\n                      style=\"background-color: var(--tag-background-color); color: var(--tag-font-color)\"\n                      >{{ attributeCount }}</span\n                    >\n                  </span>\n                </router-link>\n              </li>\n              <li v-bind:class=\"{ 'is-active': currentPage === 'intelligence' }\">\n                <router-link :to=\"{ name: 'Intelligence' }\">\n                  <span class=\"icon is-small\"><i class=\"fas fa-brain\" aria-hidden=\"true\"></i></span>\n                  <span\n                    >Intelligence\n                    <span\n                      class=\"tag is-small\"\n                      style=\"background-color: var(--tag-background-color); color: var(--tag-font-color)\"\n                      >{{ intelligenceCount }}</span\n                    >\n                  </span>\n                </router-link>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"navbar-end\">\n          <div class=\"navbar-item\">\n            <slot></slot>\n          </div>\n        </div>\n      </nav>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'ts-navbar-secondary',\n  props: {\n    currentAppContext: String,\n    currentPage: String,\n  },\n  methods: {\n    hasAttributeOntology: function (ontologyName) {\n      return Object.values(this.meta.attributes).some((value) => value.ontology === ontologyName)\n    },\n  },\n  computed: {\n    meta() {\n      return this.$store.state.meta\n    },\n    activeTimelines() {\n      return this.$store.state.sketch.active_timelines\n    },\n    attributeCount() {\n      return Object.entries(this.meta.attributes).length\n    },\n    intelligenceCount() {\n      if ('intelligence' in this.meta.attributes) {\n        if ('data' in this.meta.attributes.intelligence.value) {\n          return this.meta.attributes.intelligence.value.data.length\n        }\n      }\n      return 0\n    },\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\">\n.navbar {\n  background: transparent;\n}\n.tabs {\n  margin-left: -20px;\n}\n.tabs a {\n  padding: 0.5em 1em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbarSecondary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbarSecondary.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppNavbarSecondary.vue?vue&type=template&id=d5d3ad74&scoped=true&\"\nimport script from \"./AppNavbarSecondary.vue?vue&type=script&lang=js&\"\nexport * from \"./AppNavbarSecondary.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppNavbarSecondary.vue?vue&type=style&index=0&id=d5d3ad74&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d5d3ad74\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SigmaList.vue?vue&type=style&index=0&id=fb1c29e0&scoped=true&lang=scss&\"","/*\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default {\n  name: 'compactNumber',\n  filter: function(input) {\n    if (!input) {\n      input = 0\n    }\n    let mark = ''\n    if (input > 999999999) {\n      input = Math.round((input / 1000000000) * 10) / 10\n      mark = 'B'\n    } else if (input > 999999) {\n      input = Math.round((input / 1000000) * 10) / 10\n      mark = 'M'\n    } else if (input > 999) {\n      input = Math.round((input / 1000) * 10) / 10\n      mark = 'K'\n    } else {\n      return input\n    }\n    return input + mark\n  },\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbarSecondary.vue?vue&type=style&index=0&id=d5d3ad74&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorePreview.vue?vue&type=style&index=0&id=5fbb1a06&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineChip.vue?vue&type=style&index=0&id=76a411a2&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section\",staticStyle:{\"background-color\":\"var(--navbar-background)\",\"padding\":\"0\",\"border-bottom\":\"1px solid var(--navbar-border-color)\"}},[_c('div',{staticClass:\"container is-fluid\"},[_c('nav',{staticClass:\"navbar\",attrs:{\"role\":\"navigation\",\"aria-label\":\"main navigation\"}},[_c('div',{staticClass:\"navbar-brand\"},[_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/\"}},[_c('div',{staticClass:\"logo\",staticStyle:{\"margin-top\":\"7px\"}},[_c('img',{attrs:{\"src\":\"/dist/timesketch-color.png\"}})]),_c('span',{staticStyle:{\"color\":\"var(--default-title-font-color)\",\"margin-left\":\"7px\",\"margin-top\":\"1px\",\"font-size\":\"var(--font-size-title)\"}},[_vm._v(\"time\"),_c('b',[_vm._v(\"sketch\")])])])],1),_c('div',{staticClass:\"navbar-item\",staticStyle:{\"margin-left\":\"20px\",\"margin-top\":\"5px\",\"font-size\":\"var(--font-size-large)\"}},[_vm._t(\"left\")],2),_c('div',{staticClass:\"navbar-item navbar-center\"},[_vm._t(\"center\")],2),_c('div',{staticClass:\"navbar-end\",staticStyle:{\"margin-right\":\"-10px\"}},[_c('div',{staticClass:\"navbar-item\"},[_c('b-switch',{attrs:{\"size\":\"is-small\",\"passive-type\":\"is-dark\",\"type\":\"is-dark\"},on:{\"input\":_vm.switchTheme},model:{value:(_vm.isDarkTheme),callback:function ($$v) {_vm.isDarkTheme=$$v},expression:\"isDarkTheme\"}},[_vm._v(\"\\n            Dark Mode\\n          \")])],1),_c('div',{staticClass:\"navbar-item\"},[_vm._v(\"\\n          \"+_vm._s(_vm.currentUser)+\"\\n        \")]),_vm._m(0)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navbar-item\"},[_c('a',{attrs:{\"href\":\"/logout\"}},[_vm._v(\"Logout\")])])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright 2019 Google Inc. All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <section\n    class=\"section\"\n    style=\"background-color:var(--navbar-background);padding:0;border-bottom: 1px solid var(--navbar-border-color);\"\n  >\n    <div class=\"container is-fluid\">\n      <nav class=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n        <div class=\"navbar-brand\">\n          <router-link class=\"navbar-item\" to=\"/\">\n            <div class=\"logo\" style=\"margin-top:7px;\">\n              <img src=\"/dist/timesketch-color.png\" />\n            </div>\n            <span\n              style=\"color: var(--default-title-font-color); margin-left: 7px; margin-top: 1px; font-size: var(--font-size-title);\"\n              >time<b>sketch</b></span\n            >\n          </router-link>\n        </div>\n\n        <div class=\"navbar-item\" style=\"margin-left: 20px; margin-top:5px; font-size: var(--font-size-large);\">\n          <slot name=\"left\"></slot>\n        </div>\n\n        <div class=\"navbar-item navbar-center\">\n          <slot name=\"center\"></slot>\n        </div>\n\n        <div class=\"navbar-end\" style=\"margin-right:-10px;\">\n          <div class=\"navbar-item\">\n            <b-switch\n              v-model=\"isDarkTheme\"\n              v-on:input=\"switchTheme\"\n              size=\"is-small\"\n              passive-type=\"is-dark\"\n              type=\"is-dark\"\n            >\n              Dark Mode\n            </b-switch>\n          </div>\n          <div class=\"navbar-item\">\n            {{ currentUser }}\n          </div>\n          <div class=\"navbar-item\">\n            <a href=\"/logout\">Logout</a>\n          </div>\n        </div>\n      </nav>\n    </div>\n  </section>\n</template>\n\n<script>\nimport EventBus from '../main'\n\nexport default {\n  name: 'ts-navbar-main',\n  data() {\n    return {\n      isDarkTheme: null,\n    }\n  },\n\n  computed: {\n    currentUser() {\n      return this.$store.state.currentUser\n    },\n  },\n  methods: {\n    switchTheme() {\n      let element = document.body\n      switch (element.dataset.theme) {\n        case 'light':\n          element.dataset.theme = 'dark'\n          localStorage.theme = 'dark'\n          this.isDarkTheme = true\n          EventBus.$emit('isDarkTheme', true)\n          break\n        case 'dark':\n          element.dataset.theme = 'light'\n          localStorage.theme = 'light'\n          this.isDarkTheme = false\n          EventBus.$emit('isDarkTheme', false)\n          break\n      }\n    },\n  },\n  created() {\n    this.isDarkTheme = localStorage.theme === 'dark'\n  },\n}\n</script>\n\n<!-- CSS scoped to this component only -->\n<style scoped lang=\"scss\">\n.navbar {\n  height: 70px;\n}\n\n.navbar-item {\n  padding-left: 0;\n}\n\n.logo img {\n  width: 20px;\n  height: 25px;\n}\n\n.navbar-item img {\n  width: 20px;\n  height: 25px;\n  max-height: 25px;\n}\n\n.navbar-item.navbar-center {\n  flex-grow: 1;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.navbar > .container .navbar-brand,\n.container > .navbar .navbar-brand {\n  margin-left: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbarMain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbarMain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppNavbarMain.vue?vue&type=template&id=6161c97c&scoped=true&\"\nimport script from \"./AppNavbarMain.vue?vue&type=script&lang=js&\"\nexport * from \"./AppNavbarMain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppNavbarMain.vue?vue&type=style&index=0&id=6161c97c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6161c97c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbarMain.vue?vue&type=style&index=0&id=6161c97c&scoped=true&lang=scss&\""],"sourceRoot":""}